(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function Gf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ac={exports:{}},Tr={},uc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),Xf=Symbol.for("react.portal"),qf=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),ip=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),rp=Symbol.for("react.memo"),lp=Symbol.for("react.lazy"),Xa=Symbol.iterator;function op(t){return t===null||typeof t!="object"?null:(t=Xa&&t[Xa]||t["@@iterator"],typeof t=="function"?t:null)}var hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cc=Object.assign,dc={};function dn(t,e,i){this.props=t,this.context=e,this.refs=dc,this.updater=i||hc}dn.prototype.isReactComponent={};dn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fc(){}fc.prototype=dn.prototype;function Vo(t,e,i){this.props=t,this.context=e,this.refs=dc,this.updater=i||hc}var Ho=Vo.prototype=new fc;Ho.constructor=Vo;cc(Ho,dn.prototype);Ho.isPureReactComponent=!0;var qa=Array.isArray,pc=Object.prototype.hasOwnProperty,Ko={current:null},mc={key:!0,ref:!0,__self:!0,__source:!0};function gc(t,e,i){var n,s={},r=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(r=""+e.key),e)pc.call(e,n)&&!mc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=i;else if(1<a){for(var u=Array(a),h=0;h<a;h++)u[h]=arguments[h+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ds,type:t,key:r,ref:l,props:s,_owner:Ko.current}}function ap(t,e){return{$$typeof:ds,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qo(t){return typeof t=="object"&&t!==null&&t.$$typeof===ds}function up(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var Za=/\/+/g;function Zr(t,e){return typeof t=="object"&&t!==null&&t.key!=null?up(""+t.key):e.toString(36)}function Vs(t,e,i,n,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ds:case Xf:l=!0}}if(l)return l=t,s=s(l),t=n===""?"."+Zr(l,0):n,qa(s)?(i="",t!=null&&(i=t.replace(Za,"$&/")+"/"),Vs(s,e,i,"",function(h){return h})):s!=null&&(Qo(s)&&(s=ap(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Za,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=n===""?".":n+":",qa(t))for(var a=0;a<t.length;a++){r=t[a];var u=n+Zr(r,a);l+=Vs(r,e,i,u,s)}else if(u=op(t),typeof u=="function")for(t=u.call(t),a=0;!(r=t.next()).done;)r=r.value,u=n+Zr(r,a++),l+=Vs(r,e,i,u,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function xs(t,e,i){if(t==null)return t;var n=[],s=0;return Vs(t,n,"","",function(r){return e.call(i,r,s++)}),n}function hp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Be={current:null},Hs={transition:null},cp={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Hs,ReactCurrentOwner:Ko};function vc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:xs,forEach:function(t,e,i){xs(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return xs(t,function(){e++}),e},toArray:function(t){return xs(t,function(e){return e})||[]},only:function(t){if(!Qo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=dn;K.Fragment=qf;K.Profiler=ep;K.PureComponent=Vo;K.StrictMode=Zf;K.Suspense=sp;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;K.act=vc;K.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=cc({},t.props),s=t.key,r=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,l=Ko.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)pc.call(e,u)&&!mc.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=i;else if(1<u){a=Array(u);for(var h=0;h<u;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:ds,type:t.type,key:s,ref:r,props:n,_owner:l}};K.createContext=function(t){return t={$$typeof:ip,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tp,_context:t},t.Consumer=t};K.createElement=gc;K.createFactory=function(t){var e=gc.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:np,render:t}};K.isValidElement=Qo;K.lazy=function(t){return{$$typeof:lp,_payload:{_status:-1,_result:t},_init:hp}};K.memo=function(t,e){return{$$typeof:rp,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=Hs.transition;Hs.transition={};try{t()}finally{Hs.transition=e}};K.unstable_act=vc;K.useCallback=function(t,e){return Be.current.useCallback(t,e)};K.useContext=function(t){return Be.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return Be.current.useDeferredValue(t)};K.useEffect=function(t,e){return Be.current.useEffect(t,e)};K.useId=function(){return Be.current.useId()};K.useImperativeHandle=function(t,e,i){return Be.current.useImperativeHandle(t,e,i)};K.useInsertionEffect=function(t,e){return Be.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return Be.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return Be.current.useMemo(t,e)};K.useReducer=function(t,e,i){return Be.current.useReducer(t,e,i)};K.useRef=function(t){return Be.current.useRef(t)};K.useState=function(t){return Be.current.useState(t)};K.useSyncExternalStore=function(t,e,i){return Be.current.useSyncExternalStore(t,e,i)};K.useTransition=function(){return Be.current.useTransition()};K.version="18.3.1";uc.exports=K;var R=uc.exports;const dp=Gf(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=R,pp=Symbol.for("react.element"),mp=Symbol.for("react.fragment"),gp=Object.prototype.hasOwnProperty,vp=fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yp={key:!0,ref:!0,__self:!0,__source:!0};function yc(t,e,i){var n,s={},r=null,l=null;i!==void 0&&(r=""+i),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)gp.call(e,n)&&!yp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:pp,type:t,key:r,ref:l,props:s,_owner:vp.current}}Tr.Fragment=mp;Tr.jsx=yc;Tr.jsxs=yc;ac.exports=Tr;var o=ac.exports,Hl={},xc={exports:{}},Xe={},wc={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,j){var D=E.length;E.push(j);e:for(;0<D;){var Y=D-1>>>1,G=E[Y];if(0<s(G,j))E[Y]=j,E[D]=G,D=Y;else break e}}function i(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var j=E[0],D=E.pop();if(D!==j){E[0]=D;e:for(var Y=0,G=E.length,Ze=G>>>1;Y<Ze;){var ze=2*(Y+1)-1,lt=E[ze],W=ze+1,ie=E[W];if(0>s(lt,D))W<G&&0>s(ie,lt)?(E[Y]=ie,E[W]=D,Y=W):(E[Y]=lt,E[ze]=D,Y=ze);else if(W<G&&0>s(ie,D))E[Y]=ie,E[W]=D,Y=W;else break e}}return j}function s(E,j){var D=E.sortIndex-j.sortIndex;return D!==0?D:E.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var u=[],h=[],c=1,d=null,f=3,m=!1,v=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var j=i(h);j!==null;){if(j.callback===null)n(h);else if(j.startTime<=E)n(h),j.sortIndex=j.expirationTime,e(u,j);else break;j=i(h)}}function S(E){if(x=!1,y(E),!v)if(i(u)!==null)v=!0,L(M);else{var j=i(h);j!==null&&T(S,j.startTime-E)}}function M(E,j){v=!1,x&&(x=!1,g(_),_=-1),m=!0;var D=f;try{for(y(j),d=i(u);d!==null&&(!(d.expirationTime>j)||E&&!F());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var G=Y(d.expirationTime<=j);j=t.unstable_now(),typeof G=="function"?d.callback=G:d===i(u)&&n(u),y(j)}else n(u);d=i(u)}if(d!==null)var Ze=!0;else{var ze=i(h);ze!==null&&T(S,ze.startTime-j),Ze=!1}return Ze}finally{d=null,f=D,m=!1}}var b=!1,w=null,_=-1,C=5,I=-1;function F(){return!(t.unstable_now()-I<C)}function H(){if(w!==null){var E=t.unstable_now();I=E;var j=!0;try{j=w(!0,E)}finally{j?A():(b=!1,w=null)}}else b=!1}var A;if(typeof p=="function")A=function(){p(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=H,A=function(){Q.postMessage(null)}}else A=function(){P(H,0)};function L(E){w=E,b||(b=!0,A())}function T(E,j){_=P(function(){E(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,L(M))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(E){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var D=f;f=j;try{return E()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,j){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var D=f;f=E;try{return j()}finally{f=D}},t.unstable_scheduleCallback=function(E,j,D){var Y=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Y+D:Y):D=Y,E){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=D+G,E={id:c++,callback:j,priorityLevel:E,startTime:D,expirationTime:G,sortIndex:-1},D>Y?(E.sortIndex=D,e(h,E),i(u)===null&&E===i(h)&&(x?(g(_),_=-1):x=!0,T(S,D-Y))):(E.sortIndex=G,e(u,E),v||m||(v=!0,L(M))),E},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(E){var j=f;return function(){var D=f;f=j;try{return E.apply(this,arguments)}finally{f=D}}}})(Sc);wc.exports=Sc;var xp=wc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=R,Ge=xp;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _c=new Set,Hn={};function ki(t,e){tn(t,e),tn(t+"Capture",e)}function tn(t,e){for(Hn[t]=e,t=0;t<e.length;t++)_c.add(e[t])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=Object.prototype.hasOwnProperty,Sp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eu={},tu={};function _p(t){return Kl.call(tu,t)?!0:Kl.call(eu,t)?!1:Sp.test(t)?tu[t]=!0:(eu[t]=!0,!1)}function jp(t,e,i,n){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Mp(t,e,i,n){if(e===null||typeof e>"u"||jp(t,e,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ae(t,e,i,n,s,r,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=l}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){be[t]=new Ae(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];be[e]=new Ae(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){be[t]=new Ae(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){be[t]=new Ae(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){be[t]=new Ae(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){be[t]=new Ae(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){be[t]=new Ae(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){be[t]=new Ae(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){be[t]=new Ae(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yo=/[\-:]([a-z])/g;function Jo(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yo,Jo);be[e]=new Ae(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yo,Jo);be[e]=new Ae(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yo,Jo);be[e]=new Ae(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){be[t]=new Ae(t,1,!1,t.toLowerCase(),null,!1,!1)});be.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){be[t]=new Ae(t,1,!1,t.toLowerCase(),null,!0,!0)});function Go(t,e,i,n){var s=be.hasOwnProperty(e)?be[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Mp(e,i,s,n)&&(i=null),n||s===null?_p(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):s.mustUseProperty?t[s.propertyName]=i===null?s.type===3?!1:"":i:(e=s.attributeName,n=s.attributeNamespace,i===null?t.removeAttribute(e):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}var It=wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ws=Symbol.for("react.element"),Li=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),Xo=Symbol.for("react.strict_mode"),Ql=Symbol.for("react.profiler"),jc=Symbol.for("react.provider"),Mc=Symbol.for("react.context"),qo=Symbol.for("react.forward_ref"),Yl=Symbol.for("react.suspense"),Jl=Symbol.for("react.suspense_list"),Zo=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),kc=Symbol.for("react.offscreen"),iu=Symbol.iterator;function yn(t){return t===null||typeof t!="object"?null:(t=iu&&t[iu]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,el;function Cn(t){if(el===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);el=e&&e[1]||""}return`
`+el+t}var tl=!1;function il(t,e){if(!t||tl)return"";tl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),r=n.stack.split(`
`),l=s.length-1,a=r.length-1;1<=l&&0<=a&&s[l]!==r[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==r[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==r[a]){var u=`
`+s[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=a);break}}}finally{tl=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?Cn(t):""}function kp(t){switch(t.tag){case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 2:case 15:return t=il(t.type,!1),t;case 11:return t=il(t.type.render,!1),t;case 1:return t=il(t.type,!0),t;default:return""}}function Gl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ri:return"Fragment";case Li:return"Portal";case Ql:return"Profiler";case Xo:return"StrictMode";case Yl:return"Suspense";case Jl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mc:return(t.displayName||"Context")+".Consumer";case jc:return(t._context.displayName||"Context")+".Provider";case qo:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zo:return e=t.displayName||null,e!==null?e:Gl(t.type)||"Memo";case At:e=t._payload,t=t._init;try{return Gl(t(e))}catch{}}return null}function bp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(e);case 8:return e===Xo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Cp(t){var e=bc(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,r.call(this,l)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ss(t){t._valueTracker||(t._valueTracker=Cp(t))}function Cc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=bc(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xl(t,e){var i=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function nu(t,e){var i=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;i=Zt(e.value!=null?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pc(t,e){e=e.checked,e!=null&&Go(t,"checked",e,!1)}function ql(t,e){Pc(t,e);var i=Zt(e.value),n=e.type;if(i!=null)n==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zl(t,e.type,i):e.hasOwnProperty("defaultValue")&&Zl(t,e.type,Zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function su(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Zl(t,e,i){(e!=="number"||sr(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Pn=Array.isArray;function Qi(t,e,i,n){if(t=t.options,e){e={};for(var s=0;s<i.length;s++)e["$"+i[s]]=!0;for(i=0;i<t.length;i++)s=e.hasOwnProperty("$"+t[i].value),t[i].selected!==s&&(t[i].selected=s),s&&n&&(t[i].defaultSelected=!0)}else{for(i=""+Zt(i),e=null,s=0;s<t.length;s++){if(t[s].value===i){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function eo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ru(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(z(92));if(Pn(i)){if(1<i.length)throw Error(z(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:Zt(i)}}function Ec(t,e){var i=Zt(e.value),n=Zt(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),n!=null&&(t.defaultValue=""+n)}function lu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function to(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _s,Tc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_s=_s||document.createElement("div"),_s.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_s.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pp=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(t){Pp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tn[e]=Tn[t]})});function zc(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Tn.hasOwnProperty(t)&&Tn[t]?(""+e).trim():e+"px"}function Lc(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var n=i.indexOf("--")===0,s=zc(i,e[i],n);i==="float"&&(i="cssFloat"),n?t.setProperty(i,s):t[i]=s}}var Ep=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(t,e){if(e){if(Ep[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function no(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function ea(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ro=null,Yi=null,Ji=null;function ou(t){if(t=ms(t)){if(typeof ro!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Fr(e),ro(t.stateNode,t.type,e))}}function Rc(t){Yi?Ji?Ji.push(t):Ji=[t]:Yi=t}function Ic(){if(Yi){var t=Yi,e=Ji;if(Ji=Yi=null,ou(t),e)for(t=0;t<e.length;t++)ou(e[t])}}function Fc(t,e){return t(e)}function Bc(){}var nl=!1;function Ac(t,e,i){if(nl)return t(e,i);nl=!0;try{return Fc(t,e,i)}finally{nl=!1,(Yi!==null||Ji!==null)&&(Bc(),Ic())}}function Qn(t,e){var i=t.stateNode;if(i===null)return null;var n=Fr(i);if(n===null)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(z(231,e,typeof i));return i}var lo=!1;if(Tt)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){lo=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{lo=!1}function Np(t,e,i,n,s,r,l,a,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(i,h)}catch(c){this.onError(c)}}var zn=!1,rr=null,lr=!1,oo=null,Tp={onError:function(t){zn=!0,rr=t}};function zp(t,e,i,n,s,r,l,a,u){zn=!1,rr=null,Np.apply(Tp,arguments)}function Lp(t,e,i,n,s,r,l,a,u){if(zp.apply(this,arguments),zn){if(zn){var h=rr;zn=!1,rr=null}else throw Error(z(198));lr||(lr=!0,oo=h)}}function bi(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function $c(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function au(t){if(bi(t)!==t)throw Error(z(188))}function Rp(t){var e=t.alternate;if(!e){if(e=bi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var i=t,n=e;;){var s=i.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){i=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===i)return au(s),t;if(r===n)return au(s),e;r=r.sibling}throw Error(z(188))}if(i.return!==n.return)i=s,n=r;else{for(var l=!1,a=s.child;a;){if(a===i){l=!0,i=s,n=r;break}if(a===n){l=!0,n=s,i=r;break}a=a.sibling}if(!l){for(a=r.child;a;){if(a===i){l=!0,i=r,n=s;break}if(a===n){l=!0,n=r,i=s;break}a=a.sibling}if(!l)throw Error(z(189))}}if(i.alternate!==n)throw Error(z(190))}if(i.tag!==3)throw Error(z(188));return i.stateNode.current===i?t:e}function Oc(t){return t=Rp(t),t!==null?Dc(t):null}function Dc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dc(t);if(e!==null)return e;t=t.sibling}return null}var Wc=Ge.unstable_scheduleCallback,uu=Ge.unstable_cancelCallback,Ip=Ge.unstable_shouldYield,Fp=Ge.unstable_requestPaint,fe=Ge.unstable_now,Bp=Ge.unstable_getCurrentPriorityLevel,ta=Ge.unstable_ImmediatePriority,Uc=Ge.unstable_UserBlockingPriority,or=Ge.unstable_NormalPriority,Ap=Ge.unstable_LowPriority,Vc=Ge.unstable_IdlePriority,zr=null,St=null;function $p(t){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(zr,t,void 0,(t.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Wp,Op=Math.log,Dp=Math.LN2;function Wp(t){return t>>>=0,t===0?32:31-(Op(t)/Dp|0)|0}var js=64,Ms=4194304;function En(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ar(t,e){var i=t.pendingLanes;if(i===0)return 0;var n=0,s=t.suspendedLanes,r=t.pingedLanes,l=i&268435455;if(l!==0){var a=l&~s;a!==0?n=En(a):(r&=l,r!==0&&(n=En(r)))}else l=i&~s,l!==0?n=En(l):r!==0&&(n=En(r));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(n&4&&(n|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)i=31-ct(e),s=1<<i,n|=t[i],e&=~s;return n}function Up(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vp(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var l=31-ct(r),a=1<<l,u=s[l];u===-1?(!(a&i)||a&n)&&(s[l]=Up(a,e)):u<=e&&(t.expiredLanes|=a),r&=~a}}function ao(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hc(){var t=js;return js<<=1,!(js&4194240)&&(js=64),t}function sl(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function fs(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ct(e),t[e]=i}function Hp(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var s=31-ct(i),r=1<<s;e[s]=0,n[s]=-1,t[s]=-1,i&=~r}}function ia(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-ct(i),s=1<<n;s&e|t[n]&e&&(t[n]|=e),i&=~s}}var X=0;function Kc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qc,na,Yc,Jc,Gc,uo=!1,ks=[],Ht=null,Kt=null,Qt=null,Yn=new Map,Jn=new Map,Ot=[],Kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(t,e){switch(t){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Yn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(e.pointerId)}}function wn(t,e,i,n,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},e!==null&&(e=ms(e),e!==null&&na(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Qp(t,e,i,n,s){switch(e){case"focusin":return Ht=wn(Ht,t,e,i,n,s),!0;case"dragenter":return Kt=wn(Kt,t,e,i,n,s),!0;case"mouseover":return Qt=wn(Qt,t,e,i,n,s),!0;case"pointerover":var r=s.pointerId;return Yn.set(r,wn(Yn.get(r)||null,t,e,i,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Jn.set(r,wn(Jn.get(r)||null,t,e,i,n,s)),!0}return!1}function Xc(t){var e=ui(t.target);if(e!==null){var i=bi(e);if(i!==null){if(e=i.tag,e===13){if(e=$c(i),e!==null){t.blockedOn=e,Gc(t.priority,function(){Yc(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=ho(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var n=new i.constructor(i.type,i);so=n,i.target.dispatchEvent(n),so=null}else return e=ms(i),e!==null&&na(e),t.blockedOn=i,!1;e.shift()}return!0}function cu(t,e,i){Ks(t)&&i.delete(e)}function Yp(){uo=!1,Ht!==null&&Ks(Ht)&&(Ht=null),Kt!==null&&Ks(Kt)&&(Kt=null),Qt!==null&&Ks(Qt)&&(Qt=null),Yn.forEach(cu),Jn.forEach(cu)}function Sn(t,e){t.blockedOn===e&&(t.blockedOn=null,uo||(uo=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,Yp)))}function Gn(t){function e(s){return Sn(s,t)}if(0<ks.length){Sn(ks[0],t);for(var i=1;i<ks.length;i++){var n=ks[i];n.blockedOn===t&&(n.blockedOn=null)}}for(Ht!==null&&Sn(Ht,t),Kt!==null&&Sn(Kt,t),Qt!==null&&Sn(Qt,t),Yn.forEach(e),Jn.forEach(e),i=0;i<Ot.length;i++)n=Ot[i],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ot.length&&(i=Ot[0],i.blockedOn===null);)Xc(i),i.blockedOn===null&&Ot.shift()}var Gi=It.ReactCurrentBatchConfig,ur=!0;function Jp(t,e,i,n){var s=X,r=Gi.transition;Gi.transition=null;try{X=1,sa(t,e,i,n)}finally{X=s,Gi.transition=r}}function Gp(t,e,i,n){var s=X,r=Gi.transition;Gi.transition=null;try{X=4,sa(t,e,i,n)}finally{X=s,Gi.transition=r}}function sa(t,e,i,n){if(ur){var s=ho(t,e,i,n);if(s===null)pl(t,e,n,hr,i),hu(t,n);else if(Qp(s,t,e,i,n))n.stopPropagation();else if(hu(t,n),e&4&&-1<Kp.indexOf(t)){for(;s!==null;){var r=ms(s);if(r!==null&&Qc(r),r=ho(t,e,i,n),r===null&&pl(t,e,n,hr,i),r===s)break;s=r}s!==null&&n.stopPropagation()}else pl(t,e,n,null,i)}}var hr=null;function ho(t,e,i,n){if(hr=null,t=ea(n),t=ui(t),t!==null)if(e=bi(t),e===null)t=null;else if(i=e.tag,i===13){if(t=$c(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hr=t,null}function qc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bp()){case ta:return 1;case Uc:return 4;case or:case Ap:return 16;case Vc:return 536870912;default:return 16}default:return 16}}var Wt=null,ra=null,Qs=null;function Zc(){if(Qs)return Qs;var t,e=ra,i=e.length,n,s="value"in Wt?Wt.value:Wt.textContent,r=s.length;for(t=0;t<i&&e[t]===s[t];t++);var l=i-t;for(n=1;n<=l&&e[i-n]===s[r-n];n++);return Qs=s.slice(t,1<n?1-n:void 0)}function Ys(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bs(){return!0}function du(){return!1}function qe(t){function e(i,n,s,r,l){this._reactName=i,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(i=t[a],this[a]=i?i(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?bs:du,this.isPropagationStopped=du,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),e}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=qe(fn),ps=ce({},fn,{view:0,detail:0}),Xp=qe(ps),rl,ll,_n,Lr=ce({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_n&&(_n&&t.type==="mousemove"?(rl=t.screenX-_n.screenX,ll=t.screenY-_n.screenY):ll=rl=0,_n=t),rl)},movementY:function(t){return"movementY"in t?t.movementY:ll}}),fu=qe(Lr),qp=ce({},Lr,{dataTransfer:0}),Zp=qe(qp),em=ce({},ps,{relatedTarget:0}),ol=qe(em),tm=ce({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),im=qe(tm),nm=ce({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sm=qe(nm),rm=ce({},fn,{data:0}),pu=qe(rm),lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function um(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=am[t])?!!e[t]:!1}function oa(){return um}var hm=ce({},ps,{key:function(t){if(t.key){var e=lm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?om[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cm=qe(hm),dm=ce({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=qe(dm),fm=ce({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),pm=qe(fm),mm=ce({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=qe(mm),vm=ce({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ym=qe(vm),xm=[9,13,27,32],aa=Tt&&"CompositionEvent"in window,Ln=null;Tt&&"documentMode"in document&&(Ln=document.documentMode);var wm=Tt&&"TextEvent"in window&&!Ln,ed=Tt&&(!aa||Ln&&8<Ln&&11>=Ln),gu=" ",vu=!1;function td(t,e){switch(t){case"keyup":return xm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function Sm(t,e){switch(t){case"compositionend":return id(e);case"keypress":return e.which!==32?null:(vu=!0,gu);case"textInput":return t=e.data,t===gu&&vu?null:t;default:return null}}function _m(t,e){if(Ii)return t==="compositionend"||!aa&&td(t,e)?(t=Zc(),Qs=ra=Wt=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ed&&e.locale!=="ko"?null:e.data;default:return null}}var jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jm[t.type]:e==="textarea"}function nd(t,e,i,n){Rc(n),e=cr(e,"onChange"),0<e.length&&(i=new la("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Rn=null,Xn=null;function Mm(t){pd(t,0)}function Rr(t){var e=Ai(t);if(Cc(e))return t}function km(t,e){if(t==="change")return e}var sd=!1;if(Tt){var al;if(Tt){var ul="oninput"in document;if(!ul){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),ul=typeof xu.oninput=="function"}al=ul}else al=!1;sd=al&&(!document.documentMode||9<document.documentMode)}function wu(){Rn&&(Rn.detachEvent("onpropertychange",rd),Xn=Rn=null)}function rd(t){if(t.propertyName==="value"&&Rr(Xn)){var e=[];nd(e,Xn,t,ea(t)),Ac(Mm,e)}}function bm(t,e,i){t==="focusin"?(wu(),Rn=e,Xn=i,Rn.attachEvent("onpropertychange",rd)):t==="focusout"&&wu()}function Cm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rr(Xn)}function Pm(t,e){if(t==="click")return Rr(e)}function Em(t,e){if(t==="input"||t==="change")return Rr(e)}function Nm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ft=typeof Object.is=="function"?Object.is:Nm;function qn(t,e){if(ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!Kl.call(e,s)||!ft(t[s],e[s]))return!1}return!0}function Su(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _u(t,e){var i=Su(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Su(i)}}function ld(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ld(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function od(){for(var t=window,e=sr();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=sr(t.document)}return e}function ua(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tm(t){var e=od(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&ld(i.ownerDocument.documentElement,i)){if(n!==null&&ua(i)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=i.textContent.length,r=Math.min(n.start,s);n=n.end===void 0?r:Math.min(n.end,s),!t.extend&&r>n&&(s=n,n=r,r=s),s=_u(i,r);var l=_u(i,n);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zm=Tt&&"documentMode"in document&&11>=document.documentMode,Fi=null,co=null,In=null,fo=!1;function ju(t,e,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fo||Fi==null||Fi!==sr(n)||(n=Fi,"selectionStart"in n&&ua(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),In&&qn(In,n)||(In=n,n=cr(co,"onSelect"),0<n.length&&(e=new la("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=Fi)))}function Cs(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Bi={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},hl={},ad={};Tt&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Ir(t){if(hl[t])return hl[t];if(!Bi[t])return t;var e=Bi[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in ad)return hl[t]=e[i];return t}var ud=Ir("animationend"),hd=Ir("animationiteration"),cd=Ir("animationstart"),dd=Ir("transitionend"),fd=new Map,Mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){fd.set(t,e),ki(e,[t])}for(var cl=0;cl<Mu.length;cl++){var dl=Mu[cl],Lm=dl.toLowerCase(),Rm=dl[0].toUpperCase()+dl.slice(1);ti(Lm,"on"+Rm)}ti(ud,"onAnimationEnd");ti(hd,"onAnimationIteration");ti(cd,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(dd,"onTransitionEnd");tn("onMouseEnter",["mouseout","mouseover"]);tn("onMouseLeave",["mouseout","mouseover"]);tn("onPointerEnter",["pointerout","pointerover"]);tn("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Im=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function ku(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,Lp(n,e,void 0,t),t.currentTarget=null}function pd(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var n=t[i],s=n.event;n=n.listeners;e:{var r=void 0;if(e)for(var l=n.length-1;0<=l;l--){var a=n[l],u=a.instance,h=a.currentTarget;if(a=a.listener,u!==r&&s.isPropagationStopped())break e;ku(s,a,h),r=u}else for(l=0;l<n.length;l++){if(a=n[l],u=a.instance,h=a.currentTarget,a=a.listener,u!==r&&s.isPropagationStopped())break e;ku(s,a,h),r=u}}}if(lr)throw t=oo,lr=!1,oo=null,t}function ne(t,e){var i=e[yo];i===void 0&&(i=e[yo]=new Set);var n=t+"__bubble";i.has(n)||(md(e,t,2,!1),i.add(n))}function fl(t,e,i){var n=0;e&&(n|=4),md(i,t,n,e)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Zn(t){if(!t[Ps]){t[Ps]=!0,_c.forEach(function(i){i!=="selectionchange"&&(Im.has(i)||fl(i,!1,t),fl(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ps]||(e[Ps]=!0,fl("selectionchange",!1,e))}}function md(t,e,i,n){switch(qc(e)){case 1:var s=Jp;break;case 4:s=Gp;break;default:s=sa}i=s.bind(null,e,i,t),s=void 0,!lo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,i,{capture:!0,passive:s}):t.addEventListener(e,i,!0):s!==void 0?t.addEventListener(e,i,{passive:s}):t.addEventListener(e,i,!1)}function pl(t,e,i,n,s){var r=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;a!==null;){if(l=ui(a),l===null)return;if(u=l.tag,u===5||u===6){n=r=l;continue e}a=a.parentNode}}n=n.return}Ac(function(){var h=r,c=ea(i),d=[];e:{var f=fd.get(t);if(f!==void 0){var m=la,v=t;switch(t){case"keypress":if(Ys(i)===0)break e;case"keydown":case"keyup":m=cm;break;case"focusin":v="focus",m=ol;break;case"focusout":v="blur",m=ol;break;case"beforeblur":case"afterblur":m=ol;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pm;break;case ud:case hd:case cd:m=im;break;case dd:m=gm;break;case"scroll":m=Xp;break;case"wheel":m=ym;break;case"copy":case"cut":case"paste":m=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mu}var x=(e&4)!==0,P=!x&&t==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=h,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,g!==null&&(S=Qn(p,g),S!=null&&x.push(es(p,S,y)))),P)break;p=p.return}0<x.length&&(f=new m(f,v,null,i,c),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&i!==so&&(v=i.relatedTarget||i.fromElement)&&(ui(v)||v[zt]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=i.relatedTarget||i.toElement,m=h,v=v?ui(v):null,v!==null&&(P=bi(v),v!==P||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=h),m!==v)){if(x=fu,S="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=mu,S="onPointerLeave",g="onPointerEnter",p="pointer"),P=m==null?f:Ai(m),y=v==null?f:Ai(v),f=new x(S,p+"leave",m,i,c),f.target=P,f.relatedTarget=y,S=null,ui(c)===h&&(x=new x(g,p+"enter",v,i,c),x.target=y,x.relatedTarget=P,S=x),P=S,m&&v)t:{for(x=m,g=v,p=0,y=x;y;y=Ni(y))p++;for(y=0,S=g;S;S=Ni(S))y++;for(;0<p-y;)x=Ni(x),p--;for(;0<y-p;)g=Ni(g),y--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ni(x),g=Ni(g)}x=null}else x=null;m!==null&&bu(d,f,m,x,!1),v!==null&&P!==null&&bu(d,P,v,x,!0)}}e:{if(f=h?Ai(h):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var M=km;else if(yu(f))if(sd)M=Em;else{M=Cm;var b=bm}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=Pm);if(M&&(M=M(t,h))){nd(d,M,i,c);break e}b&&b(t,f,h),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Zl(f,"number",f.value)}switch(b=h?Ai(h):window,t){case"focusin":(yu(b)||b.contentEditable==="true")&&(Fi=b,co=h,In=null);break;case"focusout":In=co=Fi=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,ju(d,i,c);break;case"selectionchange":if(zm)break;case"keydown":case"keyup":ju(d,i,c)}var w;if(aa)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ii?td(t,i)&&(_="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(_="onCompositionStart");_&&(ed&&i.locale!=="ko"&&(Ii||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ii&&(w=Zc()):(Wt=c,ra="value"in Wt?Wt.value:Wt.textContent,Ii=!0)),b=cr(h,_),0<b.length&&(_=new pu(_,t,null,i,c),d.push({event:_,listeners:b}),w?_.data=w:(w=id(i),w!==null&&(_.data=w)))),(w=wm?Sm(t,i):_m(t,i))&&(h=cr(h,"onBeforeInput"),0<h.length&&(c=new pu("onBeforeInput","beforeinput",null,i,c),d.push({event:c,listeners:h}),c.data=w))}pd(d,e)})}function es(t,e,i){return{instance:t,listener:e,currentTarget:i}}function cr(t,e){for(var i=e+"Capture",n=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Qn(t,i),r!=null&&n.unshift(es(t,r,s)),r=Qn(t,e),r!=null&&n.push(es(t,r,s))),t=t.return}return n}function Ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bu(t,e,i,n,s){for(var r=e._reactName,l=[];i!==null&&i!==n;){var a=i,u=a.alternate,h=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&h!==null&&(a=h,s?(u=Qn(i,r),u!=null&&l.unshift(es(i,u,a))):s||(u=Qn(i,r),u!=null&&l.push(es(i,u,a)))),i=i.return}l.length!==0&&t.push({event:e,listeners:l})}var Fm=/\r\n?/g,Bm=/\u0000|\uFFFD/g;function Cu(t){return(typeof t=="string"?t:""+t).replace(Fm,`
`).replace(Bm,"")}function Es(t,e,i){if(e=Cu(e),Cu(t)!==e&&i)throw Error(z(425))}function dr(){}var po=null,mo=null;function go(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vo=typeof setTimeout=="function"?setTimeout:void 0,Am=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,$m=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(t){return Pu.resolve(null).then(t).catch(Om)}:vo;function Om(t){setTimeout(function(){throw t})}function ml(t,e){var i=e,n=0;do{var s=i.nextSibling;if(t.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(n===0){t.removeChild(s),Gn(e);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=s}while(i);Gn(e)}function Yt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Eu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var pn=Math.random().toString(36).slice(2),wt="__reactFiber$"+pn,ts="__reactProps$"+pn,zt="__reactContainer$"+pn,yo="__reactEvents$"+pn,Dm="__reactListeners$"+pn,Wm="__reactHandles$"+pn;function ui(t){var e=t[wt];if(e)return e;for(var i=t.parentNode;i;){if(e=i[zt]||i[wt]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Eu(t);t!==null;){if(i=t[wt])return i;t=Eu(t)}return e}t=i,i=t.parentNode}return null}function ms(t){return t=t[wt]||t[zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Fr(t){return t[ts]||null}var xo=[],$i=-1;function ii(t){return{current:t}}function se(t){0>$i||(t.current=xo[$i],xo[$i]=null,$i--)}function te(t,e){$i++,xo[$i]=t.current,t.current=e}var ei={},Te=ii(ei),De=ii(!1),mi=ei;function nn(t,e){var i=t.type.contextTypes;if(!i)return ei;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in i)s[r]=e[r];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function We(t){return t=t.childContextTypes,t!=null}function fr(){se(De),se(Te)}function Nu(t,e,i){if(Te.current!==ei)throw Error(z(168));te(Te,e),te(De,i)}function gd(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(z(108,bp(t)||"Unknown",s));return ce({},i,n)}function pr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ei,mi=Te.current,te(Te,t),te(De,De.current),!0}function Tu(t,e,i){var n=t.stateNode;if(!n)throw Error(z(169));i?(t=gd(t,e,mi),n.__reactInternalMemoizedMergedChildContext=t,se(De),se(Te),te(Te,t)):se(De),te(De,i)}var kt=null,Br=!1,gl=!1;function vd(t){kt===null?kt=[t]:kt.push(t)}function Um(t){Br=!0,vd(t)}function ni(){if(!gl&&kt!==null){gl=!0;var t=0,e=X;try{var i=kt;for(X=1;t<i.length;t++){var n=i[t];do n=n(!0);while(n!==null)}kt=null,Br=!1}catch(s){throw kt!==null&&(kt=kt.slice(t+1)),Wc(ta,ni),s}finally{X=e,gl=!1}}return null}var Oi=[],Di=0,mr=null,gr=0,et=[],tt=0,gi=null,bt=1,Ct="";function oi(t,e){Oi[Di++]=gr,Oi[Di++]=mr,mr=t,gr=e}function yd(t,e,i){et[tt++]=bt,et[tt++]=Ct,et[tt++]=gi,gi=t;var n=bt;t=Ct;var s=32-ct(n)-1;n&=~(1<<s),i+=1;var r=32-ct(e)+s;if(30<r){var l=s-s%5;r=(n&(1<<l)-1).toString(32),n>>=l,s-=l,bt=1<<32-ct(e)+s|i<<s|n,Ct=r+t}else bt=1<<r|i<<s|n,Ct=t}function ha(t){t.return!==null&&(oi(t,1),yd(t,1,0))}function ca(t){for(;t===mr;)mr=Oi[--Di],Oi[Di]=null,gr=Oi[--Di],Oi[Di]=null;for(;t===gi;)gi=et[--tt],et[tt]=null,Ct=et[--tt],et[tt]=null,bt=et[--tt],et[tt]=null}var Ye=null,Qe=null,oe=!1,ht=null;function xd(t,e){var i=it(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function zu(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ye=t,Qe=Yt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ye=t,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=gi!==null?{id:bt,overflow:Ct}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=it(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,Ye=t,Qe=null,!0):!1;default:return!1}}function wo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function So(t){if(oe){var e=Qe;if(e){var i=e;if(!zu(t,e)){if(wo(t))throw Error(z(418));e=Yt(i.nextSibling);var n=Ye;e&&zu(t,e)?xd(n,i):(t.flags=t.flags&-4097|2,oe=!1,Ye=t)}}else{if(wo(t))throw Error(z(418));t.flags=t.flags&-4097|2,oe=!1,Ye=t}}}function Lu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ye=t}function Ns(t){if(t!==Ye)return!1;if(!oe)return Lu(t),oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!go(t.type,t.memoizedProps)),e&&(e=Qe)){if(wo(t))throw wd(),Error(z(418));for(;e;)xd(t,e),e=Yt(e.nextSibling)}if(Lu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){Qe=Yt(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}Qe=null}}else Qe=Ye?Yt(t.stateNode.nextSibling):null;return!0}function wd(){for(var t=Qe;t;)t=Yt(t.nextSibling)}function sn(){Qe=Ye=null,oe=!1}function da(t){ht===null?ht=[t]:ht.push(t)}var Vm=It.ReactCurrentBatchConfig;function jn(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(z(309));var n=i.stateNode}if(!n)throw Error(z(147,t));var s=n,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(l){var a=s.refs;l===null?delete a[r]:a[r]=l},e._stringRef=r,e)}if(typeof t!="string")throw Error(z(284));if(!i._owner)throw Error(z(290,t))}return t}function Ts(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ru(t){var e=t._init;return e(t._payload)}function Sd(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function i(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=qt(g,p),g.index=0,g.sibling=null,g}function r(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function l(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,S){return p===null||p.tag!==6?(p=jl(y,g.mode,S),p.return=g,p):(p=s(p,y),p.return=g,p)}function u(g,p,y,S){var M=y.type;return M===Ri?c(g,p,y.props.children,S,y.key):p!==null&&(p.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===At&&Ru(M)===p.type)?(S=s(p,y.props),S.ref=jn(g,p,y),S.return=g,S):(S=tr(y.type,y.key,y.props,null,g.mode,S),S.ref=jn(g,p,y),S.return=g,S)}function h(g,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ml(y,g.mode,S),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function c(g,p,y,S,M){return p===null||p.tag!==7?(p=fi(y,g.mode,S,M),p.return=g,p):(p=s(p,y),p.return=g,p)}function d(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=jl(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ws:return y=tr(p.type,p.key,p.props,null,g.mode,y),y.ref=jn(g,null,p),y.return=g,y;case Li:return p=Ml(p,g.mode,y),p.return=g,p;case At:var S=p._init;return d(g,S(p._payload),y)}if(Pn(p)||yn(p))return p=fi(p,g.mode,y,null),p.return=g,p;Ts(g,p)}return null}function f(g,p,y,S){var M=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:a(g,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ws:return y.key===M?u(g,p,y,S):null;case Li:return y.key===M?h(g,p,y,S):null;case At:return M=y._init,f(g,p,M(y._payload),S)}if(Pn(y)||yn(y))return M!==null?null:c(g,p,y,S,null);Ts(g,y)}return null}function m(g,p,y,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(y)||null,a(p,g,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ws:return g=g.get(S.key===null?y:S.key)||null,u(p,g,S,M);case Li:return g=g.get(S.key===null?y:S.key)||null,h(p,g,S,M);case At:var b=S._init;return m(g,p,y,b(S._payload),M)}if(Pn(S)||yn(S))return g=g.get(y)||null,c(p,g,S,M,null);Ts(p,S)}return null}function v(g,p,y,S){for(var M=null,b=null,w=p,_=p=0,C=null;w!==null&&_<y.length;_++){w.index>_?(C=w,w=null):C=w.sibling;var I=f(g,w,y[_],S);if(I===null){w===null&&(w=C);break}t&&w&&I.alternate===null&&e(g,w),p=r(I,p,_),b===null?M=I:b.sibling=I,b=I,w=C}if(_===y.length)return i(g,w),oe&&oi(g,_),M;if(w===null){for(;_<y.length;_++)w=d(g,y[_],S),w!==null&&(p=r(w,p,_),b===null?M=w:b.sibling=w,b=w);return oe&&oi(g,_),M}for(w=n(g,w);_<y.length;_++)C=m(w,g,_,y[_],S),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?_:C.key),p=r(C,p,_),b===null?M=C:b.sibling=C,b=C);return t&&w.forEach(function(F){return e(g,F)}),oe&&oi(g,_),M}function x(g,p,y,S){var M=yn(y);if(typeof M!="function")throw Error(z(150));if(y=M.call(y),y==null)throw Error(z(151));for(var b=M=null,w=p,_=p=0,C=null,I=y.next();w!==null&&!I.done;_++,I=y.next()){w.index>_?(C=w,w=null):C=w.sibling;var F=f(g,w,I.value,S);if(F===null){w===null&&(w=C);break}t&&w&&F.alternate===null&&e(g,w),p=r(F,p,_),b===null?M=F:b.sibling=F,b=F,w=C}if(I.done)return i(g,w),oe&&oi(g,_),M;if(w===null){for(;!I.done;_++,I=y.next())I=d(g,I.value,S),I!==null&&(p=r(I,p,_),b===null?M=I:b.sibling=I,b=I);return oe&&oi(g,_),M}for(w=n(g,w);!I.done;_++,I=y.next())I=m(w,g,_,I.value,S),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?_:I.key),p=r(I,p,_),b===null?M=I:b.sibling=I,b=I);return t&&w.forEach(function(H){return e(g,H)}),oe&&oi(g,_),M}function P(g,p,y,S){if(typeof y=="object"&&y!==null&&y.type===Ri&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ws:e:{for(var M=y.key,b=p;b!==null;){if(b.key===M){if(M=y.type,M===Ri){if(b.tag===7){i(g,b.sibling),p=s(b,y.props.children),p.return=g,g=p;break e}}else if(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===At&&Ru(M)===b.type){i(g,b.sibling),p=s(b,y.props),p.ref=jn(g,b,y),p.return=g,g=p;break e}i(g,b);break}else e(g,b);b=b.sibling}y.type===Ri?(p=fi(y.props.children,g.mode,S,y.key),p.return=g,g=p):(S=tr(y.type,y.key,y.props,null,g.mode,S),S.ref=jn(g,p,y),S.return=g,g=S)}return l(g);case Li:e:{for(b=y.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){i(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{i(g,p);break}else e(g,p);p=p.sibling}p=Ml(y,g.mode,S),p.return=g,g=p}return l(g);case At:return b=y._init,P(g,p,b(y._payload),S)}if(Pn(y))return v(g,p,y,S);if(yn(y))return x(g,p,y,S);Ts(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(i(g,p.sibling),p=s(p,y),p.return=g,g=p):(i(g,p),p=jl(y,g.mode,S),p.return=g,g=p),l(g)):i(g,p)}return P}var rn=Sd(!0),_d=Sd(!1),vr=ii(null),yr=null,Wi=null,fa=null;function pa(){fa=Wi=yr=null}function ma(t){var e=vr.current;se(vr),t._currentValue=e}function _o(t,e,i){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function Xi(t,e){yr=t,fa=Wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(fa!==t)if(t={context:t,memoizedValue:e,next:null},Wi===null){if(yr===null)throw Error(z(308));Wi=t,yr.dependencies={lanes:0,firstContext:t}}else Wi=Wi.next=t;return e}var hi=null;function ga(t){hi===null?hi=[t]:hi.push(t)}function jd(t,e,i,n){var s=e.interleaved;return s===null?(i.next=i,ga(e)):(i.next=s.next,s.next=i),e.interleaved=i,Lt(t,n)}function Lt(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var $t=!1;function va(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Md(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jt(t,e,i){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Lt(t,i)}return s=n.interleaved,s===null?(e.next=e,ga(n)):(e.next=s.next,s.next=e),n.interleaved=e,Lt(t,i)}function Js(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,ia(t,i)}}function Iu(t,e){var i=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var s=null,r=null;if(i=i.firstBaseUpdate,i!==null){do{var l={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};r===null?s=r=l:r=r.next=l,i=i.next}while(i!==null);r===null?s=r=e:r=r.next=e}else s=r=e;i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function xr(t,e,i,n){var s=t.updateQueue;$t=!1;var r=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,h=u.next;u.next=null,l===null?r=h:l.next=h,l=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==l&&(a===null?c.firstBaseUpdate=h:a.next=h,c.lastBaseUpdate=u))}if(r!==null){var d=s.baseState;l=0,c=h=u=null,a=r;do{var f=a.lane,m=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(f=e,m=i,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=ce({},d,f);break e;case 2:$t=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(h=c=m,u=d):c=c.next=m,l|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(u=d),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);yi|=l,t.lanes=l,t.memoizedState=d}}function Fu(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=i,typeof s!="function")throw Error(z(191,s));s.call(n)}}}var gs={},_t=ii(gs),is=ii(gs),ns=ii(gs);function ci(t){if(t===gs)throw Error(z(174));return t}function ya(t,e){switch(te(ns,e),te(is,t),te(_t,gs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:to(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=to(e,t)}se(_t),te(_t,e)}function ln(){se(_t),se(is),se(ns)}function kd(t){ci(ns.current);var e=ci(_t.current),i=to(e,t.type);e!==i&&(te(is,t),te(_t,i))}function xa(t){is.current===t&&(se(_t),se(is))}var ue=ii(0);function wr(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vl=[];function wa(){for(var t=0;t<vl.length;t++)vl[t]._workInProgressVersionPrimary=null;vl.length=0}var Gs=It.ReactCurrentDispatcher,yl=It.ReactCurrentBatchConfig,vi=0,he=null,ge=null,xe=null,Sr=!1,Fn=!1,ss=0,Hm=0;function Ce(){throw Error(z(321))}function Sa(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!ft(t[i],e[i]))return!1;return!0}function _a(t,e,i,n,s,r){if(vi=r,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gs.current=t===null||t.memoizedState===null?Jm:Gm,t=i(n,s),Fn){r=0;do{if(Fn=!1,ss=0,25<=r)throw Error(z(301));r+=1,xe=ge=null,e.updateQueue=null,Gs.current=Xm,t=i(n,s)}while(Fn)}if(Gs.current=_r,e=ge!==null&&ge.next!==null,vi=0,xe=ge=he=null,Sr=!1,e)throw Error(z(300));return t}function ja(){var t=ss!==0;return ss=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?he.memoizedState=xe=t:xe=xe.next=t,xe}function rt(){if(ge===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=xe===null?he.memoizedState:xe.next;if(e!==null)xe=e,ge=t;else{if(t===null)throw Error(z(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},xe===null?he.memoizedState=xe=t:xe=xe.next=t}return xe}function rs(t,e){return typeof e=="function"?e(t):e}function xl(t){var e=rt(),i=e.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=t;var n=ge,s=n.baseQueue,r=i.pending;if(r!==null){if(s!==null){var l=s.next;s.next=r.next,r.next=l}n.baseQueue=s=r,i.pending=null}if(s!==null){r=s.next,n=n.baseState;var a=l=null,u=null,h=r;do{var c=h.lane;if((vi&c)===c)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var d={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(a=u=d,l=n):u=u.next=d,he.lanes|=c,yi|=c}h=h.next}while(h!==null&&h!==r);u===null?l=n:u.next=a,ft(n,e.memoizedState)||(Oe=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=u,i.lastRenderedState=n}if(t=i.interleaved,t!==null){s=t;do r=s.lane,he.lanes|=r,yi|=r,s=s.next;while(s!==t)}else s===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function wl(t){var e=rt(),i=e.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=t;var n=i.dispatch,s=i.pending,r=e.memoizedState;if(s!==null){i.pending=null;var l=s=s.next;do r=t(r,l.action),l=l.next;while(l!==s);ft(r,e.memoizedState)||(Oe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),i.lastRenderedState=r}return[r,n]}function bd(){}function Cd(t,e){var i=he,n=rt(),s=e(),r=!ft(n.memoizedState,s);if(r&&(n.memoizedState=s,Oe=!0),n=n.queue,Ma(Nd.bind(null,i,n,t),[t]),n.getSnapshot!==e||r||xe!==null&&xe.memoizedState.tag&1){if(i.flags|=2048,ls(9,Ed.bind(null,i,n,s,e),void 0,null),we===null)throw Error(z(349));vi&30||Pd(i,e,s)}return s}function Pd(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Ed(t,e,i,n){e.value=i,e.getSnapshot=n,Td(e)&&zd(t)}function Nd(t,e,i){return i(function(){Td(e)&&zd(t)})}function Td(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!ft(t,i)}catch{return!0}}function zd(t){var e=Lt(t,1);e!==null&&dt(e,t,1,-1)}function Bu(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},e.queue=t,t=t.dispatch=Ym.bind(null,he,t),[e.memoizedState,t]}function ls(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t)),t}function Ld(){return rt().memoizedState}function Xs(t,e,i,n){var s=xt();he.flags|=t,s.memoizedState=ls(1|e,i,void 0,n===void 0?null:n)}function Ar(t,e,i,n){var s=rt();n=n===void 0?null:n;var r=void 0;if(ge!==null){var l=ge.memoizedState;if(r=l.destroy,n!==null&&Sa(n,l.deps)){s.memoizedState=ls(e,i,r,n);return}}he.flags|=t,s.memoizedState=ls(1|e,i,r,n)}function Au(t,e){return Xs(8390656,8,t,e)}function Ma(t,e){return Ar(2048,8,t,e)}function Rd(t,e){return Ar(4,2,t,e)}function Id(t,e){return Ar(4,4,t,e)}function Fd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bd(t,e,i){return i=i!=null?i.concat([t]):null,Ar(4,4,Fd.bind(null,e,t),i)}function ka(){}function Ad(t,e){var i=rt();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&Sa(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function $d(t,e){var i=rt();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&Sa(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Od(t,e,i){return vi&21?(ft(i,e)||(i=Hc(),he.lanes|=i,yi|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=i)}function Km(t,e){var i=X;X=i!==0&&4>i?i:4,t(!0);var n=yl.transition;yl.transition={};try{t(!1),e()}finally{X=i,yl.transition=n}}function Dd(){return rt().memoizedState}function Qm(t,e,i){var n=Xt(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Wd(t))Ud(e,i);else if(i=jd(t,e,i,n),i!==null){var s=Ie();dt(i,t,n,s),Vd(i,e,n)}}function Ym(t,e,i){var n=Xt(t),s={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Wd(t))Ud(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,a=r(l,i);if(s.hasEagerState=!0,s.eagerState=a,ft(a,l)){var u=e.interleaved;u===null?(s.next=s,ga(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}i=jd(t,e,s,n),i!==null&&(s=Ie(),dt(i,t,n,s),Vd(i,e,n))}}function Wd(t){var e=t.alternate;return t===he||e!==null&&e===he}function Ud(t,e){Fn=Sr=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Vd(t,e,i){if(i&4194240){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,ia(t,i)}}var _r={readContext:st,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},Jm={readContext:st,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:Au,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,Xs(4194308,4,Fd.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Xs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xs(4,2,t,e)},useMemo:function(t,e){var i=xt();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=xt();return e=i!==void 0?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Qm.bind(null,he,t),[n.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:Bu,useDebugValue:ka,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=Bu(!1),e=t[0];return t=Km.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=he,s=xt();if(oe){if(i===void 0)throw Error(z(407));i=i()}else{if(i=e(),we===null)throw Error(z(349));vi&30||Pd(n,e,i)}s.memoizedState=i;var r={value:i,getSnapshot:e};return s.queue=r,Au(Nd.bind(null,n,r,t),[t]),n.flags|=2048,ls(9,Ed.bind(null,n,r,i,e),void 0,null),i},useId:function(){var t=xt(),e=we.identifierPrefix;if(oe){var i=Ct,n=bt;i=(n&~(1<<32-ct(n)-1)).toString(32)+i,e=":"+e+"R"+i,i=ss++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=Hm++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gm={readContext:st,useCallback:Ad,useContext:st,useEffect:Ma,useImperativeHandle:Bd,useInsertionEffect:Rd,useLayoutEffect:Id,useMemo:$d,useReducer:xl,useRef:Ld,useState:function(){return xl(rs)},useDebugValue:ka,useDeferredValue:function(t){var e=rt();return Od(e,ge.memoizedState,t)},useTransition:function(){var t=xl(rs)[0],e=rt().memoizedState;return[t,e]},useMutableSource:bd,useSyncExternalStore:Cd,useId:Dd,unstable_isNewReconciler:!1},Xm={readContext:st,useCallback:Ad,useContext:st,useEffect:Ma,useImperativeHandle:Bd,useInsertionEffect:Rd,useLayoutEffect:Id,useMemo:$d,useReducer:wl,useRef:Ld,useState:function(){return wl(rs)},useDebugValue:ka,useDeferredValue:function(t){var e=rt();return ge===null?e.memoizedState=t:Od(e,ge.memoizedState,t)},useTransition:function(){var t=wl(rs)[0],e=rt().memoizedState;return[t,e]},useMutableSource:bd,useSyncExternalStore:Cd,useId:Dd,unstable_isNewReconciler:!1};function at(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function jo(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:ce({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var $r={isMounted:function(t){return(t=t._reactInternals)?bi(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=Ie(),s=Xt(t),r=Nt(n,s);r.payload=e,i!=null&&(r.callback=i),e=Jt(t,r,s),e!==null&&(dt(e,t,s,n),Js(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=Ie(),s=Xt(t),r=Nt(n,s);r.tag=1,r.payload=e,i!=null&&(r.callback=i),e=Jt(t,r,s),e!==null&&(dt(e,t,s,n),Js(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Ie(),n=Xt(t),s=Nt(i,n);s.tag=2,e!=null&&(s.callback=e),e=Jt(t,s,n),e!==null&&(dt(e,t,n,i),Js(e,t,n))}};function $u(t,e,i,n,s,r,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,r,l):e.prototype&&e.prototype.isPureReactComponent?!qn(i,n)||!qn(s,r):!0}function Hd(t,e,i){var n=!1,s=ei,r=e.contextType;return typeof r=="object"&&r!==null?r=st(r):(s=We(e)?mi:Te.current,n=e.contextTypes,r=(n=n!=null)?nn(t,s):ei),e=new e(i,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$r,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Ou(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&$r.enqueueReplaceState(e,e.state,null)}function Mo(t,e,i,n){var s=t.stateNode;s.props=i,s.state=t.memoizedState,s.refs={},va(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=st(r):(r=We(e)?mi:Te.current,s.context=nn(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(jo(t,e,r,i),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$r.enqueueReplaceState(s,s.state,null),xr(t,i,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function on(t,e){try{var i="",n=e;do i+=kp(n),n=n.return;while(n);var s=i}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Sl(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function ko(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var qm=typeof WeakMap=="function"?WeakMap:Map;function Kd(t,e,i){i=Nt(-1,i),i.tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Mr||(Mr=!0,Io=n),ko(t,e)},i}function Qd(t,e,i){i=Nt(-1,i),i.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;i.payload=function(){return n(s)},i.callback=function(){ko(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(i.callback=function(){ko(t,e),typeof n!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),i}function Du(t,e,i){var n=t.pingCache;if(n===null){n=t.pingCache=new qm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(i)||(s.add(i),t=dg.bind(null,t,e,i),e.then(t,t))}function Wu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uu(t,e,i,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=Nt(-1,1),e.tag=2,Jt(i,e,1))),i.lanes|=1),t)}var Zm=It.ReactCurrentOwner,Oe=!1;function Re(t,e,i,n){e.child=t===null?_d(e,null,i,n):rn(e,t.child,i,n)}function Vu(t,e,i,n,s){i=i.render;var r=e.ref;return Xi(e,s),n=_a(t,e,i,n,r,s),i=ja(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rt(t,e,s)):(oe&&i&&ha(e),e.flags|=1,Re(t,e,n,s),e.child)}function Hu(t,e,i,n,s){if(t===null){var r=i.type;return typeof r=="function"&&!La(r)&&r.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=r,Yd(t,e,r,n,s)):(t=tr(i.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var l=r.memoizedProps;if(i=i.compare,i=i!==null?i:qn,i(l,n)&&t.ref===e.ref)return Rt(t,e,s)}return e.flags|=1,t=qt(r,n),t.ref=e.ref,t.return=e,e.child=t}function Yd(t,e,i,n,s){if(t!==null){var r=t.memoizedProps;if(qn(r,n)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=n=r,(t.lanes&s)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,Rt(t,e,s)}return bo(t,e,i,n,s)}function Jd(t,e,i){var n=e.pendingProps,s=n.children,r=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Vi,Ke),Ke|=i;else{if(!(i&1073741824))return t=r!==null?r.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(Vi,Ke),Ke|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:i,te(Vi,Ke),Ke|=n}else r!==null?(n=r.baseLanes|i,e.memoizedState=null):n=i,te(Vi,Ke),Ke|=n;return Re(t,e,s,i),e.child}function Gd(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function bo(t,e,i,n,s){var r=We(i)?mi:Te.current;return r=nn(e,r),Xi(e,s),i=_a(t,e,i,n,r,s),n=ja(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rt(t,e,s)):(oe&&n&&ha(e),e.flags|=1,Re(t,e,i,s),e.child)}function Ku(t,e,i,n,s){if(We(i)){var r=!0;pr(e)}else r=!1;if(Xi(e,s),e.stateNode===null)qs(t,e),Hd(e,i,n),Mo(e,i,n,s),n=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var u=l.context,h=i.contextType;typeof h=="object"&&h!==null?h=st(h):(h=We(i)?mi:Te.current,h=nn(e,h));var c=i.getDerivedStateFromProps,d=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==n||u!==h)&&Ou(e,l,n,h),$t=!1;var f=e.memoizedState;l.state=f,xr(e,n,l,s),u=e.memoizedState,a!==n||f!==u||De.current||$t?(typeof c=="function"&&(jo(e,i,c,n),u=e.memoizedState),(a=$t||$u(e,i,a,n,f,u,h))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),l.props=n,l.state=u,l.context=h,n=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,Md(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:at(e.type,a),l.props=h,d=e.pendingProps,f=l.context,u=i.contextType,typeof u=="object"&&u!==null?u=st(u):(u=We(i)?mi:Te.current,u=nn(e,u));var m=i.getDerivedStateFromProps;(c=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Ou(e,l,n,u),$t=!1,f=e.memoizedState,l.state=f,xr(e,n,l,s);var v=e.memoizedState;a!==d||f!==v||De.current||$t?(typeof m=="function"&&(jo(e,i,m,n),v=e.memoizedState),(h=$t||$u(e,i,h,n,f,v,u)||!1)?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,v,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,v,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),l.props=n,l.state=v,l.context=u,n=h):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Co(t,e,i,n,r,s)}function Co(t,e,i,n,s,r){Gd(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return s&&Tu(e,i,!1),Rt(t,e,r);n=e.stateNode,Zm.current=e;var a=l&&typeof i.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=rn(e,t.child,null,r),e.child=rn(e,null,a,r)):Re(t,e,a,r),e.memoizedState=n.state,s&&Tu(e,i,!0),e.child}function Xd(t){var e=t.stateNode;e.pendingContext?Nu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nu(t,e.context,!1),ya(t,e.containerInfo)}function Qu(t,e,i,n,s){return sn(),da(s),e.flags|=256,Re(t,e,i,n),e.child}var Po={dehydrated:null,treeContext:null,retryLane:0};function Eo(t){return{baseLanes:t,cachePool:null,transitions:null}}function qd(t,e,i){var n=e.pendingProps,s=ue.current,r=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),te(ue,s&1),t===null)return So(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,r?(n=e.mode,r=e.child,l={mode:"hidden",children:l},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=Wr(l,n,0,null),t=fi(t,n,i,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Eo(i),e.memoizedState=Po,t):ba(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eg(t,e,l,n,a,s,i);if(r){r=n.fallback,l=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(l&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=qt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=qt(a,r):(r=fi(r,l,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,n=r,r=e.child,l=t.child.memoizedState,l=l===null?Eo(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=t.childLanes&~i,e.memoizedState=Po,n}return r=t.child,t=r.sibling,n=qt(r,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n}function ba(t,e){return e=Wr({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zs(t,e,i,n){return n!==null&&da(n),rn(e,t.child,null,i),t=ba(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eg(t,e,i,n,s,r,l){if(i)return e.flags&256?(e.flags&=-257,n=Sl(Error(z(422))),zs(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=n.fallback,s=e.mode,n=Wr({mode:"visible",children:n.children},s,0,null),r=fi(r,s,l,null),r.flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,e.mode&1&&rn(e,t.child,null,l),e.child.memoizedState=Eo(l),e.memoizedState=Po,r);if(!(e.mode&1))return zs(t,e,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,r=Error(z(419)),n=Sl(r,n,void 0),zs(t,e,l,n)}if(a=(l&t.childLanes)!==0,Oe||a){if(n=we,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Lt(t,s),dt(n,t,s,-1))}return za(),n=Sl(Error(z(421))),zs(t,e,l,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fg.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,Qe=Yt(s.nextSibling),Ye=e,oe=!0,ht=null,t!==null&&(et[tt++]=bt,et[tt++]=Ct,et[tt++]=gi,bt=t.id,Ct=t.overflow,gi=e),e=ba(e,n.children),e.flags|=4096,e)}function Yu(t,e,i){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_o(t.return,e,i)}function _l(t,e,i,n,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=s)}function Zd(t,e,i){var n=e.pendingProps,s=n.revealOrder,r=n.tail;if(Re(t,e,n.children,i),n=ue.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yu(t,i,e);else if(t.tag===19)Yu(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(te(ue,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(i=e.child,s=null;i!==null;)t=i.alternate,t!==null&&wr(t)===null&&(s=i),i=i.sibling;i=s,i===null?(s=e.child,e.child=null):(s=i.sibling,i.sibling=null),_l(e,!1,s,i,r);break;case"backwards":for(i=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wr(t)===null){e.child=s;break}t=s.sibling,s.sibling=i,i=s,s=t}_l(e,!0,i,null,r);break;case"together":_l(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rt(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,i=qt(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=qt(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function tg(t,e,i){switch(e.tag){case 3:Xd(e),sn();break;case 5:kd(e);break;case 1:We(e.type)&&pr(e);break;case 4:ya(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;te(vr,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(te(ue,ue.current&1),e.flags|=128,null):i&e.child.childLanes?qd(t,e,i):(te(ue,ue.current&1),t=Rt(t,e,i),t!==null?t.sibling:null);te(ue,ue.current&1);break;case 19:if(n=(i&e.childLanes)!==0,t.flags&128){if(n)return Zd(t,e,i);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ue,ue.current),n)break;return null;case 22:case 23:return e.lanes=0,Jd(t,e,i)}return Rt(t,e,i)}var ef,No,tf,nf;ef=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};No=function(){};tf=function(t,e,i,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ci(_t.current);var r=null;switch(i){case"input":s=Xl(t,s),n=Xl(t,n),r=[];break;case"select":s=ce({},s,{value:void 0}),n=ce({},n,{value:void 0}),r=[];break;case"textarea":s=eo(t,s),n=eo(t,n),r=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=dr)}io(i,n);var l;i=null;for(h in s)if(!n.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var a=s[h];for(l in a)a.hasOwnProperty(l)&&(i||(i={}),i[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Hn.hasOwnProperty(h)?r||(r=[]):(r=r||[]).push(h,null));for(h in n){var u=n[h];if(a=s!=null?s[h]:void 0,n.hasOwnProperty(h)&&u!==a&&(u!=null||a!=null))if(h==="style")if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(i||(i={}),i[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(i||(i={}),i[l]=u[l])}else i||(r||(r=[]),r.push(h,i)),i=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(r=r||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(r=r||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Hn.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ne("scroll",t),r||a===u||(r=[])):(r=r||[]).push(h,u))}i&&(r=r||[]).push("style",i);var h=r;(e.updateQueue=h)&&(e.flags|=4)}};nf=function(t,e,i,n){i!==n&&(e.flags|=4)};function Mn(t,e){if(!oe)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,n=0;if(e)for(var s=t.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function ig(t,e,i){var n=e.pendingProps;switch(ca(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return We(e.type)&&fr(),Pe(e),null;case 3:return n=e.stateNode,ln(),se(De),se(Te),wa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ht!==null&&(Ao(ht),ht=null))),No(t,e),Pe(e),null;case 5:xa(e);var s=ci(ns.current);if(i=e.type,t!==null&&e.stateNode!=null)tf(t,e,i,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(z(166));return Pe(e),null}if(t=ci(_t.current),Ns(e)){n=e.stateNode,i=e.type;var r=e.memoizedProps;switch(n[wt]=e,n[ts]=r,t=(e.mode&1)!==0,i){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(s=0;s<Nn.length;s++)ne(Nn[s],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":nu(n,r),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},ne("invalid",n);break;case"textarea":ru(n,r),ne("invalid",n)}io(i,r),s=null;for(var l in r)if(r.hasOwnProperty(l)){var a=r[l];l==="children"?typeof a=="string"?n.textContent!==a&&(r.suppressHydrationWarning!==!0&&Es(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Es(n.textContent,a,t),s=["children",""+a]):Hn.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ne("scroll",n)}switch(i){case"input":Ss(n),su(n,r,!0);break;case"textarea":Ss(n),lu(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=dr)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nc(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(i,{is:n.is}):(t=l.createElement(i),i==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,i),t[wt]=e,t[ts]=n,ef(t,e,!1,!1),e.stateNode=t;e:{switch(l=no(i,n),i){case"dialog":ne("cancel",t),ne("close",t),s=n;break;case"iframe":case"object":case"embed":ne("load",t),s=n;break;case"video":case"audio":for(s=0;s<Nn.length;s++)ne(Nn[s],t);s=n;break;case"source":ne("error",t),s=n;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=n;break;case"details":ne("toggle",t),s=n;break;case"input":nu(t,n),s=Xl(t,n),ne("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ce({},n,{value:void 0}),ne("invalid",t);break;case"textarea":ru(t,n),s=eo(t,n),ne("invalid",t);break;default:s=n}io(i,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var u=a[r];r==="style"?Lc(t,u):r==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tc(t,u)):r==="children"?typeof u=="string"?(i!=="textarea"||u!=="")&&Kn(t,u):typeof u=="number"&&Kn(t,""+u):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Hn.hasOwnProperty(r)?u!=null&&r==="onScroll"&&ne("scroll",t):u!=null&&Go(t,r,u,l))}switch(i){case"input":Ss(t),su(t,n,!1);break;case"textarea":Ss(t),lu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zt(n.value));break;case"select":t.multiple=!!n.multiple,r=n.value,r!=null?Qi(t,!!n.multiple,r,!1):n.defaultValue!=null&&Qi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=dr)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)nf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(z(166));if(i=ci(ns.current),ci(_t.current),Ns(e)){if(n=e.stateNode,i=e.memoizedProps,n[wt]=e,(r=n.nodeValue!==i)&&(t=Ye,t!==null))switch(t.tag){case 3:Es(n.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Es(n.nodeValue,i,(t.mode&1)!==0)}r&&(e.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[wt]=e,e.stateNode=n}return Pe(e),null;case 13:if(se(ue),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oe&&Qe!==null&&e.mode&1&&!(e.flags&128))wd(),sn(),e.flags|=98560,r=!1;else if(r=Ns(e),n!==null&&n.dehydrated!==null){if(t===null){if(!r)throw Error(z(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(z(317));r[wt]=e}else sn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),r=!1}else ht!==null&&(Ao(ht),ht=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?ve===0&&(ve=3):za())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return ln(),No(t,e),t===null&&Zn(e.stateNode.containerInfo),Pe(e),null;case 10:return ma(e.type._context),Pe(e),null;case 17:return We(e.type)&&fr(),Pe(e),null;case 19:if(se(ue),r=e.memoizedState,r===null)return Pe(e),null;if(n=(e.flags&128)!==0,l=r.rendering,l===null)if(n)Mn(r,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=wr(t),l!==null){for(e.flags|=128,Mn(r,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;i!==null;)r=i,t=n,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return te(ue,ue.current&1|2),e.child}t=t.sibling}r.tail!==null&&fe()>an&&(e.flags|=128,n=!0,Mn(r,!1),e.lanes=4194304)}else{if(!n)if(t=wr(l),t!==null){if(e.flags|=128,n=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),Mn(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!oe)return Pe(e),null}else 2*fe()-r.renderingStartTime>an&&i!==1073741824&&(e.flags|=128,n=!0,Mn(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(i=r.last,i!==null?i.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=fe(),e.sibling=null,i=ue.current,te(ue,n?i&1|2:i&1),e):(Pe(e),null);case 22:case 23:return Ta(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ke&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function ng(t,e){switch(ca(e),e.tag){case 1:return We(e.type)&&fr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ln(),se(De),se(Te),wa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xa(e),null;case 13:if(se(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));sn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(ue),null;case 4:return ln(),null;case 10:return ma(e.type._context),null;case 22:case 23:return Ta(),null;case 24:return null;default:return null}}var Ls=!1,Ne=!1,sg=typeof WeakSet=="function"?WeakSet:Set,B=null;function Ui(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){de(t,e,n)}else i.current=null}function To(t,e,i){try{i()}catch(n){de(t,e,n)}}var Ju=!1;function rg(t,e){if(po=ur,t=od(),ua(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch{i=null;break e}var l=0,a=-1,u=-1,h=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==i||s!==0&&d.nodeType!==3||(a=l+s),d!==r||n!==0&&d.nodeType!==3||(u=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===i&&++h===s&&(a=l),f===r&&++c===n&&(u=l),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}i=a===-1||u===-1?null:{start:a,end:u}}else i=null}i=i||{start:0,end:0}}else i=null;for(mo={focusedElem:t,selectionRange:i},ur=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,P=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:at(e.type,x),P);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(S){de(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return v=Ju,Ju=!1,v}function Bn(t,e,i){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&To(e,i,r)}s=s.next}while(s!==n)}}function Or(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function zo(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function sf(t){var e=t.alternate;e!==null&&(t.alternate=null,sf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wt],delete e[ts],delete e[yo],delete e[Dm],delete e[Wm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rf(t){return t.tag===5||t.tag===3||t.tag===4}function Gu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lo(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=dr));else if(n!==4&&(t=t.child,t!==null))for(Lo(t,e,i),t=t.sibling;t!==null;)Lo(t,e,i),t=t.sibling}function Ro(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ro(t,e,i),t=t.sibling;t!==null;)Ro(t,e,i),t=t.sibling}var _e=null,ut=!1;function Ft(t,e,i){for(i=i.child;i!==null;)lf(t,e,i),i=i.sibling}function lf(t,e,i){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(zr,i)}catch{}switch(i.tag){case 5:Ne||Ui(i,e);case 6:var n=_e,s=ut;_e=null,Ft(t,e,i),_e=n,ut=s,_e!==null&&(ut?(t=_e,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):_e.removeChild(i.stateNode));break;case 18:_e!==null&&(ut?(t=_e,i=i.stateNode,t.nodeType===8?ml(t.parentNode,i):t.nodeType===1&&ml(t,i),Gn(t)):ml(_e,i.stateNode));break;case 4:n=_e,s=ut,_e=i.stateNode.containerInfo,ut=!0,Ft(t,e,i),_e=n,ut=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var r=s,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&To(i,e,l),s=s.next}while(s!==n)}Ft(t,e,i);break;case 1:if(!Ne&&(Ui(i,e),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){de(i,e,a)}Ft(t,e,i);break;case 21:Ft(t,e,i);break;case 22:i.mode&1?(Ne=(n=Ne)||i.memoizedState!==null,Ft(t,e,i),Ne=n):Ft(t,e,i);break;default:Ft(t,e,i)}}function Xu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new sg),e.forEach(function(n){var s=pg.bind(null,t,n);i.has(n)||(i.add(n),n.then(s,s))})}}function ot(t,e){var i=e.deletions;if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];try{var r=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,ut=!1;break e;case 3:_e=a.stateNode.containerInfo,ut=!0;break e;case 4:_e=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(_e===null)throw Error(z(160));lf(r,l,s),_e=null,ut=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){de(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)of(e,t),e=e.sibling}function of(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ot(e,t),vt(t),n&4){try{Bn(3,t,t.return),Or(3,t)}catch(x){de(t,t.return,x)}try{Bn(5,t,t.return)}catch(x){de(t,t.return,x)}}break;case 1:ot(e,t),vt(t),n&512&&i!==null&&Ui(i,i.return);break;case 5:if(ot(e,t),vt(t),n&512&&i!==null&&Ui(i,i.return),t.flags&32){var s=t.stateNode;try{Kn(s,"")}catch(x){de(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,l=i!==null?i.memoizedProps:r,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Pc(s,r),no(a,l);var h=no(a,r);for(l=0;l<u.length;l+=2){var c=u[l],d=u[l+1];c==="style"?Lc(s,d):c==="dangerouslySetInnerHTML"?Tc(s,d):c==="children"?Kn(s,d):Go(s,c,d,h)}switch(a){case"input":ql(s,r);break;case"textarea":Ec(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var m=r.value;m!=null?Qi(s,!!r.multiple,m,!1):f!==!!r.multiple&&(r.defaultValue!=null?Qi(s,!!r.multiple,r.defaultValue,!0):Qi(s,!!r.multiple,r.multiple?[]:"",!1))}s[ts]=r}catch(x){de(t,t.return,x)}}break;case 6:if(ot(e,t),vt(t),n&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(x){de(t,t.return,x)}}break;case 3:if(ot(e,t),vt(t),n&4&&i!==null&&i.memoizedState.isDehydrated)try{Gn(e.containerInfo)}catch(x){de(t,t.return,x)}break;case 4:ot(e,t),vt(t);break;case 13:ot(e,t),vt(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Ea=fe())),n&4&&Xu(t);break;case 22:if(c=i!==null&&i.memoizedState!==null,t.mode&1?(Ne=(h=Ne)||c,ot(e,t),Ne=h):ot(e,t),vt(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(d=B=c;B!==null;){switch(f=B,m=f.child,f.tag){case 0:case 11:case 14:case 15:Bn(4,f,f.return);break;case 1:Ui(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,i=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){de(n,i,x)}}break;case 5:Ui(f,f.return);break;case 22:if(f.memoizedState!==null){Zu(d);continue}}m!==null?(m.return=f,B=m):Zu(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,h?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,u=d.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=zc("display",l))}catch(x){de(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(x){de(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ot(e,t),vt(t),n&4&&Xu(t);break;case 21:break;default:ot(e,t),vt(t)}}function vt(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(rf(i)){var n=i;break e}i=i.return}throw Error(z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Kn(s,""),n.flags&=-33);var r=Gu(t);Ro(t,r,s);break;case 3:case 4:var l=n.stateNode.containerInfo,a=Gu(t);Lo(t,a,l);break;default:throw Error(z(161))}}catch(u){de(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lg(t,e,i){B=t,af(t)}function af(t,e,i){for(var n=(t.mode&1)!==0;B!==null;){var s=B,r=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Ls;if(!l){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Ne;a=Ls;var h=Ne;if(Ls=l,(Ne=u)&&!h)for(B=s;B!==null;)l=B,u=l.child,l.tag===22&&l.memoizedState!==null?eh(s):u!==null?(u.return=l,B=u):eh(s);for(;r!==null;)B=r,af(r),r=r.sibling;B=s,Ls=a,Ne=h}qu(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,B=r):qu(t)}}function qu(t){for(;B!==null;){var e=B;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ne||Or(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ne)if(i===null)n.componentDidMount();else{var s=e.elementType===e.type?i.memoizedProps:at(e.type,i.memoizedProps);n.componentDidUpdate(s,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Fu(e,r,n);break;case 3:var l=e.updateQueue;if(l!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}Fu(e,l,i)}break;case 5:var a=e.stateNode;if(i===null&&e.flags&4){i=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&i.focus();break;case"img":u.src&&(i.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var c=h.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Gn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ne||e.flags&512&&zo(e)}catch(f){de(e,e.return,f)}}if(e===t){B=null;break}if(i=e.sibling,i!==null){i.return=e.return,B=i;break}B=e.return}}function Zu(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var i=e.sibling;if(i!==null){i.return=e.return,B=i;break}B=e.return}}function eh(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{Or(4,e)}catch(u){de(e,i,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){de(e,s,u)}}var r=e.return;try{zo(e)}catch(u){de(e,r,u)}break;case 5:var l=e.return;try{zo(e)}catch(u){de(e,l,u)}}}catch(u){de(e,e.return,u)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var og=Math.ceil,jr=It.ReactCurrentDispatcher,Ca=It.ReactCurrentOwner,nt=It.ReactCurrentBatchConfig,J=0,we=null,me=null,ke=0,Ke=0,Vi=ii(0),ve=0,os=null,yi=0,Dr=0,Pa=0,An=null,$e=null,Ea=0,an=1/0,Mt=null,Mr=!1,Io=null,Gt=null,Rs=!1,Ut=null,kr=0,$n=0,Fo=null,Zs=-1,er=0;function Ie(){return J&6?fe():Zs!==-1?Zs:Zs=fe()}function Xt(t){return t.mode&1?J&2&&ke!==0?ke&-ke:Vm.transition!==null?(er===0&&(er=Hc()),er):(t=X,t!==0||(t=window.event,t=t===void 0?16:qc(t.type)),t):1}function dt(t,e,i,n){if(50<$n)throw $n=0,Fo=null,Error(z(185));fs(t,i,n),(!(J&2)||t!==we)&&(t===we&&(!(J&2)&&(Dr|=i),ve===4&&Dt(t,ke)),Ue(t,n),i===1&&J===0&&!(e.mode&1)&&(an=fe()+500,Br&&ni()))}function Ue(t,e){var i=t.callbackNode;Vp(t,e);var n=ar(t,t===we?ke:0);if(n===0)i!==null&&uu(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(i!=null&&uu(i),e===1)t.tag===0?Um(th.bind(null,t)):vd(th.bind(null,t)),$m(function(){!(J&6)&&ni()}),i=null;else{switch(Kc(n)){case 1:i=ta;break;case 4:i=Uc;break;case 16:i=or;break;case 536870912:i=Vc;break;default:i=or}i=gf(i,uf.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function uf(t,e){if(Zs=-1,er=0,J&6)throw Error(z(327));var i=t.callbackNode;if(qi()&&t.callbackNode!==i)return null;var n=ar(t,t===we?ke:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=br(t,n);else{e=n;var s=J;J|=2;var r=cf();(we!==t||ke!==e)&&(Mt=null,an=fe()+500,di(t,e));do try{hg();break}catch(a){hf(t,a)}while(!0);pa(),jr.current=r,J=s,me!==null?e=0:(we=null,ke=0,e=ve)}if(e!==0){if(e===2&&(s=ao(t),s!==0&&(n=s,e=Bo(t,s))),e===1)throw i=os,di(t,0),Dt(t,n),Ue(t,fe()),i;if(e===6)Dt(t,n);else{if(s=t.current.alternate,!(n&30)&&!ag(s)&&(e=br(t,n),e===2&&(r=ao(t),r!==0&&(n=r,e=Bo(t,r))),e===1))throw i=os,di(t,0),Dt(t,n),Ue(t,fe()),i;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(z(345));case 2:ai(t,$e,Mt);break;case 3:if(Dt(t,n),(n&130023424)===n&&(e=Ea+500-fe(),10<e)){if(ar(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ie(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vo(ai.bind(null,t,$e,Mt),e);break}ai(t,$e,Mt);break;case 4:if(Dt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var l=31-ct(n);r=1<<l,l=e[l],l>s&&(s=l),n&=~r}if(n=s,n=fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*og(n/1960))-n,10<n){t.timeoutHandle=vo(ai.bind(null,t,$e,Mt),n);break}ai(t,$e,Mt);break;case 5:ai(t,$e,Mt);break;default:throw Error(z(329))}}}return Ue(t,fe()),t.callbackNode===i?uf.bind(null,t):null}function Bo(t,e){var i=An;return t.current.memoizedState.isDehydrated&&(di(t,e).flags|=256),t=br(t,e),t!==2&&(e=$e,$e=i,e!==null&&Ao(e)),t}function Ao(t){$e===null?$e=t:$e.push.apply($e,t)}function ag(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var s=i[n],r=s.getSnapshot;s=s.value;try{if(!ft(r(),s))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dt(t,e){for(e&=~Pa,e&=~Dr,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-ct(e),n=1<<i;t[i]=-1,e&=~n}}function th(t){if(J&6)throw Error(z(327));qi();var e=ar(t,0);if(!(e&1))return Ue(t,fe()),null;var i=br(t,e);if(t.tag!==0&&i===2){var n=ao(t);n!==0&&(e=n,i=Bo(t,n))}if(i===1)throw i=os,di(t,0),Dt(t,e),Ue(t,fe()),i;if(i===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,$e,Mt),Ue(t,fe()),null}function Na(t,e){var i=J;J|=1;try{return t(e)}finally{J=i,J===0&&(an=fe()+500,Br&&ni())}}function xi(t){Ut!==null&&Ut.tag===0&&!(J&6)&&qi();var e=J;J|=1;var i=nt.transition,n=X;try{if(nt.transition=null,X=1,t)return t()}finally{X=n,nt.transition=i,J=e,!(J&6)&&ni()}}function Ta(){Ke=Vi.current,se(Vi)}function di(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,Am(i)),me!==null)for(i=me.return;i!==null;){var n=i;switch(ca(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fr();break;case 3:ln(),se(De),se(Te),wa();break;case 5:xa(n);break;case 4:ln();break;case 13:se(ue);break;case 19:se(ue);break;case 10:ma(n.type._context);break;case 22:case 23:Ta()}i=i.return}if(we=t,me=t=qt(t.current,null),ke=Ke=e,ve=0,os=null,Pa=Dr=yi=0,$e=An=null,hi!==null){for(e=0;e<hi.length;e++)if(i=hi[e],n=i.interleaved,n!==null){i.interleaved=null;var s=n.next,r=i.pending;if(r!==null){var l=r.next;r.next=s,n.next=l}i.pending=n}hi=null}return t}function hf(t,e){do{var i=me;try{if(pa(),Gs.current=_r,Sr){for(var n=he.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Sr=!1}if(vi=0,xe=ge=he=null,Fn=!1,ss=0,Ca.current=null,i===null||i.return===null){ve=1,os=e,me=null;break}e:{var r=t,l=i.return,a=i,u=e;if(e=ke,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Wu(l);if(m!==null){m.flags&=-257,Uu(m,l,a,r,e),m.mode&1&&Du(r,h,e),e=m,u=h;var v=e.updateQueue;if(v===null){var x=new Set;x.add(u),e.updateQueue=x}else v.add(u);break e}else{if(!(e&1)){Du(r,h,e),za();break e}u=Error(z(426))}}else if(oe&&a.mode&1){var P=Wu(l);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Uu(P,l,a,r,e),da(on(u,a));break e}}r=u=on(u,a),ve!==4&&(ve=2),An===null?An=[r]:An.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=Kd(r,u,e);Iu(r,g);break e;case 1:a=u;var p=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gt===null||!Gt.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var S=Qd(r,a,e);Iu(r,S);break e}}r=r.return}while(r!==null)}ff(i)}catch(M){e=M,me===i&&i!==null&&(me=i=i.return);continue}break}while(!0)}function cf(){var t=jr.current;return jr.current=_r,t===null?_r:t}function za(){(ve===0||ve===3||ve===2)&&(ve=4),we===null||!(yi&268435455)&&!(Dr&268435455)||Dt(we,ke)}function br(t,e){var i=J;J|=2;var n=cf();(we!==t||ke!==e)&&(Mt=null,di(t,e));do try{ug();break}catch(s){hf(t,s)}while(!0);if(pa(),J=i,jr.current=n,me!==null)throw Error(z(261));return we=null,ke=0,ve}function ug(){for(;me!==null;)df(me)}function hg(){for(;me!==null&&!Ip();)df(me)}function df(t){var e=mf(t.alternate,t,Ke);t.memoizedProps=t.pendingProps,e===null?ff(t):me=e,Ca.current=null}function ff(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=ng(i,e),i!==null){i.flags&=32767,me=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,me=null;return}}else if(i=ig(i,e,Ke),i!==null){me=i;return}if(e=e.sibling,e!==null){me=e;return}me=e=t}while(e!==null);ve===0&&(ve=5)}function ai(t,e,i){var n=X,s=nt.transition;try{nt.transition=null,X=1,cg(t,e,i,n)}finally{nt.transition=s,X=n}return null}function cg(t,e,i,n){do qi();while(Ut!==null);if(J&6)throw Error(z(327));i=t.finishedWork;var s=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var r=i.lanes|i.childLanes;if(Hp(t,r),t===we&&(me=we=null,ke=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Rs||(Rs=!0,gf(or,function(){return qi(),null})),r=(i.flags&15990)!==0,i.subtreeFlags&15990||r){r=nt.transition,nt.transition=null;var l=X;X=1;var a=J;J|=4,Ca.current=null,rg(t,i),of(i,t),Tm(mo),ur=!!po,mo=po=null,t.current=i,lg(i),Fp(),J=a,X=l,nt.transition=r}else t.current=i;if(Rs&&(Rs=!1,Ut=t,kr=s),r=t.pendingLanes,r===0&&(Gt=null),$p(i.stateNode),Ue(t,fe()),e!==null)for(n=t.onRecoverableError,i=0;i<e.length;i++)s=e[i],n(s.value,{componentStack:s.stack,digest:s.digest});if(Mr)throw Mr=!1,t=Io,Io=null,t;return kr&1&&t.tag!==0&&qi(),r=t.pendingLanes,r&1?t===Fo?$n++:($n=0,Fo=t):$n=0,ni(),null}function qi(){if(Ut!==null){var t=Kc(kr),e=nt.transition,i=X;try{if(nt.transition=null,X=16>t?16:t,Ut===null)var n=!1;else{if(t=Ut,Ut=null,kr=0,J&6)throw Error(z(331));var s=J;for(J|=4,B=t.current;B!==null;){var r=B,l=r.child;if(B.flags&16){var a=r.deletions;if(a!==null){for(var u=0;u<a.length;u++){var h=a[u];for(B=h;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:Bn(8,c,r)}var d=c.child;if(d!==null)d.return=c,B=d;else for(;B!==null;){c=B;var f=c.sibling,m=c.return;if(sf(c),c===h){B=null;break}if(f!==null){f.return=m,B=f;break}B=m}}}var v=r.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var P=x.sibling;x.sibling=null,x=P}while(x!==null)}}B=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,B=l;else e:for(;B!==null;){if(r=B,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Bn(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,B=g;break e}B=r.return}}var p=t.current;for(B=p;B!==null;){l=B;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,B=y;else e:for(l=p;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Or(9,a)}}catch(M){de(a,a.return,M)}if(a===l){B=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,B=S;break e}B=a.return}}if(J=s,ni(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(zr,t)}catch{}n=!0}return n}finally{X=i,nt.transition=e}}return!1}function ih(t,e,i){e=on(i,e),e=Kd(t,e,1),t=Jt(t,e,1),e=Ie(),t!==null&&(fs(t,1,e),Ue(t,e))}function de(t,e,i){if(t.tag===3)ih(t,t,i);else for(;e!==null;){if(e.tag===3){ih(e,t,i);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gt===null||!Gt.has(n))){t=on(i,t),t=Qd(e,t,1),e=Jt(e,t,1),t=Ie(),e!==null&&(fs(e,1,t),Ue(e,t));break}}e=e.return}}function dg(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),e=Ie(),t.pingedLanes|=t.suspendedLanes&i,we===t&&(ke&i)===i&&(ve===4||ve===3&&(ke&130023424)===ke&&500>fe()-Ea?di(t,0):Pa|=i),Ue(t,e)}function pf(t,e){e===0&&(t.mode&1?(e=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):e=1);var i=Ie();t=Lt(t,e),t!==null&&(fs(t,e,i),Ue(t,i))}function fg(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),pf(t,i)}function pg(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(i=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(e),pf(t,i)}var mf;mf=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||De.current)Oe=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return Oe=!1,tg(t,e,i);Oe=!!(t.flags&131072)}else Oe=!1,oe&&e.flags&1048576&&yd(e,gr,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qs(t,e),t=e.pendingProps;var s=nn(e,Te.current);Xi(e,i),s=_a(null,e,n,t,s,i);var r=ja();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,We(n)?(r=!0,pr(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,va(e),s.updater=$r,e.stateNode=s,s._reactInternals=e,Mo(e,n,t,i),e=Co(null,e,n,!0,r,i)):(e.tag=0,oe&&r&&ha(e),Re(null,e,s,i),e=e.child),e;case 16:n=e.elementType;e:{switch(qs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=gg(n),t=at(n,t),s){case 0:e=bo(null,e,n,t,i);break e;case 1:e=Ku(null,e,n,t,i);break e;case 11:e=Vu(null,e,n,t,i);break e;case 14:e=Hu(null,e,n,at(n.type,t),i);break e}throw Error(z(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),bo(t,e,n,s,i);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),Ku(t,e,n,s,i);case 3:e:{if(Xd(e),t===null)throw Error(z(387));n=e.pendingProps,r=e.memoizedState,s=r.element,Md(t,e),xr(e,n,null,i);var l=e.memoizedState;if(n=l.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=on(Error(z(423)),e),e=Qu(t,e,n,i,s);break e}else if(n!==s){s=on(Error(z(424)),e),e=Qu(t,e,n,i,s);break e}else for(Qe=Yt(e.stateNode.containerInfo.firstChild),Ye=e,oe=!0,ht=null,i=_d(e,null,n,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(sn(),n===s){e=Rt(t,e,i);break e}Re(t,e,n,i)}e=e.child}return e;case 5:return kd(e),t===null&&So(e),n=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,l=s.children,go(n,s)?l=null:r!==null&&go(n,r)&&(e.flags|=32),Gd(t,e),Re(t,e,l,i),e.child;case 6:return t===null&&So(e),null;case 13:return qd(t,e,i);case 4:return ya(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rn(e,null,n,i):Re(t,e,n,i),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),Vu(t,e,n,s,i);case 7:return Re(t,e,e.pendingProps,i),e.child;case 8:return Re(t,e,e.pendingProps.children,i),e.child;case 12:return Re(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,r=e.memoizedProps,l=s.value,te(vr,n._currentValue),n._currentValue=l,r!==null)if(ft(r.value,l)){if(r.children===s.children&&!De.current){e=Rt(t,e,i);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){l=r.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(r.tag===1){u=Nt(-1,i&-i),u.tag=2;var h=r.updateQueue;if(h!==null){h=h.shared;var c=h.pending;c===null?u.next=u:(u.next=c.next,c.next=u),h.pending=u}}r.lanes|=i,u=r.alternate,u!==null&&(u.lanes|=i),_o(r.return,i,e),a.lanes|=i;break}u=u.next}}else if(r.tag===10)l=r.type===e.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(z(341));l.lanes|=i,a=l.alternate,a!==null&&(a.lanes|=i),_o(l,i,e),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}Re(t,e,s.children,i),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Xi(e,i),s=st(s),n=n(s),e.flags|=1,Re(t,e,n,i),e.child;case 14:return n=e.type,s=at(n,e.pendingProps),s=at(n.type,s),Hu(t,e,n,s,i);case 15:return Yd(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),qs(t,e),e.tag=1,We(n)?(t=!0,pr(e)):t=!1,Xi(e,i),Hd(e,n,s),Mo(e,n,s,i),Co(null,e,n,!0,t,i);case 19:return Zd(t,e,i);case 22:return Jd(t,e,i)}throw Error(z(156,e.tag))};function gf(t,e){return Wc(t,e)}function mg(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,i,n){return new mg(t,e,i,n)}function La(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gg(t){if(typeof t=="function")return La(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qo)return 11;if(t===Zo)return 14}return 2}function qt(t,e){var i=t.alternate;return i===null?(i=it(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function tr(t,e,i,n,s,r){var l=2;if(n=t,typeof t=="function")La(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ri:return fi(i.children,s,r,e);case Xo:l=8,s|=8;break;case Ql:return t=it(12,i,e,s|2),t.elementType=Ql,t.lanes=r,t;case Yl:return t=it(13,i,e,s),t.elementType=Yl,t.lanes=r,t;case Jl:return t=it(19,i,e,s),t.elementType=Jl,t.lanes=r,t;case kc:return Wr(i,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jc:l=10;break e;case Mc:l=9;break e;case qo:l=11;break e;case Zo:l=14;break e;case At:l=16,n=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=it(l,i,e,s),e.elementType=t,e.type=n,e.lanes=r,e}function fi(t,e,i,n){return t=it(7,t,n,e),t.lanes=i,t}function Wr(t,e,i,n){return t=it(22,t,n,e),t.elementType=kc,t.lanes=i,t.stateNode={isHidden:!1},t}function jl(t,e,i){return t=it(6,t,null,e),t.lanes=i,t}function Ml(t,e,i){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vg(t,e,i,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ra(t,e,i,n,s,r,l,a,u){return t=new vg(t,e,i,a,u),e===1?(e=1,r===!0&&(e|=8)):e=0,r=it(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},va(r),t}function yg(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}function vf(t){if(!t)return ei;t=t._reactInternals;e:{if(bi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(We(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var i=t.type;if(We(i))return gd(t,i,e)}return e}function yf(t,e,i,n,s,r,l,a,u){return t=Ra(i,n,!0,t,s,r,l,a,u),t.context=vf(null),i=t.current,n=Ie(),s=Xt(i),r=Nt(n,s),r.callback=e??null,Jt(i,r,s),t.current.lanes=s,fs(t,s,n),Ue(t,n),t}function Ur(t,e,i,n){var s=e.current,r=Ie(),l=Xt(s);return i=vf(i),e.context===null?e.context=i:e.pendingContext=i,e=Nt(r,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Jt(s,e,l),t!==null&&(dt(t,s,l,r),Js(t,s,l)),l}function Cr(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Ia(t,e){nh(t,e),(t=t.alternate)&&nh(t,e)}function xg(){return null}var xf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fa(t){this._internalRoot=t}Vr.prototype.render=Fa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Ur(t,e,null,null)};Vr.prototype.unmount=Fa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){Ur(null,t,null,null)}),e[zt]=null}};function Vr(t){this._internalRoot=t}Vr.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jc();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Ot.length&&e!==0&&e<Ot[i].priority;i++);Ot.splice(i,0,t),i===0&&Xc(t)}};function Ba(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hr(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sh(){}function wg(t,e,i,n,s){if(s){if(typeof n=="function"){var r=n;n=function(){var h=Cr(l);r.call(h)}}var l=yf(e,n,t,0,null,!1,!1,"",sh);return t._reactRootContainer=l,t[zt]=l.current,Zn(t.nodeType===8?t.parentNode:t),xi(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var h=Cr(u);a.call(h)}}var u=Ra(t,0,!1,null,null,!1,!1,"",sh);return t._reactRootContainer=u,t[zt]=u.current,Zn(t.nodeType===8?t.parentNode:t),xi(function(){Ur(e,u,i,n)}),u}function Kr(t,e,i,n,s){var r=i._reactRootContainer;if(r){var l=r;if(typeof s=="function"){var a=s;s=function(){var u=Cr(l);a.call(u)}}Ur(e,l,t,s)}else l=wg(i,e,t,s,n);return Cr(l)}Qc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=En(e.pendingLanes);i!==0&&(ia(e,i|1),Ue(e,fe()),!(J&6)&&(an=fe()+500,ni()))}break;case 13:xi(function(){var n=Lt(t,1);if(n!==null){var s=Ie();dt(n,t,1,s)}}),Ia(t,1)}};na=function(t){if(t.tag===13){var e=Lt(t,134217728);if(e!==null){var i=Ie();dt(e,t,134217728,i)}Ia(t,134217728)}};Yc=function(t){if(t.tag===13){var e=Xt(t),i=Lt(t,e);if(i!==null){var n=Ie();dt(i,t,e,n)}Ia(t,e)}};Jc=function(){return X};Gc=function(t,e){var i=X;try{return X=t,e()}finally{X=i}};ro=function(t,e,i){switch(e){case"input":if(ql(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var s=Fr(n);if(!s)throw Error(z(90));Cc(n),ql(n,s)}}}break;case"textarea":Ec(t,i);break;case"select":e=i.value,e!=null&&Qi(t,!!i.multiple,e,!1)}};Fc=Na;Bc=xi;var Sg={usingClientEntryPoint:!1,Events:[ms,Ai,Fr,Rc,Ic,Na]},kn={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_g={bundleType:kn.bundleType,version:kn.version,rendererPackageName:kn.rendererPackageName,rendererConfig:kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Oc(t),t===null?null:t.stateNode},findFiberByHostInstance:kn.findFiberByHostInstance||xg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{zr=Is.inject(_g),St=Is}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sg;Xe.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ba(e))throw Error(z(200));return yg(t,e,null,i)};Xe.createRoot=function(t,e){if(!Ba(t))throw Error(z(299));var i=!1,n="",s=xf;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ra(t,1,!1,null,null,i,!1,n,s),t[zt]=e.current,Zn(t.nodeType===8?t.parentNode:t),new Fa(e)};Xe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Oc(e),t=t===null?null:t.stateNode,t};Xe.flushSync=function(t){return xi(t)};Xe.hydrate=function(t,e,i){if(!Hr(e))throw Error(z(200));return Kr(null,t,e,!0,i)};Xe.hydrateRoot=function(t,e,i){if(!Ba(t))throw Error(z(405));var n=i!=null&&i.hydratedSources||null,s=!1,r="",l=xf;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onRecoverableError!==void 0&&(l=i.onRecoverableError)),e=yf(e,null,t,1,i??null,s,!1,r,l),t[zt]=e.current,Zn(t),n)for(t=0;t<n.length;t++)i=n[t],s=i._getVersion,s=s(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,s]:e.mutableSourceEagerHydrationData.push(i,s);return new Vr(e)};Xe.render=function(t,e,i){if(!Hr(e))throw Error(z(200));return Kr(null,t,e,!1,i)};Xe.unmountComponentAtNode=function(t){if(!Hr(t))throw Error(z(40));return t._reactRootContainer?(xi(function(){Kr(null,null,t,!1,function(){t._reactRootContainer=null,t[zt]=null})}),!0):!1};Xe.unstable_batchedUpdates=Na;Xe.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Hr(i))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Kr(t,e,i,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wf)}catch(t){console.error(t)}}wf(),xc.exports=Xe;var jg=xc.exports,rh=jg;Hl.createRoot=rh.createRoot,Hl.hydrateRoot=rh.hydrateRoot;function Z(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function pi(t,e){return t.width===e.width&&t.height===e.height}var Mg=function(){function t(e){var i=this;this._resolutionListener=function(){return i._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var i=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){i._observers=i._observers.filter(function(s){return s!==n})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(i){return i.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function kg(t){return new Mg(t)}var bg=function(){function t(e,i,n){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Z({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=i??function(r){return r},this._allowResizeObserver=(s=n==null?void 0:n.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,i;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(i=this._devicePixelRatioObservable)===null||i===void 0||i.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return Z({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Z(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(i){return i!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(i){return i!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var i=this.bitmapSize;pi(i,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(i,e))},t.prototype._emitBitmapSizeChanged=function(e,i){var n=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(n,e,i)})},t.prototype._suggestNewBitmapSize=function(e){var i=this._suggestedBitmapSize,n=Z(this._transformBitmapSize(e,this._canvasElementClientSize)),s=pi(this.bitmapSize,n)?null:n;i===null&&s===null||i!==null&&s!==null&&pi(i,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(i,s))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,i){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(n,e,i)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Pg().then(function(i){return i?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var i=lh(this._canvasElement);if(i===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=kg(i),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,i;if(this._canvasElement!==null){var n=lh(this._canvasElement);if(n!==null){var s=(i=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&i!==void 0?i:n.devicePixelRatio,r=this._canvasElement.getClientRects(),l=r[0]!==void 0?Eg(r[0],s):Z({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(l)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(i){var n=i.find(function(l){return l.target===e._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var s=n.devicePixelContentBoxSize[0],r=Z({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function Cg(t,e){return new bg(t,e.transform,e.options)}function lh(t){return t.ownerDocument.defaultView}function Pg(){return new Promise(function(t){var e=new ResizeObserver(function(i){t(i.every(function(n){return"devicePixelContentBoxSize"in n})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function Eg(t,e){return Z({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var Ng=function(){function t(e,i,n){if(i.width===0||i.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=i,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function wi(t,e){var i=t.canvasElementClientSize;if(i.width===0||i.height===0)return null;var n=t.bitmapSize;if(n.width===0||n.height===0)return null;var s=t.canvasElement.getContext("2d",e);return s===null?null:new Ng(s,i,n)}/*!
 * @license
 * TradingView Lightweight Charts v5.1.0
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Sf={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var oh,On;function Si(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function _f(t,e,i,n){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(i,e+s),t.lineTo(n,e+s),t.stroke()}function Me(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Ve(t){if(t===void 0)throw new Error("Value is undefined");return t}function N(t){if(t===null)throw new Error("Value is null");return t}function Vt(t){return N(Ve(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(oh||(oh={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(On||(On={}));class pe{constructor(){this.t=[]}i(e,i,n){const s={h:e,l:i,o:n===!0};this.t.push(s)}_(e){const i=this.t.findIndex(n=>e===n.h);i>-1&&this.t.splice(i,1)}u(e){this.t=this.t.filter(i=>i.l!==e)}p(e,i,n){const s=[...this.t];this.t=this.t.filter(r=>!r.o),s.forEach(r=>r.h(e,i,n))}v(){return this.t.length>0}m(){this.t=[]}}function Je(t,...e){for(const i of e)for(const n in i)i[n]!==void 0&&Object.prototype.hasOwnProperty.call(i,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof i[n]!="object"||t[n]===void 0||Array.isArray(i[n])?t[n]=i[n]:Je(t[n],i[n]));return t}function _i(t){return typeof t=="number"&&isFinite(t)}function as(t){return typeof t=="number"&&t%1==0}function vs(t){return typeof t=="string"}function Fs(t){return typeof t=="boolean"}function Pt(t){const e=t;if(!e||typeof e!="object")return e;let i,n,s;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(s=e[n],i[n]=s&&typeof s=="object"?Pt(s):s);return i}function ah(t){return t!==null}function us(t){return t===null?void 0:t}const jf="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function hs(t,e,i){return e===void 0&&(e=jf),`${i=i!==void 0?`${i} `:""}${t}px ${e}`}class Tg{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,i=this.F(),n=this.W();return e.k===i&&e.T===n||(e.k=i,e.T=n,e.P=hs(i,n),e.A=2.5/12*i,e.I=e.A,e.V=i/12*e.C,e.B=i/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function kl(t){return t<0?0:t>255?255:Math.round(t)||0}function uh(t){return .199*t[0]+.687*t[1]+.114*t[2]}class zg{constructor(e,i){this.q=new Map,this.j=e,i&&(this.q=i)}Y(e,i){if(e==="transparent")return e;const n=this.K(e),s=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${i*s})`}Z(e){const i=this.K(e);return{G:`rgb(${i[0]}, ${i[1]}, ${i[2]})`,X:uh(i)>160?"black":"white"}}J(e){return uh(this.K(e))}tt(e,i,n){const[s,r,l,a]=this.K(e),[u,h,c,d]=this.K(i),f=[kl(s+n*(u-s)),kl(r+n*(h-r)),kl(l+n*(c-l)),(m=a+n*(d-a),m<=0||m>1?Math.min(Math.max(m,0),1):Math.round(1e4*m)/1e4)];var m;return`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${f[3]})`}K(e){const i=this.q.get(e);if(i)return i;const n=function(l){const a=document.createElement("div");a.style.display="none",document.body.appendChild(a),a.style.color=l;const u=window.getComputedStyle(a).color;return document.body.removeChild(a),u}(e),s=n.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!s){if(this.j.length)for(const l of this.j){const a=l(e);if(a)return this.q.set(e,a),a}throw new Error(`Failed to parse color: ${e}`)}const r=[parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),s[4]?parseFloat(s[4]):1];return this.q.set(e,r),r}}class Lg{constructor(){this.it=[]}st(e){this.it=e}nt(e,i,n){this.it.forEach(s=>{s.nt(e,i,n)})}}class Ci{nt(e,i,n){e.useBitmapCoordinateSpace(s=>this.et(s,i,n))}}class Rg extends Ci{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.rt===null||this.rt.lt===null)return;const s=this.rt.lt,r=this.rt,l=Math.max(1,Math.floor(i))%2/2,a=u=>{e.beginPath();for(let h=s.to-1;h>=s.from;--h){const c=r.ot[h],d=Math.round(c._t*i)+l,f=c.ut*n,m=u*n+l;e.moveTo(d,f),e.arc(d,f,m,0,2*Math.PI)}e.fill()};r.ct>0&&(e.fillStyle=r.dt,a(r.ft+r.ct)),e.fillStyle=r.vt,a(r.ft)}}function Ig(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Fg={from:0,to:1};class Bg{constructor(e,i,n){this.Mt=new Lg,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=i,this.yt=n,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(Ig),this.bt=this.St.map(i=>{const n=new Rg;return n.ht(i),n}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),i=this.yt.Vt(),n=this.Ct.Bt(),s=this.O.Et();this.Pt(),i.forEach((r,l)=>{const a=this.St[l],u=r.At(n),h=r.Lt();!e&&u!==null&&r.It()&&h!==null?(a.vt=u.zt,a.ft=u.ft,a.ct=u.Ot,a.ot[0].gt=u.gt,a.ot[0].ut=r.Ft().Nt(u.gt,h.Wt),a.dt=u.Ht??this.O.Ut(a.ot[0].ut/r.Ft().$t()),a.ot[0].wt=n,a.ot[0]._t=s.qt(n),a.lt=Fg):a.lt=null})}}class Ag extends Ci{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.jt===null)return;const r=this.jt.Yt.It,l=this.jt.Kt.It;if(!r&&!l)return;const a=Math.round(this.jt._t*n),u=Math.round(this.jt.ut*s);e.lineCap="butt",r&&a>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*n),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,Si(e,this.jt.Yt.Zt),function(h,c,d,f){h.beginPath();const m=h.lineWidth%2?.5:0;h.moveTo(c+m,d),h.lineTo(c+m,f),h.stroke()}(e,a,0,i.height)),l&&u>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*s),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,Si(e,this.jt.Kt.Zt),_f(e,u,0,i.width))}}class $g{constructor(e,i){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new Ag(this.Gt),this.Jt=e,this.yt=i}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),i=this.yt.Qt().N().crosshair,n=this.Gt;if(i.mode===2)return n.Kt.It=!1,void(n.Yt.It=!1);n.Kt.It=e&&this.Jt.ti(this.yt),n.Yt.It=e&&this.Jt.ii(),n.Kt.ct=i.horzLine.width,n.Kt.Zt=i.horzLine.style,n.Kt.R=i.horzLine.color,n.Yt.ct=i.vertLine.width,n.Yt.Zt=i.vertLine.style,n.Yt.R=i.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}}function Og(t,e,i,n,s,r){t.fillRect(e+r,i,n-2*r,r),t.fillRect(e+r,i+s-r,n-2*r,r),t.fillRect(e,i,r,s),t.fillRect(e+n-r,i,r,s)}function Qr(t,e,i,n,s,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,i,n,s),t.restore()}function hh(t,e,i,n,s,r){t.beginPath(),t.roundRect?t.roundRect(e,i,n,s,r):(t.lineTo(e+n-r[1],i),r[1]!==0&&t.arcTo(e+n,i,e+n,i+r[1],r[1]),t.lineTo(e+n,i+s-r[2]),r[2]!==0&&t.arcTo(e+n,i+s,e+n-r[2],i+s,r[2]),t.lineTo(e+r[3],i+s),r[3]!==0&&t.arcTo(e,i+s,e,i+s-r[3],r[3]),t.lineTo(e,i+r[0]),r[0]!==0&&t.arcTo(e,i,e+r[0],i,r[0]))}function ch(t,e,i,n,s,r,l=0,a=[0,0,0,0],u=""){if(t.save(),!l||!u||u===r)return hh(t,e,i,n,s,a),t.fillStyle=r,t.fill(),void t.restore();const h=l/2;var c;hh(t,e+h,i+h,n-l,s-l,(c=-h,a.map(d=>d===0?d:d+c))),r!=="transparent"&&(t.fillStyle=r,t.fill()),u!=="transparent"&&(t.lineWidth=l,t.strokeStyle=u,t.closePath(),t.stroke()),t.restore()}function Mf(t,e,i,n,s,r,l){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,s);a.addColorStop(0,r),a.addColorStop(1,l),t.fillStyle=a,t.fillRect(e,i,n,s),t.restore()}class dh{constructor(e,i){this.ht(e,i)}ht(e,i){this.jt=e,this.ei=i}$t(e,i){return this.jt.It?e.k+e.A+e.I:0}nt(e,i,n,s){if(!this.jt.It||this.jt.ri.length===0)return;const r=this.jt.R,l=this.ei.G,a=e.useBitmapCoordinateSpace(u=>{const h=u.context;h.font=i.P;const c=this.hi(u,i,n,s),d=c.ai;return c.li?ch(h,d.oi,d._i,d.ui,d.ci,l,d.di,[d.ft,0,0,d.ft],l):ch(h,d.fi,d._i,d.ui,d.ci,l,d.di,[0,d.ft,d.ft,0],l),this.jt.pi&&(h.fillStyle=r,h.fillRect(d.fi,d.mi,d.wi-d.fi,d.gi)),this.jt.Mi&&(h.fillStyle=i.D,h.fillRect(c.li?d.bi-d.di:0,d._i,d.di,d.Si-d._i)),c});e.useMediaCoordinateSpace(({context:u})=>{const h=a.xi;u.font=i.P,u.textAlign=a.li?"right":"left",u.textBaseline="middle",u.fillStyle=r,u.fillText(this.jt.ri,h.Ci,(h._i+h.Si)/2+h.yi)})}hi(e,i,n,s){const{context:r,bitmapSize:l,mediaSize:a,horizontalPixelRatio:u,verticalPixelRatio:h}=e,c=this.jt.pi||!this.jt.ki?i.C:0,d=this.jt.Pi?i.S:0,f=i.A+this.ei.Ti,m=i.I+this.ei.Ri,v=i.V,x=i.B,P=this.jt.ri,g=i.k,p=n.Di(r,P),y=Math.ceil(n.Ii(r,P)),S=g+f+m,M=i.S+v+x+y+c,b=Math.max(1,Math.floor(h));let w=Math.round(S*h);w%2!=b%2&&(w+=1);const _=d>0?Math.max(1,Math.floor(d*u)):0,C=Math.round(M*u),I=Math.round(c*u),F=this.ei.Vi??this.ei.Bi??this.ei.Ei,H=Math.round(F*h)-Math.floor(.5*h),A=Math.floor(H+b/2-w/2),V=A+w,Q=s==="right",L=Q?a.width-d:d,T=Q?l.width-_:_;let E,j,D;return Q?(E=T-C,j=T-I,D=L-c-v-d):(E=T+C,j=T+I,D=L+c+v),{li:Q,ai:{_i:A,mi:H,Si:V,ui:C,ci:w,ft:2*u,di:_,oi:E,fi:T,wi:j,gi:b,bi:l.width},xi:{_i:A/h,Si:V/h,Ci:D,yi:p}}}}class Yr{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||dh)(this.Li,this.Ai),this.Ni=new(e||dh)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,i=!1){return Math.max(this.Oi.$t(e,i),this.Ni.$t(e,i))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class Dg extends Yr{constructor(e,i,n){super(),this.Jt=e,this.Ki=i,this.Zi=n}Yi(e,i,n){if(e.It=!1,this.Jt.N().mode===2)return;const s=this.Jt.N().horzLine;if(!s.labelVisible)return;const r=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||r===null)return;const l=this.Ki.Xi().Z(s.labelBackgroundColor);n.G=l.G,e.R=l.X;const a=2/12*this.Ki.k();n.Ti=a,n.Ri=a;const u=this.Zi(this.Ki);n.Ei=u.Ei,e.ri=this.Ki.Ji(u.gt,r),e.It=!0}}const Wg=/[1-9]/g;class kf{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,i){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const n=e.useMediaCoordinateSpace(({context:f})=>(f.font=i.P,Math.round(i.Qi.Ii(f,N(this.jt).ri,Wg))));if(n<=0)return;const s=i.ts,r=n+2*s,l=r/2,a=this.jt.ss;let u=this.jt.Ei,h=Math.floor(u-l)+.5;h<0?(u+=Math.abs(0-h),h=Math.floor(u-l)+.5):h+r>a&&(u-=Math.abs(a-(h+r)),h=Math.floor(u-l)+.5);const c=h+r,d=Math.ceil(0+i.S+i.C+i.A+i.k+i.I);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:m,verticalPixelRatio:v})=>{const x=N(this.jt);f.fillStyle=x.G;const P=Math.round(h*m),g=Math.round(0*v),p=Math.round(c*m),y=Math.round(d*v),S=Math.round(2*m);if(f.beginPath(),f.moveTo(P,g),f.lineTo(P,y-S),f.arcTo(P,y,P+S,y,S),f.lineTo(p-S,y),f.arcTo(p,y,p,y-S,S),f.lineTo(p,g),f.fill(),x.pi){const M=Math.round(x.Ei*m),b=g,w=Math.round((b+i.C)*v);f.fillStyle=x.R;const _=Math.max(1,Math.floor(m)),C=Math.floor(.5*m);f.fillRect(M-C,b,_,w-b)}}),e.useMediaCoordinateSpace(({context:f})=>{const m=N(this.jt),v=0+i.S+i.C+i.A+i.k/2;f.font=i.P,f.textAlign="left",f.textBaseline="middle",f.fillStyle=m.R;const x=i.Qi.Di(f,"Apr0");f.translate(h+s,v+x),f.fillText(m.ri,0,0)})}}class Ug{constructor(e,i,n){this.xt=!0,this.Xt=new kf,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=i,this.Zi=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const i=this.Ct.N().vertLine;if(!i.labelVisible)return;const n=this.ns.Et();if(n.Gi())return;e.ss=n.ss();const s=this.Zi();if(s===null)return;e.Ei=s.Ei;const r=n.es(this.Ct.Bt());e.ri=n.rs(N(r)),e.It=!0;const l=this.ns.Xi().Z(i.labelBackgroundColor);e.G=l.G,e.R=l.X,e.pi=n.N().ticksVisible}}class bf{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var fh;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(fh||(fh={}));class Vg extends bf{constructor(e,i){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=i,this.Ts=((s,r)=>l=>{const a=r(),u=s();if(l===N(this.yt).Rs())return{gt:u,Ei:a};{const h=N(l.Lt());return{gt:l.Ds(a,h),Ei:a}}})(()=>this.ps,()=>this.Cs);const n=((s,r)=>()=>{const l=this.ns.Et().Is(s()),a=r();return l&&Number.isFinite(a)?{wt:l,Ei:a}:null})(()=>this.vs,()=>this.si());this.Vs=new Ug(this,e,n)}N(){return this.Ps}Bs(e,i){this.ys=e,this.ks=i}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,i,n){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,i,n)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const i=this.ns,n=i.Et();let s=null,r=null;for(const h of i.Us()){const c=h.qs().$s(e,-1);if(c){if(c.js===e)return e;(s===null||c.js>s)&&(s=c.js)}const d=h.qs().$s(e,1);if(d){if(d.js===e)return e;(r===null||d.js<r)&&(r=d.js)}}const l=[s,r].filter(ah);if(l.length===0)return e;const a=n.qt(e),u=l.map(h=>Math.abs(a-n.qt(h)));return l[u.indexOf(Math.min(...u))]}Ys(e){let i=this.bs.get(e);i||(i=new $g(this,e),this.bs.set(e,i));let n=this.Ss.get(e);return n||(n=new Bg(this.ns,this,e),this.Ss.set(e,n)),[i,n]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,i){this.ws&&this.yt===e||this.gs.clear();const n=[];return this.yt===e&&n.push(this.Zs(this.gs,i,this.Ts)),n}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach(e=>{var i,n;(i=this.bs.get(e))==null||i.kt(),(n=this.Ss.get(e))==null||n.kt()}),this.gs.forEach(e=>e.kt()),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,i,n){this.Qs(e,i,n)&&this.Ws()}Qs(e,i,n){const s=this.xs,r=this.Cs,l=this.ps,a=this.vs,u=this.yt,h=this.Js(n);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=n;const c=h!==null?h.Lt():null;return h!==null&&c!==null?(this.ps=i,this.Cs=h.Nt(i,c)):(this.ps=NaN,this.Cs=NaN),s!==this.xs||r!==this.Cs||a!==this.vs||l!==this.ps||u!==this.yt}Fs(){const e=this.ns.tn().map(n=>n.qs().sn()).filter(ah),i=e.length===0?null:Math.max(...e);this.vs=i!==null?i:NaN}Zs(e,i,n){let s=e.get(i);return s===void 0&&(s=new Dg(this,i,n),e.set(i,s)),s}}function Jr(t){return t==="left"||t==="right"}class je{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,i){const n=function(s,r){return s===void 0?r:{an:Math.max(s.an,r.an),ln:s.ln||r.ln}}(this.nn.get(e),i);this.nn.set(e,n)}_n(){return this.rn}un(e){const i=this.nn.get(e);return i===void 0?{an:this.rn}:{an:Math.max(this.rn,i.an),ln:i.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const i of e.en)this.xn(i);this.rn=Math.max(this.rn,e.rn),e.nn.forEach((i,n)=>{this.hn(n,i)})}static Cn(){return new je(2)}static yn(){return new je(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex(i=>i.fn===5);e!==-1&&this.en.splice(e,1)}}class Cf{formatTickmarks(e){return e.map(i=>this.format(i))}}const ph=".";function Et(t,e){if(!_i(t))return"n/a";if(!as(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class Gr extends Cf{constructor(e,i){if(super(),i||(i=1),_i(e)&&as(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=i,this.Pn()}format(e){const i=e<0?"":"";return e=Math.abs(e),i+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const i=this.Ki/this.kn;let n=Math.floor(e),s="";const r=this.Rn!==void 0?this.Rn:NaN;if(i>1){let l=+(Math.round(e*i)-n*i).toFixed(this.Rn);l>=i&&(l-=i,n+=1),s=ph+Et(+l.toFixed(this.Rn)*this.kn,r)}else n=Math.round(n*i)/i,r>0&&(s=ph+Et(0,r));return n.toFixed(0)+s}}class Pf extends Gr{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Hg extends Cf{constructor(e){super(),this.Dn=e}format(e){let i="";return e<0&&(i="-",e=-e),e<995?i+this.In(e):e<999995?i+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),i+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),i+this.In(e/1e9)+"B")}In(e){let i;const n=Math.pow(10,this.Dn);return i=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),i.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}const Kg=/[2-9]/g;class cs{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,i,n){return this.Nn(e,i,n).width}Di(e,i,n){const s=this.Nn(e,i,n);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}Nn(e,i,n){const s=n||Kg,r=String(i).replace(s,"0");if(this.Ln.has(r))return Ve(this.Ln.get(r)).Fn;if(this.Vn===this.zn){const a=this.An[this.En];delete this.An[this.En],this.Ln.delete(a),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const l=e.measureText(r);return e.restore(),l.width===0&&i.length||(this.Ln.set(r,{Fn:l,Wn:this.Bn}),this.An[this.Bn]=r,this.Vn++,this.Bn++),l}}class Qg{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,i,n){this.Hn=e,this.M=i,this.Un=n}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class Ef{constructor(e,i,n){this.jn=e,this.$n=new cs(50),this.Yn=i,this.O=n,this.F=-1,this.Xt=new Qg(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const i=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(i===null)return null;const n=e.Xn(i);if(n==="overlay")return null;const s=this.O.Jn();return s.k!==this.F&&(this.F=s.k,this.$n.On()),this.Xt.qn(this.jn.ji(),s,n),this.Xt}}class Yg extends Ci{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,i){var l;if(!((l=this.jt)!=null&&l.It))return null;const{ut:n,ct:s,te:r}=this.jt;return i>=n-s-7&&i<=n+s+7?{ie:this.jt,te:r}:null}et({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.jt===null||this.jt.It===!1)return;const r=Math.round(this.jt.ut*s);r<0||r>i.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*n),Si(e,this.jt.Zt),_f(e,r,0,i.width))}}class Aa{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new Yg,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class Jg extends Aa{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),i=e.ae().ae;if(i!==2&&i!==3)return;const n=this.ee.N();if(!n.baseLineVisible||!this.ee.It())return;const s=this.ee.Lt();s!==null&&(this.se.It=!0,this.se.ut=e.Nt(s.Wt,s.Wt),this.se.R=n.baseLineColor,this.se.ct=n.baseLineWidth,this.se.Zt=n.baseLineStyle)}}class Gg extends Ci{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:i,verticalPixelRatio:n}){const s=this.jt;if(s===null)return;const r=Math.max(1,Math.floor(i)),l=r%2/2,a=Math.round(s.oe.x*i)+l,u=s.oe.y*n;e.fillStyle=s._e,e.beginPath();const h=Math.max(2,1.5*s.ue)*i;e.arc(a,u,h,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.ce,e.beginPath(),e.arc(a,u,s.ft*i,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=s.de,e.beginPath(),e.arc(a,u,s.ft*i+r/2,0,2*Math.PI,!1),e.stroke()}}const Xg=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class qg{constructor(e){this.Xt=new Gg,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),i=this.Ce-e;if(i>0)return void(i<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),i=e.Ie(),n=this.ye.Lt();if(i===null||n===null)return;const s=this.ye.Ve(!0);if(s.Be||!i.Ee(s.js))return;const r={x:e.qt(s.js),y:this.ye.Ft().Nt(s.gt,n.Wt)},l=s.R,a=this.ye.N().lineWidth,u=this.Ae(this.Le(),l);this.Xt.ht({_e:l,ue:a,ce:u.ce,de:u.de,ft:u.ft,oe:r})}De(){const e=this.Xt.le();if(e!==null){const i=this.Ae(this.Le(),e._e);e.ce=i.ce,e.de=i.de,e.ft=i.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,i,n,s){const r=n+(s-n)*i;return this.ye.Qt().Xi().Y(e,r)}Ae(e,i){const n=e%2600/2600;let s;for(const h of Xg)if(n>=h.fe&&n<=h.pe){s=h;break}Me(s!==void 0,"Last price animation internal logic error");const r=(n-s.fe)/(s.pe-s.fe);return{ce:this.ze(i,r,s.we,s.ge),de:this.ze(i,r,s.Me,s.be),ft:(l=r,a=s.ve,u=s.me,a+(u-a)*l)};var l,a,u}}class Zg extends Aa{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const i=this.ee.N();if(!i.priceLineVisible||!this.ee.It())return;const n=this.ee.Ve(i.priceLineSource===0);n.Be||(e.It=!0,e.ut=n.Ei,e.R=this.ee.Oe(n.R),e.ct=i.priceLineWidth,e.Zt=i.priceLineStyle)}}class ev extends Yr{constructor(e){super(),this.Jt=e}Yi(e,i,n){e.It=!1,i.It=!1;const s=this.Jt;if(!s.It())return;const r=s.N(),l=r.lastValueVisible,a=s.Ne()!=="",u=r.seriesLastValueMode===0,h=s.Ve(!1);if(h.Be)return;l&&(e.ri=this.Fe(h,l,u),e.It=e.ri.length!==0),(a||u)&&(i.ri=this.We(h,l,a,u),i.It=i.ri.length>0);const c=s.Oe(h.R),d=this.Jt.Qt().Xi().Z(c);n.G=d.G,n.Ei=h.Ei,i.Ht=s.Qt().Ut(h.Ei/s.Ft().$t()),e.Ht=c,e.R=d.X,i.R=d.X}We(e,i,n,s){let r="";const l=this.Jt.Ne();return n&&l.length!==0&&(r+=`${l} `),i&&s&&(r+=this.Jt.Ft().He()?e.Ue:e.$e),r.trim()}Fe(e,i,n){return i?n?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function mh(t,e,i,n){const s=Number.isFinite(e),r=Number.isFinite(i);return s&&r?t(e,i):s||r?s?e:i:n}class Fe{constructor(e,i){this.qe=e,this.je=i}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Fe(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Fe(mh(Math.min,this.Ze(),e.Ze(),-1/0),mh(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!_i(e)||this.je-this.qe===0)return;const i=.5*(this.je+this.qe);let n=this.je-i,s=this.qe-i;n*=e,s*=e,this.je=i+n,this.qe=i+s}Qe(e){_i(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Fe(e.minValue,e.maxValue)}}class Pr{constructor(e,i){this.sr=e,this.nr=i||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new Pr(Fe.ir(e.priceRange),e.margins)}}const tv=[2,4,8,16,32,64,128,256,512],iv="Custom series with conflation reducer must have a priceValueBuilder method";class nv extends Aa{constructor(e,i){super(e),this.hr=i}he(){const e=this.se;e.It=!1;const i=this.hr.N();if(!this.ee.It()||!i.lineVisible)return;const n=this.hr.ar();n!==null&&(e.It=!0,e.ut=n,e.R=i.color,e.ct=i.lineWidth,e.Zt=i.lineStyle,e.te=this.hr.N().id)}}class sv extends Yr{constructor(e,i){super(),this.ye=e,this.hr=i}Yi(e,i,n){e.It=!1,i.It=!1;const s=this.hr.N(),r=s.axisLabelVisible,l=s.title!=="",a=this.ye;if(!r||!a.It())return;const u=this.hr.ar();if(u===null)return;l&&(i.ri=s.title,i.It=!0),i.Ht=a.Qt().Ut(u/a.Ft().$t()),e.ri=this.lr(s.price),e.It=!0;const h=this.ye.Qt().Xi().Z(s.axisLabelColor||s.color);n.G=h.G;const c=s.axisLabelTextColor||h.X;e.R=c,i.R=c,n.Ei=u}lr(e){const i=this.ye.Lt();return i===null?"":this.ye.Ft().Ji(e,i.Wt)}}class rv{constructor(e,i){this.ye=e,this.Ps=i,this._r=new nv(e,this),this.jn=new sv(e,this),this.ur=new Ef(this.jn,e,e.Qt())}cr(e){Je(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,i=e.Ft();if(e.Qt().Et().Gi()||i.Gi())return null;const n=e.Lt();return n===null?null:i.Nt(this.Ps.price,n.Wt)}}class lv{constructor(){this.wr=new WeakMap}gr(e,i,n){const s=1/i*n;if(e>=s)return 1;const r=s/e,l=Math.pow(2,Math.floor(Math.log2(r)));return Math.min(l,512)}Mr(e,i,n,s=!1,r){if(e.length===0||i<=1)return e;const l=this.br(i);if(l<=1)return e;const a=this.Sr(e);let u=a.Cr.get(l);return u!==void 0||(u=this.yr(e,l,n,s,r,a.Cr),a.Cr.set(l,u)),u}kr(e,i,n,s,r=!1,l){if(n<1||e.length===0)return e;const a=this.Sr(e),u=a.Cr.get(n);if(!u)return this.Mr(e,n,s,r,l);const h=this.Pr(e,i,n,u,r,s,l);return a.Cr.set(n,h),h}br(e){if(e<=2)return 2;for(const i of tv)if(e<=i)return i;return 512}Tr(e){if(e.length===0)return 0;const i=e[0],n=e[e.length-1];return 31*e.length+17*i.js+13*n.js}yr(e,i,n,s=!1,r,l=new Map){if(i===2)return this.Rr(e,2,n,s,r);const a=i/2;let u=l.get(a);return u||(u=this.yr(e,a,n,s,r,l),l.set(a,u)),this.Dr(u,n,s,r)}Rr(e,i,n,s=!1,r){const l=this.Ir(e,i,n,s,r);return this.Vr(l,s)}Dr(e,i,n=!1,s){const r=this.Ir(e,2,i,n,s);return this.Vr(r,n)}Ir(e,i,n,s=!1,r){const l=[];for(let a=0;a<e.length;a+=i)if(e.length-a>=i){const u=this.Br(e[a],e[a+1],n,s,r);u.Er=!1,l.push(u)}else if(l.length===0)l.push(this.Ar(e[a],!0));else{const u=l[l.length-1];l[l.length-1]=this.Lr(u,e[a],n,s,r)}return l}zr(e,i){return(e??1)+(i??1)}Br(e,i,n,s=!1,r){if(!s||!n||!r){const h=e.Wt[1]>i.Wt[1]?e.Wt[1]:i.Wt[1],c=e.Wt[2]<i.Wt[2]?e.Wt[2]:i.Wt[2];return{Or:e.js,Nr:i.js,Fr:e.wt,Wr:i.wt,Hr:e.Wt[0],Ur:h,$r:c,qr:i.Wt[3],jr:this.zr(e.jr,i.jr),Yr:void 0,Er:!1}}const l=n(this.Kr(e,r),this.Kr(i,r)),a=r(l),u=a.length?a[a.length-1]:0;return{Or:e.js,Nr:i.js,Fr:e.wt,Wr:i.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],u),$r:Math.min(e.Wt[2],u),qr:u,jr:this.zr(e.jr,i.jr),Yr:l,Er:!1}}Lr(e,i,n,s=!1,r){if(!s||!n||!r)return{Or:e.Or,Nr:i.js,Fr:e.Fr,Wr:i.wt,Hr:e.Hr,Ur:e.Ur>i.Wt[1]?e.Ur:i.Wt[1],$r:e.$r<i.Wt[2]?e.$r:i.Wt[2],qr:i.Wt[3],jr:e.jr+(i.jr??1),Yr:e.Yr,Er:!1};const l=e.Yr,a=this.Kr(i,r),u=l?{data:l,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:r(l)}:null,h=u?n(u,a):a.data,c=u?r(h):a.priceValues,d=c.length?c[c.length-1]:0;return{Or:e.Or,Nr:i.js,Fr:e.Fr,Wr:i.wt,Hr:e.Hr,Ur:Math.max(e.Ur,d),$r:Math.min(e.$r,d),qr:d,jr:e.jr+(i.jr??1),Yr:h,Er:!1}}Zr(e,i,n,s,r,l,a=!1,u){const h=i===s?r:e[i];if(n-i==1)return this.Ar(h,!0);const c=i+1===s?r:e[i+1];let d=this.Br(h,c,l,a,u);for(let f=i+2;f<n;f++){const m=f===s?r:e[f];d=this.Lr(d,m,l,a,u)}return d}Kr(e,i){const n=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:i(n)}}Xr(e,i=!1){const n=i===!0,s=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[n?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:n?s?e.Yr:{wt:e.Fr}:void 0}}Vr(e,i=!1){return e.map(n=>this.Xr(n,i))}Pr(e,i,n,s,r=!1,l,a){if(s.length===0)return s;const u=e.length-1,h=Math.floor(u/n)*n;if(Math.min(h+n,e.length)-h<n&&e.length>n){const c=e.slice();return c[c.length-1]=i,this.Mr(c,n,l,r,a)}if(Math.floor((u-1)/n)===Math.floor(u/n)||s.length===1){const c=Math.min(h+n,e.length),d=c-h;if(d<=0)return s;const f=d===1?this.Ar(h===u?i:e[h],!0):this.Zr(e,h,c,u,i,l,r,a);return s[s.length-1]=this.Xr(f,r),s}{const c=e.slice();return c[c.length-1]=i,this.Mr(c,n,l,r,a)}}Ar(e,i=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:i}}Sr(e){const i=this.Jr(e),n=this.Tr(e);return i.Qr!==n&&(i.Cr.clear(),i.Qr=n),i}Jr(e){let i=this.wr.get(e);return i===void 0&&(i={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,i)),i}}class ov extends bf{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const av={Bar:(t,e,i,n)=>{const s=e.upColor,r=e.downColor,l=N(t(i,n)),a=Vt(l.Wt[0])<=Vt(l.Wt[3]);return{th:l.R??(a?s:r)}},Candlestick:(t,e,i,n)=>{const s=e.upColor,r=e.downColor,l=e.borderUpColor,a=e.borderDownColor,u=e.wickUpColor,h=e.wickDownColor,c=N(t(i,n)),d=Vt(c.Wt[0])<=Vt(c.Wt[3]);return{th:c.R??(d?s:r),ih:c.Ht??(d?l:a),sh:c.nh??(d?u:h)}},Custom:(t,e,i,n)=>({th:N(t(i,n)).R??e.color}),Area:(t,e,i,n)=>{const s=N(t(i,n));return{th:s.vt??e.lineColor,vt:s.vt??e.lineColor,eh:s.eh??e.topColor,rh:s.rh??e.bottomColor}},Baseline:(t,e,i,n)=>{const s=N(t(i,n));return{th:s.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:s.hh??e.topLineColor,ah:s.ah??e.bottomLineColor,oh:s.oh??e.topFillColor1,_h:s._h??e.topFillColor2,uh:s.uh??e.bottomFillColor1,dh:s.dh??e.bottomFillColor2}},Line:(t,e,i,n)=>{const s=N(t(i,n));return{th:s.R??e.color,vt:s.R??e.color}},Histogram:(t,e,i,n)=>({th:N(t(i,n)).R??e.color})};class uv{constructor(e){this.fh=(i,n)=>n!==void 0?n.Wt:this.ye.qs().ph(i),this.ye=e,this.mh=av[e.wh()]}gh(e,i){return this.mh(this.fh,this.ye.N(),e,i)}}function Nf(t,e,i,n,s=0,r=e.length){let l=r-s;for(;0<l;){const a=l>>1,u=s+a;n(e[u],i)===t?(s=u+1,l-=a+1):l=a}return s}const un=Nf.bind(null,!0),Tf=Nf.bind(null,!1);var gh;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(gh||(gh={}));const Bt=30;class hv{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,i=0){const n=this.Th(e,i);return n===null?null:{...this.Rh(n),js:this.Ph(n)}}Dh(){return this.Mh}Ih(e,i,n){if(this.Gi())return null;let s=null;for(const r of n)s=Bs(s,this.Vh(e,i,r));return s}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map(i=>i.js)}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,i){const n=this.Eh(e);if(n===null&&i!==0)switch(i){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return n}Ah(e){let i=this.zh(e);return i>0&&(i-=1),i!==this.Mh.length&&this.Ph(i)<e?i:null}Lh(e){const i=this.Oh(e);return i!==this.Mh.length&&e<this.Ph(i)?i:null}Eh(e){const i=this.zh(e);return i===this.Mh.length||e<this.Mh[i].js?null:i}zh(e){return un(this.Mh,e,(i,n)=>i.js<n)}Oh(e){return Tf(this.Mh,e,(i,n)=>i.js>n)}Nh(e,i,n){let s=null;for(let r=e;r<i;r++){const l=this.Mh[r].Wt[n];Number.isNaN(l)||(s===null?s={Fh:l,Wh:l}:(l<s.Fh&&(s.Fh=l),l>s.Wh&&(s.Wh=l)))}return s}Vh(e,i,n){if(this.Gi())return null;let s=null;const r=N(this.kh()),l=N(this.sn()),a=Math.max(e,r),u=Math.min(i,l),h=Math.ceil(a/Bt)*Bt,c=Math.max(h,Math.floor(u/Bt)*Bt);{const f=this.zh(a),m=this.Oh(Math.min(u,h,i));s=Bs(s,this.Nh(f,m,n))}let d=this.bh.get(n);d===void 0&&(d=new Map,this.bh.set(n,d));for(let f=Math.max(h+1,a);f<c;f+=Bt){const m=Math.floor(f/Bt);let v=d.get(m);if(v===void 0){const x=this.zh(m*Bt),P=this.Oh((m+1)*Bt-1);v=this.Nh(x,P,n),d.set(m,v)}s=Bs(s,v)}{const f=this.zh(c),m=this.Oh(u);s=Bs(s,this.Nh(f,m,n))}return s}}function Bs(t,e){return t===null?e:e===null?t:{Fh:Math.min(t.Fh,e.Fh),Wh:Math.max(t.Wh,e.Wh)}}function bl(){return new hv}const Er={setLineStyle:Si};class cv{constructor(e){this.Hh=e}nt(e,i,n){this.Hh.draw(e,Er)}Uh(e,i,n){var s,r;(r=(s=this.Hh).drawBackground)==null||r.call(s,e,Er)}}class dv{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const i=new cv(e);return this.Ln={qh:e,jh:i},i}Yh(){var e,i;return((i=(e=this.$h).zOrder)==null?void 0:i.call(e))??"normal"}}class zf{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){var e,i;(i=(e=this.Zh).updateAllViews)==null||i.call(e)}Ys(){var n,s,r;const e=((s=(n=this.Zh).paneViews)==null?void 0:s.call(n))??[];if(((r=this.Kh)==null?void 0:r.qh)===e)return this.Kh.jh;const i=e.map(l=>new dv(l));return this.Kh={qh:e,jh:i},i}Qn(e,i){var n,s;return((s=(n=this.Zh).hitTest)==null?void 0:s.call(n,e,i))??null}}let fv=class extends zf{ds(){return[]}};class pv{constructor(e){this.Hh=e}nt(e,i,n){this.Hh.draw(e,Er)}Uh(e,i,n){var s,r;(r=(s=this.Hh).drawBackground)==null||r.call(s,e,Er)}}class vh{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const i=new pv(e);return this.Ln={qh:e,jh:i},i}Yh(){var e,i;return((i=(e=this.$h).zOrder)==null?void 0:i.call(e))??"normal"}}function Lf(t){var e,i,n;return{ri:t.text(),Ei:t.coordinate(),Vi:(e=t.fixedCoordinate)==null?void 0:e.call(t),R:t.textColor(),G:t.backColor(),It:((i=t.visible)==null?void 0:i.call(t))??!0,pi:((n=t.tickVisible)==null?void 0:n.call(t))??!0}}class mv{constructor(e,i){this.Xt=new kf,this.Xh=e,this.Jh=i}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...Lf(this.Xh)}),this.Xt}}class gv extends Yr{constructor(e,i){super(),this.Xh=e,this.Ki=i}Yi(e,i,n){const s=Lf(this.Xh);n.G=s.G,e.R=s.R;const r=2/12*this.Ki.k();n.Ti=r,n.Ri=r,n.Ei=s.Ei,n.Vi=s.Vi,e.ri=s.ri,e.It=s.It,e.pi=s.pi}}class vv extends zf{constructor(e,i){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=i}fs(){var s,r,l;const e=((r=(s=this.Zh).timeAxisViews)==null?void 0:r.call(s))??[];if(((l=this.Qh)==null?void 0:l.qh)===e)return this.Qh.jh;const i=this.ye.Qt().Et(),n=e.map(a=>new mv(a,i));return this.Qh={qh:e,jh:n},n}Ks(){var s,r,l;const e=((r=(s=this.Zh).priceAxisViews)==null?void 0:r.call(s))??[];if(((l=this.ta)==null?void 0:l.qh)===e)return this.ta.jh;const i=this.ye.Ft(),n=e.map(a=>new gv(a,i));return this.ta={qh:e,jh:n},n}na(){var n,s,r;const e=((s=(n=this.Zh).priceAxisPaneViews)==null?void 0:s.call(n))??[];if(((r=this.ia)==null?void 0:r.qh)===e)return this.ia.jh;const i=e.map(l=>new vh(l));return this.ia={qh:e,jh:i},i}ea(){var n,s,r;const e=((s=(n=this.Zh).timeAxisPaneViews)==null?void 0:s.call(n))??[];if(((r=this.sa)==null?void 0:r.qh)===e)return this.sa.jh;const i=e.map(l=>new vh(l));return this.sa={qh:e,jh:i},i}ra(e,i){var n,s;return((s=(n=this.Zh).autoscaleInfo)==null?void 0:s.call(n,e,i))??null}}function Cl(t,e,i,n){t.forEach(s=>{e(s).forEach(r=>{r.Yh()===i&&n.push(r)})})}function Pl(t){return t.Ys()}function yv(t){return t.na()}function xv(t){return t.ea()}const wv=["Area","Line","Baseline"];class Xr extends ov{constructor(e,i,n,s,r){super(e),this.jt=bl(),this._r=new Zg(this),this.ha=[],this.aa=new Jg(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new lv,this.da=new Map,this.fa=null,this.Ps=n,this.pa=i;const l=new ev(this);if(this.gs=[l],this.ur=new Ef(l,this,e),wv.includes(this.pa)&&(this.la=new qg(this)),this.va(),this.$h=s(this,this.Qt(),r),this.pa==="Custom"){const a=this.$h;a.ma&&this.wa(a.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const i={Be:!0},n=this.Ft();if(this.Qt().Et().Gi()||n.Gi()||this.jt.Gi())return i;const s=this.Qt().Et().Ie(),r=this.Lt();if(s===null||r===null)return i;let l,a;if(e){const d=this.jt.Ch();if(d===null)return i;l=d,a=d.js}else{const d=this.jt.$s(s.bi(),-1);if(d===null||(l=this.jt.ph(d.js),l===null))return i;a=d.js}const u=l.Wt[3],h=this.ga().gh(a,{Wt:l}),c=n.Nt(u,r.Wt);return{Be:!1,gt:u,ri:n.Ji(u,r.Wt),Ue:n.Ma(u),$e:n.ba(u,r.Wt),R:h.th,Ei:c,js:a}}ga(){return this.oa!==null||(this.oa=new uv(this)),this.oa}N(){return this.Ps}cr(e){const i=this.Qt(),{priceScaleId:n,visible:s,priceFormat:r}=e;n!==void 0&&n!==this.Ps.priceScaleId&&i.Sa(this,n),s!==void 0&&s!==this.Ps.visible&&i.xa();const l=e.conflationThresholdFactor!==void 0;Je(this.Ps,e),l&&(this.da.clear(),this.Qt().dr()),r!==void 0&&(this.va(),i.Ca()),i.ya(this),i.ka(),this.$h.kt("options")}ht(e,i){this.jt.ht(e),this.da.clear();const n=this.Qt().Et().N();n.enableConflation&&n.precomputeConflationOnInit&&this.Pa(n.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(i&&i.Ta?this.la.Pe():e.length===0&&this.la.ke());const s=this.Qt().Kn(this);this.Qt().Ra(s),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const i=new rv(this,e);return this.ha.push(i),this.Qt().ya(this),i}Ia(e){const i=this.ha.indexOf(e);i!==-1&&this.ha.splice(i,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const i=e.Aa();return this.jt.$s(i,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const i=this.za();if(!this.da.has(i))return;const n=this.pa==="Custom",s=n&&this.fa||void 0,r=n&&this.$h.Oa?u=>{const h=u,c=this.$h.Oa(h);return Array.isArray(c)?c:[typeof c=="number"?c:0]}:void 0,l=this.ca.kr(this.jt.Dh(),e,i,s,n,r),a=bl();a.ht(l),this.da.set(i,a)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const i=this.za(),n=this.da.get(i);return n||(this.Fa(i),this.da.get(i)??this.jt)}Wa(e){const i=this.jt.ph(e);return i===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:i.Wt[0],Ur:i.Wt[1],$r:i.Wt[2],qr:i.Wt[3]}:i.Wt[3]}Ha(e){const i=[];Cl(this.ua,Pl,"top",i);const n=this.la;return n!==null&&n.It()&&(this._a===null&&n.Re()&&(this._a=setTimeout(()=>{this._a=null,this.Qt().Ua()},0)),n.Te(),i.unshift(n)),i}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const i=this.ha.map(n=>n.pr());return e.push(...i),Cl(this.ua,Pl,"normal",e),e}qa(){return this.ja(Pl,"bottom")}Ya(e){return this.ja(yv,e)}Ka(e){return this.ja(xv,e)}Za(e,i){return this.ua.map(n=>n.Qn(e,i)).filter(n=>n!==null)}ds(){return[this.ur,...this.ha.map(e=>e.vr())]}Ks(e,i){if(i!==this.hs&&!this.$a())return[];const n=[...this.gs];for(const s of this.ha)n.push(s.mr());return this.ua.forEach(s=>{n.push(...s.Ks())}),n}fs(){const e=[];return this.ua.forEach(i=>{e.push(...i.fs())}),e}ra(e,i){if(this.Ps.autoscaleInfoProvider!==void 0){const n=this.Ps.autoscaleInfoProvider(()=>{const s=this.Ga(e,i);return s===null?null:s.tr()});return Pr.ir(n)}return this.Ga(e,i)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){var e;this.$h.kt();for(const i of this.gs)i.kt();for(const i of this.ha)i.kt();this._r.kt(),this.aa.kt(),(e=this.la)==null||e.kt(),this.ua.forEach(i=>i.Ws())}Ft(){return N(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const i=this.jt.ph(e);return i===null?null:{gt:i.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new vv(e,this))}el(e){this.ua=this.ua.filter(i=>i.Gh()!==e)}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!Jr(this.Ft().ol())}Ga(e,i){if(!as(e)||!as(i)||this.jt.Gi())return null;const n=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],s=this.jt.Ih(e,i,n);let r=s!==null?new Fe(s.Fh,s.Wh):null,l=null;if(this.wh()==="Histogram"){const a=this.Ps.base,u=new Fe(a,a);r=r!==null?r.Sn(u):u}return this.ua.forEach(a=>{const u=a.ra(e,i);if(u!=null&&u.priceRange){const h=new Fe(u.priceRange.minValue,u.priceRange.maxValue);r=r!==null?r.Sn(h):h}u!=null&&u.margins&&(l=u.margins)}),new Pr(r,l)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const i=this.Ps.crosshairMarkerBackgroundColor;if(i.length!==0)return i}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(i=>i.map(e))};break}case"volume":this.Ja=new Hg(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new Pf(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new Gr(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,i){const n=[];return Cl(this.ua,e,i,n),n}za(){const{ul:e,cl:i,dl:n}=this.fl();return this.ca.gr(e,i,n)}fl(){const e=this.Qt().Et(),i=e.ul(),n=window.devicePixelRatio||1,s=e.N().conflationThresholdFactor;return{ul:i,cl:n,dl:this.Ps.conflationThresholdFactor??s??1}}pl(e){const i=this.jt.Dh();let n;if(this.pa==="Custom"&&this.fa!==null){const r=this.rl();if(!r)throw new Error(iv);n=this.ca.Mr(i,e,this.fa,!0,l=>r(l))}else n=this.ca.Mr(i,e);const s=bl();return s.ht(n),s}Fa(e){const i=this.pl(e);this.da.set(e,i)}Pa(e){var n;if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const i=this.Qt().Et().vl();for(const s of i){const r=()=>{this.ml(s)},l=typeof window=="object"&&window||typeof self=="object"&&self;(n=l==null?void 0:l.gl)!=null&&n.wl?l.gl.wl(()=>{r()},{Ml:e}):Promise.resolve().then(()=>r())}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const i=this.pl(e);this.da.set(e,i)}}const Sv=[3],_v=[0,1,2,3];class jv{constructor(e){this.Ps=e}bl(e,i,n){let s=e;if(this.Ps.mode===0)return s;const r=n.Rs(),l=r.Lt();if(l===null)return s;const a=r.Nt(e,l),u=n.Sl().filter(c=>c instanceof Xr).reduce((c,d)=>{if(n.Zn(d)||!d.It())return c;const f=d.Ft(),m=d.qs();if(f.Gi()||!m.Ee(i))return c;const v=m.ph(i);if(v===null)return c;const x=Vt(d.Lt()),P=this.Ps.mode===3?_v:Sv;return c.concat(P.map(g=>f.Nt(v.Wt[g],x.Wt)))},[]);if(u.length===0)return s;u.sort((c,d)=>Math.abs(c-a)-Math.abs(d-a));const h=u[0];return s=r.Ds(h,l),s}}function Dn(t,e,i){return Math.min(Math.max(t,e),i)}function As(t,e,i){return e-t<=i}function $a(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Mv extends Ci{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.jt===null)return;const r=Math.max(1,Math.floor(n));e.lineWidth=r,function(l,a){l.save(),l.lineWidth%2&&l.translate(.5,.5),a(),l.restore()}(e,()=>{const l=N(this.jt);if(l.xl){e.strokeStyle=l.Cl,Si(e,l.yl),e.beginPath();for(const a of l.kl){const u=Math.round(a.Pl*n);e.moveTo(u,-r),e.lineTo(u,i.height+r)}e.stroke()}if(l.Tl){e.strokeStyle=l.Rl,Si(e,l.Dl),e.beginPath();for(const a of l.Il){const u=Math.round(a.Pl*s);e.moveTo(-r,u),e.lineTo(i.width+r,u)}e.stroke()}})}}class kv{constructor(e){this.Xt=new Mv,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,i={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map(n=>({Pl:n.coord}))};this.Xt.ht(i),this.xt=!1}return this.Xt}}class bv{constructor(e){this.$h=new kv(e)}pr(){return this.$h}}const El={Bl:4,El:1e-4};function Hi(t,e){const i=100*(t-e)/e;return e<0?-i:i}function Cv(t,e){const i=Hi(t.Ze(),e),n=Hi(t.Ge(),e);return new Fe(i,n)}function Wn(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function Pv(t,e){const i=Wn(t.Ze(),e),n=Wn(t.Ge(),e);return new Fe(i,n)}function Nr(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.El)+e.Bl;return t<0?-n:n}function Un(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.Bl)-e.El;return t<0?-n:n}function bn(t,e){if(t===null)return null;const i=Nr(t.Ze(),e),n=Nr(t.Ge(),e);return new Fe(i,n)}function Ki(t,e){if(t===null)return null;const i=Un(t.Ze(),e),n=Un(t.Ge(),e);return new Fe(i,n)}function Nl(t){if(t===null)return El;const e=Math.abs(t.Ge()-t.Ze());if(e>=1||e<1e-15)return El;const i=Math.ceil(Math.abs(Math.log10(e))),n=El.Bl+i;return{Bl:n,El:1/Math.pow(10,n)}}class Tl{constructor(e,i){if(this.Al=e,this.Ll=i,function(n){if(n<0)return!1;if(n>1e18)return!0;for(let s=n;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let n=this.Al;n!==1;){if(n%2==0)this.zl.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),n/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,i,n){const s=this.Al===0?0:1/this.Al;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-i)))),l=0,a=this.Ll[0];for(;;){const d=As(r,s,1e-14)&&r>s+1e-14,f=As(r,n*a,1e-14),m=As(r,1,1e-14);if(!(d&&f&&m))break;r/=a,a=this.Ll[++l%this.Ll.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.zl.length>0&&(u=r,h=1,c=1e-14,Math.abs(u-h)<c))for(l=0,a=this.zl[0];As(r,n*a,1e-14)&&r>s+1e-14;)r/=a,a=this.zl[++l%this.zl.length];var u,h,c;return r}}class yh{constructor(e,i,n,s){this.Nl=[],this.Ki=e,this.Al=i,this.Fl=n,this.Wl=s}Ol(e,i){if(e<i)throw new Error("high < low");const n=this.Ki.$t(),s=(e-i)*this.Hl()/n,r=new Tl(this.Al,[2,2.5,2]),l=new Tl(this.Al,[2,2,2.5]),a=new Tl(this.Al,[2.5,2,2]),u=[];return u.push(r.Ol(e,i,s),l.Ol(e,i,s),a.Ol(e,i,s)),function(h){if(h.length<1)throw Error("array is empty");let c=h[0];for(let d=1;d<h.length;++d)h[d]<c&&(c=h[d]);return c}(u)}Ul(){const e=this.Ki,i=e.Lt();if(i===null)return void(this.Nl=[]);const n=e.$t(),s=this.Fl(n-1,i),r=this.Fl(0,i),l=this.Ki.N().entireTextOnly?this.$l()/2:0,a=l,u=n-1-l,h=Math.max(s,r),c=Math.min(s,r);if(h===c)return void(this.Nl=[]);const d=this.Ol(h,c);if(this.ql(i,d,h,c,a,u),e.jl()&&this.Yl(d,c,h)){const v=this.Ki.Kl();this.Zl(i,d,a,u,v,2*v)}const f=this.Nl.map(v=>v.Gl),m=this.Ki.Xl(f);for(let v=0;v<this.Nl.length;v++)this.Nl[v].Jl=m[v]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,i,n,s,r,l){const a=this.Nl,u=this.Ki;let h=n%i;h+=h<0?i:0;const c=n>=s?1:-1;let d=null,f=0;for(let m=n-h;m>s;m-=i){const v=this.Wl(m,e,!0);d!==null&&Math.abs(v-d)<this.Hl()||v<r||v>l||(f<a.length?(a[f].Pl=v,a[f].Jl=u.Ql(m),a[f].Gl=m):a.push({Pl:v,Jl:u.Ql(m),Gl:m}),f++,d=v,u.io()&&(i=this.Ol(m*c,s)))}a.length=f}Zl(e,i,n,s,r,l){const a=this.Nl,u=this.so(e,n,r,l),h=this.so(e,s,-l,-r),c=this.Wl(0,e,!0)-this.Wl(i,e,!0);a.length>0&&a[0].Pl-u.Pl<c/2&&a.shift(),a.length>0&&h.Pl-a[a.length-1].Pl<c/2&&a.pop(),a.unshift(u),a.push(h)}so(e,i,n,s){const r=(n+s)/2,l=this.Fl(i+n,e),a=this.Fl(i+s,e),u=Math.min(l,a),h=Math.max(l,a),c=Math.max(.1,this.Ol(h,u)),d=this.Fl(i+r,e),f=d-d%c,m=this.Wl(f,e,!0);return{Jl:this.Ki.Ql(f),Pl:m,Gl:f}}Yl(e,i,n){let s=Vt(this.Ki.er());return this.Ki.io()&&(s=Ki(s,this.Ki.no())),s.Ze()-i<e&&n-s.Ge()<e}}function Rf(t){return t.slice().sort((e,i)=>N(e._s())-N(i._s()))}var xh;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(xh||(xh={}));const wh=new Pf,Sh=new Gr(100,1);class Ev{constructor(e,i,n,s,r){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new pe,this.fo=new pe,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=Sh,this.So=Nl(null),this.xo=e,this.Ps=i,this.Co=n,this.yo=s,this.ko=r,this.Po=new yh(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(Je(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const i=Ve(e.scaleMargins.top),n=Ve(e.scaleMargins.bottom);if(i<0||i>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${i}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(i+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${i+n}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const i=this.ae();let n=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),i.ae===1&&e.ae!==i.ae&&(function(r,l){if(r===null)return!1;const a=Un(r.Ze(),l),u=Un(r.Ge(),l);return isFinite(a)&&isFinite(u)}(this.sr,this.So)?(n=Ki(this.sr,this.So),n!==null&&this.Lo(n)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==i.ae&&(n=bn(this.sr,this.So),n!==null&&this.Lo(n));const s=i.ae!==this.Ps.mode;s&&(i.ae===2||this.He())&&this._l(),s&&(i.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&i.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(i,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,i){const n=this.sr;(i||n===null&&e!==null||n!==null&&!n.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,i){return this.He()?e=Hi(e,i):this.Eo()&&(e=Wn(e,i)),this.Ro(e,i)}Yo(e,i,n){this.Uo();const s=this.Ho(),r=N(this.er()),l=r.Ze(),a=r.Ge(),u=this.Fo()-1,h=this.Ao(),c=u/(a-l),d=n===void 0?0:n.from,f=n===void 0?e.length:n.to,m=this.Ko();for(let v=d;v<f;v++){const x=e[v],P=x.gt;if(isNaN(P))continue;let g=P;m!==null&&(g=m(x.gt,i));const p=s+c*(g-l),y=h?p:this.eo-1-p;x.ut=y}}Zo(e,i,n){this.Uo();const s=this.Ho(),r=N(this.er()),l=r.Ze(),a=r.Ge(),u=this.Fo()-1,h=this.Ao(),c=u/(a-l),d=n===void 0?0:n.from,f=n===void 0?e.length:n.to,m=this.Ko();for(let v=d;v<f;v++){const x=e[v];let P=x.Hr,g=x.Ur,p=x.$r,y=x.qr;m!==null&&(P=m(x.Hr,i),g=m(x.Ur,i),p=m(x.$r,i),y=m(x.qr,i));let S=s+c*(P-l),M=h?S:this.eo-1-S;x.Go=M,S=s+c*(g-l),M=h?S:this.eo-1-S,x.Xo=M,S=s+c*(p-l),M=h?S:this.eo-1-S,x.Jo=M,S=s+c*(y-l),M=h?S:this.eo-1-S,x.Qo=M}}Ds(e,i){const n=this.To(e,i);return this.t_(n,i)}t_(e,i){let n=e;return this.He()?n=function(s,r){return r<0&&(s=-s),s/100*r+r}(n,i):this.Eo()&&(n=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(n,i)),n}Sl(){return this.po}Dt(){return this.mo||(this.mo=Rf(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const i=this.po.indexOf(e);if(i===-1)throw new Error("source is not attached to scale");this.po.splice(i,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const i of this.po){const n=i.Lt();n!==null&&(e===null||n.Ea<e.Ea)&&(e=n)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const i=this.Po.Vl();return this.wo={Vl:i,e_:e},this.do.p(),i}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=N(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let i=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const n=N(this.ho).Ke();i=Math.max(i,.1),n.Je(i),this.Lo(n)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=N(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const i=N(this.er()).Xe()/(this.Fo()-1);let n=e-this.bo;this.Ao()&&(n*=-1);const s=n*i,r=N(this.ho).Ke();r.Qe(s),this.Lo(r,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,i){switch(this.Ps.mode){case 2:return this.c_(Hi(e,i));case 3:return this.Xa().format(Wn(e,i));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,N(this.vo).Xa())}ba(e,i){return e=Hi(e,i),this.c_(e,wh)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach(e=>e.Ws())}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const n of this.po)n._s()<e&&(e=n._s(),this.vo=n);let i=100;this.vo!==null&&(i=Math.round(this.vo.qh())),this.Ja=Sh,this.He()?(this.Ja=wh,i=100):this.Eo()?(this.Ja=new Gr(100,1),i=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new yh(this,i,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,i){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?Nr(e,this.So):e;const n=N(this.er()),s=this.Ho()+(this.Fo()-1)*(e-n.Ze())/n.Xe();return this.jo(s)}To(e,i){if(this.Uo(),this.Gi())return 0;const n=this.jo(e),s=N(this.er()),r=s.Ze()+s.Xe()*((n-this.Ho())/(this.Fo()-1));return this.io()?Un(r,this.So):r}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let i=null;const n=this.p_();let s=0,r=0;for(const u of n){if(!u.It())continue;const h=u.Lt();if(h===null)continue;const c=u.ra(e.Aa(),e.bi());let d=c&&c.er();if(d!==null){switch(this.Ps.mode){case 1:d=bn(d,this.So);break;case 2:d=Cv(d,h.Wt);break;case 3:d=Pv(d,h.Wt)}if(i=i===null?d:i.Sn(N(d)),c!==null){const f=c.rr();f!==null&&(s=Math.max(s,f.above),r=Math.max(r,f.below))}}}if(this.jl()&&(s=Math.max(s,this.Kl()),r=Math.max(r,this.Kl())),s===this.uo&&r===this.co||(this.uo=s,this.co=r,this.wo=null,this.Io()),i!==null){if(i.Ze()===i.Ge()){const u=5*this.m_();this.io()&&(i=Ki(i,this.So)),i=new Fe(i.Ze()-u,i.Ge()+u),this.io()&&(i=bn(i,this.So))}if(this.io()){const u=Ki(i,this.So),h=Nl(u);if(l=h,a=this.So,l.Bl!==a.Bl||l.El!==a.El){const c=this.ho!==null?Ki(this.ho,this.So):null;this.So=h,i=bn(u,h),c!==null&&(this.ho=bn(c,h))}}this.Lo(i)}else this.sr===null&&(this.Lo(new Fe(-.5,.5)),this.So=Nl(null));var l,a}Ko(){return this.He()?Hi:this.Eo()?Wn:this.io()?e=>Nr(e,this.So):null}g_(e,i,n){return i===void 0?(n===void 0&&(n=this.Xa()),n.format(e)):i(e)}M_(e,i,n){return i===void 0?(n===void 0&&(n=this.Xa()),n.formatTickmarks(e)):i(e)}lr(e,i){return this.g_(e,this.yo.priceFormatter,i)}f_(e,i){const n=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(n?s=>s.map(n):void 0),i)}c_(e,i){return this.g_(e,this.yo.percentageFormatter,i)}d_(e,i){const n=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(n?s=>s.map(n):void 0),i)}}function _h(t){return t instanceof Xr}class jh{constructor(e,i){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new pe,this.ua=[],this.Jh=e,this.ns=i,this.k_=new bv(this);const n=i.N();this.P_=this.T_("left",n.leftPriceScale),this.R_=this.T_("right",n.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(n)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const i=Array.from(this.b_.values());for(const n of i){const s=N(n[0].Ft());s.cr(e.overlayPriceScales),e.localization&&s._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?Ve(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach(e=>{e.m&&e.m()}),this.ua=this.ua.filter(e=>{const i=e.Gh();return i.detached&&i.detached(),!1}),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach(i=>{if(this.Zn(i)){const n=i.Ft();n!==null&&n.No(e)}}),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(_h)}Sl(){return this.po}Zn(e){const i=e.Ft();return i===null||this.P_!==i&&this.R_!==i}i_(e,i,n){this.W_(e,i,n?e._s():this.po.length)}n_(e,i){const n=this.po.indexOf(e);Me(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1),i||this.po.forEach((l,a)=>l.us(a));const s=N(e.Ft()).ol();if(this.b_.has(s)){const l=Ve(this.b_.get(s)),a=l.indexOf(e);a!==-1&&(l.splice(a,1),l.length===0&&this.b_.delete(s))}const r=e.Ft();r&&r.Sl().indexOf(e)>=0&&(r.n_(e),this.H_(r)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,i){e.h_(i)}Y_(e,i){e.a_(i),this.z_()}K_(e){e.l_()}Z_(e,i){e.o_(i)}G_(e,i){e.__(i),this.z_()}X_(e){e.u_()}z_(){this.po.forEach(e=>{e.Ws()})}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const i=this.Jh.Ie();e.Do({ln:!0}),i!==null&&e.v_(i),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach(e=>{this.Zn(e)&&this.H_(e.Ft())}),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=Rf(this.po)),this.mo}su(e,i){i=Dn(i,0,this.po.length-1);const n=this.po.indexOf(e);Me(n!==-1,"setSeriesOrder: invalid data source"),this.po.splice(n,1),this.po.splice(i,0,e),this.po.forEach((s,r)=>s.us(r)),this.mo=null;for(const s of[this.P_,this.R_])s.s_(),s._l();this.ns.dr()}Vt(){return this.Dt().filter(_h)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new fv(e))}el(e){this.ua=this.ua.filter(i=>i.Gh()!==e),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,i){return this.ua.map(n=>n.Qn(e,i)).filter(n=>n!==null)}J_(e){const i=e.p_();if(i&&i.length>0&&!this.Jh.Gi()){const n=this.Jh.Ie();n!==null&&e.v_(n)}e.Ws()}W_(e,i,n){let s=this.V_(i);if(s===null&&(s=this.T_(i,this.ns.N().overlayPriceScales)),this.po.splice(n,0,e),!Jr(i)){const r=this.b_.get(i)||[];r.push(e),this.b_.set(i,r)}e.us(n),s.i_(e),e.cs(s),this.H_(s),this.mo=null}D_(e,i,n){i.ae!==n.ae&&this.J_(e)}T_(e,i){const n={visible:!0,autoScale:!0,...Pt(i)},s=new Ev(e,n,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return s.No(this.$t()),s}}function $s(t){return{hu:t.hu,au:{te:t.lu.externalId},ou:t.lu.cursorStyle}}function Nv(t,e,i,n){for(const s of t){const r=s.Tt(n);if(r!==null&&r.Qn){const l=r.Qn(e,i);if(l!==null)return{_u:s,au:l}}}return null}function Tv(t){return t.Ys!==void 0}function If(t,e,i){const n=[t,...t.Dt()],s=function(r,l,a){var f;let u,h;for(const m of r){const v=((f=m.Za)==null?void 0:f.call(m,l,a))??[];for(const x of v)c=x.zOrder,d=u==null?void 0:u.zOrder,(!d||c==="top"&&d!=="top"||c==="normal"&&d==="bottom")&&(u=x,h=m)}var c,d;return u&&h?{lu:u,hu:h}:null}(n,e,i);if((s==null?void 0:s.lu.zOrder)==="top")return $s(s);for(const r of n){if(s&&s.hu===r&&s.lu.zOrder!=="bottom"&&!s.lu.isBackground)return $s(s);if(Tv(r)){const l=Nv(r.Ys(t),e,i,t);if(l!==null)return{hu:r,_u:l._u,au:l.au}}if(s&&s.hu===r&&s.lu.zOrder!=="bottom"&&s.lu.isBackground)return $s(s)}return s!=null&&s.lu?$s(s):null}class zv{constructor(e,i,n=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=i,this.zn=n}du(e){const i=e.time,n=this.cu.cacheKey(i),s=this.Ln.get(n);if(s!==void 0)return s.fu;if(this.Vn===this.zn){const l=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(Ve(l)),this.En++,this.Vn--}const r=this.uu(e);return this.Ln.set(n,{fu:r,Wn:this.Bn}),this.An.set(this.Bn,n),this.Vn++,this.Bn++,r}}class Zi{constructor(e,i){Me(e<=i,"right should be >= left"),this.pu=e,this.vu=i}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function Mh(t,e){return t===null||e===null?t===e:t.Ye(e)}class Lv{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,i){this.Su(i),this.Ln=null;for(let n=i;n<e.length;++n){const s=e[n];let r=this.wu.get(s.timeWeight);r===void 0&&(r=[],this.wu.set(s.timeWeight,r)),r.push({index:n,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}xu(e,i,n,s,r){const l=Math.ceil(i/e);return this.Ln!==null&&this.Ln.Cu===l&&r===this.Ln.yu&&n===this.Ln.ku||(this.Ln={yu:r,ku:n,Vl:this.Pu(l,n,s),Cu:l}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const i=[];this.wu.forEach((n,s)=>{e<=n[0].index?i.push(s):n.splice(un(n,e,r=>r.index<e),1/0)});for(const n of i)this.wu.delete(n)}Pu(e,i,n){let s=[];const r=l=>!i||n.has(l.index);for(const l of Array.from(this.wu.keys()).sort((a,u)=>u-a)){if(!this.wu.get(l))continue;const a=s;s=[];const u=a.length;let h=0;const c=Ve(this.wu.get(l)),d=c.length;let f=1/0,m=-1/0;for(let v=0;v<d;v++){const x=c[v],P=x.index;for(;h<u;){const g=a[h],p=g.index;if(!(p<P&&r(g))){f=p;break}h++,s.push(g),m=p,f=1/0}if(f-P>=e&&P-m>=e&&r(x))s.push(x),m=P;else if(this.gu)return a}for(;h<u;h++)r(a[h])&&s.push(a[h])}return s}}class en{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new Zi(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new en(null)}}function Rv(t,e){return t.weight>e.weight?t:e}class Iv{constructor(e,i,n,s){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new Lv,this.Au=new Map,this.Lu=en.Iu(),this.zu=!0,this.Ou=new pe,this.Nu=new pe,this.Fu=new pe,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=i,this.yo=n,this.Yu=i.rightOffset,this.Ku=i.barSpacing,this.ns=e,this.Zu(i),this.cu=s,this.Gu(),this.Eu.Mu(i.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){Je(this.yo,e),this.tc(),this.Gu()}cr(e,i){Je(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){var i;return((i=this.Bu[e])==null?void 0:i.time)??null}es(e){return this.Bu[e]??null}ec(e,i){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return i?this.Bu.length-1:null;const n=un(this.Bu,this.cu.key(e),(s,r)=>this.cu.key(s.time)<r);return this.cu.key(e)<this.cu.key(this.Bu[n].time)?i?n:null:n}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const i={from:e.Aa(),to:e.bi()};return this.oc(i)}oc(e){const i=Math.round(e.from),n=Math.round(e.to),s=N(this._c()),r=N(this.uc());return{from:N(this.es(Math.max(s,i))),to:N(this.es(Math.min(r,n)))}}cc(e){return{from:N(this.ec(e.from,!0)),to:N(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const i=this.ac(),n=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&n!==0){const s=this.Ku*e/n;this.Ku=s}if(this.Ps.fixLeftEdge&&i!==null&&i.Aa()<=0){const s=n-e;this.Yu-=Math.round(s/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!as(e))return 0;const i=this.vc()+this.Yu-e;return this.S_-(i+.5)*this.Ku-1}mc(e,i){const n=this.vc(),s=i===void 0?0:i.from,r=i===void 0?e.length:i.to;for(let l=s;l<r;l++){const a=e[l].wt,u=n+this.Yu-a,h=this.S_-(u+.5)*this.Ku-1;e[l]._t=h}}wc(e,i){const n=Math.ceil(this.gc(e));return i&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(n)?this.bc(n):n}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const i=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&i!==0){const n=this.Yu*i/this.Ku;this.Yu=n}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,i=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(i/e),s=N(this.Ie()),r=Math.max(s.Aa(),s.Aa()-n),l=Math.max(s.bi(),s.bi()-n),a=this.Eu.xu(e,i,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),u=this._c()+n,h=this.uc()-n,c=this.yc(),d=this.Ps.fixLeftEdge||c,f=this.Ps.fixRightEdge||c;let m=0;for(const v of a){if(!(r<=v.index&&v.index<=l))continue;let x;m<this.qu.length?(x=this.qu[m],x.coord=this.qt(v.index),x.label=this.kc(v),x.weight=v.weight):(x={needAlignCoordinate:!1,coord:this.qt(v.index),label:this.kc(v),weight:v.weight},this.qu.push(x)),this.Ku>i/2&&!c?x.needAlignCoordinate=!1:x.needAlignCoordinate=d&&v.index<=u||f&&v.index>=h,m++}return this.qu.length=m,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,i){const n=this.gc(e),s=this.ul(),r=s+i*(s/10);this.gn(r),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(n-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const i=Dn(this.S_-e,0,this.S_),n=Dn(this.S_-N(this.Mo),0,this.S_);i!==0&&n!==0&&this.gn(this.Wu.ul*i/n)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const i=(this.bo-e)/this.ul();this.Yu=N(this.Wu).Cc+i,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,i=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.Yu,s=performance.now();this.ns.vn({Ec:r=>(r-s)/i>=1,Ac:r=>{const l=(r-s)/i;return l>=1?e:n+(e-n)*l}})}kt(e,i){this.zu=!0,this.Bu=e,this.Eu.bu(e,i),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,i){const n=e.mu(),s=i&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-s)/n),this.Yu=e.bi()-this.vc(),i&&(this.Yu=s?s/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),i=this.uc();if(e===null||i===null)return;const n=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new Zi(e,i+n),!0)}Wc(e){const i=new Zi(e.from,e.to);this.Nc(i)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const i of e)for(const n of i.ll())this.Uu.set(n,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),i=this.Ps.minBarSpacing;if(i>=e)return[1];const n=[1];let s=2;for(;s<=512;)i<e/s&&n.push(s),s*=2;return n}yc(){const e=this.ns.N().handleScroll,i=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||i.axisDoubleClickReset.time||i.axisPressedMouseMove.time||i.mouseWheel||i.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const i=this.Uc(e),n=this.vc()+this.Yu-i;return Math.round(1e6*n)/1e6}xc(e){const i=this.Ku;this.Ku=e,this.dc(),i!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(en.Iu());const e=this.vc(),i=this.S_/this.Ku,n=this.Yu+e,s=new Zi(n-i+1,n);this.qc(new en(s))}dc(){const e=Dn(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const i=e/this.Ku,n=Math.pow(2,Math.floor(Math.log2(i)));this.ju=Math.min(n,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const i=this.Zc();this.Yu>i&&(this.Yu=i,this.zu=!0)}Kc(){const e=this._c(),i=this.Vu;return e===null||i===null?null:e-i-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let i=this.Au.get(e.weight);return i===void 0&&(i=new zv(n=>this.Gc(n),this.cu),this.Au.set(e.weight,i)),i.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const i=this.Lu;this.Lu=e,Mh(i.Ru(),this.Lu.Ru())||this.Ou.p(),Mh(i.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const i=this.Ie();if(i===null)return;const n=i.Aa()-e;if(n<0){const s=this.Yu-n-1;this.Mn(s)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const i=function*(s){const r=Math.round(s),l=r<s;let a=1;for(;;)l?(yield r+a,yield r-a):(yield r-a,yield r+a),a++}(e),n=this.uc();for(;n;){const s=i.next().value;if(this.Uu.get(s))return s;if(s<0||s>n)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const i=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(i)}}}var kh,bh,Ch,Ph,Eh;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(kh||(kh={}));class Fv{constructor(e,i,n){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new pe,this.nd=new pe,this.ed=null,this.rd=e,this.Ps=i,this.cu=n,this.ko=new zg(this.Ps.layout.colorParsers),this.hd=new Tg(this),this.Jh=new Iv(this,i.timeScale,this.Ps.localization,n),this.Ct=new Vg(this,i.crosshair),this.ad=new jv(i.crosshair),i.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(je.yn())}dr(){this.dd(je.Cn())}Ua(){this.dd(new je(1))}ya(e){const i=this.fd(e);this.dd(i)}pd(){return this.td}vd(e){var n,s,r,l;if(((n=this.td)==null?void 0:n.hu)===(e==null?void 0:e.hu)&&((r=(s=this.td)==null?void 0:s.au)==null?void 0:r.te)===((l=e==null?void 0:e.au)==null?void 0:l.te))return;const i=this.td;this.td=e,i!==null&&this.ya(i.hu),e!==null&&e.hu!==(i==null?void 0:i.hu)&&this.ya(e.hu)}N(){return this.Ps}cr(e){Je(this.Ps,e),this.Xc.forEach(i=>i.I_(e)),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,i,n=0){const s=this.Xc[n];if(s===void 0)return;if(e==="left")return Je(this.Ps,{leftPriceScale:i}),s.I_({leftPriceScale:i}),this.sd.p(),void this.Ca();if(e==="right")return Je(this.Ps,{rightPriceScale:i}),s.I_({rightPriceScale:i}),this.sd.p(),void this.Ca();const r=this.wd(e,n);r!==null&&(r.Ft.cr(i),this.sd.p())}wd(e,i){const n=this.Xc[i];if(n===void 0)return null;const s=n.V_(e);return s!==null?{Gs:n,Ft:s}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,i){e.No(i),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach(i=>i.L_(e)),this.Sc()}Sd(e){this.Xc.length!==1&&(Me(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,i){if(this.Xc.length<2)return;Me(e>=0&&e<this.Xc.length,"Invalid pane index");const n=this.Xc[e],s=this.Xc.reduce((d,f)=>d+f.E_(),0),r=this.Xc.reduce((d,f)=>d+f.$t(),0),l=r-30*(this.Xc.length-1);i=Math.min(l,Math.max(30,i));const a=s/r,u=n.$t();n.A_(i*a);let h=i-u,c=this.Xc.length-1;for(const d of this.Xc)if(d!==n){const f=Math.min(l,Math.max(30,d.$t()-h/c));h-=d.$t()-f,c-=1;const m=f*a;d.A_(m)}this.Ca()}Cd(e,i){Me(e>=0&&e<this.Xc.length&&i>=0&&i<this.Xc.length,"Invalid pane index");const n=this.Xc[e],s=this.Xc[i];this.Xc[e]=s,this.Xc[i]=n,this.Ca()}yd(e,i){if(Me(e>=0&&e<this.Xc.length&&i>=0&&i<this.Xc.length,"Invalid pane index"),e===i)return;const[n]=this.Xc.splice(e,1);this.Xc.splice(i,0,n),this.Ca()}j_(e,i,n){e.j_(i,n)}Y_(e,i,n){e.Y_(i,n),this.ka(),this.dd(this.kd(e,2))}K_(e,i){e.K_(i),this.dd(this.kd(e,2))}Z_(e,i,n){i.Vo()||e.Z_(i,n)}G_(e,i,n){i.Vo()||(e.G_(i,n),this.ka(),this.dd(this.kd(e,2)))}X_(e,i){i.Vo()||(e.X_(i),this.dd(this.kd(e,2)))}Q_(e,i){e.Q_(i),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,i){const n=this.Et();if(n.Gi()||i===0)return;const s=n.ss();e=Math.max(1,Math.min(e,s)),n.Rc(e,i),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter(e=>e.It())),this.Qc}xa(){this.Qc=null}Ad(e,i,n,s,r){this.Ct.Bs(e,i);let l=NaN,a=this.Jh.wc(e,!0);const u=this.Jh.Ie();u!==null&&(a=Math.min(Math.max(u.Aa(),a),u.bi())),a=this.Ct.Hs(a);const h=s.Rs(),c=h.Lt();if(c!==null&&(l=h.Ds(i,c)),l=this.ad.bl(l,a,s),this.Ct.zs(a,l,s),this.Ua(),!r){const d=If(s,e,i);this.vd(d&&{hu:d.hu,au:d.au,ou:d.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:i},n)}}Ld(e,i,n){const s=n.Rs(),r=s.Lt(),l=s.Nt(e,N(r)),a=this.Jh.ec(i,!0),u=this.Jh.qt(N(a));this.Ad(u,l,null,n,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const i=this.Ct.As(),n=this.Ct.Ls();this.Ad(i,n,null,e)}this.Ct.Ws()}Od(e,i,n){const s=this.Jh.Is(0);i!==void 0&&n!==void 0&&this.Jh.kt(i,n);const r=this.Jh.Is(0),l=this.Jh.vc(),a=this.Jh.Ie();if(a!==null&&s!==null&&r!==null){const u=a.Ee(l),h=this.cu.key(s)>this.cu.key(r),c=e!==null&&e>l&&!h,d=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,f=u&&(n!==void 0||d)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(c&&!f){const m=e-l;this.Jh.Mn(this.Jh.Cc()-m)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if(function(n){return n instanceof jh}(e))return e;const i=this.Xc.find(n=>n.Dt().includes(e));return i===void 0?null:i}Sc(){this.Xc.forEach(e=>e.iu()),this.ka()}m(){this.Xc.forEach(e=>e.m()),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,i){const n=this.ld(i);this.Wd(e,n),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const i=this.Kn(e),n=this.Jc.indexOf(e);Me(n!==-1,"Series not found");const s=N(i);this.Jc.splice(n,1),s.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(s)}Sa(e,i){const n=N(this.Kn(e));n.n_(e,!0),n.i_(e,i,!0)}Fc(){const e=je.Cn();e.cn(),this.dd(e)}$d(e){const i=je.Cn();i.pn(e),this.dd(i)}wn(){const e=je.Cn();e.wn(),this.dd(e)}gn(e){const i=je.Cn();i.gn(e),this.dd(i)}Mn(e){const i=je.Cn();i.Mn(e),this.dd(i)}vn(e){const i=je.Cn();i.vn(e),this.dd(i)}dn(){const e=je.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,i){if(Me(i>=0,"Index should be greater or equal to 0"),i===this.Yd(e))return;const n=N(this.Kn(e));n.n_(e);const s=this.ld(i);this.Wd(e,s),n.Sl().length===0&&this.Ud(n),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const i=this.ud,n=this.od;if(i===n)return i;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==n||this.ed.rh!==i)this.ed={eh:n,rh:i,Zd:new Map};else{const r=this.ed.Zd.get(e);if(r!==void 0)return r}const s=this.ko.tt(n,i,e/100);return this.ed.Zd.set(e,s),s}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const i=new jh(this.Jh,this);this.Xc.push(i);const n=e??this.Xc.length-1,s=je.yn();return s.hn(n,{an:0,ln:!0}),this.dd(s),i}ld(e){return Me(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex(i=>i.F_().includes(e))}kd(e,i){const n=new je(i);if(e!==null){const s=this.Xc.indexOf(e);n.hn(s,{an:i})}return n}fd(e,i){return i===void 0&&(i=2),this.kd(this.Kn(e),i)}dd(e){this.rd&&this.rd(e),this.Xc.forEach(i=>i.eu().pr().kt())}Wd(e,i){const n=e.N().priceScaleId,s=n!==void 0?n:this.qd();i.i_(e,s),Jr(s)||e.cr(e.N())}_d(e){const i=this.Ps.layout;return i.background.type==="gradient"?e===0?i.background.topColor:i.background.bottomColor:i.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function Ff(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}function $o(t){return!_i(t)&&!vs(t)}function Bf(t){return _i(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(bh||(bh={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Ch||(Ch={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Ph||(Ph={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Eh||(Eh={}));const Nh=t=>t.getUTCFullYear();function Bv(t,e,i){return e.replace(/yyyy/g,(n=>Et(Nh(n),4))(t)).replace(/yy/g,(n=>Et(Nh(n)%100,2))(t)).replace(/MMMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(t,i)).replace(/MMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(t,i)).replace(/MM/g,(n=>Et((s=>s.getUTCMonth()+1)(n),2))(t)).replace(/dd/g,(n=>Et((s=>s.getUTCDate())(n),2))(t))}class Af{constructor(e="yyyy-MM-dd",i="default"){this.Qd=e,this.tf=i}du(e){return Bv(e,this.Qd,this.tf)}}class Av{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Et(e.getUTCHours(),2)).replace("%m",Et(e.getUTCMinutes(),2)).replace("%s",Et(e.getUTCSeconds(),2))}}const $v={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class Ov{constructor(e={}){const i={...$v,...e};this.hf=new Af(i.sf,i.rf),this.af=new Av(i.nf),this.lf=i.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function Os(t){return 60*t*60*1e3}function zl(t){return 60*t*1e3}const Ds=[{_f:(Th=1,1e3*Th),uf:10},{_f:zl(1),uf:20},{_f:zl(5),uf:21},{_f:zl(30),uf:22},{_f:Os(1),uf:30},{_f:Os(3),uf:31},{_f:Os(6),uf:32},{_f:Os(12),uf:33}];var Th;function zh(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=Ds.length-1;i>=0;--i)if(Math.floor(e.getTime()/Ds[i]._f)!==Math.floor(t.getTime()/Ds[i]._f))return Ds[i].uf;return 0}function Ll(t){let e=t;if(vs(t)&&(e=Oa(t)),!$o(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(i.getTime()/1e3),df:e}}function Lh(t){if(!Bf(t))throw new Error("time must be of type isUTCTimestamp");return{cf:t}}function Oa(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Rh(t){vs(t.time)&&(t.time=Oa(t.time))}class Ih{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(i){i.forEach(Rh)}(e):Rh(e)}createConverterToInternalObj(e){return N(function(i){return i.length===0?null:$o(i[0].time)||vs(i[0].time)?Ll:Lh}(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const i=e;return i.df===void 0?new Date(1e3*i.cf).getTime():new Date(Date.UTC(i.df.year,i.df.month-1,i.df.day)).getTime()}convertHorzItemToInternal(e){return Bf(i=e)?Lh(i):$o(i)?Ll(i):Ll(Oa(i));var i}updateFormatter(e){if(!this.Ps)return;const i=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new Ov({sf:i,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new Af(i,e.locale)}formatHorzItem(e){const i=e;return this.ff.du(new Date(1e3*i.cf))}formatTickmark(e,i){const n=function(r,l,a){switch(r){case 0:case 10:return l?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return l?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),s=this.Ps.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(e.originalTime,n,i.locale);if(r!==null)return r}return function(r,l,a){const u={};switch(l){case 0:u.year="numeric";break;case 1:u.month="short";break;case 2:u.day="numeric";break;case 3:u.hour12=!1,u.hour="2-digit",u.minute="2-digit";break;case 4:u.hour12=!1,u.hour="2-digit",u.minute="2-digit",u.second="2-digit"}const h=r.df===void 0?new Date(1e3*r.cf):new Date(Date.UTC(r.df.year,r.df.month-1,r.df.day));return new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()).toLocaleString(a,u)}(e.time,n,i.locale)}maxTickMarkWeight(e){let i=e.reduce(Rv,e[0]).weight;return i>30&&i<50&&(i=30),i}fillWeightsForPoints(e,i){(function(n,s=0){if(n.length===0)return;let r=s===0?null:n[s-1].time.cf,l=r!==null?new Date(1e3*r):null,a=0;for(let u=s;u<n.length;++u){const h=n[u],c=new Date(1e3*h.time.cf);l!==null&&(h.timeWeight=zh(c,l)),a+=h.time.cf-(r||h.time.cf),r=h.time.cf,l=c}if(s===0&&n.length>1){const u=Math.ceil(a/(n.length-1)),h=new Date(1e3*(n[0].time.cf-u));n[0].timeWeight=zh(new Date(1e3*n[0].time.cf),h)}})(e,i)}static pf(e){return Je({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const hn=typeof window<"u";function Fh(){return!!hn&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Rl(){return!!hn&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Oo(t){return t+t%2}function Dv(t){hn&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class qr{constructor(e,i,n){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!Rl(),this.Uf=s=>{this.$f(s)},this.qf=s=>{if(this.jf(s)){const r=this.Yf(s);if(++this.gf,this.Mf&&this.gf>1){const{Kf:l}=this.Zf(yt(s),this.bf);l<30&&!this.Tf&&this.Gf(r,this.Jf.Xf),this.Qf()}}else{const r=this.Yf(s);if(++this.vf,this.mf&&this.vf>1){const{Kf:l}=this.Zf(yt(s),this.wf);l<5&&!this.Pf&&this.tp(r,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=i,this.Ps=n,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const i=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",i)},this.np.addEventListener("mousemove",i),this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const i=this.Yf(e);this.tp(i,this.Jf.op),this.Hf=!0}_p(e){const i=Il(e.changedTouches,N(this.Wf));if(i===null||(this.Ff=Ws(e),this.Af!==null)||this.Of)return;this.zf=!0;const n=this.Zf(yt(i),N(this.yf)),{up:s,cp:r,Kf:l}=n;if(this.kf||!(l<5)){if(!this.kf){const a=.5*s,u=r>=a&&!this.Ps.dp(),h=a>r&&!this.Ps.fp();u||h||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const a=this.Yf(e,i);this.Gf(a,this.Jf.pp),Ti(e)}}}vp(e){if(e.button!==0)return;const i=this.Zf(yt(e),N(this.Cf)),{Kf:n}=i;if(n>=5&&(this.Pf=!0,this.sp()),this.Pf){const s=this.Yf(e);this.tp(s,this.Jf.mp)}}Zf(e,i){const n=Math.abs(i._t-e._t),s=Math.abs(i.ut-e.ut);return{up:n,cp:s,Kf:n+s}}wp(e){let i=Il(e.changedTouches,N(this.Wf));if(i===null&&e.touches.length===0&&(i=e.changedTouches[0]),i===null)return;this.Wf=null,this.Ff=Ws(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const n=this.Yf(e,i);if(this.Gf(n,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:s}=this.Zf(yt(i),this.bf);s<30&&!this.Tf&&this.Gf(n,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(n,this.Jf.Mp),this.Jf.Mp&&Ti(e));this.gf===0&&Ti(e),e.touches.length===0&&this.xf&&(this.xf=!1,Ti(e))}$f(e){if(e.button!==0)return;const i=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),Fh()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(i,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:n}=this.Zf(yt(e),this.wf);n<5&&!this.Pf&&this.tp(i,this.Jf.ip),this.sp()}else this.Pf||this.tp(i,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const i=e.changedTouches[0];this.Wf=i.identifier,this.Ff=Ws(e);const n=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=yt(i),this.Ef&&(this.Ef(),this.Ef=null);{const r=this._p.bind(this),l=this.wp.bind(this);this.Ef=()=>{n.removeEventListener("touchmove",r),n.removeEventListener("touchend",l)},n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchend",l,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const s=this.Yf(e,i);this.Gf(s,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=yt(i))}kp(e){if(e.button!==0)return;const i=this.np.ownerDocument.documentElement;Fh()&&i.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=yt(e),this.Bf&&(this.Bf(),this.Bf=null);{const s=this.vp.bind(this),r=this.$f.bind(this);this.Bf=()=>{i.removeEventListener("mousemove",s),i.removeEventListener("mouseup",r)},i.addEventListener("mousemove",s),i.addEventListener("mouseup",r)}if(this.Nf=!0,this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=yt(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,i=n=>{this.Jf.Tp&&(n.composed&&this.np.contains(n.composedPath()[0])||n.target&&this.np.contains(n.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",i)},this.Rf=()=>{e.removeEventListener("mousedown",i)},e.addEventListener("mousedown",i),e.addEventListener("touchstart",i,{passive:!0})}Rl()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),Dv(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",()=>{},{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",e=>this.Ep(e.touches),{passive:!0}),this.np.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const i=Bh(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,i),Ti(e)}},{passive:!1}),this.np.addEventListener("touchend",e=>{this.Ep(e.touches)}))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const i=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-i.left+(e[1].clientX-i.left))/2,ut:(e[0].clientY-i.top+(e[1].clientY-i.top))/2},this.Lf=Bh(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const i=this.Yf(e);this.tp(i,this.Jf.zp),this.Hf=!Rl()}Cp(e){const i=Il(e.touches,N(this.Wf));if(i===null)return;const n=this.Yf(e,i);this.Gf(n,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Ws(e)<this.Ff+500}Gf(e,i){i&&i.call(this.Jf,e)}tp(e,i){i&&i.call(this.Jf,e)}Yf(e,i){const n=i||e,s=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-s.left,localY:n.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:n.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&Ti(e)}}}}function Bh(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function Ti(t){t.cancelable&&t.preventDefault()}function yt(t){return{_t:t.pageX,ut:t.pageY}}function Ws(t){return t.timeStamp||performance.now()}function Il(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}class Wv{constructor(e,i,n){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[i],this.Gp=e.Zp()[n],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return Z({width:this.Kp.sv().width,height:1})}nv(){return Z({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,i,n){const s=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(i,n,s.width,s.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),i=e.style;i.position="fixed",i.display="none",i.zIndex="49",i.top="0",i.left="0",i.width="100%",i.height="100%",i.cursor="row-resize",this.Jp.appendChild(e);const n=document.createElement("div"),s=n.style;s.position="absolute",s.zIndex="50",s.top="-4px",s.height="9px",s.width="100%",s.backgroundColor="",s.cursor="row-resize",this.Jp.appendChild(n);const r={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new qr(n,r,{dp:()=>!1,fp:()=>!0}),this.Up={hv:n,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const i=this.Kp.cv().E_()+this.Gp.cv().E_(),n=i/(this.Kp.sv().height+this.Gp.sv().height),s=30*n;i<=2*s||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:i-s,vv:i,mv:n,wv:s},this.Up.rv.style.display="block")}_v(e){const i=this.jp;if(i===null)return;const n=(e.pageY-i.dv)*i.mv,s=Dn(i.fv+n,i.wv,i.pv);this.Kp.cv().A_(s),this.Gp.cv().A_(i.vv-s),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function Fl(t,e){return t.gv-e.gv}function Bl(t,e,i){const n=(t.gv-e.gv)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),i)}class Uv{constructor(e,i,n,s){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=i,this.Rv=n,this.kn=s}Dv(e,i){if(this.Mv!==null){if(this.Mv.wt===i)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:i,gv:e}}fe(e,i){if(this.Mv===null||this.bv===null||i-this.Mv.wt>50)return;let n=0;const s=Bl(this.Mv,this.bv,this.Tv),r=Fl(this.Mv,this.bv),l=[s],a=[r];if(n+=r,this.Sv!==null){const h=Bl(this.bv,this.Sv,this.Tv);if(Math.sign(h)===Math.sign(s)){const c=Fl(this.bv,this.Sv);if(l.push(h),a.push(c),n+=c,this.xv!==null){const d=Bl(this.Sv,this.xv,this.Tv);if(Math.sign(d)===Math.sign(s)){const f=Fl(this.Sv,this.xv);l.push(d),a.push(f),n+=f}}}}let u=0;for(let h=0;h<l.length;++h)u+=a[h]/n*l[h];Math.abs(u)<this.Pv||(this.Cv={gv:e,wt:i},this.kv=u,this.yv=function(h,c){const d=Math.log(c);return Math.log(1*d/-h)/d}(Math.abs(u),this.Rv))}Ac(e){const i=N(this.Cv),n=e-i.wt;return i.gv+this.kv*(Math.pow(this.Rv,n)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const i=e-N(this.Cv).wt;return Math.min(i,this.yv)}}class Vv{constructor(e,i){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=i,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function ji(t,e){const i=N(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=Cg(i,{options:{allowResizeObserver:!0},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return n.resizeCanvasElement(e),n}function Mi(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))==null||e.clearRect(0,0,1,1)}function Do(t,e,i,n){t.Uh&&t.Uh(e,i,n)}function ir(t,e,i,n){t.nt(e,i,n)}function Wo(t,e,i,n){const s=t(i,n);for(const r of s){const l=r.Tt(n);l!==null&&e(l)}}function Al(t,e){return i=>{var n,s;return function(r){return r.Ft!==void 0}(i)?(((n=i.Ft())==null?void 0:n.ol())??"")!==e?[]:((s=i.Ya)==null?void 0:s.call(i,t))??[]:[]}}function Ah(t,e,i,n){if(!t.length)return;let s=0;const r=t[0].$t(n,!0);let l=e===1?i/2-(t[0].Hi()-r/2):t[0].Hi()-r/2-i/2;l=Math.max(0,l);for(let a=1;a<t.length;a++){const u=t[a],h=t[a-1],c=h.$t(n,!1),d=u.Hi(),f=h.Hi();if(e===1?d>f-c:d<f+c){const m=f-c*e;u.Ui(m);const v=m-e*c/2;if((e===1?v<0:v>i)&&l>0){const x=e===1?-1-v:v-i,P=Math.min(x,l);for(let g=s;g<t.length;g++)t[g].Ui(t[g].Hi()+e*P);l-=P}}else s=a,l=e===1?f-c-d:d-(f+c)}}class $h{constructor(e,i,n,s){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new cs(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=i,this.Co=i.layout,this.hd=n,this.Jv=s==="left",this.Qv=Al("normal",s),this.tm=Al("top",s),this.im=Al("bottom",s),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=ji(this.Jp,Z({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=ji(this.Jp,Z({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const l=this.nm.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0";const a={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new qr(this.nm.canvasElement,a,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Mi(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Mi(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const i=this.lm(),n=N(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));n.save();const s=this.Ki.Vl();n.font=this._m(),s.length>0&&(e=Math.max(this.qv.Ii(n,s[0].Jl),this.qv.Ii(n,s[s.length-1].Jl)));const r=this.um();for(let h=r.length;h--;){const c=this.qv.Ii(n,r[h].ri());c>e&&(e=c)}const l=this.Ki.Lt();if(l!==null&&this.Uv!==null&&(a=this.Ps.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const h=this.Ki.Ds(1,l),c=this.Ki.Ds(this.Uv.height-2,l);e=Math.max(e,this.qv.Ii(n,this.Ki.Ji(Math.floor(Math.min(h,c))+.11111111111111,l)),this.qv.Ii(n,this.Ki.Ji(Math.ceil(Math.max(h,c))-.11111111111111,l)))}var a;n.restore();const u=e||34;return Oo(Math.ceil(i.S+i.C+i.V+i.B+5+u))}dm(e){this.Uv!==null&&pi(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return N(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,N(this.Ft()))}pm(e){if(this.Uv===null)return;const i={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const s=wi(this.sm,i);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.wm(r),this.gm(r)}),this.yt.Mm(s,this.im),this.bm(s),this.yt.Mm(s,this.Qv),this.Sm(s))}this.nm.applySuggestedBitmapSize();const n=wi(this.nm,i);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this.xm(n),this.yt.Mm(n,this.tm))}nv(){return this.sm.bitmapSize}ev(e,i,n,s){const r=this.nv();if(r.width>0&&r.height>0&&(e.drawImage(this.sm.canvasElement,i,n),s)){const l=this.nm.canvasElement;e.drawImage(l,i,n)}}kt(){var e;(e=this.Ki)==null||e.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!0,i.j_(n,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.yt.Gv().Qt(),n=this.yt.cv(),s=this.Ki;i.Y_(n,s,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),i=this.yt.cv(),n=this.Ki;this.$v&&(this.$v=!1,e.K_(i,n))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!1,i.K_(n,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],i=this.Ki===null?void 0:this.Ki;return(n=>{for(let s=0;s<n.length;++s){const r=n[s].Ks(this.yt.cv(),i);for(let l=0;l<r.length;l++)e.push(r[l])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:i}){const{width:n,height:s}=i,r=this.yt.cv().Qt(),l=r.$(),a=r.Kd();l===a?Qr(e,0,0,n,s,l):Mf(e,0,0,n,s,l,a)}gm({context:e,bitmapSize:i,horizontalPixelRatio:n}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const s=Math.max(1,Math.floor(this.lm().S*n));let r;r=this.Jv?i.width-s:0,e.fillRect(r,0,s,i.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const i=this.Ki.Vl(),n=this.Ki.N(),s=this.lm(),r=this.Jv?this.Uv.width-s.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:u})=>{l.fillStyle=n.borderColor;const h=Math.max(1,Math.floor(u)),c=Math.floor(.5*u),d=Math.round(s.C*a);l.beginPath();for(const f of i)l.rect(Math.floor(r*a),Math.round(f.Pl*u)-c,d,h);l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{l.font=this._m(),l.fillStyle=n.textColor??this.Co.textColor,l.textAlign=this.Jv?"right":"left",l.textBaseline="middle";const a=this.Jv?Math.round(r-s.V):Math.round(r+s.C+s.V),u=i.map(h=>this.qv.Di(l,h.Jl));for(let h=i.length;h--;){const c=i[h];l.fillText(c.Jl,a,c.Pl+u[h])}})}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const i=[],n=this.Ki.Dt().slice(),s=this.yt.cv(),r=this.lm();this.Ki===s.Gn()&&this.yt.cv().Dt().forEach(u=>{s.Zn(u)&&n.push(u)});const l=this.Ki.Sl()[0],a=this.Ki;n.forEach(u=>{const h=u.Ks(s,a);h.forEach(c=>{c.$i()&&c.Wi()===null&&(c.Ui(null),i.push(c))}),l===u&&h.length>0&&(e=h[0].Ei())}),this.Ki.N().alignLabels&&this.ym(i,r,e)}ym(e,i,n){if(this.Uv===null)return;const s=e.filter(l=>l.Ei()<=n),r=e.filter(l=>l.Ei()>n);s.sort((l,a)=>a.Ei()-l.Ei()),s.length&&r.length&&r.push(s[0]),r.sort((l,a)=>l.Ei()-a.Ei());for(const l of e){const a=Math.floor(l.$t(i)/2),u=l.Ei();u>-a&&u<a&&l.Ui(a),u>this.Uv.height-a&&u<this.Uv.height+a&&l.Ui(this.Uv.height-a)}Ah(s,1,this.Uv.height,i),Ah(r,-1,this.Uv.height,i)}Sm(e){if(this.Uv===null)return;const i=this.um(),n=this.lm(),s=this.Jv?"right":"left";i.forEach(r=>{r.qi()&&r.Tt(N(this.Ki)).nt(e,n,this.qv,s)})}xm(e){if(this.Uv===null||this.Ki===null)return;const i=this.yt.Gv().Qt(),n=[],s=this.yt.cv(),r=i.gd().Ks(s,this.Ki);r.length&&n.push(r);const l=this.lm(),a=this.Jv?"right":"left";n.forEach(u=>{u.forEach(h=>{h.Tt(N(this.Ki)).nt(e,l,this.qv,a)})})}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return hs(this.Co.fontSize,this.Co.fontFamily)}}function Hv(t,e){var i;return((i=t.qa)==null?void 0:i.call(t,e))??[]}function Oh(t,e){var i;return((i=t.Ys)==null?void 0:i.call(t,e))??[]}function Dh(t,e){var i;return((i=t.ds)==null?void 0:i.call(t,e))??[]}function Kv(t,e){var i;return((i=t.Ha)==null?void 0:i.call(t,e))??[]}class Da{constructor(e,i){this.Uv=Z({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new pe,this.Vm=new pe,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=i,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(n),this.sm=ji(n,Z({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=ji(n,Z({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const r=this.nm.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new qr(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Mi(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Mi(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return N(this.Nm)}qm(e){var i;this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(Da.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new Vv(this.Wm,this.Lv),this.Tm.kt()):((i=this.Tm)==null||i.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(N(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(N(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const i=e.localX,n=e.localY;this.Zm(i,n,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const i=e.localX,n=e.localY;this.Zm(i,n,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const i={x:e.localX,y:e.localY};this.iw(i,i,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,i){if(!this.Lv.N().handleScale.pinch)return;const n=5*(i-this.Bm);this.Bm=i,this.ns().Td(e._t,n)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const i=this.ns().gd();this.Am!==null&&i.It()&&(this.zm={x:i.si(),y:i.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const i=e.localX,n=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const s=N(this.zm),r=s.x+(i-this.Am.x),l=s.y+(n-this.Am.y);this.Zm(r,l,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,i){const n=this.Nm;return n===null?null:If(n,e,i)}hw(e,i){N(i==="left"?this.km:this.Pm).dm(Z({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){pi(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=N(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const i of e.Sl())if(e.Zn(i)){const n=i.Ft();n!==null&&e.H_(n),i.Ws()}for(const i of e.ru())i.Ws()}nv(){return this.sm.bitmapSize}ev(e,i,n,s){const r=this.nv();if(r.width>0&&r.height>0&&(e.drawImage(this.sm.canvasElement,i,n),s)){const l=this.nm.canvasElement;e!==null&&e.drawImage(l,i,n)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const i={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const s=wi(this.sm,i);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.wm(r)}),this.Nm&&(this.lw(s,Hv),this.ow(s),this.lw(s,Oh),this.lw(s,Dh)))}this.nm.applySuggestedBitmapSize();const n=wi(this.nm,i);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this._w(n),this.lw(n,Kv),this.lw(n,Dh))}uw(){return this.km}cw(){return this.Pm}Mm(e,i){this.lw(e,i)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,i){const n=i.localX,s=i.localY;e.v()&&e.p(this.ns().Et().wc(n),{x:n,y:s},i)}wm({context:e,bitmapSize:i}){const{width:n,height:s}=i,r=this.ns(),l=r.$(),a=r.Kd();l===a?Qr(e,0,0,n,s,a):Mf(e,0,0,n,s,l,a)}ow(e){const i=N(this.Nm),n=i.eu().pr().Tt(i);n!==null&&n.nt(e,!1)}_w(e){this.dw(e,Oh,ir,this.ns().gd())}lw(e,i){const n=N(this.Nm),s=n.Dt(),r=n.ru();for(const l of r)this.dw(e,i,Do,l);for(const l of s)this.dw(e,i,Do,l);for(const l of r)this.dw(e,i,ir,l);for(const l of s)this.dw(e,i,ir,l)}dw(e,i,n,s){const r=N(this.Nm),l=r.Qt().pd(),a=l!==null&&l.hu===s,u=l!==null&&a&&l.au!==void 0?l.au.ie:void 0;Wo(i,h=>n(h,e,a,u),s,r)}jm(){if(this.Nm===null)return;const e=this.Lv,i=this.Nm.U_().N().visible,n=this.Nm.q_().N().visible;i||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),n||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const s=e.Qt().Nd();i&&this.km===null&&(this.km=new $h(this,e.N(),s,"left"),this.Hm.appendChild(this.km.iv())),n&&this.Pm===null&&(this.Pm=new $h(this,e.N(),s,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,i,n){e=Math.max(0,Math.min(e,this.Uv.width-1)),i=Math.max(0,Math.min(i,this.Uv.height-1)),this.ns().Ad(e,i,n,N(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,i,n){this.Am=e,this.Lm=!1,this.Zm(i.x,i.y,n);const s=this.ns().gd();this.zm={x:s.si(),y:s.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const i=this.ns(),n=this.cv();if(i.X_(n,n.Rs()),this.Rm=null,this.Dm=!1,i.Vd(),this.Om!==null){const s=performance.now(),r=i.Et();this.Om.fe(r.Cc(),s),this.Om.Ec(s)||i.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)N(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const i=this.ns(),n=i.Et();if(n.Gi())return;const s=this.Lv.N(),r=s.handleScroll,l=s.kineticScroll;if((!r.pressedMouseMove||e.Np)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!e.Np))return;const a=this.Nm.Rs(),u=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:u,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&l.touch||!e.Np&&l.mouse){const h=n.ul();this.Om=new Uv(.2/h,7/h,.997,15/h),this.Om.Dv(n.Cc(),this.Rm.cf)}else this.Om=null;a.Gi()||i.Z_(this.Nm,a,e.localY),i.Dd(e.localX),this.Dm=!0}this.Dm&&(a.Gi()||i.G_(this.Nm,a,e.localY),i.Id(e.localX),this.Om!==null&&this.Om.Dv(n.Cc(),u))}}class Wh{constructor(e,i,n,s,r){this.xt=!0,this.Uv=Z({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=n.Nd,this.Ps=i,this.ww=s,this.gw=r,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=ji(this.Jp,Z({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Mi(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){pi(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const i=wi(this.sm,{colorSpace:this.Ps.layout.colorSpace});i!==null&&i.useBitmapCoordinateSpace(n=>{this.wm(n),this.gm(n)})}nv(){return this.sm.bitmapSize}ev(e,i,n){const s=this.nv();s.width>0&&s.height>0&&e.drawImage(this.sm.canvasElement,i,n)}gm({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const r=Math.floor(this.hd.N().S*n),l=Math.floor(this.hd.N().S*s),a=this.Jv?i.width-r:0;e.fillRect(a,0,r,l)}wm({context:e,bitmapSize:i}){Qr(e,0,0,i.width,i.height,this.gw())}}function Wa(t){return e=>{var i;return((i=e.Ka)==null?void 0:i.call(e,t))??[]}}const Qv=Wa("normal"),Yv=Wa("top"),Jv=Wa("bottom");class Gv{constructor(e,i){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=Z({width:0,height:0}),this.xw=new pe,this.qv=new cs(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=i,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=ji(this.kw,Z({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const n=this.sm.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.nm=ji(this.kw,Z({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new qr(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Mi(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Mi(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const i=this.Lv.Qt();!i.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&i.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const i=this.Lv.Qt();!i.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&i.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,i,n){pi(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(Z({width:i,height:e.height})),this.bw!==null&&this.bw.dm(Z({width:n,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,i,n,s){const r=this.nv();if(r.width>0&&r.height>0&&(e.drawImage(this.sm.canvasElement,i,n),s)){const l=this.nm.canvasElement;e.drawImage(l,i,n)}}pm(e){if(e===0)return;const i={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const s=wi(this.sm,i);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.wm(r),this.gm(r),this.Aw(s,Jv)}),this.bm(s),this.Aw(s,Qv)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const n=wi(this.nm,i);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],n),this.Aw(n,Yv))}Aw(e,i){const n=this.Lv.Qt().tn();for(const s of n)Wo(i,r=>Do(r,e,!1,void 0),s,void 0);for(const s of n)Wo(i,r=>ir(r,e,!1,void 0),s,void 0)}wm({context:e,bitmapSize:i}){Qr(e,0,0,i.width,i.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:i,verticalPixelRatio:n}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const s=Math.max(1,Math.floor(this.Bw().S*n));e.fillRect(0,0,i.width,s)}}bm(e){const i=this.Lv.Qt().Et(),n=i.Vl();if(!n||n.length===0)return;const s=this.cu.maxTickMarkWeight(n),r=this.Bw(),l=i.N();l.borderVisible&&l.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:u,verticalPixelRatio:h})=>{a.strokeStyle=this.zw(),a.fillStyle=this.zw();const c=Math.max(1,Math.floor(u)),d=Math.floor(.5*u);a.beginPath();const f=Math.round(r.C*h);for(let m=n.length;m--;){const v=Math.round(n[m].coord*u);a.rect(v-d,0,c,f)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const u=r.S+r.C+r.A+r.k/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.H(),a.font=this._m();for(const h of n)if(h.weight<s){const c=h.needAlignCoordinate?this.Ow(a,h.coord,h.label):h.coord;a.fillText(h.label,c,u)}this.Lv.N().timeScale.allowBoldLabels&&(a.font=this.Nw());for(const h of n)if(h.weight>=s){const c=h.needAlignCoordinate?this.Ow(a,h.coord,h.label):h.coord;a.fillText(h.label,c,u)}})}Ow(e,i,n){const s=this.qv.Ii(e,n),r=s/2,l=Math.floor(i-r)+.5;return l<0?i+=Math.abs(0-l):l+s>this.Uv.width&&(i-=Math.abs(this.Uv.width-(l+s))),i}Lw(e,i){const n=this.Bw();for(const s of e)for(const r of s.fs())r.Tt().nt(i,n)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return hs(this.F(),this.Ps.fontFamily)}Nw(){return hs(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new cs,Ew:0});const e=this.M,i=this._m();if(e.P!==i){const n=this.F();e.k=n,e.P=i,e.A=3*n/12,e.I=3*n/12,e.ts=9*n/12,e.L=0,e.Ew=4*n/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),i=e.N();i.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),i.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const n={Nd:this.Lv.Qt().Nd()},s=()=>i.leftPriceScale.borderVisible&&e.Et().N().borderVisible,r=()=>e.Kd();i.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new Wh("left",i,n,s,r),this.Cw.appendChild(this.Mw.iv())),i.rightPriceScale.visible&&this.bw===null&&(this.bw=new Wh("right",i,n,s,r),this.yw.appendChild(this.bw.iv()))}}var oc;const Xv=!!hn&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!hn&&((oc=navigator==null?void 0:navigator.userAgentData)!=null&&oc.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class qv{constructor(e,i,n){var s;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new pe,this.Vm=new pe,this.nd=new pe,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=i,this.cu=n,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(s=this.Vv).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),$l(this.Ps)&&this.Jw(!0),this.ns=new Fv(this.rd.bind(this),this.Ps,n),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new Gv(this,this.cu),this.Zw.appendChild(this.tg.iv());const r=i.autoSize&&this.ig();let l=this.Ps.width,a=this.Ps.height;if(r||l===0||a===0){const u=e.getBoundingClientRect();l=l||u.width,a=a||u.height}this.sg(l,a),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],N(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,i,n=!1){if(this.eo===i&&this.S_===e)return;const s=function(a){const u=Math.floor(a.width),h=Math.floor(a.height);return Z({width:u-u%2,height:h-h%2})}(Z({width:e,height:i}));this.eo=s.height,this.S_=s.width;const r=this.eo+"px",l=this.S_+"px";N(this.Vv).style.height=r,N(this.Vv).style.width=l,this.Zw.style.height=r,this.Zw.style.width=l,n?this.lg(je.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=je.yn());for(let i=0;i<this.Fw.length;i++)this.Fw[i].pm(e.un(i).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){var s;const i=$l(this.Ps);this.ns.cr(e);const n=$l(this.Ps);n!==i&&this.Jw(n),(s=e.layout)!=null&&s.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const i=this.cg(null),n=document.createElement("canvas");n.width=i.width,n.height=i.height;const s=N(n.getContext("2d"));return this.cg(s,e),n}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:N(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return Ve(this.Fw[e]).sv()}og(){this.Ww.forEach(e=>{e.kt()})}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,i){let n=0,s=0;const r=this.Fw[0],l=(u,h)=>{let c=0;for(let d=0;d<this.Fw.length;d++){const f=this.Fw[d],m=N(u==="left"?f.uw():f.cw()),v=m.nv();if(e!==null&&m.ev(e,h,c,i),c+=v.height,d<this.Fw.length-1){const x=this.Ww[d],P=x.nv();e!==null&&x.ev(e,h,c),c+=P.height}}};this.fg()&&(l("left",0),n+=N(r.uw()).nv().width);for(let u=0;u<this.Fw.length;u++){const h=this.Fw[u],c=h.nv();if(e!==null&&h.ev(e,n,s,i),s+=c.height,u<this.Fw.length-1){const d=this.Ww[u],f=d.nv();e!==null&&d.ev(e,n,s),s+=f.height}}n+=r.nv().width,this.pg()&&(l("right",n),n+=N(r.cw()).nv().width);const a=(u,h,c)=>{N(u==="left"?this.tg.Tw():this.tg.Rw()).ev(N(e),h,c)};if(this.Ps.timeScale.visible){const u=this.tg.nv();if(e!==null){let h=0;this.fg()&&(a("left",h,s),h=N(r.uw()).nv().width),this.tg.ev(e,h,s,i),h+=u.width,this.pg()&&a("right",h,s)}s+=u.height}return Z({width:n,height:s})}Mg(){let e=0,i=0,n=0;for(const P of this.Fw)this.fg()&&(i=Math.max(i,N(P.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(n=Math.max(n,N(P.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=P.E_();i=Oo(i),n=Oo(n);const s=this.S_,r=this.eo,l=Math.max(s-i-n,0),a=1*this.Ww.length,u=this.Ps.timeScale.visible;let h=u?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var c;h=(c=h)+c%2;const d=a+h,f=r<d?0:r-d,m=f/e;let v=0;const x=window.devicePixelRatio||1;for(let P=0;P<this.Fw.length;++P){const g=this.Fw[P];g.qm(this.ns.Xs()[P]);let p=0,y=0;y=P===this.Fw.length-1?Math.ceil((f-v)*x)/x:Math.round(g.E_()*m*x)/x,p=Math.max(y,2),v+=p,g.dm(Z({width:l,height:p})),this.fg()&&g.hw(i,"left"),this.pg()&&g.hw(n,"right"),g.cv()&&this.ns.bd(g.cv(),p)}this.tg.Iw(Z({width:u?l:0,height:h}),u?i:0,u?n:0),this.ns.L_(l),this.Uw!==i&&(this.Uw=i),this.$w!==n&&(this.$w=n)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return Xv?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const i=this.bg(e),n=i*e.deltaX/100,s=-i*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.Ps.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),l=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(l,r)}n!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*n)}lg(e,i){var s;const n=e._n();n===3&&this.Sg(),n!==3&&n!==2||(this.xg(e),this.Cg(e,i),this.tg.kt(),this.Fw.forEach(r=>{r.Ym()}),((s=this.qw)==null?void 0:s._n())===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,i),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,i){for(const n of e.bn())this.xn(n,i)}xg(e){const i=this.ns.Xs();for(let n=0;n<i.length;n++)e.un(n).ln&&i[n].tu()}xn(e,i){const n=this.ns.Et();switch(e.fn){case 0:n.Fc();break;case 1:n.Wc(e.Wt);break;case 2:n.gn(e.Wt);break;case 3:n.Mn(e.Wt);break;case 4:n.Pc();break;case 5:e.Wt.Ec(i)||n.Mn(e.Wt.Ac(i))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame(i=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const n=this.qw;this.qw=null,this.lg(n,i);for(const s of n.bn())if(s.fn===5&&!s.Wt.Ec(i)){this.Qt().vn(s.Wt);break}}}))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),i=e.length,n=this.Fw.length;for(let s=i;s<n;s++){const r=Ve(this.Fw.pop());this.Zw.removeChild(r.iv()),r.nw().u(this),r.ew().u(this),r.m();const l=this.Ww.pop();l!==void 0&&this.hg(l)}for(let s=n;s<i;s++){const r=new Da(this,e[s]);if(r.nw().i(this.yg.bind(this,r),this),r.ew().i(this.kg.bind(this,r),this),this.Fw.push(r),s>0){const l=new Wv(this,s-1,s);this.Ww.push(l),this.Zw.insertBefore(l.iv(),this.tg.iv())}this.Zw.insertBefore(r.iv(),this.tg.iv())}for(let s=0;s<i;s++){const r=e[s],l=this.Fw[s];l.cv()!==r?l.qm(r):l.$m()}this.eg(),this.Mg()}Pg(e,i,n,s){var d;const r=new Map;e!==null&&this.ns.tn().forEach(f=>{const m=f.qs().$s(e);m!==null&&r.set(f,m)});let l;if(e!==null){const f=(d=this.ns.Et().es(e))==null?void 0:d.originalTime;f!==void 0&&(l=f)}const a=this.Qt().pd(),u=a!==null&&a.hu instanceof Xr?a.hu:void 0,h=a!==null&&a.au!==void 0?a.au.te:void 0,c=this.Tg(s);return{Gr:l,js:e??void 0,Rg:i??void 0,Dg:c!==-1?c:void 0,Ig:u,Vg:r,Bg:h,Eg:n??void 0}}Tg(e){let i=-1;if(e)i=this.Fw.indexOf(e);else{const n=this.Qt().gd().Gs();n!==null&&(i=this.Qt().Xs().indexOf(n))}return i}yg(e,i,n,s){this.Im.p(()=>this.Pg(i,n,s,e))}kg(e,i,n,s){this.Vm.p(()=>this.Pg(i,n,s,e))}Qw(e,i,n){var s;this.mg(((s=this.Qt().pd())==null?void 0:s.ou)??null),this.nd.p(()=>this.Pg(e,i,n))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver(e=>{const i=e[e.length-1];i&&this.sg(i.contentRect.width,i.contentRect.height)}),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function $l(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Zv(t){return t.open===void 0&&t.value===void 0}function ey(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function Uh(t,e,i,n){const s=i.value,r={js:e,wt:t,Wt:[s,s,s,s],Gr:n};return i.color!==void 0&&(r.R=i.color),r}function ty(t,e,i,n){const s=i.value,r={js:e,wt:t,Wt:[s,s,s,s],Gr:n};return i.lineColor!==void 0&&(r.vt=i.lineColor),i.topColor!==void 0&&(r.eh=i.topColor),i.bottomColor!==void 0&&(r.rh=i.bottomColor),r}function iy(t,e,i,n){const s=i.value,r={js:e,wt:t,Wt:[s,s,s,s],Gr:n};return i.topLineColor!==void 0&&(r.hh=i.topLineColor),i.bottomLineColor!==void 0&&(r.ah=i.bottomLineColor),i.topFillColor1!==void 0&&(r.oh=i.topFillColor1),i.topFillColor2!==void 0&&(r._h=i.topFillColor2),i.bottomFillColor1!==void 0&&(r.uh=i.bottomFillColor1),i.bottomFillColor2!==void 0&&(r.dh=i.bottomFillColor2),r}function ny(t,e,i,n){const s={js:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Gr:n};return i.color!==void 0&&(s.R=i.color),s}function sy(t,e,i,n){const s={js:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Gr:n};return i.color!==void 0&&(s.R=i.color),i.borderColor!==void 0&&(s.Ht=i.borderColor),i.wickColor!==void 0&&(s.nh=i.wickColor),s}function ry(t,e,i,n,s){const r=Ve(s)(i),l=Math.max(...r),a=Math.min(...r),u=r[r.length-1],h=[u,l,a,u],{time:c,color:d,...f}=i;return{js:e,wt:t,Wt:h,Gr:n,le:f,R:d}}function zi(t){return t.Wt!==void 0}function Vh(t,e){return e.customValues!==void 0&&(t.Ag=e.customValues),t}function li(t){return(e,i,n,s,r,l)=>function(a,u){return u?u(a):Zv(a)}(n,l)?Vh({wt:e,js:i,Gr:s},n):Vh(t(e,i,n,s,r),n)}function Hh(t){return{Candlestick:li(sy),Bar:li(ny),Area:li(ty),Baseline:li(iy),Histogram:li(Uh),Line:li(Uh),Custom:li(ry)}[t]}function Kh(t){return{js:0,Lg:new Map,Ea:t}}function Qh(t,e){if(t!==void 0&&t.length!==0)return{zg:e.key(t[0].wt),Og:e.key(t[t.length-1].wt)}}function Yh(t){let e;return t.forEach(i=>{e===void 0&&(e=i.Gr)}),Ve(e)}class ly{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,i){let n=this.Ng.size!==0,s=!1;const r=this.Fg.get(e);if(r!==void 0)if(this.Fg.size===1)n=!1,s=!0,this.Ng.clear();else for(const u of this.Hg)u.pointData.Lg.delete(e)&&(s=!0);let l=[];if(i.length!==0){const u=i.map(m=>m.time),h=this.cu.createConverterToInternalObj(i),c=Hh(e.wh()),d=e.rl(),f=e.hl();l=i.map((m,v)=>{const x=h(m.time),P=this.cu.key(x);let g=this.Ng.get(P);g===void 0&&(g=Kh(x),this.Ng.set(P,g),s=!0);const p=c(x,g.js,m,u[v],d,f);return g.Lg.set(e,p),p})}n&&this.$g(),this.qg(e,l);let a=-1;if(s){const u=[];this.Ng.forEach(h=>{u.push({timeWeight:0,time:h.Ea,pointData:h,originalTime:Yh(h.Lg)})}),u.sort((h,c)=>this.cu.key(h.time)-this.cu.key(c.time)),a=this.jg(u)}return this.Yg(e,a,function(u,h,c){const d=Qh(u,c),f=Qh(h,c);if(d!==void 0&&f!==void 0)return{Kg:!1,Ta:d.Og>=f.Og&&d.zg>=f.zg}}(this.Fg.get(e),r,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,i,n){if(n&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const s=i;(function(g){g.Gr===void 0&&(g.Gr=g.time)})(s),this.cu.preprocessData(i);const r=this.cu.createConverterToInternalObj([i])(i.time),l=this.Wg.get(e);if(!n&&l!==void 0&&this.cu.key(r)<this.cu.key(l))throw new Error(`Cannot update oldest data, last time=${l}, new time=${r}`);let a=this.Ng.get(this.cu.key(r));if(n&&a===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const u=a===void 0;a===void 0&&(a=Kh(r),this.Ng.set(this.cu.key(r),a));const h=Hh(e.wh()),c=e.rl(),d=e.hl(),f=h(r,a.js,i,s.Gr,c,d),m=!n&&!u&&l!==void 0&&this.cu.key(r)===this.cu.key(l);a.Lg.set(e,f),n?this.Gg(e,f,a.js):m&&e.La()&&zi(f)?(e.kr(f),this.Xg(e,f)):this.Xg(e,f);const v={Ta:zi(f),Kg:n};if(!u)return this.Yg(e,-1,v);const x={timeWeight:0,time:a.Ea,pointData:a,originalTime:Yh(a.Lg)},P=un(this.Hg,this.cu.key(x.time),(g,p)=>this.cu.key(g.time)<p);this.Hg.splice(P,0,x);for(let g=P;g<this.Hg.length;++g)Us(this.Hg[g].pointData,g);return this.cu.fillWeightsForPoints(this.Hg,P),this.Yg(e,P,v)}Jg(e,i){const n=this.Fg.get(e);if(n===void 0||i<=0)return[[],this.Qg()];i=Math.min(i,n.length);const s=n.splice(-i).reverse();n.length===0?this.Wg.delete(e):this.Wg.set(e,n[n.length-1].wt);for(const r of s){const l=this.Ng.get(this.cu.key(r.wt));if(l&&(l.Lg.delete(e),l.Lg.size===0)){this.Ng.delete(this.cu.key(l.Ea)),this.Hg.splice(l.js,1);for(let a=l.js;a<this.Hg.length;++a)Us(this.Hg[a].pointData,a)}}return[s,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,i){let n=this.Fg.get(e);n===void 0&&(n=[],this.Fg.set(e,n));const s=n.length!==0?n[n.length-1]:null;s===null||this.cu.key(i.wt)>this.cu.key(s.wt)?zi(i)&&n.push(i):zi(i)?n[n.length-1]=i:n.splice(-1,1),this.Wg.set(e,i.wt)}Gg(e,i,n){const s=this.Fg.get(e);if(s===void 0)return;const r=un(s,n,(l,a)=>l.js<a);zi(i)?s[r]=i:s.splice(r,1)}qg(e,i){i.length!==0?(this.Fg.set(e,i.filter(zi)),this.Wg.set(e,i[i.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let i=-1;for(let n=0;n<this.Hg.length&&n<e.length;++n){const s=this.Hg[n],r=e[n];if(this.cu.key(s.time)!==this.cu.key(r.time)){i=n;break}r.timeWeight=s.timeWeight,Us(r.pointData,n)}if(i===-1&&this.Hg.length!==e.length&&(i=Math.min(this.Hg.length,e.length)),i===-1)return-1;for(let n=i;n<e.length;++n)Us(e[n].pointData,n);return this.cu.fillWeightsForPoints(e,i),this.Hg=e,i}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach(i=>{i.length!==0&&(e=Math.max(e,i[i.length-1].js))}),e}Yg(e,i,n){const s=this.Qg();if(i!==-1)this.Fg.forEach((r,l)=>{s.F_.set(l,{le:r,iM:l===e?n:void 0})}),this.Fg.has(e)||s.F_.set(e,{le:[],iM:n}),s.Et.sM=this.Hg,s.Et.nM=i;else{const r=this.Fg.get(e);s.F_.set(e,{le:r||[],iM:n})}return s}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function Us(t,e){t.js=e,t.Lg.forEach(i=>{i.js=e})}function oy(t,e){return t.wt<e}function ay(t,e){return e<t.wt}function $f(t,e,i){const n=e.Aa(),s=e.bi(),r=un(t,n,oy),l=Tf(t,s,ay);if(!i)return{from:r,to:l};let a=r,u=l;return r>0&&r<t.length&&t[r].wt>=n&&(a=r-1),l>0&&l<t.length&&t[l-1].wt<=s&&(u=l+1),{from:a,to:u}}class Ua{constructor(e,i,n){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=i,this._M=n}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map(e=>({...e,...this.ee.ga().gh(e.wt)}))}fM(){this.lM=null}uM(){const e=this.re.Et(),i=e.N().enableConflation?e.Hc():0;i!==this.oM&&(this.rM=!0,this.oM=i),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),i=this.re.Et();if(this.fM(),i.Gi()||e.Gi())return;const n=i.Ie();if(n===null||this.ee.qs().yh()===0)return;const s=this.ee.Lt();s!==null&&(this.lM=$f(this.aM,n,this._M),this.mM(e,i,s.Wt),this.wM())}}class uy{constructor(e,i){this.gM=e,this.Ki=i}nt(e,i,n){this.gM.draw(e,this.Ki,i,n)}}class hy extends Ua{constructor(e,i,n){super(e,i,!1),this.$h=n,this.cM=new uy(this.$h.renderer(),s=>{const r=e.Lt();return r===null?null:e.Ft().Nt(s,r.Wt)})}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(i=>({wt:i.js,_t:NaN,...e.gh(i.js),MM:i.le}))}mM(e,i){i.mc(this.aM,us(this.lM))}wM(){this.$h.update({bars:this.aM.map(cy),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function cy(t){return{x:t._t,time:t.wt,originalData:t.MM,barColor:t.th}}const dy={color:"#2196f3"},fy=(t,e,i)=>{const n=Vt(i);return new hy(t,e,n)};function Va(t){const e={value:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function Jh(t){const e=Va(t);return t.R!==void 0&&(e.color=t.R),e}function py(t){const e=Va(t);return t.vt!==void 0&&(e.lineColor=t.vt),t.eh!==void 0&&(e.topColor=t.eh),t.rh!==void 0&&(e.bottomColor=t.rh),e}function my(t){const e=Va(t);return t.hh!==void 0&&(e.topLineColor=t.hh),t.ah!==void 0&&(e.bottomLineColor=t.ah),t.oh!==void 0&&(e.topFillColor1=t.oh),t._h!==void 0&&(e.topFillColor2=t._h),t.uh!==void 0&&(e.bottomFillColor1=t.uh),t.dh!==void 0&&(e.bottomFillColor2=t.dh),e}function Of(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function gy(t){const e=Of(t);return t.R!==void 0&&(e.color=t.R),e}function vy(t){const e=Of(t),{R:i,Ht:n,nh:s}=t;return i!==void 0&&(e.color=i),n!==void 0&&(e.borderColor=n),s!==void 0&&(e.wickColor=s),e}function nr(t){return{Area:py,Line:Jh,Baseline:my,Histogram:Jh,Bar:gy,Candlestick:vy,Custom:yy}[t]}function yy(t){const e=t.Gr;return{...t.le,time:e}}const xy={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},wy={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Sy={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:jf,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Ol={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},_y={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function Gh(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:Sy,crosshair:xy,grid:wy,overlayPriceScales:{...Ol},leftPriceScale:{...Ol,visible:!1},rightPriceScale:{...Ol,visible:!0},timeScale:_y,localization:{locale:hn?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Df{constructor(e,i,n){this.Yp=e,this.bM=i,this.SM=n??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return Jr(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Fe(e.from,e.to))}getVisibleRange(){let e,i,n=this.Ki().er();if(n===null)return null;if(this.Ki().io()){const s=this.Ki().m_(),r=Ff(s);n=Ki(n,this.Ki().no()),e=Number((Math.round(n.Ze()/s)*s).toFixed(r)),i=Number((Math.round(n.Ge()/s)*s).toFixed(r))}else e=n.Ze(),i=n.Ge();return{from:e,to:i}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return N(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class jy{constructor(e,i,n,s){this.Yp=e,this.yt=n,this.xM=i,this.CM=s}getHeight(){return this.yt.$t()}setHeight(e){const i=this.Yp.Qt(),n=i.Gd(this.yt);i.xd(n,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const i=this.paneIndex();i!==e&&(Me(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(i,e))}getSeries(){return this.yt.F_().map(e=>this.xM(e))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new Df(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,i={},n=0){return this.CM.addCustomSeries(e,i,n)}addSeries(e,i={}){return this.CM.addSeries(e,i,this.paneIndex())}}const My={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Xh{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class ky{constructor(e,i,n,s,r,l){this.kM=new pe,this.ee=e,this.PM=i,this.TM=n,this.cu=r,this.CM=s,this.RM=l}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const i=this.ee.Lt();return i===null?null:this.ee.Ft().Nt(e,i.Wt)}coordinateToPrice(e){const i=this.ee.Lt();return i===null?null:this.ee.Ft().Ds(e,i.Wt)}barsInLogicalRange(e){if(e===null)return null;const i=new en(new Zi(e.from,e.to)).Ru(),n=this.ee.qs();if(n.Gi())return null;const s=n.$s(i.Aa(),1),r=n.$s(i.bi(),-1),l=N(n.kh()),a=N(n.sn());if(s!==null&&r!==null&&s.js>r.js)return{barsBefore:e.from-l,barsAfter:a-e.to};const u={barsBefore:s===null||s.js===l?e.from-l:s.js-l,barsAfter:r===null||r.js===a?a-e.to:a-r.js};return s!==null&&r!==null&&(u.from=s.Gr,u.to=r.Gr),u}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,i=!1){this.ee.wh(),this.PM.VM(this.ee,e,i),this.IM("update")}pop(e=1){const i=this.PM.BM(this.ee,e);i.length!==0&&this.IM("update");const n=nr(this.seriesType());return i.map(s=>n(s))}dataByIndex(e,i){const n=this.ee.qs().$s(e,i);return n===null?null:nr(this.seriesType())(n)}data(){const e=nr(this.seriesType());return this.ee.qs().Dh().map(i=>e(i))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Pt(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const i=Je(Pt(My),e),n=this.ee.Da(i);return new Xh(n)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map(e=>new Xh(e))}seriesType(){return this.ee.wh()}lastValueData(e){const i=this.ee.Ve(e);return i.Be?{noData:!0}:{noData:!1,price:i.gt,color:i.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,i=N(this.ee.Qt().Kn(e));return this.RM(i)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const i=this.ee.Qt().Kn(this.ee);i!==null&&i.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class by{constructor(e,i,n){this.EM=new pe,this.Nu=new pe,this.xw=new pe,this.ns=e,this.Jh=e.Et(),this.tg=i,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=n}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,i){i?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const i={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},n=this.Jh.cc(i);this.ns.$d(n)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){Me(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const i=this.ns.Et();return i.Gi()?null:i.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,i){const n=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(n,i)}timeToCoordinate(e){const i=this.timeToIndex(e,!1);return i===null?null:this.Jh.qt(i)}coordinateToTime(e){const i=this.ns.Et(),n=i.wc(e),s=i.es(n);return s===null?null:s.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Pt(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function qh(t){return function(e){if(Fs(e.handleScale)){const n=e.handleScale;e.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:s}=e.handleScale;Fs(n)&&(e.handleScale.axisPressedMouseMove={time:n,price:n}),Fs(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const i=e.handleScroll;Fs(i)&&(e.handleScroll={horzTouchDrag:i,vertTouchDrag:i,mouseWheel:i,pressedMouseMove:i})}(t),t}class Cy{constructor(e,i,n){this.OM=new Map,this.NM=new Map,this.FM=new pe,this.WM=new pe,this.HM=new pe,this.Xc=new WeakMap,this.UM=new ly(i);const s=n===void 0?Pt(Gh()):Je(Pt(Gh()),qh(n));this.$M=i,this.Yp=new qv(e,s,i),this.Yp.nw().i(l=>{this.FM.v()&&this.FM.p(this.qM(l()))},this),this.Yp.ew().i(l=>{this.WM.v()&&this.WM.p(this.qM(l()))},this),this.Yp.Md().i(l=>{this.HM.v()&&this.HM.p(this.qM(l()))},this);const r=this.Yp.Qt();this.jM=new by(r,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,i,n){this.autoSizeActive()||this.Yp.sg(e,i,n)}addCustomSeries(e,i={},n=0){const s=(r=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...dy,...r.defaultOptions()},YM:fy,KM:r}))(Vt(e));return this.ZM(s,i,n)}addSeries(e,i={},n=0){return this.ZM(e,i,n)}removeSeries(e){const i=Ve(this.OM.get(e)),n=this.UM.Hd(i);this.Yp.Qt().Hd(i),this.GM(n),this.OM.delete(e),this.NM.delete(i)}DM(e,i){this.GM(this.UM.Ug(e,i))}VM(e,i,n){this.GM(this.UM.Zg(e,i,n))}BM(e,i){const[n,s]=this.UM.Jg(e,i);return n.length!==0&&this.GM(s),n}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,i=0){return new Df(this.Yp,e,i)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(qh(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,i=!1){let n,s;try{i||(n=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),s=this.Yp.ug(e)}finally{i||n===void 0||this.Yp.Qt().cr({crosshair:{mode:n}})}return s}addPane(e=!1){const i=this.Yp.Qt().Xd();return i.O_(e),this.XM(i)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,i){this.Yp.Qt().Cd(e,i)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map(e=>this.XM(e))}paneSize(e=0){const i=this.Yp.gg(e);return{height:i.height,width:i.width}}setCrosshairPosition(e,i,n){const s=this.OM.get(n);if(s===void 0)return;const r=this.Yp.Qt().Kn(s);r!==null&&this.Yp.Qt().Ld(e,i,r)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,i={},n=0){Me(e.YM!==void 0),function(u){if(u===void 0||u.type==="custom")return;const h=u;h.minMove!==void 0&&h.precision===void 0&&(h.precision=Ff(h.minMove))}(i.priceFormat),e.type==="Candlestick"&&function(u){u.borderColor!==void 0&&(u.borderUpColor=u.borderColor,u.borderDownColor=u.borderColor),u.wickColor!==void 0&&(u.wickUpColor=u.wickColor,u.wickDownColor=u.wickColor)}(i);const s=Je(Pt(Sf),Pt(e.defaultOptions),i),r=e.YM,l=new Xr(this.Yp.Qt(),e.type,s,r,e.KM);this.Yp.Qt().Fd(l,n);const a=new ky(l,this,this,this,this.$M,u=>this.XM(u));return this.OM.set(a,l),this.NM.set(l,a),a}GM(e){const i=this.Yp.Qt();i.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach((n,s)=>s.ht(n.le,n.iM)),i.Et().Ju(),i.Sc()}JM(e){return Ve(this.NM.get(e))}qM(e){const i=new Map;e.Vg.forEach((s,r)=>{const l=r.wh(),a=nr(l)(s);if(l!=="Custom")Me(ey(a));else{const u=r.hl();Me(!u||u(a)===!1)}i.set(this.JM(r),a)});const n=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:n,hoveredObjectId:e.Bg,seriesData:i,sourceEvent:e.Eg}}XM(e){let i=this.Xc.get(e);return i||(i=new jy(this.Yp,n=>this.JM(n),e,this),this.Xc.set(e,i)),i}}function Py(t){if(vs(t)){const e=document.getElementById(t);return Me(e!==null,`Cannot find element in DOM with id=${t}`),e}return t}function Ey(t,e,i){const n=Py(t),s=new Cy(n,e,i);return e.setOptions(s.options()),s}function Ny(t,e){return Ey(t,new Ih,Ih.pf(e))}class Ty extends Ua{constructor(e,i){super(e,i,!0)}mM(e,i,n){i.mc(this.aM,us(this.lM)),e.Yo(this.aM,n,us(this.lM))}QM(e,i){return{wt:e,gt:i,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(i=>{let n;if((i.jr??1)>1){const s=i.Wt[1],r=i.Wt[2],l=i.Wt[3];n=Math.abs(s-l)>Math.abs(r-l)?s:r}else n=i.Wt[3];return this.tb(i.js,n,e)})}}function zy(t,e,i,n,s,r,l){if(e.length===0||n.from>=e.length||n.to<=0)return;const{context:a,horizontalPixelRatio:u,verticalPixelRatio:h}=t,c=e[n.from];let d=r(t,c),f=c;if(n.to-n.from<2){const m=s/2;a.beginPath();const v={_t:c._t-m,ut:c.ut},x={_t:c._t+m,ut:c.ut};a.moveTo(v._t*u,v.ut*h),a.lineTo(x._t*u,x.ut*h),l(t,d,v,x)}else{const m=(x,P)=>{l(t,d,f,P),a.beginPath(),d=x,f=P};let v=f;a.beginPath(),a.moveTo(c._t*u,c.ut*h);for(let x=n.from+1;x<n.to;++x){v=e[x];const P=r(t,v);switch(i){case 0:a.lineTo(v._t*u,v.ut*h);break;case 1:a.lineTo(v._t*u,e[x-1].ut*h),P!==d&&(m(P,v),a.lineTo(v._t*u,e[x-1].ut*h)),a.lineTo(v._t*u,v.ut*h);break;case 2:{const[g,p]=Ly(e,x-1,x);a.bezierCurveTo(g._t*u,g.ut*h,p._t*u,p.ut*h,v._t*u,v.ut*h);break}}i!==1&&P!==d&&(m(P,v),a.moveTo(v._t*u,v.ut*h))}(f!==v||f===v&&i===1)&&l(t,d,f,v)}}const Zh=6;function Dl(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function ec(t,e){return{_t:t._t/e,ut:t.ut/e}}function Ly(t,e,i){const n=Math.max(0,e-1),s=Math.min(t.length-1,i+1);var r,l;return[(r=t[e],l=ec(Dl(t[i],t[n]),Zh),{_t:r._t+l._t,ut:r.ut+l.ut}),Dl(t[i],ec(Dl(t[s],t[e]),Zh))]}function Ry(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class Iy extends Ci{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:i,lt:n,ib:s,sb:r,ct:l,Zt:a,nb:u}=this.rt;if(n===null)return;const h=e.context;h.lineCap="butt",h.lineWidth=l*e.verticalPixelRatio,Si(h,a),h.lineJoin="round";const c=this.eb.bind(this);r!==void 0&&zy(e,i,r,n,s,c,Ry),u&&function(d,f,m,v,x){if(v.to-v.from<=0)return;const{horizontalPixelRatio:P,verticalPixelRatio:g,context:p}=d;let y=null;const S=Math.max(1,Math.floor(P))%2/2,M=m*g+S;for(let b=v.to-1;b>=v.from;--b){const w=f[b];if(w){const _=x(d,w);_!==y&&(p.beginPath(),y!==null&&p.fill(),p.fillStyle=_,y=_);const C=Math.round(w._t*P)+S,I=w.ut*g;p.moveTo(C,I),p.arc(C,I,M,0,2*Math.PI)}}p.fill()}(e,i,u,n,c)}}class Fy extends Iy{eb(e,i){return i.vt}}class By extends Ty{constructor(){super(...arguments),this.cM=new Fy}tb(e,i,n){return{...this.QM(e,i),...n.gh(e)}}wM(){const e=this.ee.N(),i={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(i)}}const Wl={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new By(t,e)};class Ay extends Ua{constructor(e,i){super(e,i,!1)}mM(e,i,n){i.mc(this.aM,us(this.lM)),e.Zo(this.aM,n,us(this.lM))}Lb(e,i,n){return{wt:e,Hr:i.Wt[0],Ur:i.Wt[1],$r:i.Wt[2],qr:i.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(i=>this.tb(i.js,i,e))}}class $y extends Ci{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(this.jt===null||this.jt.qs.length===0||this.jt.lt===null)return;const{horizontalPixelRatio:i}=e;this.Ib=function(r,l){if(r>=2.5&&r<=4)return Math.floor(3*l);const a=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),u=Math.floor(r*a*l),h=Math.floor(r*l),c=Math.min(u,h);return Math.max(Math.floor(l),c)}(this.jt.ul,i),this.Ib>=2&&Math.floor(i)%2!=this.Ib%2&&this.Ib--;const n=this.jt.qs;this.jt.zb&&this.Ob(e,n,this.jt.lt),this.jt.Mi&&this.gm(e,n,this.jt.lt);const s=this.Nb(i);(!this.jt.Mi||this.Ib>2*s)&&this.Fb(e,n,this.jt.lt)}Ob(e,i,n){if(this.jt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let a="",u=Math.min(Math.floor(r),Math.floor(this.jt.ul*r));u=Math.max(Math.floor(r),Math.min(u,this.Ib));const h=Math.floor(.5*u);let c=null;for(let d=n.from;d<n.to;d++){const f=i[d];f.sh!==a&&(s.fillStyle=f.sh,a=f.sh);const m=Math.round(Math.min(f.Go,f.Qo)*l),v=Math.round(Math.max(f.Go,f.Qo)*l),x=Math.round(f.Xo*l),P=Math.round(f.Jo*l);let g=Math.round(r*f._t)-h;const p=g+u-1;c!==null&&(g=Math.max(c+1,g),g=Math.min(g,p));const y=p-g+1;s.fillRect(g,x,y,m-x),s.fillRect(g,v+1,y,P-v),c=p}}Nb(e){let i=Math.floor(1*e);this.Ib<=2*i&&(i=Math.floor(.5*(this.Ib-1)));const n=Math.max(Math.floor(e),i);return this.Ib<=2*n?Math.max(Math.floor(e),Math.floor(1*e)):n}gm(e,i,n){if(this.jt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let a="";const u=this.Nb(r);let h=null;for(let c=n.from;c<n.to;c++){const d=i[c];d.ih!==a&&(s.fillStyle=d.ih,a=d.ih);let f=Math.round(d._t*r)-Math.floor(.5*this.Ib);const m=f+this.Ib-1,v=Math.round(Math.min(d.Go,d.Qo)*l),x=Math.round(Math.max(d.Go,d.Qo)*l);if(h!==null&&(f=Math.max(h+1,f),f=Math.min(f,m)),this.jt.ul*r>2*u)Og(s,f,v,m-f+1,x-v+1,u);else{const P=m-f+1;s.fillRect(f,v,P,x-v+1)}h=m}}Fb(e,i,n){if(this.jt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let a="";const u=this.Nb(r);for(let h=n.from;h<n.to;h++){const c=i[h];let d=Math.round(Math.min(c.Go,c.Qo)*l),f=Math.round(Math.max(c.Go,c.Qo)*l),m=Math.round(c._t*r)-Math.floor(.5*this.Ib),v=m+this.Ib-1;if(c.th!==a){const x=c.th;s.fillStyle=x,a=x}this.jt.Mi&&(m+=u,d+=u,v-=u,f-=u),d>f||s.fillRect(m,d,v-m+1,f-d+1)}}}class Oy extends Ay{constructor(){super(...arguments),this.cM=new $y}tb(e,i,n){return{...this.Lb(e,i,n),...n.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}}const Dy={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(t,e)=>new Oy(t,e)};class Wy{constructor(e,i){this.ee=e,this.Zh=i,this.jb()}detach(){this.ee.detachPrimitive(this.Zh)}getSeries(){return this.ee}applyOptions(e){this.Zh&&this.Zh.cr&&this.Zh.cr(e)}jb(){this.ee.attachPrimitive(this.Zh)}}const Uy={autoScale:!0,zOrder:"normal"};function Vn(t,e){return $a(Math.min(Math.max(t,12),30)*e)}function cn(t,e){switch(t){case"arrowDown":case"arrowUp":return Vn(e,1);case"circle":return Vn(e,.8);case"square":return Vn(e,.7)}}function Wf(t){return function(e){const i=Math.ceil(e);return i%2!=0?i-1:i}(Vn(t,1))}function Uf(t){return Math.max(Vn(t,.1),3)}function tc(t,e,i){return e?t:i?Math.ceil(t/2):0}function ic(t,e,i,n){const s=(cn("arrowUp",n)-1)/2*i.pS,r=($a(n/2)-1)/2*i.pS;e.beginPath(),t?(e.moveTo(i._t-s,i.ut),e.lineTo(i._t,i.ut-s),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+r,i.ut+s),e.lineTo(i._t-r,i.ut+s),e.lineTo(i._t-r,i.ut)):(e.moveTo(i._t-s,i.ut),e.lineTo(i._t,i.ut+s),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+r,i.ut-s),e.lineTo(i._t-r,i.ut-s),e.lineTo(i._t-r,i.ut)),e.fill()}function nc(t,e,i,n,s,r){const l=(cn("arrowUp",n)-1)/2,a=($a(n/2)-1)/2;return s>=e-a-2&&s<=e+a+2&&r>=(t?i:i-l)-2&&r<=(t?i+l:i)+2?!0:(()=>{if(s<e-l-3||s>e+l+3||r<(t?i-l-3:i)||r>(t?i:i+l+3))return!1;const u=Math.abs(s-e);return Math.abs(r-i)+3>=u/2})()}class Vy{constructor(){this.jt=null,this.$n=new cs,this.F=-1,this.W="",this.jv="",this.vS="normal"}ht(e){this.jt=e}qn(e,i,n){this.F===e&&this.W===i||(this.F=e,this.W=i,this.jv=hs(e,i),this.$n.On()),this.vS=n}Qn(e,i){if(this.jt===null||this.jt.lt===null)return null;for(let n=this.jt.lt.from;n<this.jt.lt.to;n++){const s=this.jt.ot[n];if(s&&Ky(s,e,i))return{zOrder:"normal",externalId:s.te??""}}return null}draw(e){this.vS!=="aboveSeries"&&e.useBitmapCoordinateSpace(i=>{this.et(i)})}drawBackground(e){this.vS==="aboveSeries"&&e.useBitmapCoordinateSpace(i=>{this.et(i)})}et({context:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.jt!==null&&this.jt.lt!==null){e.textBaseline="middle",e.font=this.jv;for(let s=this.jt.lt.from;s<this.jt.lt.to;s++){const r=this.jt.ot[s];r.ri!==void 0&&(r.ri.ss=this.$n.Ii(e,r.ri.mS),r.ri.$t=this.F,r.ri._t=r._t-r.ri.ss/2),Hy(r,e,i,n)}}}}function Hy(t,e,i,n){e.fillStyle=t.R,t.ri!==void 0&&function(s,r,l,a,u,h){s.save(),s.scale(u,h),s.fillText(r,l,a),s.restore()}(e,t.ri.mS,t.ri._t,t.ri.ut,i,n),function(s,r,l){if(s.yh!==0){switch(s.wS){case"arrowDown":return void ic(!1,r,l,s.yh);case"arrowUp":return void ic(!0,r,l,s.yh);case"circle":return void function(a,u,h){const c=(cn("circle",h)-1)/2;a.beginPath(),a.arc(u._t,u.ut,c*u.pS,0,2*Math.PI,!1),a.fill()}(r,l,s.yh);case"square":return void function(a,u,h){const c=cn("square",h),d=(c-1)*u.pS/2,f=u._t-d,m=u.ut-d;a.fillRect(f,m,c*u.pS,c*u.pS)}(r,l,s.yh)}s.wS}}(t,e,function(s,r,l){const a=Math.max(1,Math.floor(r))%2/2;return{_t:Math.round(s._t*r)+a,ut:s.ut*l,pS:r}}(t,i,n))}function Ky(t,e,i){return!(t.ri===void 0||!function(n,s,r,l,a,u){const h=l/2;return a>=n&&a<=n+r&&u>=s-h&&u<=s+h}(t.ri._t,t.ri.ut,t.ri.ss,t.ri.$t,e,i))||function(n,s,r){if(n.yh===0)return!1;switch(n.wS){case"arrowDown":return nc(!0,n._t,n.ut,n.yh,s,r);case"arrowUp":return nc(!1,n._t,n.ut,n.yh,s,r);case"circle":return function(l,a,u,h,c){const d=2+cn("circle",u)/2,f=l-h,m=a-c;return Math.sqrt(f*f+m*m)<=d}(n._t,n.ut,n.yh,s,r);case"square":return function(l,a,u,h,c){const d=cn("square",u),f=(d-1)/2,m=l-f,v=a-f;return h>=m&&h<=m+d&&c>=v&&c<=v+d}(n._t,n.ut,n.yh,s,r)}}(t,e,i)}function sc(t){return t==="atPriceTop"||t==="atPriceBottom"||t==="atPriceMiddle"}function Qy(t,e,i,n,s,r,l,a){const u=function(v,x,P){if(sc(x.position)&&x.price!==void 0)return x.price;if("value"in(g=v)&&typeof g.value=="number")return v.value;var g;if(function(p){return"open"in p&&"high"in p&&"low"in p&&"close"in p}(v)){if(x.position==="inBar")return v.close;if(x.position==="aboveBar")return P?v.low:v.high;if(x.position==="belowBar")return P?v.high:v.low}}(i,e,l.priceScale().options().invertScale);if(u===void 0)return;const h=sc(e.position),c=a.timeScale(),d=_i(e.size)?Math.max(e.size,0):1,f=Wf(c.options().barSpacing)*d,m=f/2;switch(t.yh=f,e.position){case"inBar":case"atPriceMiddle":return t.ut=N(l.priceToCoordinate(u)),void(t.ri!==void 0&&(t.ri.ut=t.ut+m+r+.6*s));case"aboveBar":case"atPriceTop":{const v=h?0:n.gS;return t.ut=N(l.priceToCoordinate(u))-m-v,t.ri!==void 0&&(t.ri.ut=t.ut-m-.6*s,n.gS+=1.2*s),void(h||(n.gS+=f+r))}case"belowBar":case"atPriceBottom":{const v=h?0:n.MS;return t.ut=N(l.priceToCoordinate(u))+m+v,t.ri!==void 0&&(t.ri.ut=t.ut+m+r+.6*s,n.MS+=1.2*s),void(h||(n.MS+=f+r))}}}class Yy{constructor(e,i,n){this.bS=[],this.xt=!0,this.SS=!0,this.Xt=new Vy,this.ye=e,this.Lv=i,this.jt={ot:[],lt:null},this.Ps=n}renderer(){if(!this.ye.options().visible)return null;this.xt&&this.xS();const e=this.Lv.options().layout;return this.Xt.qn(e.fontSize,e.fontFamily,this.Ps.zOrder),this.Xt.ht(this.jt),this.Xt}CS(e){this.bS=e,this.kt("data")}kt(e){this.xt=!0,e==="data"&&(this.SS=!0)}yS(e){this.xt=!0,this.Ps=e}zOrder(){return this.Ps.zOrder==="aboveSeries"?"top":this.Ps.zOrder}xS(){const e=this.Lv.timeScale(),i=this.bS;this.SS&&(this.jt.ot=i.map(h=>({wt:h.time,_t:0,ut:0,yh:0,wS:h.shape,R:h.color,te:h.id,kS:h.kS,ri:void 0})),this.SS=!1);const n=this.Lv.options().layout;this.jt.lt=null;const s=e.getVisibleLogicalRange();if(s===null)return;const r=new Zi(Math.floor(s.from),Math.ceil(s.to));if(this.ye.data()[0]===null||this.jt.ot.length===0)return;let l=NaN;const a=Uf(e.options().barSpacing),u={gS:a,MS:a};this.jt.lt=$f(this.jt.ot,r,!0);for(let h=this.jt.lt.from;h<this.jt.lt.to;h++){const c=i[h];c.time!==l&&(u.gS=a,u.MS=a,l=c.time);const d=this.jt.ot[h];d._t=N(e.logicalToCoordinate(c.time)),c.text!==void 0&&c.text.length>0&&(d.ri={mS:c.text,_t:0,ut:0,ss:0,$t:0});const f=this.ye.dataByIndex(c.time,0);f!==null&&Qy(d,c,f,u,n.fontSize,a,this.ye,this.Lv)}this.xt=!1}}function rc(t){return{...Uy,...t}}class Jy{constructor(e){this.$h=null,this.bS=[],this.PS=[],this.TS=null,this.ye=null,this.Lv=null,this.RS=!0,this.DS=null,this.IS=null,this.VS=null,this.BS=!0,this.Ps=rc(e)}attached(e){this.ES(),this.Lv=e.chart,this.ye=e.series,this.$h=new Yy(this.ye,N(this.Lv),this.Ps),this.dS=e.requestUpdate,this.ye.subscribeDataChanged(i=>this.IM(i)),this.BS=!0,this.Jb()}Jb(){this.dS&&this.dS()}detached(){this.ye&&this.TS&&this.ye.unsubscribeDataChanged(this.TS),this.Lv=null,this.ye=null,this.$h=null,this.TS=null}CS(e){this.BS=!0,this.bS=e,this.ES(),this.RS=!0,this.IS=null,this.Jb()}AS(){return this.bS}paneViews(){return this.$h?[this.$h]:[]}updateAllViews(){this.LS()}hitTest(e,i){var n;return this.$h?((n=this.$h.renderer())==null?void 0:n.Qn(e,i))??null:null}autoscaleInfo(e,i){if(this.Ps.autoScale&&this.$h){const n=this.zS();if(n)return{priceRange:null,margins:n}}return null}cr(e){this.Ps=rc({...this.Ps,...e}),this.Jb&&this.Jb()}zS(){const e=N(this.Lv).timeScale().options().barSpacing;if(this.RS||e!==this.VS){if(this.VS=e,this.bS.length>0){const i=Uf(e),n=1.5*Wf(e)+2*i,s=this.OS();this.DS={above:tc(n,s.aboveBar,s.inBar),below:tc(n,s.belowBar,s.inBar)}}else this.DS=null;this.RS=!1}return this.DS}OS(){return this.IS===null&&(this.IS=this.bS.reduce((e,i)=>(e[i.position]||(e[i.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.IS}ES(){var s;if(!this.BS||!this.Lv||!this.ye)return;const e=this.Lv.timeScale(),i=(s=this.ye)==null?void 0:s.data();if(e.getVisibleLogicalRange()==null||!this.ye||i.length===0)return void(this.PS=[]);const n=e.timeToIndex(N(i[0].time),!0);this.PS=this.bS.map((r,l)=>{const a=e.timeToIndex(r.time,!0),u=a<n?1:-1,h=N(this.ye).dataByIndex(a,u),c={time:e.timeToIndex(N(h).time,!1),position:r.position,shape:r.shape,color:r.color,id:r.id,kS:l,text:r.text,size:r.size,price:r.price,Gr:r.time};if(r.position==="atPriceTop"||r.position==="atPriceBottom"||r.position==="atPriceMiddle"){if(r.price===void 0)throw new Error(`Price is required for position ${r.position}`);return{...c,position:r.position,price:r.price}}return{...c,position:r.position,price:r.price}}),this.BS=!1}LS(e){this.$h&&(this.ES(),this.$h.CS(this.PS),this.$h.yS(this.Ps),this.$h.kt(e))}IM(e){this.BS=!0,this.Jb()}}class Gy extends Wy{constructor(e,i,n){super(e,i),n&&this.setMarkers(n)}setMarkers(e){this.Zh.CS(e)}markers(){return this.Zh.AS()}}function Xy(t,e,i){return new Gy(t,new Jy({}))}({...Sf});const q="/api";async function re(t,e){const i=await fetch(t,e);if(!i.ok){const n=await i.text();throw new Error(`API error: ${i.status} - ${n}`)}return i.json()}async function qy(){return re(`${q}/profiles`)}async function Vf(t){return re(`${q}/profiles/${encodeURIComponent(t)}`)}async function Hf(t,e){await re(`${q}/profiles/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_data:e})})}async function Zy(t){return re(`${q}/profiles`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})})}async function e0(t){return re(`${q}/profiles?path=${encodeURIComponent(t)}`,{method:"DELETE"})}async function t0(t){return re(`${q}/auth/check?profile_path=${encodeURIComponent(t)}`)}async function i0(t,e){return re(`${q}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,password:e})})}async function Uo(t,e,i){return re(`${q}/auth/set-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,current_password:e,new_password:i})})}async function n0(t,e){return re(`${q}/auth/remove-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,password:e})})}async function s0(){return re(`${q}/presets`)}async function r0(t,e){return re(`${q}/presets/${t}/preview?profile_path=${encodeURIComponent(e)}`)}async function l0(t,e){return re(`${q}/presets/${t}/apply?profile_path=${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({preset_id:t})})}async function o0(t){return re(`${q}/runtime/${t}`)}async function lc(t,e,i){await re(`${q}/runtime/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:e,kill_switch:i})})}async function a0(t,e){return re(`${q}/loop/${t}/start?profile_path=${encodeURIComponent(e)}`,{method:"POST"})}async function u0(t){return re(`${q}/loop/${t}/stop`,{method:"POST"})}async function h0(t,e=100){return re(`${q}/loop/${t}/log?lines=${e}`)}async function Kf(t,e=50,i){const n=new URLSearchParams({limit:String(e)});i&&n.set("profile_path",i);const s=`${q}/data/${t}/trades?${n}`,r=await re(s);return r!=null&&typeof r=="object"&&"trades"in r&&Array.isArray(r.trades)?{trades:r.trades,display_currency:r.display_currency}:{trades:Array.isArray(r)?r:[],display_currency:void 0}}async function c0(t,e=50){return re(`${q}/data/${t}/executions?limit=${e}`)}async function d0(t){return re(`${q}/data/${t}/rejection-breakdown`)}async function f0(t,e){const i=e?`${q}/data/${t}/stats?profile_path=${encodeURIComponent(e)}`:`${q}/data/${t}/stats`;return re(i)}async function p0(t,e){const i=e?`${q}/data/${t}/stats-by-preset?profile_path=${encodeURIComponent(e)}`:`${q}/data/${t}/stats-by-preset`;return re(i)}async function m0(t,e){const i=e?`${q}/data/${t}/mt5-report?profile_path=${encodeURIComponent(e)}`:`${q}/data/${t}/mt5-report`,n=await fetch(i);if(!n.ok)return null;const s=await n.json();return(s==null?void 0:s.source)==="mt5"?s:null}async function g0(t,e,i){return re(`${q}/trades/${t}/${e}/close?profile_path=${encodeURIComponent(i)}`,{method:"POST"})}async function v0(t,e,i=!0){const n=new URLSearchParams({profile_path:e});return i&&n.set("force_profit_refresh","true"),re(`${q}/data/${t}/sync-trades?${n}`,{method:"POST"})}async function y0(t,e){return re(`${q}/data/${t}/technical-analysis?profile_path=${encodeURIComponent(e)}`)}const x0=()=>{try{const t=sessionStorage.getItem("unlockedProfiles");return t?new Set(JSON.parse(t)):new Set}catch{return new Set}},Ul=t=>{sessionStorage.setItem("unlockedProfiles",JSON.stringify([...t]))};function w0(){const[t,e]=R.useState("run"),[i,n]=R.useState([]),[s,r]=R.useState(null),[l,a]=R.useState(null),[u,h]=R.useState(!1),[c,d]=R.useState(""),[f,m]=R.useState(null),[v,x]=R.useState(!1),[P,g]=R.useState(!1),[p,y]=R.useState(""),[S,M]=R.useState(""),[b,w]=R.useState(null),[_,C]=R.useState(!1),[I,F]=R.useState({}),[H,A]=R.useState(x0),[V,Q]=R.useState(""),[L,T]=R.useState(null),[E,j]=R.useState(!1),D=async()=>{try{const W=await qy();n(W);const ie={};await Promise.all(W.map(async ye=>{try{const{has_password:Pi}=await t0(ye.path);ie[ye.path]=Pi}catch{ie[ye.path]=!1}})),F(ie),r(ye=>W.length===0?null:ye&&W.some(Pi=>Pi.path===ye.path)?ye:W[0])}catch(W){a(W.message)}};R.useEffect(()=>{D()},[]);const Y=s&&I[s.path]&&!H.has(s.path),G=async()=>{if(s){T(null),j(!0);try{const{success:W}=await i0(s.path,V);if(W){const ie=new Set(H);ie.add(s.path),A(ie),Ul(ie),Q("")}else T("Incorrect password")}catch(W){T(W.message)}finally{j(!1)}}},Ze=()=>{if(!s)return;const W=new Set(H);W.delete(s.path),A(W),Ul(W),Q(""),T(null)},ze=async()=>{const W=c.trim();if(!W){m("Enter a name");return}if(P){if(!p||p.length<4){m("Password must be at least 4 characters");return}if(p!==S){m("Passwords do not match");return}}m(null),x(!0);try{const ie=await Zy(W);if(P&&p){await Uo(ie.path,null,p);const ye=new Set(H);ye.add(ie.path),A(ye),Ul(ye)}await D(),r(ie),d(""),y(""),M(""),g(!1),h(!1)}catch(ie){m(ie.message)}finally{x(!1)}},lt=async()=>{if(b){C(!0);try{await e0(b.path),D(),w(null)}catch(W){a(W.message)}finally{C(!1)}}};return o.jsxs("div",{className:"app",children:[o.jsxs("aside",{className:"sidebar",children:[o.jsx("h1",{children:"USDJPY Assistant"}),o.jsx("p",{className:"subtitle",children:"Trading Bot Dashboard"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Account"}),o.jsx("select",{value:(s==null?void 0:s.path)||"",onChange:W=>{const ie=i.find(ye=>ye.path===W.target.value);r(ie||null),Q(""),T(null)},children:i.map(W=>o.jsxs("option",{value:W.path,children:[I[W.path]?" ":"",W.name]},W.path))}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:8,flexWrap:"wrap"},children:[o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:()=>{h(!u),m(null),d(""),y(""),M(""),g(!1)},children:"Add account"}),o.jsx("button",{type:"button",className:"btn btn-danger",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:()=>s&&w(s),disabled:!s||i.length===0,children:"Remove account"}),s&&I[s.path]&&H.has(s.path)&&o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:Ze,children:"Lock"})]})]}),u&&o.jsxs("div",{className:"card",style:{marginTop:12,padding:12},children:[o.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[o.jsx("label",{children:"New account name"}),o.jsx("input",{type:"text",value:c,onChange:W=>d(W.target.value),placeholder:"e.g. uncle_demo"})]}),o.jsx("div",{className:"form-group",style:{marginBottom:8},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:P,onChange:W=>g(W.target.checked),style:{width:"auto"}}),"Set password (recommended)"]})}),P&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[o.jsx("label",{children:"Password"}),o.jsx("input",{type:"password",value:p,onChange:W=>y(W.target.value),placeholder:"Min 4 characters"})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[o.jsx("label",{children:"Confirm password"}),o.jsx("input",{type:"password",value:S,onChange:W=>M(W.target.value),placeholder:"Confirm password"})]}),o.jsx("p",{style:{fontSize:"0.7rem",color:"var(--warning)",marginBottom:8,background:"rgba(234, 179, 8, 0.1)",padding:8,borderRadius:4},children:"Write your password down in a safe location. There is no forgot-password option."})]}),f&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.8rem",marginBottom:8},children:f}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",className:"btn btn-primary",style:{fontSize:"0.8rem"},onClick:ze,disabled:v,children:v?"Creating":"Create"}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem"},onClick:()=>{h(!1),m(null),d(""),y(""),M(""),g(!1)},disabled:v,children:"Cancel"})]})]}),b&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{className:"card",style:{maxWidth:400,margin:16},children:[o.jsx("h3",{className:"card-title",children:"Remove account"}),o.jsxs("p",{style:{marginBottom:16},children:["Remove ",o.jsx("strong",{children:b.name}),"? This will delete the profile file. Logs and trade history for this account are kept."]}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",className:"btn btn-danger",onClick:lt,disabled:_,children:_?"Removing":"Remove"}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>w(null),disabled:_,children:"Cancel"})]})]})}),o.jsxs("nav",{style:{marginTop:24},children:[o.jsx("button",{className:`nav-item ${t==="run"?"active":""}`,onClick:()=>e("run"),children:"Run / Status"}),o.jsx("button",{className:`nav-item ${t==="analysis"?"active":""}`,onClick:()=>e("analysis"),children:"Analysis"}),o.jsx("button",{className:`nav-item ${t==="presets"?"active":""}`,onClick:()=>e("presets"),children:"Presets"}),o.jsx("button",{className:`nav-item ${t==="profile"?"active":""}`,onClick:()=>e("profile"),children:"Profile Editor"}),o.jsx("button",{className:`nav-item ${t==="logs"?"active":""}`,onClick:()=>e("logs"),children:"Logs & Stats"}),o.jsx("button",{className:`nav-item ${t==="guide"?"active":""}`,onClick:()=>e("guide"),children:"Help / Guide"})]})]}),o.jsxs("main",{className:"main-content",children:[l&&o.jsxs("div",{className:"card",style:{borderColor:"var(--danger)"},children:[o.jsxs("p",{style:{color:"var(--danger)"},children:["Error: ",l]}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>a(null),children:"Dismiss"})]}),s?Y?o.jsxs("div",{className:"card",style:{maxWidth:400,margin:"40px auto",textAlign:"center"},children:[o.jsx("h2",{style:{marginBottom:16},children:"Profile Locked"}),o.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:[o.jsx("strong",{children:s.name})," is password-protected. Enter your password to continue."]}),o.jsxs("div",{className:"form-group",style:{marginBottom:16,textAlign:"left"},children:[o.jsx("label",{children:"Password"}),o.jsx("input",{type:"password",value:V,onChange:W=>Q(W.target.value),onKeyDown:W=>W.key==="Enter"&&G(),placeholder:"Enter password",autoFocus:!0})]}),L&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.85rem",marginBottom:12},children:L}),o.jsx("button",{className:"btn btn-primary",onClick:G,disabled:E||!V,style:{width:"100%",marginBottom:16},children:E?"Unlocking...":"Unlock"}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"There is no forgot-password option. If you've lost your password, contact the administrator."})]}):o.jsxs(o.Fragment,{children:[t==="run"&&o.jsx(S0,{profile:s}),t==="analysis"&&o.jsx(j0,{profile:s}),t==="presets"&&o.jsx(k0,{profile:s}),t==="profile"&&o.jsx(b0,{profile:s,authStatus:I,onAuthChange:D}),t==="logs"&&o.jsx(C0,{profile:s}),t==="guide"&&o.jsx(P0,{})]}):o.jsx("div",{className:"card",children:o.jsxs("p",{children:["No accounts yet. Use ",o.jsx("strong",{children:"Add account"})," in the sidebar to create one, or add a profile JSON in the profiles/ folder."]})})]})]})}function S0({profile:t}){const[e,i]=R.useState(null),[n,s]=R.useState(""),[r,l]=R.useState(!1),a=()=>{o0(t.name).then(i).catch(console.error),h0(t.name,50).then(f=>s(f.content)).catch(console.error)};R.useEffect(()=>{a();const f=setInterval(a,3e3);return()=>clearInterval(f)},[t.name]);const u=async f=>{e&&(await lc(t.name,f,e.kill_switch),a())},h=async f=>{e&&(await lc(t.name,e.mode,f),a())},c=async()=>{l(!0);try{await a0(t.name,t.path),a()}finally{l(!1)}},d=async()=>{l(!0);try{await u0(t.name),a()}finally{l(!1)}};return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Run / Status"}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Loop Control"}),o.jsxs("div",{className:"flex-between mb-4",children:[o.jsx("span",{children:"Status:"}),e!=null&&e.loop_running?o.jsxs("span",{className:"status status-running",children:[o.jsx("span",{className:"status-dot"}),"Running"]}):o.jsxs("span",{className:"status status-stopped",children:[o.jsx("span",{className:"status-dot"}),"Stopped"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"btn btn-success",onClick:c,disabled:r||(e==null?void 0:e.loop_running),children:"Start Loop"}),o.jsx("button",{className:"btn btn-danger",onClick:d,disabled:r||!(e!=null&&e.loop_running),children:"Stop Loop"})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Runtime Settings"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Mode"}),o.jsxs("select",{value:(e==null?void 0:e.mode)||"DISARMED",onChange:f=>u(f.target.value),children:[o.jsx("option",{value:"DISARMED",children:"DISARMED"}),o.jsx("option",{value:"ARMED_MANUAL_CONFIRM",children:"ARMED_MANUAL_CONFIRM"}),o.jsx("option",{value:"ARMED_AUTO_DEMO",children:"ARMED_AUTO_DEMO"})]})]}),o.jsx("div",{className:"form-group",children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.kill_switch)||!1,onChange:f=>h(f.target.checked),style:{width:"auto"}}),"Kill Switch (disable all execution)"]})})]})]}),o.jsxs("div",{className:"card mt-4",children:[o.jsx("h3",{className:"card-title",children:"Loop Log (last 50 lines)"}),o.jsx("div",{className:"log-viewer",children:n||"(no log yet)"})]})]})}function _0({ohlc:t,trades:e,emaFast:i,emaSlow:n,emaStack:s,height:r=300}){const l=R.useRef(null),a=R.useRef(null),u=R.useRef(null);return R.useEffect(()=>{if(!l.current||t.length===0)return;const h=Ny(l.current,{width:l.current.clientWidth,height:r,layout:{background:{color:"#1a1a2e"},textColor:"#d1d5db"},grid:{vertLines:{color:"#2d2d44"},horzLines:{color:"#2d2d44"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2d2d44"},timeScale:{borderColor:"#2d2d44",timeVisible:!0,secondsVisible:!1}});a.current=h;const c=h.addSeries(Dy,{upColor:"#10b981",downColor:"#ef4444",borderUpColor:"#10b981",borderDownColor:"#ef4444",wickUpColor:"#10b981",wickDownColor:"#ef4444"});u.current=c;const d=t.map(M=>({time:M.time,open:M.open,high:M.high,low:M.low,close:M.close}));c.setData(d);const f={lastValueVisible:!1,priceLineVisible:!1},m={ema8:"#f59e0b",ema13:"#3b82f6",ema21:"#8b5cf6",ema34:"#06b6d4",ema50:"#10b981",ema89:"#6366f1",ema200:"#a855f7"};i&&i.length>0&&h.addSeries(Wl,{color:"#3b82f6",lineWidth:2,title:"EMA Fast",...f}).setData(i.map(b=>({time:b.time,value:b.value}))),n&&n.length>0&&h.addSeries(Wl,{color:"#10b981",lineWidth:2,title:"SMA Slow",...f}).setData(n.map(b=>({time:b.time,value:b.value}))),s&&Object.entries(s).forEach(([M,b])=>{if(b&&b.length>0){const w=m[M]||"#94a3b8";h.addSeries(Wl,{color:w,lineWidth:1,title:M.toUpperCase(),...f}).setData(b.map(C=>({time:C.time,value:C.value})))}});const v=[];e.forEach(M=>{const b=M.side.toLowerCase()==="buy",C=b?"#3b82f6":"#ef4444";M.entry_time!=null&&v.push({time:M.entry_time,position:b?"belowBar":"aboveBar",color:C,shape:b?"arrowUp":"arrowDown",text:""}),M.exit_time!=null&&v.push({time:M.exit_time,position:b?"aboveBar":"belowBar",color:C,shape:"circle",text:""})}),v.length>0&&Xy(c).setMarkers(v);const x="#3b82f6",P="#ef4444",g="#10b981",p="#ef4444";e.filter(M=>M.exit_time==null&&M.exit_price==null).forEach(M=>{const w=M.side.toLowerCase()==="buy"?x:P;M.entry_price!=null&&c.createPriceLine({price:M.entry_price,color:w,lineWidth:1,lineStyle:On.Solid,axisLabelVisible:!0,title:"Entry"}),M.target_price!=null&&c.createPriceLine({price:M.target_price,color:g,lineWidth:1,lineStyle:On.Solid,axisLabelVisible:!0,title:"TP"}),M.stop_price!=null&&c.createPriceLine({price:M.stop_price,color:p,lineWidth:1,lineStyle:On.Solid,axisLabelVisible:!0,title:"SL"})}),h.timeScale().fitContent();const S=()=>{l.current&&a.current&&a.current.applyOptions({width:l.current.clientWidth})};return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),h.remove()}},[t,e,i,n,s,r]),t.length===0?o.jsx("div",{style:{height:r,display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-tertiary)",borderRadius:6,color:"var(--text-secondary)"},children:"No chart data available"}):o.jsx("div",{ref:l,style:{width:"100%",height:r,borderRadius:6,overflow:"hidden"}})}function j0({profile:t}){const[e,i]=R.useState(null),[n,s]=R.useState(!0),[r,l]=R.useState(null),[a,u]=R.useState(null),[h,c]=R.useState(null),[d,f]=R.useState(null),[m,v]=R.useState([]),x=async()=>{try{const[_,C]=await Promise.all([y0(t.name,t.path),Kf(t.name,50).then(F=>F.trades).catch(()=>[])]);i(_);const I=C.filter(F=>F.trade_id&&F.entry_price).map(F=>{const H=F.timestamp_utc,A=F.exit_timestamp_utc,V=H?Math.floor(new Date(H).getTime()/1e3):void 0,Q=A?Math.floor(new Date(A).getTime()/1e3):void 0;return{trade_id:String(F.trade_id),entry_price:Number(F.entry_price),stop_price:F.stop_price!=null?Number(F.stop_price):null,target_price:F.target_price!=null?Number(F.target_price):null,side:String(F.side||"buy"),entry_time:V,exit_time:Q,exit_price:F.exit_price!=null?Number(F.exit_price):void 0}});v(I),l(null),f(new Date)}catch(_){l(_.message)}finally{s(!1)}};R.useEffect(()=>{s(!0),x();const _=setInterval(x,3e4);return()=>clearInterval(_)},[t.name,t.path]);const P=_=>{u(a===_?null:_)},g=_=>{const C={bull:{bg:"rgba(16, 185, 129, 0.2)",color:"var(--success)"},bear:{bg:"rgba(239, 68, 68, 0.2)",color:"var(--danger)"},sideways:{bg:"rgba(156, 163, 175, 0.2)",color:"var(--text-secondary)"},unknown:{bg:"rgba(156, 163, 175, 0.2)",color:"var(--text-secondary)"}},I=C[_]||C.unknown;return o.jsx("span",{style:{padding:"4px 10px",borderRadius:4,background:I.bg,color:I.color,fontWeight:600,fontSize:"0.85rem",textTransform:"uppercase"},children:_})},p=_=>{const C={oversold:"var(--success)",overbought:"var(--danger)",neutral:"var(--text-secondary)"};return o.jsxs("span",{children:[o.jsx("span",{style:{color:C[_.zone]||"inherit"},children:_.zone.charAt(0).toUpperCase()+_.zone.slice(1)}),_.value!==null&&o.jsxs("span",{style:{color:"var(--text-secondary)",marginLeft:4},children:["(",_.value.toFixed(1),")"]})]})},y=_=>{const C={positive:"var(--success)",negative:"var(--danger)",neutral:"var(--text-secondary)"};return o.jsx("span",{style:{color:C[_.direction]||"inherit"},children:_.direction.charAt(0).toUpperCase()+_.direction.slice(1)})},S=_=>{const C={elevated:"var(--warning)",low:"var(--accent)",normal:"var(--text-secondary)"};return o.jsxs("span",{children:[o.jsx("span",{style:{color:C[_.state]||"inherit"},children:_.state.charAt(0).toUpperCase()+_.state.slice(1)}),_.value_pips!==null&&o.jsxs("span",{style:{color:"var(--text-secondary)",marginLeft:4},children:["(",_.value_pips," pips)"]})]})},M=["H4","H1","M30","M15","M5","M3","M1"],b={H4:"4H",H1:"1H",M30:"30m",M15:"15m",M5:"5m",M3:"3m",M1:"1m"},w=_=>{const C=[];if(_.ema_stack&&Object.keys(_.ema_stack).length>0){const I=Object.keys(_.ema_stack).map(F=>F.replace(/^ema/i,"")).filter(Boolean).sort((F,H)=>parseInt(F,10)-parseInt(H,10));I.length>0&&C.push(`EMA ${I.join("/")}`)}return _.ema_fast&&_.ema_fast.length>0&&_.ema_slow&&_.ema_slow.length>0&&C.push("SMA slow"),C.length>0?C.join("  "):""};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex-between mb-4",children:[o.jsx("h2",{className:"page-title",style:{marginBottom:0,borderBottom:"none",paddingBottom:0},children:"Technical Analysis"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[d&&o.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:["Updated: ",d.toLocaleTimeString()]}),o.jsx("button",{className:"btn btn-secondary",onClick:x,disabled:n,children:n?"Loading...":"Refresh"})]})]}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16,fontSize:"0.9rem"},children:"Real-time technical analysis across multiple timeframes. Auto-refreshes every 30 seconds. Click on a timeframe to expand detailed view."}),r&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--danger)"},children:o.jsxs("p",{style:{color:"var(--danger)"},children:["Error: ",r]})}),(e==null?void 0:e.current_tick)&&o.jsx("div",{className:"card mb-4",children:o.jsxs("div",{className:"grid-3",children:[o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:e.current_tick.bid.toFixed(3)}),o.jsx("div",{className:"stat-label",children:"Bid"})]}),o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:e.current_tick.ask.toFixed(3)}),o.jsx("div",{className:"stat-label",children:"Ask"})]}),o.jsxs("div",{className:"stat-box",children:[o.jsxs("div",{className:"stat-value",style:{color:e.current_tick.spread_pips>1?"var(--warning)":"var(--success)"},children:[e.current_tick.spread_pips," pips"]}),o.jsx("div",{className:"stat-label",children:"Spread"})]})]})}),e&&M.map(_=>{var F,H,A,V,Q,L,T,E;const C=e.timeframes[_];if(!C)return null;const I=a===_;return o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{className:"flex-between",style:{marginBottom:I?16:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{margin:0,fontSize:"1.1rem",minWidth:40},children:_}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:b[_]||_})]}),g(C.regime)]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:24},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"RSI:"}),p(C.rsi)]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"MACD:"}),y(C.macd)]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"ATR:"}),S(C.atr)]}),o.jsx("button",{type:"button",onClick:()=>P(_),style:{background:"none",border:"none",padding:4,cursor:"pointer",color:"var(--accent)",fontSize:"0.9rem"},"aria-label":I?"Collapse chart":"Expand chart",children:I?"":""})]})]}),!I&&o.jsx("p",{style:{margin:"12px 0 0 0",color:"var(--text-secondary)",fontSize:"0.85rem",fontStyle:"italic"},children:C.summary}),I&&o.jsxs("div",{style:{borderTop:"1px solid var(--border)",paddingTop:16},onClick:j=>j.stopPropagation(),children:[o.jsxs("div",{style:{marginBottom:16},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:8,marginBottom:12},children:[o.jsxs("h4",{style:{margin:0,color:"var(--accent)",fontSize:"0.9rem"},children:[_," Chart (",b[_]||_,")"]}),w(C)&&o.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:w(C)}),m.length>0&&o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["(",m.filter(j=>!j.exit_time).length," open, ",m.length," total)"]}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.75rem",marginLeft:"auto"},onClick:()=>c(h===_?null:_),children:h===_?"Shrink":"Enlarge"})]}),o.jsx(_0,{ohlc:C.ohlc||[],trades:m,emaFast:C.ema_fast,emaSlow:C.ema_slow,emaStack:C.ema_stack,height:h===_?520:280})]}),o.jsx("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,marginBottom:16,borderLeft:"4px solid var(--accent)"},children:o.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:C.summary})}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"RSI (14)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((F=C.rsi.value)==null?void 0:F.toFixed(2))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Zone:"}),o.jsx("span",{style:{marginLeft:8},children:p(C.rsi)})]})]}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[C.rsi.zone==="oversold"&&"Price may be undervalued. Potential buy opportunity if trend supports.",C.rsi.zone==="overbought"&&"Price may be overextended. Consider caution with longs.",C.rsi.zone==="neutral"&&"Momentum is balanced. Follow the trend direction."]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"MACD (12,26,9)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Line:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((H=C.macd.line)==null?void 0:H.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Signal:"}),o.jsx("span",{style:{marginLeft:8},children:((A=C.macd.signal)==null?void 0:A.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Histogram:"}),o.jsx("span",{style:{marginLeft:8,color:C.macd.histogram&&C.macd.histogram>0?"var(--success)":"var(--danger)"},children:((V=C.macd.histogram)==null?void 0:V.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Direction:"}),o.jsx("span",{style:{marginLeft:8},children:y(C.macd)})]})]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"ATR (14)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((Q=C.atr.value)==null?void 0:Q.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Pips:"}),o.jsx("span",{style:{marginLeft:8},children:C.atr.value_pips??"-"})]})]}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[C.atr.state==="elevated"&&"Volatility is high. Consider wider stops and smaller position sizes.",C.atr.state==="low"&&"Volatility is low. Smaller moves expected, watch for breakouts.",C.atr.state==="normal"&&"Volatility is within normal range."]})]}),(()=>{const j=C.bollinger;return!j||typeof j!="object"?null:o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"Bollinger Bands (20, 2)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Upper:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:j.upper!=null?Number(j.upper).toFixed(5):"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Middle:"}),o.jsx("span",{style:{marginLeft:8},children:j.middle!=null?Number(j.middle).toFixed(5):"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Lower:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:j.lower!=null?Number(j.lower).toFixed(5):"-"})]})]}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Price relative to bands indicates volatility and potential mean reversion. For display only; not used in automation."})]})})(),typeof C.vwap=="number"&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"VWAP"}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:Number(C.vwap).toFixed(5)})]}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Volume-weighted average price (uses tick volume when available). For display only; not used in automation."})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"Price Levels (100-bar)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Current:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((L=C.price.current)==null?void 0:L.toFixed(3))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Recent High:"}),o.jsx("span",{style:{marginLeft:8,color:"var(--success)"},children:((T=C.price.recent_high)==null?void 0:T.toFixed(3))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Recent Low:"}),o.jsx("span",{style:{marginLeft:8,color:"var(--danger)"},children:((E=C.price.recent_low)==null?void 0:E.toFixed(3))??"-"})]})]}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:C.price.current&&C.price.recent_high&&C.price.recent_low&&o.jsxs(o.Fragment,{children:["Price is ",((C.price.current-C.price.recent_low)/(C.price.recent_high-C.price.recent_low)*100).toFixed(0),"% of the way from recent low to high."]})})]})]})]})]},_)}),n&&!e&&o.jsx("div",{className:"card",children:o.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center"},children:"Loading technical analysis..."})})]})}const Vl={scalper:{default:{label:"Default (5, 9, 13)",values:[5,9,13]},alt1:{label:"Ultra-fast (3, 5, 8)",values:[3,5,8]},alt2:{label:"Standard (8, 13, 21)",values:[8,13,21]}},day_trader:{default:{label:"Default (13, 21, 34)",values:[13,21,34]},alt1:{label:"Faster (8, 13, 21)",values:[8,13,21]},alt2:{label:"Slower (21, 34, 55)",values:[21,34,55]}},swing_trader:{default:{label:"Default (21, 50, 100)",values:[21,50,100]},alt1:{label:"Classic (20, 50, 200)",values:[20,50,200]},alt2:{label:"Medium (34, 89, 144)",values:[34,89,144]}}};function Ee({label:t,value:e,onAdjust:i,onChange:n,step:s=1,min:r,max:l}){if(e==null)return null;const a=u=>{const h=parseFloat(u.target.value);if(!isNaN(h)&&n){let c=h;r!==void 0&&(c=Math.max(r,c)),l!==void 0&&(c=Math.min(l,c)),n(c)}};return o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"var(--bg-secondary)",borderRadius:6,border:"1px solid var(--border)"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:t}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("button",{onClick:()=>i(-1),style:{width:28,height:28,borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"-"}),o.jsx("input",{type:"number",value:s<1?e.toFixed(2):e,onChange:a,step:s,min:r,max:l,style:{width:60,textAlign:"center",fontWeight:600,fontFamily:"monospace",padding:"4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"0.85rem"}}),o.jsx("button",{onClick:()=>i(1),style:{width:28,height:28,borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"+"})]})]})}function M0({profile:t,currentProfile:e,onComplete:i}){var Q,L,T,E,j,D,Y,G,Ze,ze,lt,W,ie,ye,Pi,Ha,Ka,Qa,Ya,Ja,Ga;const[n,s]=R.useState(1),[r,l]=R.useState({tradingStyle:null,riskTolerance:null,entryStyle:null,emaStack:"default",multipleStrategyA:null,multipleStrategyB:null}),[a,u]=R.useState(!1),[h,c]=R.useState(!1),[d,f]=R.useState(!1),[m,v]=R.useState(null),[x,P]=R.useState(null),g=r.entryStyle==="multiple"?[{num:1,title:"Trading Style",description:"How do you want to trade?"},{num:2,title:"Risk Tolerance",description:"How much risk per trade?"},{num:3,title:"Entry Style",description:"How should the bot enter trades?"},{num:4,title:"Choose Strategies",description:"Pick two strategies to combine"},{num:5,title:"Review",description:"Review your configuration"},{num:6,title:"Fine-Tune",description:"Adjust individual settings"}]:[{num:1,title:"Trading Style",description:"How do you want to trade?"},{num:2,title:"Risk Tolerance",description:"How much risk per trade?"},{num:3,title:"Entry Style",description:"How should the bot enter trades?"},{num:4,title:"Review",description:"Review your configuration"},{num:5,title:"Fine-Tune",description:"Adjust individual settings"}],[p,y]=R.useState(null),S=r.entryStyle==="multiple"?6:5;R.useEffect(()=>{r.entryStyle!=="multiple"&&n>5&&s(5)},[r.entryStyle,n]);const M=()=>{switch(n){case 1:return r.tradingStyle!==null;case 2:return r.riskTolerance!==null;case 3:return r.entryStyle!==null;case 4:return r.entryStyle==="multiple"?r.multipleStrategyA!==null&&r.multipleStrategyB!==null&&r.multipleStrategyA!==r.multipleStrategyB:!0;default:return!0}},b=()=>{const k={schema_version:1,profile_name:t.name,symbol:(e==null?void 0:e.symbol)??"USDJPY",pip_size:.01,risk:{},strategy:{timeframes:{},setups:{},filters:{alignment:{enabled:!1,method:"score",weights:{H4:1,M15:1,M1:1},min_score_to_trade:-3},ema_stack_filter:{enabled:!1,timeframe:"M1",periods:[8,13,21],min_separation_pips:0},atr_filter:{enabled:!1,timeframe:"M1",atr_period:14,min_atr_pips:0,max_atr_pips:null}}},trade_management:{target:{}},execution:{policies:[],loop_poll_seconds:5,loop_poll_seconds_fast:2}},O=k.risk,U=k.strategy,$=U.timeframes,le=U.setups,ee=k.trade_management.target,Se=k.execution,ae=(()=>{var jt;if(!r.tradingStyle)return[8,13,21];const vn=Vl[r.tradingStyle],Ei=r.emaStack||"default";return((jt=vn[Ei])==null?void 0:jt.values)||vn.default.values})();switch(r.tradingStyle){case"scalper":$.M1={ema_fast:9,sma_slow:21,ema_stack:ae},$.M15={ema_fast:9,sma_slow:21,ema_stack:ae},$.H4={ema_fast:13,sma_slow:30,ema_stack:ae},le.m1_cross_entry={enabled:!0,timeframe:"M1",ema:ae[0],sma:ae[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:3}},ee.mode="fixed_pips",ee.pips_default=8,ee.rr_default=1,Se.loop_poll_seconds=3,Se.loop_poll_seconds_fast=1;break;case"day_trader":$.M1={ema_fast:13,sma_slow:30,ema_stack:ae},$.M15={ema_fast:13,sma_slow:30,ema_stack:ae},$.H4={ema_fast:13,sma_slow:30,ema_stack:ae},le.m15_cross_entry={enabled:!0,timeframe:"M15",ema:ae[0],sma:ae[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:5}},ee.mode="fixed_pips",ee.pips_default=15,ee.rr_default=1.5,Se.loop_poll_seconds=10,Se.loop_poll_seconds_fast=5;break;case"swing_trader":$.M1={ema_fast:21,sma_slow:50,ema_stack:ae},$.M15={ema_fast:21,sma_slow:50,ema_stack:ae},$.H4={ema_fast:21,sma_slow:50,ema_stack:ae},le.h4_cross_entry={enabled:!0,timeframe:"H4",ema:ae[0],sma:ae[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:2}},ee.mode="fixed_pips",ee.pips_default=30,ee.rr_default=2,Se.loop_poll_seconds=60,Se.loop_poll_seconds_fast=30;break}const si=(e==null?void 0:e.risk)||{},ri=si.max_lots??.1,mn=si.max_spread_pips??2,gn=si.max_trades_per_day??10;switch(r.riskTolerance){case"conservative":O.max_lots=Math.round(ri*.35*100)/100||.05,O.max_spread_pips=Math.round(mn*.25*10)/10||.5,O.min_stop_pips=8,O.max_trades_per_day=Math.max(1,Math.round(gn*.5)),O.max_open_trades=1,O.cooldown_minutes_after_loss=15,O.require_stop=!0,O.risk_per_trade_pct=.5,O.max_daily_loss_pct=2;break;case"moderate":O.max_lots=Math.round(ri*.67*100)/100||.1,O.max_spread_pips=Math.round(mn*.5*10)/10||.8,O.min_stop_pips=6,O.max_trades_per_day=Math.max(1,Math.round(gn*1)),O.max_open_trades=2,O.cooldown_minutes_after_loss=5,O.require_stop=!0,O.risk_per_trade_pct=1,O.max_daily_loss_pct=4;break;case"aggressive":O.max_lots=Math.round(ri*1*100)/100||.15,O.max_spread_pips=Math.round(mn*.6*10)/10||1.2,O.min_stop_pips=5,O.max_trades_per_day=Math.max(1,Math.round(gn*1)),O.max_open_trades=3,O.cooldown_minutes_after_loss=0,O.require_stop=!0,O.risk_per_trade_pct=2,O.max_daily_loss_pct=6;break}const Le=[],ys=Object.keys(le)[0]||"m1_cross_entry",pt=r.tradingStyle==="swing_trader"?"H4":r.tradingStyle==="day_trader"?"M15":"M1",mt=ee.pips_default,gt=O.min_stop_pips;switch(r.entryStyle){case"ema_cross":Le.push({type:"confirmed_cross",id:"custom_confirmed_cross",enabled:!0,setup_id:ys});break;case"rsi_dips":Le.push({type:"indicator_based",id:"custom_rsi_buy",enabled:!0,timeframe:pt,regime:"bull",side:"buy",rsi_period:14,rsi_oversold:30,rsi_overbought:70,rsi_zone:"oversold",use_macd_cross:!0,macd_fast:12,macd_slow:26,macd_signal:9,tp_pips:mt,sl_pips:gt}),Le.push({type:"indicator_based",id:"custom_rsi_sell",enabled:!0,timeframe:pt,regime:"bear",side:"sell",rsi_period:14,rsi_oversold:30,rsi_overbought:70,rsi_zone:"overbought",use_macd_cross:!0,macd_fast:12,macd_slow:26,macd_signal:9,tp_pips:mt,sl_pips:gt});break;case"price_levels":U.filters.alignment={enabled:!0,method:"score",weights:{H4:2,M15:1,M1:1},min_score_to_trade:1},Le.push({type:"confirmed_cross",id:"custom_confirmed_cross",enabled:!0,setup_id:ys});break;case"bollinger_bands":Le.push({type:"bollinger_bands",id:"custom_bb_buy",enabled:!0,timeframe:pt,period:20,std_dev:2,trigger:"lower_band_buy",regime:"bull",side:"buy",tp_pips:mt,sl_pips:gt}),Le.push({type:"bollinger_bands",id:"custom_bb_sell",enabled:!0,timeframe:pt,period:20,std_dev:2,trigger:"upper_band_sell",regime:"bear",side:"sell",tp_pips:mt,sl_pips:gt});break;case"vwap":Le.push({type:"vwap",id:"custom_vwap_buy",enabled:!0,timeframe:pt,trigger:"cross_above",side:"buy",tp_pips:mt,sl_pips:gt}),Le.push({type:"vwap",id:"custom_vwap_sell",enabled:!0,timeframe:pt,trigger:"cross_below",side:"sell",tp_pips:mt,sl_pips:gt});break;case"multiple":{const vn=(Ei,jt)=>{if(Ei==="ema_cross"){Le.push({type:"confirmed_cross",id:`${jt}_ema_cross`,enabled:!0,setup_id:ys});return}if(Ei==="price_levels"){U.filters.alignment={enabled:!0,method:"score",weights:{H4:2,M15:1,M1:1},min_score_to_trade:1},Le.push({type:"confirmed_cross",id:`${jt}_confirmed_cross`,enabled:!0,setup_id:ys});return}if(Ei==="bollinger_bands"){Le.push({type:"bollinger_bands",id:`${jt}_bb_buy`,enabled:!0,timeframe:pt,period:20,std_dev:2,trigger:"lower_band_buy",regime:"bull",side:"buy",tp_pips:mt,sl_pips:gt}),Le.push({type:"bollinger_bands",id:`${jt}_bb_sell`,enabled:!0,timeframe:pt,period:20,std_dev:2,trigger:"upper_band_sell",regime:"bear",side:"sell",tp_pips:mt,sl_pips:gt});return}Ei==="vwap"&&(Le.push({type:"vwap",id:`${jt}_vwap_buy`,enabled:!0,timeframe:pt,trigger:"cross_above",side:"buy",tp_pips:mt,sl_pips:gt}),Le.push({type:"vwap",id:`${jt}_vwap_sell`,enabled:!0,timeframe:pt,trigger:"cross_below",side:"sell",tp_pips:mt,sl_pips:gt}))};r.multipleStrategyA&&vn(r.multipleStrategyA,"custom_ms_a"),r.multipleStrategyB&&vn(r.multipleStrategyB,"custom_ms_b");break}}Se.policies=Le;const Qf=r.tradingStyle==="scalper"?"Scalp":r.tradingStyle==="day_trader"?"DayT":"Swing",Yf=r.riskTolerance==="conservative"?"Cons":r.riskTolerance==="moderate"?"Mod":"Agg",Jf=r.entryStyle==="ema_cross"?"EMAC":r.entryStyle==="rsi_dips"?"RSI":r.entryStyle==="price_levels"?"PL":r.entryStyle==="bollinger_bands"?"BB":r.entryStyle==="vwap"?"VWAP":"MS";return k.active_preset_name=`Custom: ${Qf}/${Yf}/${Jf}`,k},w=()=>{if(n<S&&s(n+1),n===3&&r.entryStyle!=="multiple"||n===4&&r.entryStyle==="multiple"){const k=b();P(k),y(JSON.parse(JSON.stringify(k)))}},_=()=>{n>1&&s(n-1)},C=async()=>{f(!0),v(null);try{const k=JSON.parse(JSON.stringify(p||x||b())),O=(e==null?void 0:e.risk)||{},U=k.risk||{};k.risk=O;const $=(le,ee)=>typeof le=="number"&&typeof ee=="number"?Math.min(le,ee):le;k.effective_risk={...U,max_lots:$(U.max_lots??.1,O.max_lots??1),max_spread_pips:$(U.max_spread_pips??2,O.max_spread_pips??5),max_trades_per_day:$(U.max_trades_per_day??10,O.max_trades_per_day??100),max_open_trades:$(U.max_open_trades??2,O.max_open_trades??10)},await Hf(t.path,k),i()}catch(k){v(k.message)}finally{f(!1)}},I=()=>{x&&y(JSON.parse(JSON.stringify(x)))},F=(k,O)=>{if(!p)return;const U=JSON.parse(JSON.stringify(p));let $=U;for(let le=0;le<k.length-1;le++)$[k[le]]===void 0&&($[k[le]]={}),$=$[k[le]];$[k[k.length-1]]=O,y(U)},H=(k,O,U,$,le)=>{if(!p)return;let ee=p;for(let ae=0;ae<k.length-1;ae++)if(ee=ee[k[ae]],!ee)return;const Se=ee[k[k.length-1]];if(typeof Se!="number")return;let He=Se+O*(le||1);U!==void 0&&(He=Math.max(U,He)),$!==void 0&&(He=Math.min($,He)),F(k,Number(He.toFixed(4)))},A=(()=>{if(n!==5||!p||!e)return!1;const k=e.risk||{},O=k.max_lots,U=k.max_spread_pips,$=k.max_trades_per_day,le=p.risk||{},ee=le.max_lots,Se=le.max_spread_pips,He=le.max_trades_per_day,ae=O!=null&&ee!=null&&ee>O,si=U!=null&&Se!=null&&Se>U,ri=$!=null&&He!=null&&He>$;return ae||si||ri})(),V=({selected:k,onClick:O,title:U,description:$,icon:le,details:ee})=>o.jsxs("div",{onClick:O,style:{padding:20,borderRadius:8,border:`2px solid ${k?"var(--accent)":"var(--border)"}`,background:k?"rgba(59, 130, 246, 0.1)":"var(--bg-secondary)",cursor:"pointer",transition:"all 0.2s ease"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[o.jsx("span",{style:{fontSize:"1.5rem"},children:le}),o.jsx("h4",{style:{margin:0,color:k?"var(--accent)":"var(--text-primary)"},children:U})]}),o.jsx("p",{style:{margin:"0 0 8px 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:$}),ee&&o.jsx("ul",{style:{margin:0,paddingLeft:20,fontSize:"0.8rem",color:"var(--text-secondary)"},children:ee.map((Se,He)=>o.jsx("li",{children:Se},He))})]});return o.jsxs("div",{children:[o.jsx("div",{className:"card mb-4",children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:g.map(k=>o.jsxs("div",{style:{flex:1,textAlign:"center",opacity:k.num<=n?1:.5},children:[o.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:k.num<n?"var(--success)":k.num===n?"var(--accent)":"var(--bg-tertiary)",color:k.num<=n?"white":"var(--text-secondary)",display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:600,marginBottom:8},children:k.num<n?"":k.num}),o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:k.num===n?600:400},children:k.title})]},k.num))})}),n===1&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 1: Trading Style"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How do you want to trade? This determines the timeframe focus and trade duration."}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsx(V,{selected:r.tradingStyle==="scalper",onClick:()=>l({...r,tradingStyle:"scalper"}),title:"Scalper",icon:"",description:"Quick trades (1-5 minutes), small profits, many opportunities",details:["Focuses on M1 (1-minute) chart","8 pip profit targets","Fast polling (1-3 seconds)","Best for active monitoring"]}),o.jsx(V,{selected:r.tradingStyle==="day_trader",onClick:()=>l({...r,tradingStyle:"day_trader"}),title:"Day Trader",icon:"",description:"Trades within the day (5-60 minutes), moderate targets",details:["Focuses on M15 (15-minute) chart","15 pip profit targets","Moderate polling (5-10 seconds)","Good balance of activity and patience"]}),o.jsx(V,{selected:r.tradingStyle==="swing_trader",onClick:()=>l({...r,tradingStyle:"swing_trader"}),title:"Swing Trader",icon:"",description:"Hold for hours or days, larger moves, fewer trades",details:["Focuses on H4 (4-hour) chart","30+ pip profit targets","Slow polling (30-60 seconds)","Minimal monitoring needed"]})]}),r.tradingStyle&&o.jsxs("div",{style:{marginTop:20},children:[o.jsxs("button",{type:"button",onClick:()=>c(!h),style:{background:"transparent",border:"none",color:"var(--accent)",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:8,padding:0},children:[o.jsx("span",{style:{transform:h?"rotate(90deg)":"rotate(0)",transition:"transform 0.2s"},children:""}),"Advanced: EMA Stack (optional)"]}),h&&o.jsxs("div",{style:{marginTop:12,padding:16,background:"var(--bg-tertiary)",borderRadius:8,borderLeft:"3px solid var(--accent)"},children:[o.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.85rem",color:"var(--text-secondary)"},children:"The EMA Stack defines the moving average periods used for trend detection. Leave as default unless you have a specific preference."}),o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsxs("label",{children:["EMA Stack for ",r.tradingStyle==="scalper"?"Scalping":r.tradingStyle==="day_trader"?"Day Trading":"Swing Trading"]}),o.jsx("select",{value:r.emaStack||"default",onChange:k=>l({...r,emaStack:k.target.value}),children:r.tradingStyle&&Object.entries(Vl[r.tradingStyle]).map(([k,O])=>o.jsx("option",{value:k,children:O.label},k))})]}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Current selection: ",r.tradingStyle&&r.emaStack&&((Q=Vl[r.tradingStyle][r.emaStack])==null?void 0:Q.values.join(", "))," EMA periods"]})]})]})]}),n===2&&(()=>{const k=(e==null?void 0:e.risk)||{},O=k.max_lots??.1,U=k.max_spread_pips??2,$=k.max_trades_per_day??10,le=Math.round(O*.35*100)/100||.05,ee=Math.max(1,Math.round($*.5)),Se=Math.round(U*.25*10)/10||.5,He=Math.round(O*.67*100)/100||.1,ae=Math.max(1,Math.round($*1)),si=Math.round(U*.5*10)/10||.8,ri=Math.round(O*1*100)/100||.15,mn=Math.max(1,Math.round($*1)),gn=Math.round(U*.6*10)/10||1.2;return o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 2: Risk Tolerance"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How much risk are you comfortable with per trade? Values scale from your Profile Editor limits."}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsx(V,{selected:r.riskTolerance==="conservative",onClick:()=>l({...r,riskTolerance:"conservative"}),title:"Conservative",icon:"",description:"Lower risk, smaller positions, strict filters",details:[`${le} lots per trade`,`Max ${ee} trades per day`,`${Se} pip max spread`,"15 min cooldown after loss","2% max daily loss"]}),o.jsx(V,{selected:r.riskTolerance==="moderate",onClick:()=>l({...r,riskTolerance:"moderate"}),title:"Moderate",icon:"",description:"Balanced risk and reward",details:[`${He} lots per trade`,`Max ${ae} trades per day`,`${si} pip max spread`,"5 min cooldown after loss","4% max daily loss"]}),o.jsx(V,{selected:r.riskTolerance==="aggressive",onClick:()=>l({...r,riskTolerance:"aggressive"}),title:"Aggressive",icon:"",description:"Higher risk for potentially higher returns",details:[`${ri} lots per trade`,`Max ${mn} trades per day`,`${gn} pip max spread`,"No cooldown after loss","6% max daily loss"]})]})]})})(),n===3&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 3: Entry Style"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How should the bot decide when to enter a trade?"}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsx(V,{selected:r.entryStyle==="ema_cross",onClick:()=>l({...r,entryStyle:"ema_cross",multipleStrategyA:null,multipleStrategyB:null}),title:"EMA Cross",icon:"",description:"Buy or sell based on EMA/SMA cross direction",details:["BUY: EMA crosses above SMA","SELL: EMA crosses below SMA","Waits for confirmation bar","Works in both trends"]}),o.jsx(V,{selected:r.entryStyle==="rsi_dips",onClick:()=>l({...r,entryStyle:"rsi_dips",multipleStrategyA:null,multipleStrategyB:null}),title:"RSI Dips",icon:"",description:"Buy oversold dips, sell overbought rallies",details:["BUY: RSI < 30 in uptrend","SELL: RSI > 70 in downtrend","Mean-reversion style","MACD confirmation included"]}),o.jsx(V,{selected:r.entryStyle==="price_levels",onClick:()=>l({...r,entryStyle:"price_levels",multipleStrategyA:null,multipleStrategyB:null}),title:"Price Levels",icon:"",description:"EMA cross with multi-timeframe alignment filter",details:["Bi-directional EMA cross","Requires H4/M15/M1 agreement","Higher quality signals","Fewer but better trades"]}),o.jsx(V,{selected:r.entryStyle==="bollinger_bands",onClick:()=>l({...r,entryStyle:"bollinger_bands",multipleStrategyA:null,multipleStrategyB:null}),title:"Bollinger Bands",icon:"",description:"Mean reversion at lower/upper band",details:["BUY: price at/below lower band in uptrend","SELL: price at/above upper band in downtrend","M15, 20-period, 2 std dev","Clear levels for entry"]}),o.jsx(V,{selected:r.entryStyle==="vwap",onClick:()=>l({...r,entryStyle:"vwap",multipleStrategyA:null,multipleStrategyB:null}),title:"VWAP",icon:"",description:"Entries on price vs VWAP",details:["BUY: price crosses above VWAP","SELL: price crosses below VWAP","Volume-weighted average price","Good for intraday trend"]}),o.jsx(V,{selected:r.entryStyle==="multiple",onClick:()=>l({...r,entryStyle:"multiple"}),title:"Multiple Strategies",icon:"",description:"Combine two strategies of your choice (EMA Cross, Price Levels, Bollinger Bands, or VWAP)",details:["Pick Strategy A and Strategy B in the next step","EMA Cross, Price Levels, Bollinger Bands, VWAP","Maximum flexibility","Good for active traders"]})]})]}),n===4&&r.entryStyle==="multiple"&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 4: Choose two strategies to combine"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Select Strategy A and Strategy B. They must be different. RSI is not available in combinations."}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24,marginBottom:16},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Strategy A"}),o.jsxs("select",{value:r.multipleStrategyA??"",onChange:k=>l({...r,multipleStrategyA:k.target.value||null}),style:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.95rem"},children:[o.jsx("option",{value:"",children:" Select "}),o.jsx("option",{value:"ema_cross",children:"EMA Cross"}),o.jsx("option",{value:"price_levels",children:"Price Levels"}),o.jsx("option",{value:"bollinger_bands",children:"Bollinger Bands"}),o.jsx("option",{value:"vwap",children:"VWAP"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Strategy B"}),o.jsxs("select",{value:r.multipleStrategyB??"",onChange:k=>l({...r,multipleStrategyB:k.target.value||null}),style:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.95rem"},children:[o.jsx("option",{value:"",children:" Select "}),o.jsx("option",{value:"ema_cross",children:"EMA Cross"}),o.jsx("option",{value:"price_levels",children:"Price Levels"}),o.jsx("option",{value:"bollinger_bands",children:"Bollinger Bands"}),o.jsx("option",{value:"vwap",children:"VWAP"})]})]})]}),r.multipleStrategyA&&r.multipleStrategyB&&r.multipleStrategyA===r.multipleStrategyB&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.9rem",marginTop:8},children:"Please choose two different strategies."})]}),(n===4&&r.entryStyle!=="multiple"||n===5&&r.entryStyle==="multiple")&&o.jsx("div",{children:o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",children:r.entryStyle==="multiple"?"Step 5: Review & Save":"Step 4: Review & Save"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Review your custom configuration before saving."}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8,borderLeft:"4px solid var(--accent)",marginBottom:20},children:[o.jsx("h4",{style:{margin:"0 0 12px 0"},children:"Your Configuration Summary"}),o.jsxs("div",{className:"grid-3",children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Style:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[r.tradingStyle==="scalper"&&" Scalper",r.tradingStyle==="day_trader"&&" Day Trader",r.tradingStyle==="swing_trader"&&" Swing Trader"]})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Risk:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[r.riskTolerance==="conservative"&&" Conservative",r.riskTolerance==="moderate"&&" Moderate",r.riskTolerance==="aggressive"&&" Aggressive"]})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Entry:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[r.entryStyle==="ema_cross"&&" EMA Cross",r.entryStyle==="rsi_dips"&&" RSI Dips",r.entryStyle==="price_levels"&&" Price Levels",r.entryStyle==="bollinger_bands"&&" Bollinger Bands",r.entryStyle==="vwap"&&" VWAP",r.entryStyle==="multiple"&&r.multipleStrategyA&&r.multipleStrategyB&&o.jsxs(o.Fragment,{children:[" Multiple (",r.multipleStrategyA.replace("_"," "),"+",r.multipleStrategyB.replace("_"," "),")"]}),r.entryStyle==="multiple"&&(!r.multipleStrategyA||!r.multipleStrategyB)&&" Multiple"]})]})]})]}),x&&o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{marginBottom:12},children:"What this means:"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"var(--text-secondary)",lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Position Size:"})," ",String(((L=x.risk)==null?void 0:L.max_lots)??"-")," lots per trade"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Profit Target:"})," ",String(((E=(T=x.trade_management)==null?void 0:T.target)==null?void 0:E.pips_default)??"-")," pips"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Max Trades/Day:"})," ",String(((j=x.risk)==null?void 0:j.max_trades_per_day)??"-")]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Polling Speed:"})," Every ",String(((D=x.execution)==null?void 0:D.loop_poll_seconds)??"-")," seconds"]})]})]}),o.jsx("div",{style:{marginBottom:20},children:o.jsxs("button",{className:"btn btn-secondary",style:{fontSize:"0.85rem"},onClick:()=>u(!a),children:[a?"Hide":"Show"," Advanced Settings"]})}),a&&x&&o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{marginBottom:12},children:"Full Configuration (JSON):"}),o.jsx("pre",{style:{background:"var(--bg-primary)",padding:12,borderRadius:6,fontSize:"0.75rem",overflow:"auto",maxHeight:300},children:JSON.stringify(x,null,2)}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:8},children:"For advanced customization, edit the profile directly in the Profile Editor after saving."})]}),m&&o.jsx("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.1)",borderRadius:6,marginBottom:16},children:o.jsxs("p",{style:{color:"var(--danger)",margin:0},children:["Error: ",m]})})]})}),(n===5&&r.entryStyle!=="multiple"||n===6&&r.entryStyle==="multiple")&&p&&o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:r.entryStyle==="multiple"?"Step 6: Fine-Tune Settings":"Step 5: Fine-Tune Settings"}),o.jsx("button",{className:"btn btn-secondary",onClick:I,style:{fontSize:"0.8rem"},children:"Reset to Wizard Defaults"})]}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Adjust any settings using the +/- buttons or type directly. These values come from your wizard choices."}),A&&o.jsxs("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.15)",border:"1px solid var(--danger)",borderRadius:8,marginBottom:20},children:[o.jsx("strong",{style:{color:"var(--danger)"},children:"Profile limit exceeded"}),o.jsx("p",{style:{margin:"8px 0 0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"You have violated your Profile Editor risk settings. This change cannot be made until you update your risk settings in the Profile Editor."})]}),o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Risk Settings"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[o.jsx(Ee,{label:"Max Lots",value:(Y=p.risk)==null?void 0:Y.max_lots,onAdjust:k=>H(["risk","max_lots"],k,.01,10,.01),onChange:k=>F(["risk","max_lots"],k),step:.01,min:.01,max:10}),o.jsx(Ee,{label:"Min Stop Pips",value:(G=p.risk)==null?void 0:G.min_stop_pips,onAdjust:k=>H(["risk","min_stop_pips"],k,1,100,1),onChange:k=>F(["risk","min_stop_pips"],k),step:1,min:1,max:100}),o.jsx(Ee,{label:"Max Spread Pips",value:(Ze=p.risk)==null?void 0:Ze.max_spread_pips,onAdjust:k=>H(["risk","max_spread_pips"],k,.1,5,.1),onChange:k=>F(["risk","max_spread_pips"],k),step:.1,min:.1,max:5}),o.jsx(Ee,{label:"Max Trades/Day",value:(ze=p.risk)==null?void 0:ze.max_trades_per_day,onAdjust:k=>H(["risk","max_trades_per_day"],k,1,100,1),onChange:k=>F(["risk","max_trades_per_day"],k),step:1,min:1,max:100}),o.jsx(Ee,{label:"Max Open Trades",value:(lt=p.risk)==null?void 0:lt.max_open_trades,onAdjust:k=>H(["risk","max_open_trades"],k,1,10,1),onChange:k=>F(["risk","max_open_trades"],k),step:1,min:1,max:10}),o.jsx(Ee,{label:"Loss Cooldown (min)",value:(W=p.risk)==null?void 0:W.cooldown_minutes_after_loss,onAdjust:k=>H(["risk","cooldown_minutes_after_loss"],k,0,60,1),onChange:k=>F(["risk","cooldown_minutes_after_loss"],k),step:1,min:0,max:60}),o.jsx(Ee,{label:"Max Daily Loss %",value:(ie=p.risk)==null?void 0:ie.max_daily_loss_pct,onAdjust:k=>H(["risk","max_daily_loss_pct"],k,.5,20,.5),onChange:k=>F(["risk","max_daily_loss_pct"],k),step:.5,min:.5,max:20})]})]}),o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Profit Target"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[o.jsx(Ee,{label:"Target Pips",value:(Pi=(ye=p.trade_management)==null?void 0:ye.target)==null?void 0:Pi.pips_default,onAdjust:k=>H(["trade_management","target","pips_default"],k,1,100,1),onChange:k=>F(["trade_management","target","pips_default"],k),step:1,min:1,max:100}),o.jsx(Ee,{label:"R:R Ratio",value:(Ka=(Ha=p.trade_management)==null?void 0:Ha.target)==null?void 0:Ka.rr_default,onAdjust:k=>H(["trade_management","target","rr_default"],k,.5,5,.1),onChange:k=>F(["trade_management","target","rr_default"],k),step:.1,min:.5,max:5})]})]}),o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Execution"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[o.jsx(Ee,{label:"Poll Interval (sec)",value:(Qa=p.execution)==null?void 0:Qa.loop_poll_seconds,onAdjust:k=>H(["execution","loop_poll_seconds"],k,1,120,1),onChange:k=>F(["execution","loop_poll_seconds"],k),step:1,min:1,max:120}),o.jsx(Ee,{label:"Fast Poll (sec)",value:(Ya=p.execution)==null?void 0:Ya.loop_poll_seconds_fast,onAdjust:k=>H(["execution","loop_poll_seconds_fast"],k,1,60,1),onChange:k=>F(["execution","loop_poll_seconds_fast"],k),step:1,min:1,max:60})]})]}),(Ga=(Ja=p.execution)==null?void 0:Ja.policies)==null?void 0:Ga.map((k,O)=>o.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsxs("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.9rem"},children:["Policy: ",k.id," (",k.type,")"]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:10},children:[k.type==="indicator_based"&&o.jsxs(o.Fragment,{children:[o.jsx(Ee,{label:"RSI Period",value:k.rsi_period,onAdjust:U=>{const $=p.execution.policies;$[O].rsi_period=Math.max(2,Math.min(50,k.rsi_period+U)),F(["execution","policies"],$)},onChange:U=>{const $=p.execution.policies;$[O].rsi_period=Math.max(2,Math.min(50,U)),F(["execution","policies"],$)},step:1,min:2,max:50}),o.jsx(Ee,{label:"RSI Oversold",value:k.rsi_oversold,onAdjust:U=>{const $=p.execution.policies;$[O].rsi_oversold=Math.max(10,Math.min(50,k.rsi_oversold+U)),F(["execution","policies"],$)},onChange:U=>{const $=p.execution.policies;$[O].rsi_oversold=Math.max(10,Math.min(50,U)),F(["execution","policies"],$)},step:1,min:10,max:50}),o.jsx(Ee,{label:"RSI Overbought",value:k.rsi_overbought,onAdjust:U=>{const $=p.execution.policies;$[O].rsi_overbought=Math.max(50,Math.min(90,k.rsi_overbought+U)),F(["execution","policies"],$)},onChange:U=>{const $=p.execution.policies;$[O].rsi_overbought=Math.max(50,Math.min(90,U)),F(["execution","policies"],$)},step:1,min:50,max:90}),o.jsx(Ee,{label:"TP Pips",value:k.tp_pips,onAdjust:U=>{const $=p.execution.policies;$[O].tp_pips=Math.max(1,Math.min(100,k.tp_pips+U)),F(["execution","policies"],$)},onChange:U=>{const $=p.execution.policies;$[O].tp_pips=Math.max(1,Math.min(100,U)),F(["execution","policies"],$)},step:1,min:1,max:100}),o.jsx(Ee,{label:"SL Pips",value:k.sl_pips,onAdjust:U=>{const $=p.execution.policies;$[O].sl_pips=Math.max(1,Math.min(100,k.sl_pips+U)),F(["execution","policies"],$)},onChange:U=>{const $=p.execution.policies;$[O].sl_pips=Math.max(1,Math.min(100,U)),F(["execution","policies"],$)},step:1,min:1,max:100}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Side:"}),o.jsx("span",{style:{fontWeight:600,color:k.side==="buy"?"var(--success)":"var(--danger)"},children:k.side.toUpperCase()})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Regime:"}),o.jsx("span",{style:{fontWeight:600},children:k.regime})]})]}),k.type==="confirmed_cross"&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Setup:"}),o.jsx("span",{style:{fontWeight:600},children:k.setup_id}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"(bi-directional)"})]})]})]},O)),m&&o.jsx("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.1)",borderRadius:6,marginTop:16},children:o.jsxs("p",{style:{color:"var(--danger)",margin:0},children:["Error: ",m]})})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20},children:[o.jsx("button",{className:"btn btn-secondary",onClick:_,disabled:n===1,children:" Back"}),o.jsxs("div",{style:{display:"flex",gap:12},children:[n<S&&o.jsx("button",{className:"btn btn-primary",onClick:w,disabled:!M(),children:n===4&&r.entryStyle!=="multiple"||n===5&&r.entryStyle==="multiple"?"Fine-Tune Settings ":"Next "}),(n>=4&&r.entryStyle!=="multiple"||n>=5&&r.entryStyle==="multiple")&&o.jsx("button",{className:"btn btn-success",onClick:C,disabled:d||A,style:{minWidth:160},children:d?"Saving...":" Save Configuration"})]})]})]})}function k0({profile:t}){var F,H;const[e,i]=R.useState([]),[n,s]=R.useState(null),[r,l]=R.useState(null),[a,u]=R.useState(null),[h,c]=R.useState(!1),[d,f]=R.useState(null),[m,v]=R.useState(null),[x,P]=R.useState(!1),g=()=>{Vf(t.path).then(v).catch(console.error)};R.useEffect(()=>{s0().then(A=>{i(A)}).catch(console.error),g()},[t.path]),R.useEffect(()=>{n&&n!=="custom"?r0(n,t.path).then(A=>u(A)).catch(console.error):u(null)},[n,t.path]);const p=async()=>{if(!(!n||n==="custom")){c(!0);try{await l0(n,t.path),f(`Preset "${n}" applied successfully!`),g(),setTimeout(()=>f(null),3e3)}catch(A){f(`Error: ${A.message}`)}finally{c(!1)}}},y=(A,V)=>{V.stopPropagation(),l(r===A?null:A)},S=e.find(A=>A.id===n),M=m==null?void 0:m.active_preset_name,b=m==null?void 0:m.risk,w=m==null?void 0:m.effective_risk,_=m==null?void 0:m.execution,C=m==null?void 0:m.trade_management,I=C==null?void 0:C.target;return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Presets"}),o.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:'Select a preset to preview changes, then apply to your profile. Click "Pros & Cons" to see details.'}),M&&o.jsxs("div",{className:"card mb-4",style:{borderColor:"var(--accent)",borderWidth:2,background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, var(--bg-secondary) 100%)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:4},children:"ACTIVE PRESET"}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--accent)"},children:M})]}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>P(!x),style:{fontSize:"0.8rem"},children:x?"Hide Settings":"View Settings"})]}),x&&b&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[w&&o.jsx("div",{style:{marginBottom:12,fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Effective (used when running): preset risk capped by Profile Editor limits."}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["Max Lots ",w?"(effective)":""]}),o.jsx("div",{style:{fontWeight:600},children:(w==null?void 0:w.max_lots)??b.max_lots})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Min Stop Pips"}),o.jsx("div",{style:{fontWeight:600},children:(w==null?void 0:w.min_stop_pips)??b.min_stop_pips})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Max Spread"}),o.jsxs("div",{style:{fontWeight:600},children:[(w==null?void 0:w.max_spread_pips)??b.max_spread_pips," pips"]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Max Trades/Day"}),o.jsx("div",{style:{fontWeight:600},children:(w==null?void 0:w.max_trades_per_day)??b.max_trades_per_day})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Max Open Trades"}),o.jsx("div",{style:{fontWeight:600},children:(w==null?void 0:w.max_open_trades)??b.max_open_trades??"-"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Cooldown After Loss"}),o.jsxs("div",{style:{fontWeight:600},children:[(w==null?void 0:w.cooldown_minutes_after_loss)??b.cooldown_minutes_after_loss??0," min"]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Target Pips"}),o.jsx("div",{style:{fontWeight:600},children:(I==null?void 0:I.pips_default)||"-"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Poll Interval"}),o.jsxs("div",{style:{fontWeight:600},children:[(_==null?void 0:_.loop_poll_seconds)||5,"s"]})]})]}),((F=_==null?void 0:_.policies)==null?void 0:F.length)>0&&o.jsxs("div",{style:{marginTop:12},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Active Policies:"}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:(H=_==null?void 0:_.policies)==null?void 0:H.map((A,V)=>o.jsxs("span",{style:{padding:"4px 8px",background:"var(--bg-tertiary)",borderRadius:4,fontSize:"0.75rem",fontWeight:600},children:[A.type,": ",A.id]},V))})]})]})]}),d&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--success)"},children:o.jsx("p",{children:d})}),o.jsxs("div",{className:"grid-3 mb-4",children:[e.map(A=>{const V=M===A.id;return o.jsxs("div",{className:`preset-card ${n===A.id?"selected":""}`,onClick:()=>s(A.id),style:V?{borderColor:"var(--success)",borderWidth:2}:{},children:[V&&o.jsx("div",{style:{position:"absolute",top:-10,right:10,background:"var(--success)",color:"white",fontSize:"0.65rem",fontWeight:700,padding:"2px 8px",borderRadius:4},children:"ACTIVE"}),o.jsx("div",{className:"preset-name",children:A.name}),o.jsx("div",{className:"preset-description",children:A.description}),o.jsx("button",{className:"btn btn-secondary",style:{marginTop:8,fontSize:"0.75rem",padding:"4px 8px"},onClick:Q=>y(A.id,Q),children:r===A.id?"Hide":"Pros & Cons"}),r===A.id&&o.jsxs("div",{className:"proscons-dropdown",style:{marginTop:12,textAlign:"left"},children:[A.pros.length>0&&o.jsxs("div",{style:{marginBottom:8},children:[o.jsx("div",{style:{fontWeight:600,color:"var(--success)",fontSize:"0.8rem",marginBottom:4},children:"Pros"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.75rem",color:"var(--text-secondary)"},children:A.pros.map((Q,L)=>o.jsx("li",{style:{marginBottom:2},children:Q},L))})]}),A.cons.length>0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600,color:"var(--warning)",fontSize:"0.8rem",marginBottom:4},children:"Cons"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.75rem",color:"var(--text-secondary)"},children:A.cons.map((Q,L)=>o.jsx("li",{style:{marginBottom:2},children:Q},L))})]})]})]},A.id)}),(()=>{const A=M==null?void 0:M.startsWith("Custom:");return o.jsxs("div",{className:`preset-card ${n==="custom"?"selected":""}`,onClick:()=>s("custom"),style:{borderStyle:"dashed",...A?{borderColor:"var(--success)",borderWidth:2}:{}},children:[A&&o.jsx("div",{style:{position:"absolute",top:-10,right:10,background:"var(--success)",color:"white",fontSize:"0.65rem",fontWeight:700,padding:"2px 8px",borderRadius:4},children:"ACTIVE"}),o.jsx("div",{className:"preset-name",children:"Custom"}),o.jsx("div",{className:"preset-description",children:A?`Currently running: ${M}`:"Use the wizard to create a custom configuration."})]})})()]}),n&&n!=="custom"&&a&&o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex-between mb-4",children:[o.jsxs("h3",{className:"card-title",style:{margin:0},children:["Preview: ",(S==null?void 0:S.name)||n]}),o.jsx("button",{className:"btn btn-primary",onClick:p,disabled:h,children:h?"Applying...":"Apply Preset"})]}),S&&(S.pros.length>0||S.cons.length>0)&&o.jsxs("div",{className:"grid-2 mb-4",children:[S.pros.length>0&&o.jsxs("div",{style:{padding:12,background:"rgba(16, 185, 129, 0.1)",borderRadius:6,border:"1px solid var(--success)"},children:[o.jsx("div",{style:{fontWeight:600,color:"var(--success)",marginBottom:8,fontSize:"0.85rem"},children:"Pros"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.8rem"},children:S.pros.map((A,V)=>o.jsx("li",{style:{marginBottom:4},children:A},V))})]}),S.cons.length>0&&o.jsxs("div",{style:{padding:12,background:"rgba(245, 158, 11, 0.1)",borderRadius:6,border:"1px solid var(--warning)"},children:[o.jsx("div",{style:{fontWeight:600,color:"var(--warning)",marginBottom:8,fontSize:"0.85rem"},children:"Cons"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.8rem"},children:S.cons.map((A,V)=>o.jsx("li",{style:{marginBottom:4},children:A},V))})]})]}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12,fontSize:"0.8rem"},children:"These settings will be changed when you apply:"}),o.jsx("pre",{style:{background:"var(--bg-primary)",padding:12,borderRadius:6,fontSize:"0.75rem",overflow:"auto",maxHeight:300},children:JSON.stringify(a.changes||a,null,2)})]}),n==="custom"&&o.jsx(M0,{profile:t,currentProfile:m,onComplete:()=>{f("Custom configuration saved!"),setTimeout(()=>f(null),3e3)}})]})}function b0({profile:t,authStatus:e,onAuthChange:i}){const[n,s]=R.useState(null),[r,l]=R.useState(!1),[a,u]=R.useState(null),[h,c]=R.useState(null),[d,f]=R.useState(0),[m,v]=R.useState(null),[x,P]=R.useState(""),[g,p]=R.useState(""),[y,S]=R.useState(""),[M,b]=R.useState(null),[w,_]=R.useState(!1),C=e[t.path]||!1,I=()=>{v(null),P(""),p(""),S(""),b(null)},F=async()=>{if(!g||g.length<4){b("Password must be at least 4 characters");return}if(g!==y){b("Passwords do not match");return}_(!0),b(null);try{await Uo(t.path,null,g),i(),I(),u("Password set successfully!"),setTimeout(()=>u(null),3e3)}catch(j){b(j.message)}finally{_(!1)}},H=async()=>{if(!x){b("Enter current password");return}if(!g||g.length<4){b("New password must be at least 4 characters");return}if(g!==y){b("New passwords do not match");return}_(!0),b(null);try{await Uo(t.path,x,g),i(),I(),u("Password changed successfully!"),setTimeout(()=>u(null),3e3)}catch(j){b(j.message)}finally{_(!1)}},A=async()=>{if(!x){b("Enter current password");return}_(!0),b(null);try{await n0(t.path,x),i(),I(),u("Password removed. Profile is now non-secure."),setTimeout(()=>u(null),3e3)}catch(j){b(j.message)}finally{_(!1)}};R.useEffect(()=>{s(null),c(null),Vf(t.path).then(j=>{s(j),c(null)}).catch(j=>{c(j.message),s(null)})},[t.path,d]);const V=async()=>{if(n){l(!0),u(null);try{await Hf(t.path,n),u("Profile saved!"),setTimeout(()=>u(null),2e3)}catch(j){u(`Error: ${j.message}`)}finally{l(!1)}}};if(!n)return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Profile Editor"}),h?o.jsxs("div",{className:"card",style:{borderColor:"var(--danger)"},children:[o.jsxs("p",{style:{color:"var(--danger)"},children:["Failed to load profile: ",h]}),o.jsx("button",{className:"btn btn-primary",onClick:()=>f(j=>j+1),children:"Retry"})]}):o.jsx("div",{className:"card",children:"Loading profile..."})]});const Q=n.risk||{},L=n.execution||{},T=(j,D,Y)=>{s({...n,[j]:{...n[j]||{},[D]:Y}})},E=(j,D)=>{s({...n,[j]:D})};return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Profile Editor"}),a&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--success)"},children:o.jsx("p",{children:a})}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Basic Settings"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Symbol"}),o.jsx("input",{value:n.symbol||"",onChange:j=>s({...n,symbol:j.target.value})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Pip Size"}),o.jsx("input",{type:"number",step:"0.001",value:n.pip_size||.01,onChange:j=>s({...n,pip_size:parseFloat(j.target.value)})})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Account Settings"}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Deposit amount and leverage ratio for your reference."}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Deposit Amount ($)"}),o.jsx("input",{type:"number",placeholder:"e.g., 100000",value:n.deposit_amount||"",onChange:j=>E("deposit_amount",j.target.value?parseFloat(j.target.value):null)})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Leverage Ratio"}),o.jsxs("select",{value:n.leverage_ratio||"",onChange:j=>E("leverage_ratio",j.target.value?parseInt(j.target.value):null),children:[o.jsx("option",{value:"",children:"Select leverage..."}),o.jsx("option",{value:"50",children:"1:50"}),o.jsx("option",{value:"100",children:"1:100"}),o.jsx("option",{value:"200",children:"1:200"}),o.jsx("option",{value:"400",children:"1:400"}),o.jsx("option",{value:"500",children:"1:500"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Display Currency (Stats & Logs)"}),o.jsxs("select",{value:n.display_currency||"USD",onChange:j=>E("display_currency",j.target.value),children:[o.jsx("option",{value:"USD",children:"USD"}),o.jsx("option",{value:"JPY",children:"JPY"})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Profits and balances will be shown in this currency. JPY uses current rate from your symbol."})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Broker Connection"}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Choose MetaTrader 5 (Windows) or OANDA (works on Mac/Linux and PaaS like Railway). OANDA is available in Japan and Canada."}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Broker Type"}),o.jsxs("select",{value:n.broker_type||"mt5",onChange:j=>E("broker_type",j.target.value),children:[o.jsx("option",{value:"mt5",children:"MetaTrader 5 (MT5)"}),o.jsx("option",{value:"oanda",children:"OANDA"})]})]}),n.broker_type==="oanda"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"OANDA API Key"}),o.jsx("input",{type:"password",autoComplete:"off",placeholder:"Paste your OANDA API token",value:n.oanda_token||"",onChange:j=>E("oanda_token",j.target.value||null)}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Create a token in OANDA Practice or Live account: Account  Manage API Access."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"OANDA Account ID (optional)"}),o.jsx("input",{type:"text",placeholder:"Leave blank to use first account",value:n.oanda_account_id||"",onChange:j=>E("oanda_account_id",j.target.value||null)})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"OANDA Environment"}),o.jsxs("select",{value:n.oanda_environment||"practice",onChange:j=>E("oanda_environment",j.target.value),children:[o.jsx("option",{value:"practice",children:"Practice (demo)"}),o.jsx("option",{value:"live",children:"Live"})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Risk Settings"}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16,marginTop:-8},children:"These limits are final and cannot be overridden by presets or the custom wizard."}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Lots"}),o.jsx("input",{type:"number",step:"0.01",value:Q.max_lots||.1,onChange:j=>T("risk","max_lots",parseFloat(j.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Spread (pips)"}),o.jsx("input",{type:"number",step:"0.1",value:Q.max_spread_pips||2,onChange:j=>T("risk","max_spread_pips",parseFloat(j.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Trades/Day"}),o.jsx("input",{type:"number",value:Q.max_trades_per_day||10,onChange:j=>T("risk","max_trades_per_day",parseInt(j.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Open Trades"}),o.jsx("input",{type:"number",min:1,max:20,value:Q.max_open_trades??2,onChange:j=>T("risk","max_open_trades",parseInt(j.target.value)||1)})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Cooldown After Loss (minutes)"}),o.jsx("input",{type:"number",min:0,max:120,value:Q.cooldown_minutes_after_loss??0,onChange:j=>T("risk","cooldown_minutes_after_loss",parseInt(j.target.value)||0)})]}),o.jsx("div",{className:"form-group",children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("input",{type:"checkbox",checked:Q.require_stop||!1,onChange:j=>T("risk","require_stop",j.target.checked),style:{width:"auto"}}),"Require Stop Loss"]})})]})]}),o.jsxs("div",{className:"card mt-4",children:[o.jsx("h3",{className:"card-title",children:"Profile Security"}),C?o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16},children:"This profile is protected by a password."}),o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>v("change"),children:"Change Password"}),o.jsx("button",{className:"btn btn-danger",onClick:()=>v("remove"),children:"Remove Password"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16},children:"This profile has no password. Anyone with access to this computer can open it."}),o.jsx("button",{className:"btn btn-primary",onClick:()=>v("add"),children:"Add Password"})]})]}),m&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{className:"card",style:{maxWidth:400,margin:16},children:[o.jsxs("h3",{className:"card-title",children:[m==="add"&&"Add Password",m==="change"&&"Change Password",m==="remove"&&"Remove Password"]}),(m==="change"||m==="remove")&&o.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[o.jsx("label",{children:"Current Password"}),o.jsx("input",{type:"password",value:x,onChange:j=>P(j.target.value),placeholder:"Enter current password"})]}),(m==="add"||m==="change")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[o.jsx("label",{children:m==="change"?"New Password":"Password"}),o.jsx("input",{type:"password",value:g,onChange:j=>p(j.target.value),placeholder:"Min 4 characters"})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[o.jsxs("label",{children:["Confirm ",m==="change"?"New ":"","Password"]}),o.jsx("input",{type:"password",value:y,onChange:j=>S(j.target.value),placeholder:"Confirm password"})]})]}),m==="remove"&&o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12},children:"This will remove password protection. Anyone with access to this computer will be able to open this profile."}),(m==="add"||m==="change")&&o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--warning)",marginBottom:12,background:"rgba(234, 179, 8, 0.1)",padding:8,borderRadius:4},children:"Write your password down in a safe location. There is no forgot-password option."}),M&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.85rem",marginBottom:12},children:M}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:m==="remove"?"btn btn-danger":"btn btn-primary",onClick:m==="add"?F:m==="change"?H:A,disabled:w,children:w?"Processing...":m==="add"?"Set Password":m==="change"?"Change Password":"Remove Password"}),o.jsx("button",{className:"btn btn-secondary",onClick:I,disabled:w,children:"Cancel"})]})]})}),o.jsxs("div",{className:"card mt-4",children:[o.jsx("h3",{className:"card-title",children:"Execution Settings"}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Loop Poll Seconds"}),o.jsx("input",{type:"number",step:"0.5",value:L.loop_poll_seconds||5,onChange:j=>T("execution","loop_poll_seconds",parseFloat(j.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Fast Poll Seconds"}),o.jsx("input",{type:"number",step:"0.5",value:L.loop_poll_seconds_fast||2,onChange:j=>T("execution","loop_poll_seconds_fast",parseFloat(j.target.value))})]})]}),o.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:8},children:["Policies: ",(L.policies||[]).length," configured. Use the Streamlit UI or edit JSON directly for full policy management."]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{className:"btn btn-primary",onClick:V,disabled:r,children:r?"Saving...":"Save Profile"})})]})}function C0({profile:t}){const[e,i]=R.useState(null),[n,s]=R.useState({}),[r,l]=R.useState([]),[a,u]=R.useState(void 0),[h,c]=R.useState([]),[d,f]=R.useState(!1),[m,v]=R.useState(null),[x,P]=R.useState(null),[g,p]=R.useState(null),[y,S]=R.useState(null),[M,b]=R.useState(null),[w,_]=R.useState(null),[C,I]=R.useState("summary"),F=()=>{f0(t.name,t.path).then(i).catch(console.error),d0(t.name).then(s).catch(console.error),Kf(t.name,20,t.path).then(L=>{l(L.trades),u(L.display_currency)}).catch(console.error),c0(t.name,20).then(c).catch(console.error),p0(t.name,t.path).then(S).catch(console.error),m0(t.name,t.path).then(L=>_(L??null)).catch(()=>_(null))};R.useEffect(()=>{F()},[t.name,t.path]);const H=async()=>{f(!0),v(null);try{const L=await v0(t.name,t.path),T=[];L.trades_updated>0&&T.push(`${L.trades_updated} trade(s) synced`),L.trades_imported&&L.trades_imported>0&&T.push(`${L.trades_imported} trade(s) imported from MT5 history`),L.position_ids_backfilled&&L.position_ids_backfilled>0&&T.push(`${L.position_ids_backfilled} position ID(s) backfilled`),L.profit_backfilled&&L.profit_backfilled>0&&T.push(`${L.profit_backfilled} profit(s) updated from MT5`),T.length>0?(v(T.join(", ")),F()):v("All trades up to date"),setTimeout(()=>v(null),4e3)}catch(L){v(`Sync error: ${L.message}`)}finally{f(!1)}},A=async L=>{const T=String(L.trade_id||"");if(T){P(T);try{const E=await g0(t.name,T,t.path);v(`Closed trade: ${E.pips>=0?"+":""}${E.pips.toFixed(2)} pips`),F(),setTimeout(()=>v(null),3e3)}catch(E){v(`Close error: ${E.message}`)}finally{P(null),p(null)}}},V=Object.values(n).reduce((L,T)=>L+T,0),Q=L=>L.exit_price===null||L.exit_price===void 0;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex-between mb-4",children:[o.jsx("h2",{className:"page-title",style:{marginBottom:0,borderBottom:"none",paddingBottom:0},children:"Logs & Stats"}),o.jsx("button",{className:"btn btn-secondary",onClick:H,disabled:d,children:d?"Syncing...":"Sync from MT5"})]}),m&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--accent)"},children:o.jsx("p",{children:m})}),g&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{className:"card",style:{maxWidth:400,margin:0},children:[o.jsx("h3",{className:"card-title",children:"Confirm Close Trade"}),o.jsx("p",{style:{marginBottom:16},children:"Are you sure you want to close this trade?"}),o.jsx("div",{style:{background:"var(--bg-tertiary)",padding:12,borderRadius:6,marginBottom:16},children:o.jsxs("p",{style:{margin:0,fontSize:"0.9rem"},children:[o.jsx("strong",{children:"Side:"})," ",String(g.side||"").toUpperCase(),o.jsx("br",{}),o.jsx("strong",{children:"Entry:"})," ",typeof g.entry_price=="number"?g.entry_price.toFixed(3):"-",o.jsx("br",{}),o.jsx("strong",{children:"Size:"})," ",typeof g.size_lots=="number"?g.size_lots:"-"," lots"]})}),o.jsx("p",{style:{color:"var(--warning)",fontSize:"0.85rem",marginBottom:16},children:"This will send a close order to MT5 immediately."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"btn btn-danger",onClick:()=>A(g),disabled:x!==null,children:x?"Closing...":"Close Trade"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>p(null),disabled:x!==null,children:"Cancel"})]})]})}),o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:8},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"Quick Stats"}),e&&e.source==="mt5"&&o.jsx("span",{style:{fontSize:"0.7rem",background:"var(--success)",color:"white",padding:"4px 8px",borderRadius:4,fontWeight:600},children:"FROM MT5"})]}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:4,marginBottom:16},children:e&&e.source==="mt5"?"Stats from MT5 deal history (same as View  Reports)":"Stats from local records. Start MT5 to see live report data."}),o.jsxs("div",{className:"grid-3",children:[o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:(e==null?void 0:e.closed_trades)||0}),o.jsx("div",{className:"stat-label",children:"Closed Trades"}),e&&e.wins!=null&&e.losses!=null&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:[o.jsxs("span",{style:{color:"var(--success)"},children:[e.wins," W"]})," / ",o.jsxs("span",{style:{color:"var(--danger)"},children:[e.losses," L"]})]})]}),o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:(e==null?void 0:e.win_rate)!=null?`${(e.win_rate*100).toFixed(1)}%`:"-"}),o.jsx("div",{className:"stat-label",children:"Win Rate"})]}),o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:(e==null?void 0:e.avg_pips)!=null?e.avg_pips.toFixed(3):"-"}),o.jsx("div",{className:"stat-label",children:"Avg Pips"})]})]}),e&&e.total_profit!=null||e&&(e.total_commission!=null||e.total_swap!=null)?o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)",display:"flex",flexWrap:"wrap",gap:24},children:[e&&e.total_profit!=null&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Total Profit (MT5)"}),o.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:700,color:e.total_profit>=0?"var(--success)":"var(--danger)"},children:[e.total_profit>=0?"+":"",e.total_profit.toFixed(2)," ",e.display_currency||"USD"]})]}),e&&e.total_commission!=null&&e.total_commission!==0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Commission"}),o.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--text-secondary)"},children:[e.total_commission.toFixed(2)," ",e.display_currency||"USD"]})]}),e&&e.total_swap!=null&&e.total_swap!==0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Swap"}),o.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--text-secondary)"},children:[e.total_swap.toFixed(2)," ",e.display_currency||"USD"]})]})]}):null,e&&e.source==="database"&&e.trades_without_profit!=null&&e.trades_without_profit>0&&o.jsx("p",{style:{marginTop:12,marginBottom:0,fontSize:"0.85rem",color:"var(--warning)"},children:"Some trades lack profit data. Start MT5 and refresh to see stats from MT5 Report."})]}),w&&o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"MT5 Report"}),o.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"3px 6px",borderRadius:4,fontWeight:600},children:"FROM MT5"})]}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Same data as View  Reports in MetaTrader 5"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[o.jsxs("div",{onClick:()=>I(C==="summary"?null:"summary"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("strong",{children:"Summary"}),o.jsx("span",{children:C==="summary"?"":""})]}),C==="summary"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Balance"}),o.jsx("br",{}),w.summary.balance.toFixed(2)," ",w.display_currency||"USD"]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Equity"}),o.jsx("br",{}),w.summary.equity.toFixed(2)," ",w.display_currency||"USD"]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Margin"}),o.jsx("br",{}),w.summary.margin.toFixed(2)," ",w.display_currency||"USD"]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Free Margin"}),o.jsx("br",{}),w.summary.free_margin.toFixed(2)," ",w.display_currency||"USD"]})]})]}),o.jsxs("div",{onClick:()=>I(C==="closed"?null:"closed"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("strong",{children:"Closed P/L"}),o.jsx("span",{children:C==="closed"?"":""})]}),C==="closed"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12,fontSize:"0.9rem"},children:[o.jsxs("div",{children:["Total Profit: ",o.jsxs("span",{style:{color:w.closed_pl.total_profit>=0?"var(--success)":"var(--danger)",fontWeight:600},children:[w.closed_pl.total_profit>=0?"+":"",w.closed_pl.total_profit.toFixed(2)," ",w.display_currency||"USD"]})]}),o.jsxs("div",{children:["Commission: ",w.closed_pl.total_commission.toFixed(2)," ",w.display_currency||"USD"]}),o.jsxs("div",{children:["Swap: ",w.closed_pl.total_swap.toFixed(2)," ",w.display_currency||"USD"]}),o.jsxs("div",{children:["Gross Profit: ",o.jsxs("span",{style:{color:"var(--success)"},children:[w.closed_pl.gross_profit.toFixed(2)," ",w.display_currency||"USD"]})]}),o.jsxs("div",{children:["Gross Loss: ",o.jsxs("span",{style:{color:"var(--danger)"},children:[w.closed_pl.gross_loss.toFixed(2)," ",w.display_currency||"USD"]})]}),o.jsxs("div",{children:["Profit Factor: ",w.closed_pl.profit_factor.toFixed(2)]}),o.jsxs("div",{children:["Largest Win: ",o.jsxs("span",{style:{color:"var(--success)"},children:[w.closed_pl.largest_profit_trade.toFixed(2)," ",w.display_currency||"USD"]})]}),o.jsxs("div",{children:["Largest Loss: ",o.jsxs("span",{style:{color:"var(--danger)"},children:[w.closed_pl.largest_loss_trade.toFixed(2)," ",w.display_currency||"USD"]})]}),o.jsxs("div",{children:["Expected Payoff: ",w.closed_pl.expected_payoff.toFixed(2)," ",w.display_currency||"USD"]})]})]}),o.jsxs("div",{onClick:()=>I(C==="longshort"?null:"longshort"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("strong",{children:"Long / Short"}),o.jsx("span",{children:C==="longshort"?"":""})]}),C==="longshort"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12},children:[o.jsxs("div",{children:["Long: ",w.long_short.long_wins,"W / ",w.long_short.long_trades-w.long_short.long_wins,"L (",(w.long_short.long_win_pct*100).toFixed(0),"% win)"]}),o.jsxs("div",{children:["Short: ",w.long_short.short_wins,"W / ",w.long_short.short_trades-w.long_short.short_wins,"L (",(w.long_short.short_win_pct*100).toFixed(0),"% win)"]})]})]})]})]}),y&&Object.keys(y.presets).length>0&&o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"Performance by Preset"}),y.source==="mt5"&&o.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"3px 6px",borderRadius:4,fontWeight:600},children:"FROM MT5"})]}),o.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:16,marginTop:8,fontSize:"0.85rem"},children:["Preset names come from your local DB; win/loss and profit use the same MT5 history as Quick Stats (one fetch, then matched by position ID). For best accuracy, run ",o.jsx("strong",{children:"Sync from MT5"})," so closed trades have position IDs, then refresh with MT5 running."]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:Object.entries(y.presets).sort(([,L],[,T])=>(T.total_pips||0)-(L.total_pips||0)).map(([L,T])=>{var D,Y,G,Ze,ze,lt,W;const E=M===L,j=((D=Object.entries(y.presets).sort(([,ie],[,ye])=>(ye.total_pips||0)-(ie.total_pips||0))[0])==null?void 0:D[0])===L;return o.jsxs("div",{style:{border:`1px solid ${j?"var(--success)":"var(--border)"}`,borderRadius:8,overflow:"hidden",background:j?"rgba(34, 197, 94, 0.05)":"var(--bg-secondary)"},children:[o.jsxs("div",{onClick:()=>b(E?null:L),style:{padding:16,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("span",{style:{fontWeight:600},children:L}),j&&o.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"2px 6px",borderRadius:4,fontWeight:700},children:"BEST"})]}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:4},children:[T.total_trades," trades | Win: ",T.win_rate!=null?`${(T.win_rate*100).toFixed(0)}%`:"-"," | Total: ",o.jsxs("span",{style:{color:(T.total_pips||0)>=0?"var(--success)":"var(--danger)"},children:[T.total_pips>=0?"+":"",((Y=T.total_pips)==null?void 0:Y.toFixed(1))||0," pips"]}),T.total_profit!=null&&o.jsxs(o.Fragment,{children:[" | Profit: ",o.jsxs("span",{style:{color:T.total_profit>=0?"var(--success)":"var(--danger)"},children:[T.total_profit>=0?"+":"",T.total_profit.toFixed(2)," ",y.display_currency||"USD"]})]}),T.total_commission!=null&&T.total_commission!==0&&o.jsxs(o.Fragment,{children:[" | Commission: ",T.total_commission.toFixed(2)," ",y.display_currency||"USD"]})]})]}),o.jsx("span",{style:{fontSize:"1.2rem"},children:E?"":""})]}),E&&o.jsx("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid var(--border)",paddingTop:16},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Trades"}),o.jsx("div",{style:{fontWeight:700},children:T.total_trades})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win / Loss"}),o.jsxs("div",{style:{fontWeight:700},children:[o.jsx("span",{style:{color:"var(--success)"},children:T.wins})," /",o.jsx("span",{style:{color:"var(--danger)"},children:T.losses})]})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win Rate"}),o.jsx("div",{style:{fontWeight:700,color:(T.win_rate||0)>=.5?"var(--success)":"var(--warning)"},children:T.win_rate!=null?`${(T.win_rate*100).toFixed(1)}%`:"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Pips"}),o.jsxs("div",{style:{fontWeight:700,color:(T.total_pips||0)>=0?"var(--success)":"var(--danger)"},children:[T.total_pips>=0?"+":"",((G=T.total_pips)==null?void 0:G.toFixed(2))||0]})]}),T.total_profit!=null&&o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Profit"}),o.jsxs("div",{style:{fontWeight:700,color:T.total_profit>=0?"var(--success)":"var(--danger)"},children:[T.total_profit>=0?"+":"",T.total_profit.toFixed(2)," ",y.display_currency||"USD"]})]}),T.total_commission!=null&&T.total_commission!==0&&o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Commission"}),o.jsxs("div",{style:{fontWeight:700},children:[T.total_commission.toFixed(2)," ",y.display_currency||"USD"]})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Pips"}),o.jsx("div",{style:{fontWeight:700},children:((Ze=T.avg_pips)==null?void 0:Ze.toFixed(2))||"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg R:R"}),o.jsx("div",{style:{fontWeight:700},children:((ze=T.avg_rr)==null?void 0:ze.toFixed(2))||"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Best Trade"}),o.jsx("div",{style:{fontWeight:700,color:"var(--success)"},children:T.best_trade!=null?`+${T.best_trade.toFixed(1)} pips`:"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Worst Trade"}),o.jsx("div",{style:{fontWeight:700,color:"var(--danger)"},children:T.worst_trade!=null?`${T.worst_trade.toFixed(1)} pips`:"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win Streak"}),o.jsx("div",{style:{fontWeight:700},children:T.win_streak})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Loss Streak"}),o.jsx("div",{style:{fontWeight:700},children:T.loss_streak})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Profit Factor"}),o.jsx("div",{style:{fontWeight:700,color:(T.profit_factor||0)>=1?"var(--success)":"var(--danger)"},children:((lt=T.profit_factor)==null?void 0:lt.toFixed(2))||"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max Drawdown"}),o.jsxs("div",{style:{fontWeight:700,color:"var(--warning)"},children:[((W=T.max_drawdown)==null?void 0:W.toFixed(1))||0," pips"]})]})]})})]},L)})})]}),o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",children:"Rejection Breakdown"}),Object.entries(n).length===0?o.jsx("p",{style:{color:"var(--text-secondary)"},children:"No executions yet."}):Object.entries(n).map(([L,T])=>o.jsxs("div",{className:"breakdown-bar",children:[o.jsx("span",{className:"breakdown-label",children:L}),o.jsxs("div",{className:"breakdown-value",children:[o.jsx("div",{className:"breakdown-fill",style:{width:`${T/V*100}%`}}),o.jsx("span",{className:"breakdown-count",children:T})]})]},L))]}),o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",children:"Recent Trades"}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Time"}),o.jsx("th",{children:"Side"}),o.jsx("th",{children:"Entry"}),o.jsx("th",{children:"Exit"}),o.jsx("th",{children:"Pips"}),o.jsx("th",{children:"R"}),o.jsx("th",{children:"Profit"}),o.jsx("th",{children:"Source"}),o.jsx("th",{children:"Exit Reason"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:10,style:{textAlign:"center",color:"var(--text-secondary)"},children:"No trades yet."})}):r.map((L,T)=>{const E=String(L.opened_by||""),j=String(L.exit_reason||""),Y=(G=>{if(!G)return{text:"-",color:"inherit"};switch(G){case"hit_take_profit":return{text:"TP",color:"var(--success)"};case"hit_stop_loss":return{text:"SL",color:"var(--danger)"};case"user_closed_early":return{text:"User",color:"var(--warning)"};case"UI_manual_close":return{text:"UI",color:"var(--accent)"};case"mt5_history_import":return{text:"Imported",color:"var(--text-secondary)"};default:return{text:G.replace(/_/g," "),color:"var(--text-secondary)"}}})(j);return o.jsxs("tr",{children:[o.jsx("td",{children:String(L.timestamp_utc||"").slice(0,19)}),o.jsx("td",{children:String(L.side||"")}),o.jsx("td",{children:typeof L.entry_price=="number"?L.entry_price.toFixed(3):"-"}),o.jsx("td",{children:typeof L.exit_price=="number"?L.exit_price.toFixed(3):"-"}),o.jsx("td",{style:{color:typeof L.pips=="number"?L.pips>=0?"var(--success)":"var(--danger)":"inherit"},children:typeof L.pips=="number"?L.pips.toFixed(2):"-"}),o.jsx("td",{children:typeof L.r_multiple=="number"?L.r_multiple.toFixed(2):"-"}),o.jsx("td",{style:{color:typeof L.profit_display=="number"?L.profit_display>=0?"var(--success)":"var(--danger)":"inherit"},children:typeof L.profit_display=="number"?`${L.profit_display>=0?"+":""}${L.profit_display.toFixed(2)} ${a||(e==null?void 0:e.display_currency)||"USD"}`:"-"}),o.jsx("td",{children:o.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 6px",borderRadius:4,background:E==="program"?"rgba(59, 130, 246, 0.2)":"rgba(156, 163, 175, 0.2)",color:E==="program"?"var(--accent)":"var(--text-secondary)"},children:E==="program"?"Bot":E==="manual"?"Manual":"-"})}),o.jsx("td",{children:o.jsx("span",{style:{fontSize:"0.75rem",color:Y.color},children:Y.text})}),o.jsx("td",{children:Q(L)&&(L.mt5_order_id||L.mt5_position_id)?o.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"0.75rem"},onClick:()=>p(L),disabled:x===String(L.trade_id),children:"Close"}):Q(L)?o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"No MT5 ID"}):o.jsx("span",{style:{color:"var(--success)",fontSize:"0.75rem"},children:"Closed"})})]},T)})})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Recent Executions"}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Time"}),o.jsx("th",{children:"Mode"}),o.jsx("th",{children:"Placed"}),o.jsx("th",{children:"Reason"})]})}),o.jsx("tbody",{children:h.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,style:{textAlign:"center",color:"var(--text-secondary)"},children:"No executions yet."})}):h.map((L,T)=>o.jsxs("tr",{children:[o.jsx("td",{children:String(L.timestamp_utc||"").slice(0,19)}),o.jsx("td",{children:String(L.mode||"")}),o.jsx("td",{children:L.placed?"Yes":"No"}),o.jsx("td",{style:{maxWidth:300,overflow:"hidden",textOverflow:"ellipsis"},children:String(L.reason||"")})]},T))})]})})]})]})}function P0(){const[t,e]=R.useState("quickstart"),i=s=>{e(t===s?null:s)},n=({id:s,title:r,icon:l,children:a})=>o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>i(s),children:[o.jsxs("h3",{className:"card-title",style:{margin:0,display:"flex",alignItems:"center",gap:12},children:[o.jsx("span",{style:{fontSize:"1.3rem"},children:l}),r]}),o.jsx("span",{style:{color:"var(--accent)",fontSize:"1.2rem"},children:t===s?"":"+"})]}),t===s&&o.jsx("div",{style:{marginTop:16},children:a})]});return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Help / Guide"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:24},children:"Welcome to the USDJPY Trading Assistant! This guide will help you get started and understand how to use the bot effectively."}),o.jsxs(n,{id:"quickstart",title:"Quick Start (5 Steps)",icon:"",children:[o.jsx("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8,marginBottom:16},children:o.jsxs("ol",{style:{margin:0,paddingLeft:24,lineHeight:2.2},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Select or create an account"})," using the sidebar dropdown. Each account has its own settings and trade history."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Go to Presets"})," and pick a preset that matches your style (start with ",o.jsx("em",{children:"Conservative Scalping"})," if unsure), then click ",o.jsx("strong",{children:"Apply Preset"}),"."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Go to Run / Status"}),", set the mode to ",o.jsx("strong",{children:"ARMED_AUTO_DEMO"}),", then click ",o.jsx("strong",{children:"Start Loop"}),"."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Watch the log"})," - the bot will show heartbeats every few seconds and log its trading decisions."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Check Logs & Stats"})," to see your trades, win rate, and performance metrics."]})]})}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:[o.jsx("strong",{children:"Tip:"})," The bot only trades on demo accounts for safety. Make sure your MT5 terminal is running and connected to your broker."]})]}),o.jsxs(n,{id:"presets",title:"Understanding Presets",icon:"",children:[o.jsx("p",{style:{marginBottom:16},children:"Presets are pre-configured trading strategies. Each preset has different characteristics:"}),o.jsx("div",{className:"table-container",style:{marginBottom:16},children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Preset"}),o.jsx("th",{children:"Style"}),o.jsx("th",{children:"Trades/Day"}),o.jsx("th",{children:"Target"}),o.jsx("th",{children:"Risk Level"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Conservative Scalping"})}),o.jsx("td",{children:"Quick trades"}),o.jsx("td",{children:"5-10"}),o.jsx("td",{children:"8 pips"}),o.jsx("td",{style:{color:"var(--success)"},children:"Low"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Aggressive Scalping"})}),o.jsx("td",{children:"Quick trades"}),o.jsx("td",{children:"15-25"}),o.jsx("td",{children:"8 pips"}),o.jsx("td",{style:{color:"var(--danger)"},children:"High"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Moderate Swing"})}),o.jsx("td",{children:"Longer holds"}),o.jsx("td",{children:"2-5"}),o.jsx("td",{children:"20 pips"}),o.jsx("td",{style:{color:"var(--warning)"},children:"Medium"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"RSI Mean Reversion"})}),o.jsx("td",{children:"Counter-trend"}),o.jsx("td",{children:"5-10"}),o.jsx("td",{children:"10 pips"}),o.jsx("td",{style:{color:"var(--warning)"},children:"Medium"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Custom"})}),o.jsx("td",{children:"Your choice"}),o.jsx("td",{children:"Variable"}),o.jsx("td",{children:"Variable"}),o.jsx("td",{children:"Configurable"})]})]})]})}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:[o.jsx("strong",{children:"Recommendation:"})," Start with ",o.jsx("em",{children:"Conservative Scalping"})," to see how the bot works with minimal risk. Once comfortable, try other presets or create a custom configuration."]})]}),o.jsx(n,{id:"dashboard",title:"Reading the Dashboard",icon:"",children:o.jsxs("div",{className:"grid-2",style:{gap:16},children:[o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)"},children:"Run / Status Page"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Loop Status:"})," Shows if the trading loop is running or stopped"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Mode:"})," DISARMED (no trades), ARMED_MANUAL_CONFIRM (prompts before trading), ARMED_AUTO_DEMO (fully automated)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Kill Switch:"})," Emergency stop - prevents any new trades"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Loop Log:"})," Real-time output showing heartbeats and decisions"]})]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)"},children:"Logs & Stats Page"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Quick Stats:"})," Closed trades, win rate, average pips"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Rejection Breakdown:"})," Why trades weren't taken (spread, filters, etc.)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Recent Trades:"})," Your trade history with P/L"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Sync from MT5:"})," Updates trade data from your broker"]})]})]})]})}),o.jsxs(n,{id:"analysis",title:"Technical Analysis Page",icon:"",children:[o.jsx("p",{style:{marginBottom:16},children:"The Analysis page provides real-time technical analysis across three timeframes (H4, M15, M1):"}),o.jsxs("ul",{style:{margin:"0 0 16px 0",paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Regime:"})," Current market trend - BULL (uptrend), BEAR (downtrend), or SIDEWAYS"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"RSI:"})," Relative Strength Index - Oversold (below 30, potential buy), Overbought (above 70, potential sell), Neutral"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"MACD:"})," Momentum indicator - Positive (bullish momentum), Negative (bearish momentum)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"ATR:"})," Average True Range - Elevated (high volatility), Normal, Low (quiet market)"]})]}),o.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Click on any timeframe card to expand and see detailed indicator values. The page auto-refreshes every 30 seconds."})]}),o.jsx(n,{id:"faq",title:"Common Questions",icon:"",children:o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"Why isn't the bot trading?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Check these common reasons:",o.jsx("br",{})," ",o.jsx("strong",{children:"Spread too wide:"})," The bot waits for good spreads to avoid slippage",o.jsx("br",{})," ",o.jsx("strong",{children:"Alignment filters:"})," Multi-timeframe conditions must match",o.jsx("br",{})," ",o.jsx("strong",{children:"Max trades reached:"})," Daily trade limit hit",o.jsx("br",{})," ",o.jsx("strong",{children:"Kill switch on:"})," Check the Run page",o.jsx("br",{})," ",o.jsx("strong",{children:"Market closed:"})," Forex markets close on weekends"]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"How do I close a trade?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Go to ",o.jsx("strong",{children:"Logs & Stats"}),", find your open trade in the Recent Trades table, and click the ",o.jsx("strong",{children:"Close"})," button. You'll be asked to confirm before the close order is sent."]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"What does the kill switch do?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["The kill switch ",o.jsx("strong",{children:"immediately stops all new trades"})," from being placed. It does not close existing positions - use the Close button for that. Toggle it on if you need to pause the bot quickly."]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"My trade history is missing?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Click ",o.jsx("strong",{children:"Sync from MT5"})," on the Logs & Stats page. This will import any trades that were opened or closed directly in MT5, including trades closed by hitting TP/SL."]})]})]})}),o.jsx(n,{id:"glossary",title:"Glossary",icon:"",children:o.jsx("div",{className:"grid-2",style:{gap:12},children:[{term:"Pip",def:"Smallest price move. For USDJPY, 1 pip = 0.01 (e.g., 154.50 to 154.51)"},{term:"Lot",def:"Trade size. 0.01 = micro lot (1,000 units), 0.1 = mini lot (10,000 units), 1.0 = standard lot (100,000 units)"},{term:"Spread",def:"Difference between buy (ask) and sell (bid) price. Lower = better."},{term:"EMA",def:"Exponential Moving Average - weighted average of recent prices, responds quickly to changes"},{term:"SMA",def:"Simple Moving Average - equal-weighted average of prices over a period"},{term:"RSI",def:"Relative Strength Index (0-100). Below 30 = oversold, above 70 = overbought"},{term:"MACD",def:"Moving Average Convergence Divergence - momentum indicator showing trend direction"},{term:"ATR",def:"Average True Range - measures market volatility"},{term:"Regime",def:"Current market trend: bullish (up), bearish (down), or sideways"},{term:"Stop Loss (SL)",def:"Price level where trade closes to limit losses"},{term:"Take Profit (TP)",def:"Price level where trade closes to lock in profits"},{term:"R-Multiple",def:"Risk-adjusted return. R of 2 means you made 2x your risked amount"}].map((s,r)=>o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsxs("strong",{style:{color:"var(--accent)"},children:[s.term,":"]}),o.jsx("span",{style:{marginLeft:8,color:"var(--text-secondary)",fontSize:"0.9rem"},children:s.def})]},r))})}),o.jsxs("div",{className:"card",style:{borderColor:"var(--warning)",background:"rgba(245, 158, 11, 0.1)"},children:[o.jsx("h3",{style:{margin:"0 0 12px 0",color:"var(--warning)",display:"flex",alignItems:"center",gap:8},children:" Important Safety Notice"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:["This bot is designed for ",o.jsx("strong",{children:"demo trading only"}),". It will refuse to trade on live accounts."]}),o.jsx("li",{children:"Trading carries risk. Past performance does not guarantee future results."}),o.jsx("li",{children:"Always monitor the bot and understand what it's doing before trusting it with larger positions."}),o.jsx("li",{children:"Start with conservative settings and small position sizes while you learn."})]})]})]})}Hl.createRoot(document.getElementById("root")).render(o.jsx(dp.StrictMode,{children:o.jsx(w0,{})}));
