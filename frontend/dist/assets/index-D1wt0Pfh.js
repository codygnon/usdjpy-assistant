var wI=Object.defineProperty;var SI=(t,e,r)=>e in t?wI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Vp=(t,e,r)=>SI(t,typeof e!="symbol"?e+"":e,r);function jI(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function vi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GP={exports:{}},bh={},XP={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),kI=Symbol.for("react.portal"),PI=Symbol.for("react.fragment"),MI=Symbol.for("react.strict_mode"),CI=Symbol.for("react.profiler"),EI=Symbol.for("react.provider"),AI=Symbol.for("react.context"),OI=Symbol.for("react.forward_ref"),TI=Symbol.for("react.suspense"),zI=Symbol.for("react.memo"),II=Symbol.for("react.lazy"),Zb=Symbol.iterator;function NI(t){return t===null||typeof t!="object"?null:(t=Zb&&t[Zb]||t["@@iterator"],typeof t=="function"?t:null)}var qP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZP=Object.assign,QP={};function no(t,e,r){this.props=t,this.context=e,this.refs=QP,this.updater=r||qP}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JP(){}JP.prototype=no.prototype;function uy(t,e,r){this.props=t,this.context=e,this.refs=QP,this.updater=r||qP}var cy=uy.prototype=new JP;cy.constructor=uy;ZP(cy,no.prototype);cy.isPureReactComponent=!0;var Qb=Array.isArray,eM=Object.prototype.hasOwnProperty,dy={current:null},tM={key:!0,ref:!0,__self:!0,__source:!0};function rM(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)eM.call(e,n)&&!tM.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:nu,type:t,key:a,ref:s,props:i,_owner:dy.current}}function RI(t,e){return{$$typeof:nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===nu}function DI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Jb=/\/+/g;function Hp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DI(""+t.key):e.toString(36)}function Ec(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case nu:case kI:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Hp(s,0):n,Qb(i)?(r="",t!=null&&(r=t.replace(Jb,"$&/")+"/"),Ec(i,e,r,"",function(c){return c})):i!=null&&(hy(i)&&(i=RI(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Jb,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Qb(t))for(var l=0;l<t.length;l++){a=t[l];var u=n+Hp(a,l);s+=Ec(a,e,r,u,i)}else if(u=NI(t),typeof u=="function")for(t=u.call(t),l=0;!(a=t.next()).done;)a=a.value,u=n+Hp(a,l++),s+=Ec(a,e,r,u,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Du(t,e,r){if(t==null)return t;var n=[],i=0;return Ec(t,n,"","",function(a){return e.call(r,a,i++)}),n}function LI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},Ac={transition:null},BI={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:dy};function nM(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Du,forEach:function(t,e,r){Du(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Du(t,function(){e++}),e},toArray:function(t){return Du(t,function(e){return e})||[]},only:function(t){if(!hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=no;ke.Fragment=PI;ke.Profiler=CI;ke.PureComponent=uy;ke.StrictMode=MI;ke.Suspense=TI;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BI;ke.act=nM;ke.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ZP({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=dy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)eM.call(e,u)&&!tM.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:nu,type:t.type,key:i,ref:a,props:n,_owner:s}};ke.createContext=function(t){return t={$$typeof:AI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EI,_context:t},t.Consumer=t};ke.createElement=rM;ke.createFactory=function(t){var e=rM.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:OI,render:t}};ke.isValidElement=hy;ke.lazy=function(t){return{$$typeof:II,_payload:{_status:-1,_result:t},_init:LI}};ke.memo=function(t,e){return{$$typeof:zI,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};ke.unstable_act=nM;ke.useCallback=function(t,e){return ur.current.useCallback(t,e)};ke.useContext=function(t){return ur.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};ke.useEffect=function(t,e){return ur.current.useEffect(t,e)};ke.useId=function(){return ur.current.useId()};ke.useImperativeHandle=function(t,e,r){return ur.current.useImperativeHandle(t,e,r)};ke.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return ur.current.useMemo(t,e)};ke.useReducer=function(t,e,r){return ur.current.useReducer(t,e,r)};ke.useRef=function(t){return ur.current.useRef(t)};ke.useState=function(t){return ur.current.useState(t)};ke.useSyncExternalStore=function(t,e,r){return ur.current.useSyncExternalStore(t,e,r)};ke.useTransition=function(){return ur.current.useTransition()};ke.version="18.3.1";XP.exports=ke;var v=XP.exports;const fy=vi(v),$I=jI({__proto__:null,default:fy},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI=v,WI=Symbol.for("react.element"),UI=Symbol.for("react.fragment"),KI=Object.prototype.hasOwnProperty,VI=FI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HI={key:!0,ref:!0,__self:!0,__source:!0};function iM(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)KI.call(e,n)&&!HI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:WI,type:t,key:a,ref:s,props:i,_owner:VI.current}}bh.Fragment=UI;bh.jsx=iM;bh.jsxs=iM;GP.exports=bh;var o=GP.exports,dv={},aM={exports:{}},Br={},sM={exports:{}},oM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,R){var M=L.length;L.push(R);e:for(;0<M;){var ee=M-1>>>1,q=L[ee];if(0<i(q,R))L[ee]=R,L[M]=q,M=ee;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var R=L[0],M=L.pop();if(M!==R){L[0]=M;e:for(var ee=0,q=L.length,Pe=q>>>1;ee<Pe;){var _e=2*(ee+1)-1,Ee=L[_e],se=_e+1,he=L[se];if(0>i(Ee,M))se<q&&0>i(he,Ee)?(L[ee]=he,L[se]=M,ee=se):(L[ee]=Ee,L[_e]=M,ee=_e);else if(se<q&&0>i(he,M))L[ee]=he,L[se]=M,ee=se;else break e}}return R}function i(L,R){var M=L.sortIndex-R.sortIndex;return M!==0?M:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,h=null,f=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=L)n(c),R.sortIndex=R.expirationTime,e(u,R);else break;R=r(c)}}function k(L){if(y=!1,S(L),!g)if(r(u)!==null)g=!0,re(p);else{var R=r(c);R!==null&&H(k,R.startTime-L)}}function p(L,R){g=!1,y&&(y=!1,_(T),T=-1),m=!0;var M=f;try{for(S(R),h=r(u);h!==null&&(!(h.expirationTime>R)||L&&!B());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var q=ee(h.expirationTime<=R);R=t.unstable_now(),typeof q=="function"?h.callback=q:h===r(u)&&n(u),S(R)}else n(u);h=r(u)}if(h!==null)var Pe=!0;else{var _e=r(c);_e!==null&&H(k,_e.startTime-R),Pe=!1}return Pe}finally{h=null,f=M,m=!1}}var j=!1,C=null,T=-1,E=5,z=-1;function B(){return!(t.unstable_now()-z<E)}function O(){if(C!==null){var L=t.unstable_now();z=L;var R=!0;try{R=C(!0,L)}finally{R?G():(j=!1,C=null)}}else j=!1}var G;if(typeof b=="function")G=function(){b(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,W=Y.port2;Y.port1.onmessage=O,G=function(){W.postMessage(null)}}else G=function(){x(O,0)};function re(L){C=L,j||(j=!0,G())}function H(L,R){T=x(function(){L(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,re(p))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var M=f;f=R;try{return L()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=f;f=L;try{return R()}finally{f=M}},t.unstable_scheduleCallback=function(L,R,M){var ee=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ee+M:ee):M=ee,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=M+q,L={id:d++,callback:R,priorityLevel:L,startTime:M,expirationTime:q,sortIndex:-1},M>ee?(L.sortIndex=M,e(c,L),r(u)===null&&L===r(c)&&(y?(_(T),T=-1):y=!0,H(k,M-ee))):(L.sortIndex=q,e(u,L),g||m||(g=!0,re(p))),L},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(L){var R=f;return function(){var M=f;f=R;try{return L.apply(this,arguments)}finally{f=M}}}})(oM);sM.exports=oM;var YI=sM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI=v,Dr=YI;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lM=new Set,_l={};function Xa(t,e){Ls(t,e),Ls(t+"Capture",e)}function Ls(t,e){for(_l[t]=e,t=0;t<e.length;t++)lM.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hv=Object.prototype.hasOwnProperty,XI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e1={},t1={};function qI(t){return hv.call(t1,t)?!0:hv.call(e1,t)?!1:XI.test(t)?t1[t]=!0:(e1[t]=!0,!1)}function ZI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QI(t,e,r,n){if(e===null||typeof e>"u"||ZI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cr(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new cr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new cr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new cr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new cr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new cr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new cr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new cr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new cr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new cr(t,5,!1,t.toLowerCase(),null,!1,!1)});var py=/[\-:]([a-z])/g;function my(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(py,my);Kt[e]=new cr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(py,my);Kt[e]=new cr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(py,my);Kt[e]=new cr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new cr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new cr(t,1,!1,t.toLowerCase(),null,!0,!0)});function vy(t,e,r,n){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QI(e,r,i,n)&&(r=null),n||i===null?qI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gi=GI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),us=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),fv=Symbol.for("react.profiler"),uM=Symbol.for("react.provider"),cM=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),pv=Symbol.for("react.suspense"),mv=Symbol.for("react.suspense_list"),_y=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),dM=Symbol.for("react.offscreen"),r1=Symbol.iterator;function Ao(t){return t===null||typeof t!="object"?null:(t=r1&&t[r1]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Yp;function Go(t){if(Yp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Yp=e&&e[1]||""}return`
`+Yp+t}var Gp=!1;function Xp(t,e){if(!t||Gp)return"";Gp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{Gp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Go(t):""}function JI(t){switch(t.tag){case 5:return Go(t.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return t=Xp(t.type,!1),t;case 11:return t=Xp(t.type.render,!1),t;case 1:return t=Xp(t.type,!0),t;default:return""}}function vv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cs:return"Fragment";case us:return"Portal";case fv:return"Profiler";case gy:return"StrictMode";case pv:return"Suspense";case mv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cM:return(t.displayName||"Context")+".Consumer";case uM:return(t._context.displayName||"Context")+".Provider";case yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _y:return e=t.displayName||null,e!==null?e:vv(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return vv(t(e))}catch{}}return null}function eN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vv(e);case 8:return e===gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tN(t){var e=hM(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bu(t){t._valueTracker||(t._valueTracker=tN(t))}function fM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=hM(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function qc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gv(t,e){var r=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function n1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=qi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pM(t,e){e=e.checked,e!=null&&vy(t,"checked",e,!1)}function yv(t,e){pM(t,e);var r=qi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_v(t,e.type,r):e.hasOwnProperty("defaultValue")&&_v(t,e.type,qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _v(t,e,r){(e!=="number"||qc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Xo=Array.isArray;function Ms(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+qi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(J(92));if(Xo(r)){if(1<r.length)throw Error(J(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:qi(r)}}function mM(t,e){var r=qi(e.value),n=qi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function s1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $u,gM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($u=$u||document.createElement("div"),$u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rN=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(t){rN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rl[e]=rl[t]})});function yM(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||rl.hasOwnProperty(t)&&rl[t]?(""+e).trim():e+"px"}function _M(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=yM(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var nN=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wv(t,e){if(e){if(nN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Sv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jv=null;function xy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kv=null,Cs=null,Es=null;function o1(t){if(t=su(t)){if(typeof kv!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Ph(e),kv(t.stateNode,t.type,e))}}function xM(t){Cs?Es?Es.push(t):Es=[t]:Cs=t}function bM(){if(Cs){var t=Cs,e=Es;if(Es=Cs=null,o1(t),e)for(t=0;t<e.length;t++)o1(e[t])}}function wM(t,e){return t(e)}function SM(){}var qp=!1;function jM(t,e,r){if(qp)return t(e,r);qp=!0;try{return wM(t,e,r)}finally{qp=!1,(Cs!==null||Es!==null)&&(SM(),bM())}}function bl(t,e){var r=t.stateNode;if(r===null)return null;var n=Ph(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,e,typeof r));return r}var Pv=!1;if(ai)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Pv=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Pv=!1}function iN(t,e,r,n,i,a,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var nl=!1,Zc=null,Qc=!1,Mv=null,aN={onError:function(t){nl=!0,Zc=t}};function sN(t,e,r,n,i,a,s,l,u){nl=!1,Zc=null,iN.apply(aN,arguments)}function oN(t,e,r,n,i,a,s,l,u){if(sN.apply(this,arguments),nl){if(nl){var c=Zc;nl=!1,Zc=null}else throw Error(J(198));Qc||(Qc=!0,Mv=c)}}function qa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function kM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l1(t){if(qa(t)!==t)throw Error(J(188))}function lN(t){var e=t.alternate;if(!e){if(e=qa(t),e===null)throw Error(J(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return l1(i),t;if(a===n)return l1(i),e;a=a.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:e}function PM(t){return t=lN(t),t!==null?MM(t):null}function MM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MM(t);if(e!==null)return e;t=t.sibling}return null}var CM=Dr.unstable_scheduleCallback,u1=Dr.unstable_cancelCallback,uN=Dr.unstable_shouldYield,cN=Dr.unstable_requestPaint,ht=Dr.unstable_now,dN=Dr.unstable_getCurrentPriorityLevel,by=Dr.unstable_ImmediatePriority,EM=Dr.unstable_UserBlockingPriority,Jc=Dr.unstable_NormalPriority,hN=Dr.unstable_LowPriority,AM=Dr.unstable_IdlePriority,wh=null,Rn=null;function fN(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(wh,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:vN,pN=Math.log,mN=Math.LN2;function vN(t){return t>>>=0,t===0?32:31-(pN(t)/mN|0)|0}var Fu=64,Wu=4194304;function qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ed(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=qo(l):(a&=s,a!==0&&(n=qo(a)))}else s=r&~i,s!==0?n=qo(s):a!==0&&(n=qo(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gn(e),i=1<<r,n|=t[r],e&=~i;return n}function gN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yN(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-gn(a),l=1<<s,u=i[s];u===-1?(!(l&r)||l&n)&&(i[s]=gN(l,e)):u<=e&&(t.expiredLanes|=l),a&=~l}}function Cv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function OM(){var t=Fu;return Fu<<=1,!(Fu&4194240)&&(Fu=64),t}function Zp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function iu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=r}function _N(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-gn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function wy(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var $e=0;function TM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zM,Sy,IM,NM,RM,Ev=!1,Uu=[],$i=null,Fi=null,Wi=null,wl=new Map,Sl=new Map,zi=[],xN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c1(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(e.pointerId)}}function To(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=su(e),e!==null&&Sy(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bN(t,e,r,n,i){switch(e){case"focusin":return $i=To($i,t,e,r,n,i),!0;case"dragenter":return Fi=To(Fi,t,e,r,n,i),!0;case"mouseover":return Wi=To(Wi,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return wl.set(a,To(wl.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Sl.set(a,To(Sl.get(a)||null,t,e,r,n,i)),!0}return!1}function DM(t){var e=va(t.target);if(e!==null){var r=qa(e);if(r!==null){if(e=r.tag,e===13){if(e=kM(r),e!==null){t.blockedOn=e,RM(t.priority,function(){IM(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Av(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);jv=n,r.target.dispatchEvent(n),jv=null}else return e=su(r),e!==null&&Sy(e),t.blockedOn=r,!1;e.shift()}return!0}function d1(t,e,r){Oc(t)&&r.delete(e)}function wN(){Ev=!1,$i!==null&&Oc($i)&&($i=null),Fi!==null&&Oc(Fi)&&(Fi=null),Wi!==null&&Oc(Wi)&&(Wi=null),wl.forEach(d1),Sl.forEach(d1)}function zo(t,e){t.blockedOn===e&&(t.blockedOn=null,Ev||(Ev=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,wN)))}function jl(t){function e(i){return zo(i,t)}if(0<Uu.length){zo(Uu[0],t);for(var r=1;r<Uu.length;r++){var n=Uu[r];n.blockedOn===t&&(n.blockedOn=null)}}for($i!==null&&zo($i,t),Fi!==null&&zo(Fi,t),Wi!==null&&zo(Wi,t),wl.forEach(e),Sl.forEach(e),r=0;r<zi.length;r++)n=zi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<zi.length&&(r=zi[0],r.blockedOn===null);)DM(r),r.blockedOn===null&&zi.shift()}var As=gi.ReactCurrentBatchConfig,td=!0;function SN(t,e,r,n){var i=$e,a=As.transition;As.transition=null;try{$e=1,jy(t,e,r,n)}finally{$e=i,As.transition=a}}function jN(t,e,r,n){var i=$e,a=As.transition;As.transition=null;try{$e=4,jy(t,e,r,n)}finally{$e=i,As.transition=a}}function jy(t,e,r,n){if(td){var i=Av(t,e,r,n);if(i===null)om(t,e,n,rd,r),c1(t,n);else if(bN(i,t,e,r,n))n.stopPropagation();else if(c1(t,n),e&4&&-1<xN.indexOf(t)){for(;i!==null;){var a=su(i);if(a!==null&&zM(a),a=Av(t,e,r,n),a===null&&om(t,e,n,rd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else om(t,e,n,null,r)}}var rd=null;function Av(t,e,r,n){if(rd=null,t=xy(n),t=va(t),t!==null)if(e=qa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=kM(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rd=t,null}function LM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dN()){case by:return 1;case EM:return 4;case Jc:case hN:return 16;case AM:return 536870912;default:return 16}default:return 16}}var Ri=null,ky=null,Tc=null;function BM(){if(Tc)return Tc;var t,e=ky,r=e.length,n,i="value"in Ri?Ri.value:Ri.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Tc=i.slice(t,1<n?1-n:void 0)}function zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function h1(){return!1}function $r(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ku:h1,this.isPropagationStopped=h1,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Py=$r(io),au=it({},io,{view:0,detail:0}),kN=$r(au),Qp,Jp,Io,Sh=it({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:My,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Io&&(Io&&t.type==="mousemove"?(Qp=t.screenX-Io.screenX,Jp=t.screenY-Io.screenY):Jp=Qp=0,Io=t),Qp)},movementY:function(t){return"movementY"in t?t.movementY:Jp}}),f1=$r(Sh),PN=it({},Sh,{dataTransfer:0}),MN=$r(PN),CN=it({},au,{relatedTarget:0}),em=$r(CN),EN=it({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),AN=$r(EN),ON=it({},io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TN=$r(ON),zN=it({},io,{data:0}),p1=$r(zN),IN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RN[t])?!!e[t]:!1}function My(){return DN}var LN=it({},au,{key:function(t){if(t.key){var e=IN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:My,charCode:function(t){return t.type==="keypress"?zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BN=$r(LN),$N=it({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m1=$r($N),FN=it({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:My}),WN=$r(FN),UN=it({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),KN=$r(UN),VN=it({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HN=$r(VN),YN=[9,13,27,32],Cy=ai&&"CompositionEvent"in window,il=null;ai&&"documentMode"in document&&(il=document.documentMode);var GN=ai&&"TextEvent"in window&&!il,$M=ai&&(!Cy||il&&8<il&&11>=il),v1=" ",g1=!1;function FM(t,e){switch(t){case"keyup":return YN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ds=!1;function XN(t,e){switch(t){case"compositionend":return WM(e);case"keypress":return e.which!==32?null:(g1=!0,v1);case"textInput":return t=e.data,t===v1&&g1?null:t;default:return null}}function qN(t,e){if(ds)return t==="compositionend"||!Cy&&FM(t,e)?(t=BM(),Tc=ky=Ri=null,ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $M&&e.locale!=="ko"?null:e.data;default:return null}}var ZN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZN[t.type]:e==="textarea"}function UM(t,e,r,n){xM(n),e=nd(e,"onChange"),0<e.length&&(r=new Py("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var al=null,kl=null;function QN(t){eC(t,0)}function jh(t){var e=ps(t);if(fM(e))return t}function JN(t,e){if(t==="change")return e}var KM=!1;if(ai){var tm;if(ai){var rm="oninput"in document;if(!rm){var _1=document.createElement("div");_1.setAttribute("oninput","return;"),rm=typeof _1.oninput=="function"}tm=rm}else tm=!1;KM=tm&&(!document.documentMode||9<document.documentMode)}function x1(){al&&(al.detachEvent("onpropertychange",VM),kl=al=null)}function VM(t){if(t.propertyName==="value"&&jh(kl)){var e=[];UM(e,kl,t,xy(t)),jM(QN,e)}}function eR(t,e,r){t==="focusin"?(x1(),al=e,kl=r,al.attachEvent("onpropertychange",VM)):t==="focusout"&&x1()}function tR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jh(kl)}function rR(t,e){if(t==="click")return jh(e)}function nR(t,e){if(t==="input"||t==="change")return jh(e)}function iR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:iR;function Pl(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!hv.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function b1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w1(t,e){var r=b1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=b1(r)}}function HM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YM(){for(var t=window,e=qc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=qc(t.document)}return e}function Ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aR(t){var e=YM(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&HM(r.ownerDocument.documentElement,r)){if(n!==null&&Ey(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=w1(r,a);var s=w1(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sR=ai&&"documentMode"in document&&11>=document.documentMode,hs=null,Ov=null,sl=null,Tv=!1;function S1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tv||hs==null||hs!==qc(n)||(n=hs,"selectionStart"in n&&Ey(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sl&&Pl(sl,n)||(sl=n,n=nd(Ov,"onSelect"),0<n.length&&(e=new Py("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=hs)))}function Vu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fs={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},nm={},GM={};ai&&(GM=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function kh(t){if(nm[t])return nm[t];if(!fs[t])return t;var e=fs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in GM)return nm[t]=e[r];return t}var XM=kh("animationend"),qM=kh("animationiteration"),ZM=kh("animationstart"),QM=kh("transitionend"),JM=new Map,j1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(t,e){JM.set(t,e),Xa(e,[t])}for(var im=0;im<j1.length;im++){var am=j1[im],oR=am.toLowerCase(),lR=am[0].toUpperCase()+am.slice(1);ea(oR,"on"+lR)}ea(XM,"onAnimationEnd");ea(qM,"onAnimationIteration");ea(ZM,"onAnimationStart");ea("dblclick","onDoubleClick");ea("focusin","onFocus");ea("focusout","onBlur");ea(QM,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function k1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,oN(n,e,void 0,t),t.currentTarget=null}function eC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var l=n[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&i.isPropagationStopped())break e;k1(i,l,c),a=u}else for(s=0;s<n.length;s++){if(l=n[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&i.isPropagationStopped())break e;k1(i,l,c),a=u}}}if(Qc)throw t=Mv,Qc=!1,Mv=null,t}function Xe(t,e){var r=e[Dv];r===void 0&&(r=e[Dv]=new Set);var n=t+"__bubble";r.has(n)||(tC(e,t,2,!1),r.add(n))}function sm(t,e,r){var n=0;e&&(n|=4),tC(r,t,n,e)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[Hu]){t[Hu]=!0,lM.forEach(function(r){r!=="selectionchange"&&(uR.has(r)||sm(r,!1,t),sm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hu]||(e[Hu]=!0,sm("selectionchange",!1,e))}}function tC(t,e,r,n){switch(LM(e)){case 1:var i=SN;break;case 4:i=jN;break;default:i=jy}r=i.bind(null,e,r,t),i=void 0,!Pv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function om(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=va(l),s===null)return;if(u=s.tag,u===5||u===6){n=a=s;continue e}l=l.parentNode}}n=n.return}jM(function(){var c=a,d=xy(r),h=[];e:{var f=JM.get(t);if(f!==void 0){var m=Py,g=t;switch(t){case"keypress":if(zc(r)===0)break e;case"keydown":case"keyup":m=BN;break;case"focusin":g="focus",m=em;break;case"focusout":g="blur",m=em;break;case"beforeblur":case"afterblur":m=em;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=f1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=MN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WN;break;case XM:case qM:case ZM:m=AN;break;case QM:m=KN;break;case"scroll":m=kN;break;case"wheel":m=HN;break;case"copy":case"cut":case"paste":m=TN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=m1}var y=(e&4)!==0,x=!y&&t==="scroll",_=y?f!==null?f+"Capture":null:f;y=[];for(var b=c,S;b!==null;){S=b;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,_!==null&&(k=bl(b,_),k!=null&&y.push(Cl(b,k,S)))),x)break;b=b.return}0<y.length&&(f=new m(f,g,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==jv&&(g=r.relatedTarget||r.fromElement)&&(va(g)||g[si]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=c,g=g?va(g):null,g!==null&&(x=qa(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=f1,k="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=m1,k="onPointerLeave",_="onPointerEnter",b="pointer"),x=m==null?f:ps(m),S=g==null?f:ps(g),f=new y(k,b+"leave",m,r,d),f.target=x,f.relatedTarget=S,k=null,va(d)===c&&(y=new y(_,b+"enter",g,r,d),y.target=S,y.relatedTarget=x,k=y),x=k,m&&g)t:{for(y=m,_=g,b=0,S=y;S;S=ts(S))b++;for(S=0,k=_;k;k=ts(k))S++;for(;0<b-S;)y=ts(y),b--;for(;0<S-b;)_=ts(_),S--;for(;b--;){if(y===_||_!==null&&y===_.alternate)break t;y=ts(y),_=ts(_)}y=null}else y=null;m!==null&&P1(h,f,m,y,!1),g!==null&&x!==null&&P1(h,x,g,y,!0)}}e:{if(f=c?ps(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var p=JN;else if(y1(f))if(KM)p=nR;else{p=tR;var j=eR}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(p=rR);if(p&&(p=p(t,c))){UM(h,p,r,d);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&_v(f,"number",f.value)}switch(j=c?ps(c):window,t){case"focusin":(y1(j)||j.contentEditable==="true")&&(hs=j,Ov=c,sl=null);break;case"focusout":sl=Ov=hs=null;break;case"mousedown":Tv=!0;break;case"contextmenu":case"mouseup":case"dragend":Tv=!1,S1(h,r,d);break;case"selectionchange":if(sR)break;case"keydown":case"keyup":S1(h,r,d)}var C;if(Cy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ds?FM(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&($M&&r.locale!=="ko"&&(ds||T!=="onCompositionStart"?T==="onCompositionEnd"&&ds&&(C=BM()):(Ri=d,ky="value"in Ri?Ri.value:Ri.textContent,ds=!0)),j=nd(c,T),0<j.length&&(T=new p1(T,t,null,r,d),h.push({event:T,listeners:j}),C?T.data=C:(C=WM(r),C!==null&&(T.data=C)))),(C=GN?XN(t,r):qN(t,r))&&(c=nd(c,"onBeforeInput"),0<c.length&&(d=new p1("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=C))}eC(h,e)})}function Cl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function nd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=bl(t,r),a!=null&&n.unshift(Cl(t,a,i)),a=bl(t,e),a!=null&&n.push(Cl(t,a,i))),t=t.return}return n}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P1(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,i?(u=bl(r,a),u!=null&&s.unshift(Cl(r,u,l))):i||(u=bl(r,a),u!=null&&s.push(Cl(r,u,l)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var cR=/\r\n?/g,dR=/\u0000|\uFFFD/g;function M1(t){return(typeof t=="string"?t:""+t).replace(cR,`
`).replace(dR,"")}function Yu(t,e,r){if(e=M1(e),M1(t)!==e&&r)throw Error(J(425))}function id(){}var zv=null,Iv=null;function Nv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rv=typeof setTimeout=="function"?setTimeout:void 0,hR=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,fR=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(t){return C1.resolve(null).then(t).catch(pR)}:Rv;function pR(t){setTimeout(function(){throw t})}function lm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),jl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);jl(e)}function Ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function E1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ao=Math.random().toString(36).slice(2),zn="__reactFiber$"+ao,El="__reactProps$"+ao,si="__reactContainer$"+ao,Dv="__reactEvents$"+ao,mR="__reactListeners$"+ao,vR="__reactHandles$"+ao;function va(t){var e=t[zn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[si]||r[zn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=E1(t);t!==null;){if(r=t[zn])return r;t=E1(t)}return e}t=r,r=t.parentNode}return null}function su(t){return t=t[zn]||t[si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Ph(t){return t[El]||null}var Lv=[],ms=-1;function ta(t){return{current:t}}function Ze(t){0>ms||(t.current=Lv[ms],Lv[ms]=null,ms--)}function Ye(t,e){ms++,Lv[ms]=t.current,t.current=e}var Zi={},Qt=ta(Zi),br=ta(!1),Oa=Zi;function Bs(t,e){var r=t.type.contextTypes;if(!r)return Zi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wr(t){return t=t.childContextTypes,t!=null}function ad(){Ze(br),Ze(Qt)}function A1(t,e,r){if(Qt.current!==Zi)throw Error(J(168));Ye(Qt,e),Ye(br,r)}function rC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(J(108,eN(t)||"Unknown",i));return it({},r,n)}function sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Oa=Qt.current,Ye(Qt,t),Ye(br,br.current),!0}function O1(t,e,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=rC(t,e,Oa),n.__reactInternalMemoizedMergedChildContext=t,Ze(br),Ze(Qt),Ye(Qt,t)):Ze(br),Ye(br,r)}var Yn=null,Mh=!1,um=!1;function nC(t){Yn===null?Yn=[t]:Yn.push(t)}function gR(t){Mh=!0,nC(t)}function ra(){if(!um&&Yn!==null){um=!0;var t=0,e=$e;try{var r=Yn;for($e=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Yn=null,Mh=!1}catch(i){throw Yn!==null&&(Yn=Yn.slice(t+1)),CM(by,ra),i}finally{$e=e,um=!1}}return null}var vs=[],gs=0,od=null,ld=0,Yr=[],Gr=0,Ta=null,qn=1,Zn="";function da(t,e){vs[gs++]=ld,vs[gs++]=od,od=t,ld=e}function iC(t,e,r){Yr[Gr++]=qn,Yr[Gr++]=Zn,Yr[Gr++]=Ta,Ta=t;var n=qn;t=Zn;var i=32-gn(n)-1;n&=~(1<<i),r+=1;var a=32-gn(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,qn=1<<32-gn(e)+i|r<<i|n,Zn=a+t}else qn=1<<a|r<<i|n,Zn=t}function Ay(t){t.return!==null&&(da(t,1),iC(t,1,0))}function Oy(t){for(;t===od;)od=vs[--gs],vs[gs]=null,ld=vs[--gs],vs[gs]=null;for(;t===Ta;)Ta=Yr[--Gr],Yr[Gr]=null,Zn=Yr[--Gr],Yr[Gr]=null,qn=Yr[--Gr],Yr[Gr]=null}var Ir=null,Tr=null,et=!1,fn=null;function aC(t,e){var r=Xr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function T1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,Tr=Ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ta!==null?{id:qn,overflow:Zn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Xr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ir=t,Tr=null,!0):!1;default:return!1}}function Bv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $v(t){if(et){var e=Tr;if(e){var r=e;if(!T1(t,e)){if(Bv(t))throw Error(J(418));e=Ui(r.nextSibling);var n=Ir;e&&T1(t,e)?aC(n,r):(t.flags=t.flags&-4097|2,et=!1,Ir=t)}}else{if(Bv(t))throw Error(J(418));t.flags=t.flags&-4097|2,et=!1,Ir=t}}}function z1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function Gu(t){if(t!==Ir)return!1;if(!et)return z1(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nv(t.type,t.memoizedProps)),e&&(e=Tr)){if(Bv(t))throw sC(),Error(J(418));for(;e;)aC(t,e),e=Ui(e.nextSibling)}if(z1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Tr=Ui(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Ir?Ui(t.stateNode.nextSibling):null;return!0}function sC(){for(var t=Tr;t;)t=Ui(t.nextSibling)}function $s(){Tr=Ir=null,et=!1}function Ty(t){fn===null?fn=[t]:fn.push(t)}var yR=gi.ReactCurrentBatchConfig;function No(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function Xu(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function I1(t){var e=t._init;return e(t._payload)}function oC(t){function e(_,b){if(t){var S=_.deletions;S===null?(_.deletions=[b],_.flags|=16):S.push(b)}}function r(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=Yi(_,b),_.index=0,_.sibling=null,_}function a(_,b,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<b?(_.flags|=2,b):S):(_.flags|=2,b)):(_.flags|=1048576,b)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,b,S,k){return b===null||b.tag!==6?(b=vm(S,_.mode,k),b.return=_,b):(b=i(b,S),b.return=_,b)}function u(_,b,S,k){var p=S.type;return p===cs?d(_,b,S.props.children,k,S.key):b!==null&&(b.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===Ci&&I1(p)===b.type)?(k=i(b,S.props),k.ref=No(_,b,S),k.return=_,k):(k=$c(S.type,S.key,S.props,null,_.mode,k),k.ref=No(_,b,S),k.return=_,k)}function c(_,b,S,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=gm(S,_.mode,k),b.return=_,b):(b=i(b,S.children||[]),b.return=_,b)}function d(_,b,S,k,p){return b===null||b.tag!==7?(b=ka(S,_.mode,k,p),b.return=_,b):(b=i(b,S),b.return=_,b)}function h(_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=vm(""+b,_.mode,S),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lu:return S=$c(b.type,b.key,b.props,null,_.mode,S),S.ref=No(_,null,b),S.return=_,S;case us:return b=gm(b,_.mode,S),b.return=_,b;case Ci:var k=b._init;return h(_,k(b._payload),S)}if(Xo(b)||Ao(b))return b=ka(b,_.mode,S,null),b.return=_,b;Xu(_,b)}return null}function f(_,b,S,k){var p=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return p!==null?null:l(_,b,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Lu:return S.key===p?u(_,b,S,k):null;case us:return S.key===p?c(_,b,S,k):null;case Ci:return p=S._init,f(_,b,p(S._payload),k)}if(Xo(S)||Ao(S))return p!==null?null:d(_,b,S,k,null);Xu(_,S)}return null}function m(_,b,S,k,p){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(S)||null,l(b,_,""+k,p);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Lu:return _=_.get(k.key===null?S:k.key)||null,u(b,_,k,p);case us:return _=_.get(k.key===null?S:k.key)||null,c(b,_,k,p);case Ci:var j=k._init;return m(_,b,S,j(k._payload),p)}if(Xo(k)||Ao(k))return _=_.get(S)||null,d(b,_,k,p,null);Xu(b,k)}return null}function g(_,b,S,k){for(var p=null,j=null,C=b,T=b=0,E=null;C!==null&&T<S.length;T++){C.index>T?(E=C,C=null):E=C.sibling;var z=f(_,C,S[T],k);if(z===null){C===null&&(C=E);break}t&&C&&z.alternate===null&&e(_,C),b=a(z,b,T),j===null?p=z:j.sibling=z,j=z,C=E}if(T===S.length)return r(_,C),et&&da(_,T),p;if(C===null){for(;T<S.length;T++)C=h(_,S[T],k),C!==null&&(b=a(C,b,T),j===null?p=C:j.sibling=C,j=C);return et&&da(_,T),p}for(C=n(_,C);T<S.length;T++)E=m(C,_,T,S[T],k),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?T:E.key),b=a(E,b,T),j===null?p=E:j.sibling=E,j=E);return t&&C.forEach(function(B){return e(_,B)}),et&&da(_,T),p}function y(_,b,S,k){var p=Ao(S);if(typeof p!="function")throw Error(J(150));if(S=p.call(S),S==null)throw Error(J(151));for(var j=p=null,C=b,T=b=0,E=null,z=S.next();C!==null&&!z.done;T++,z=S.next()){C.index>T?(E=C,C=null):E=C.sibling;var B=f(_,C,z.value,k);if(B===null){C===null&&(C=E);break}t&&C&&B.alternate===null&&e(_,C),b=a(B,b,T),j===null?p=B:j.sibling=B,j=B,C=E}if(z.done)return r(_,C),et&&da(_,T),p;if(C===null){for(;!z.done;T++,z=S.next())z=h(_,z.value,k),z!==null&&(b=a(z,b,T),j===null?p=z:j.sibling=z,j=z);return et&&da(_,T),p}for(C=n(_,C);!z.done;T++,z=S.next())z=m(C,_,T,z.value,k),z!==null&&(t&&z.alternate!==null&&C.delete(z.key===null?T:z.key),b=a(z,b,T),j===null?p=z:j.sibling=z,j=z);return t&&C.forEach(function(O){return e(_,O)}),et&&da(_,T),p}function x(_,b,S,k){if(typeof S=="object"&&S!==null&&S.type===cs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Lu:e:{for(var p=S.key,j=b;j!==null;){if(j.key===p){if(p=S.type,p===cs){if(j.tag===7){r(_,j.sibling),b=i(j,S.props.children),b.return=_,_=b;break e}}else if(j.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===Ci&&I1(p)===j.type){r(_,j.sibling),b=i(j,S.props),b.ref=No(_,j,S),b.return=_,_=b;break e}r(_,j);break}else e(_,j);j=j.sibling}S.type===cs?(b=ka(S.props.children,_.mode,k,S.key),b.return=_,_=b):(k=$c(S.type,S.key,S.props,null,_.mode,k),k.ref=No(_,b,S),k.return=_,_=k)}return s(_);case us:e:{for(j=S.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(_,b.sibling),b=i(b,S.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else e(_,b);b=b.sibling}b=gm(S,_.mode,k),b.return=_,_=b}return s(_);case Ci:return j=S._init,x(_,b,j(S._payload),k)}if(Xo(S))return g(_,b,S,k);if(Ao(S))return y(_,b,S,k);Xu(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,S),b.return=_,_=b):(r(_,b),b=vm(S,_.mode,k),b.return=_,_=b),s(_)):r(_,b)}return x}var Fs=oC(!0),lC=oC(!1),ud=ta(null),cd=null,ys=null,zy=null;function Iy(){zy=ys=cd=null}function Ny(t){var e=ud.current;Ze(ud),t._currentValue=e}function Fv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Os(t,e){cd=t,zy=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(zy!==t)if(t={context:t,memoizedValue:e,next:null},ys===null){if(cd===null)throw Error(J(308));ys=t,cd.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return e}var ga=null;function Ry(t){ga===null?ga=[t]:ga.push(t)}function uC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Ry(e)):(r.next=i.next,i.next=r),e.interleaved=r,oi(t,n)}function oi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ei=!1;function Dy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,oi(t,r)}return i=n.interleaved,i===null?(e.next=e,Ry(n)):(e.next=i.next,i.next=e),n.interleaved=e,oi(t,r)}function Ic(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wy(t,r)}}function N1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function dd(t,e,r,n){var i=t.updateQueue;Ei=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(a!==null){var h=i.baseState;s=0,d=c=u=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(f=e,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=it({},h,f);break e;case 2:Ei=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=h):d=d.next=m,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ia|=s,t.lanes=s,t.memoizedState=h}}function R1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var ou={},Dn=ta(ou),Al=ta(ou),Ol=ta(ou);function ya(t){if(t===ou)throw Error(J(174));return t}function Ly(t,e){switch(Ye(Ol,e),Ye(Al,t),Ye(Dn,ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bv(e,t)}Ze(Dn),Ye(Dn,e)}function Ws(){Ze(Dn),Ze(Al),Ze(Ol)}function dC(t){ya(Ol.current);var e=ya(Dn.current),r=bv(e,t.type);e!==r&&(Ye(Al,t),Ye(Dn,r))}function By(t){Al.current===t&&(Ze(Dn),Ze(Al))}var rt=ta(0);function hd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cm=[];function $y(){for(var t=0;t<cm.length;t++)cm[t]._workInProgressVersionPrimary=null;cm.length=0}var Nc=gi.ReactCurrentDispatcher,dm=gi.ReactCurrentBatchConfig,za=0,nt=null,St=null,Ot=null,fd=!1,ol=!1,Tl=0,_R=0;function Ht(){throw Error(J(321))}function Fy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xn(t[r],e[r]))return!1;return!0}function Wy(t,e,r,n,i,a){if(za=a,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nc.current=t===null||t.memoizedState===null?SR:jR,t=r(n,i),ol){a=0;do{if(ol=!1,Tl=0,25<=a)throw Error(J(301));a+=1,Ot=St=null,e.updateQueue=null,Nc.current=kR,t=r(n,i)}while(ol)}if(Nc.current=pd,e=St!==null&&St.next!==null,za=0,Ot=St=nt=null,fd=!1,e)throw Error(J(300));return t}function Uy(){var t=Tl!==0;return Tl=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?nt.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Jr(){if(St===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Ot===null?nt.memoizedState:Ot.next;if(e!==null)Ot=e,St=t;else{if(t===null)throw Error(J(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Ot===null?nt.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function zl(t,e){return typeof e=="function"?e(t):e}function hm(t){var e=Jr(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=St,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((za&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,s=n):u=u.next=h,nt.lanes|=d,Ia|=d}c=c.next}while(c!==null&&c!==a);u===null?s=n:u.next=l,xn(n,e.memoizedState)||(vr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,nt.lanes|=a,Ia|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function fm(t){var e=Jr(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);xn(a,e.memoizedState)||(vr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function hC(){}function fC(t,e){var r=nt,n=Jr(),i=e(),a=!xn(n.memoizedState,i);if(a&&(n.memoizedState=i,vr=!0),n=n.queue,Ky(vC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,Il(9,mC.bind(null,r,n,i,e),void 0,null),Tt===null)throw Error(J(349));za&30||pC(r,e,i)}return i}function pC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function mC(t,e,r,n){e.value=r,e.getSnapshot=n,gC(e)&&yC(t)}function vC(t,e,r){return r(function(){gC(e)&&yC(t)})}function gC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xn(t,r)}catch{return!0}}function yC(t){var e=oi(t,1);e!==null&&yn(e,t,1,-1)}function D1(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=wR.bind(null,nt,t),[e.memoizedState,t]}function Il(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _C(){return Jr().memoizedState}function Rc(t,e,r,n){var i=On();nt.flags|=t,i.memoizedState=Il(1|e,r,void 0,n===void 0?null:n)}function Ch(t,e,r,n){var i=Jr();n=n===void 0?null:n;var a=void 0;if(St!==null){var s=St.memoizedState;if(a=s.destroy,n!==null&&Fy(n,s.deps)){i.memoizedState=Il(e,r,a,n);return}}nt.flags|=t,i.memoizedState=Il(1|e,r,a,n)}function L1(t,e){return Rc(8390656,8,t,e)}function Ky(t,e){return Ch(2048,8,t,e)}function xC(t,e){return Ch(4,2,t,e)}function bC(t,e){return Ch(4,4,t,e)}function wC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SC(t,e,r){return r=r!=null?r.concat([t]):null,Ch(4,4,wC.bind(null,e,t),r)}function Vy(){}function jC(t,e){var r=Jr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function kC(t,e){var r=Jr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function PC(t,e,r){return za&21?(xn(r,e)||(r=OM(),nt.lanes|=r,Ia|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vr=!0),t.memoizedState=r)}function xR(t,e){var r=$e;$e=r!==0&&4>r?r:4,t(!0);var n=dm.transition;dm.transition={};try{t(!1),e()}finally{$e=r,dm.transition=n}}function MC(){return Jr().memoizedState}function bR(t,e,r){var n=Hi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},CC(t))EC(e,r);else if(r=uC(t,e,r,n),r!==null){var i=ar();yn(r,t,n,i),AC(r,e,n)}}function wR(t,e,r){var n=Hi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(CC(t))EC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,r);if(i.hasEagerState=!0,i.eagerState=l,xn(l,s)){var u=e.interleaved;u===null?(i.next=i,Ry(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=uC(t,e,i,n),r!==null&&(i=ar(),yn(r,t,n,i),AC(r,e,n))}}function CC(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function EC(t,e){ol=fd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function AC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wy(t,r)}}var pd={readContext:Qr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},SR={readContext:Qr,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:L1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Rc(4194308,4,wC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Rc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rc(4,2,t,e)},useMemo:function(t,e){var r=On();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=On();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=bR.bind(null,nt,t),[n.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:D1,useDebugValue:Vy,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=D1(!1),e=t[0];return t=xR.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nt,i=On();if(et){if(r===void 0)throw Error(J(407));r=r()}else{if(r=e(),Tt===null)throw Error(J(349));za&30||pC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,L1(vC.bind(null,n,a,t),[t]),n.flags|=2048,Il(9,mC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=On(),e=Tt.identifierPrefix;if(et){var r=Zn,n=qn;r=(n&~(1<<32-gn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Tl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=_R++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jR={readContext:Qr,useCallback:jC,useContext:Qr,useEffect:Ky,useImperativeHandle:SC,useInsertionEffect:xC,useLayoutEffect:bC,useMemo:kC,useReducer:hm,useRef:_C,useState:function(){return hm(zl)},useDebugValue:Vy,useDeferredValue:function(t){var e=Jr();return PC(e,St.memoizedState,t)},useTransition:function(){var t=hm(zl)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:hC,useSyncExternalStore:fC,useId:MC,unstable_isNewReconciler:!1},kR={readContext:Qr,useCallback:jC,useContext:Qr,useEffect:Ky,useImperativeHandle:SC,useInsertionEffect:xC,useLayoutEffect:bC,useMemo:kC,useReducer:fm,useRef:_C,useState:function(){return fm(zl)},useDebugValue:Vy,useDeferredValue:function(t){var e=Jr();return St===null?e.memoizedState=t:PC(e,St.memoizedState,t)},useTransition:function(){var t=fm(zl)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:hC,useSyncExternalStore:fC,useId:MC,unstable_isNewReconciler:!1};function dn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Wv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:it({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Eh={isMounted:function(t){return(t=t._reactInternals)?qa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ar(),i=Hi(t),a=ri(n,i);a.payload=e,r!=null&&(a.callback=r),e=Ki(t,a,i),e!==null&&(yn(e,t,i,n),Ic(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ar(),i=Hi(t),a=ri(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Ki(t,a,i),e!==null&&(yn(e,t,i,n),Ic(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ar(),n=Hi(t),i=ri(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ki(t,i,n),e!==null&&(yn(e,t,n,r),Ic(e,t,n))}};function B1(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Pl(r,n)||!Pl(i,a):!0}function OC(t,e,r){var n=!1,i=Zi,a=e.contextType;return typeof a=="object"&&a!==null?a=Qr(a):(i=wr(e)?Oa:Qt.current,n=e.contextTypes,a=(n=n!=null)?Bs(t,i):Zi),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function $1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function Uv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Dy(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Qr(a):(a=wr(e)?Oa:Qt.current,i.context=Bs(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Wv(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eh.enqueueReplaceState(i,i.state,null),dd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Us(t,e){try{var r="",n=e;do r+=JI(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function pm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Kv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var PR=typeof WeakMap=="function"?WeakMap:Map;function TC(t,e,r){r=ri(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){vd||(vd=!0,eg=n),Kv(t,e)},r}function zC(t,e,r){r=ri(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Kv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Kv(t,e),typeof n!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function F1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new PR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=$R.bind(null,t,e,r),e.then(t,t))}function W1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function U1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ri(-1,1),e.tag=2,Ki(r,e,1))),r.lanes|=1),t)}var MR=gi.ReactCurrentOwner,vr=!1;function rr(t,e,r,n){e.child=t===null?lC(e,null,r,n):Fs(e,t.child,r,n)}function K1(t,e,r,n,i){r=r.render;var a=e.ref;return Os(e,i),n=Wy(t,e,r,n,a,i),r=Uy(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(et&&r&&Ay(e),e.flags|=1,rr(t,e,n,i),e.child)}function V1(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Jy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,IC(t,e,a,n,i)):(t=$c(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Pl,r(s,n)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=Yi(a,n),t.ref=e.ref,t.return=e,e.child=t}function IC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Pl(a,n)&&t.ref===e.ref)if(vr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(vr=!0);else return e.lanes=t.lanes,li(t,e,i)}return Vv(t,e,r,n,i)}function NC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(xs,Ar),Ar|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(xs,Ar),Ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ye(xs,Ar),Ar|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ye(xs,Ar),Ar|=n;return rr(t,e,i,r),e.child}function RC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Vv(t,e,r,n,i){var a=wr(r)?Oa:Qt.current;return a=Bs(e,a),Os(e,i),r=Wy(t,e,r,n,a,i),n=Uy(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(et&&n&&Ay(e),e.flags|=1,rr(t,e,r,i),e.child)}function H1(t,e,r,n,i){if(wr(r)){var a=!0;sd(e)}else a=!1;if(Os(e,i),e.stateNode===null)Dc(t,e),OC(e,r,n),Uv(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Qr(c):(c=wr(r)?Oa:Qt.current,c=Bs(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||u!==c)&&$1(e,s,n,c),Ei=!1;var f=e.memoizedState;s.state=f,dd(e,n,s,i),u=e.memoizedState,l!==n||f!==u||br.current||Ei?(typeof d=="function"&&(Wv(e,r,d,n),u=e.memoizedState),(l=Ei||B1(e,r,l,n,f,u,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),s.props=n,s.state=u,s.context=c,n=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,cC(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:dn(e.type,l),s.props=c,h=e.pendingProps,f=s.context,u=r.contextType,typeof u=="object"&&u!==null?u=Qr(u):(u=wr(r)?Oa:Qt.current,u=Bs(e,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||f!==u)&&$1(e,s,n,u),Ei=!1,f=e.memoizedState,s.state=f,dd(e,n,s,i);var g=e.memoizedState;l!==h||f!==g||br.current||Ei?(typeof m=="function"&&(Wv(e,r,m,n),g=e.memoizedState),(c=Ei||B1(e,r,c,n,f,g,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=u,n=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Hv(t,e,r,n,a,i)}function Hv(t,e,r,n,i,a){RC(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&O1(e,r,!1),li(t,e,a);n=e.stateNode,MR.current=e;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Fs(e,t.child,null,a),e.child=Fs(e,null,l,a)):rr(t,e,l,a),e.memoizedState=n.state,i&&O1(e,r,!0),e.child}function DC(t){var e=t.stateNode;e.pendingContext?A1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A1(t,e.context,!1),Ly(t,e.containerInfo)}function Y1(t,e,r,n,i){return $s(),Ty(i),e.flags|=256,rr(t,e,r,n),e.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Gv(t){return{baseLanes:t,cachePool:null,transitions:null}}function LC(t,e,r){var n=e.pendingProps,i=rt.current,a=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(rt,i&1),t===null)return $v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Th(s,n,0,null),t=ka(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Gv(r),e.memoizedState=Yv,t):Hy(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return CR(t,e,s,n,l,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Yi(i,u),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Yi(l,a):(a=ka(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?Gv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=Yv,n}return a=t.child,t=a.sibling,n=Yi(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Hy(t,e){return e=Th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qu(t,e,r,n){return n!==null&&Ty(n),Fs(e,t.child,null,r),t=Hy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CR(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=pm(Error(J(422))),qu(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Th({mode:"visible",children:n.children},i,0,null),a=ka(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Fs(e,t.child,null,s),e.child.memoizedState=Gv(s),e.memoizedState=Yv,a);if(!(e.mode&1))return qu(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(J(419)),n=pm(a,n,void 0),qu(t,e,s,n)}if(l=(s&t.childLanes)!==0,vr||l){if(n=Tt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oi(t,i),yn(n,t,i,-1))}return Qy(),n=pm(Error(J(421))),qu(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FR.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Tr=Ui(i.nextSibling),Ir=e,et=!0,fn=null,t!==null&&(Yr[Gr++]=qn,Yr[Gr++]=Zn,Yr[Gr++]=Ta,qn=t.id,Zn=t.overflow,Ta=e),e=Hy(e,n.children),e.flags|=4096,e)}function G1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fv(t.return,e,r)}function mm(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function BC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(rr(t,e,n.children,r),n=rt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G1(t,r,e);else if(t.tag===19)G1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ye(rt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&hd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),mm(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}mm(e,!0,r,null,a);break;case"together":mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ia|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,r=Yi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ER(t,e,r){switch(e.tag){case 3:DC(e),$s();break;case 5:dC(e);break;case 1:wr(e.type)&&sd(e);break;case 4:Ly(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ye(ud,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ye(rt,rt.current&1),e.flags|=128,null):r&e.child.childLanes?LC(t,e,r):(Ye(rt,rt.current&1),t=li(t,e,r),t!==null?t.sibling:null);Ye(rt,rt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return BC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(rt,rt.current),n)break;return null;case 22:case 23:return e.lanes=0,NC(t,e,r)}return li(t,e,r)}var $C,Xv,FC,WC;$C=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xv=function(){};FC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ya(Dn.current);var a=null;switch(r){case"input":i=gv(t,i),n=gv(t,n),a=[];break;case"select":i=it({},i,{value:void 0}),n=it({},n,{value:void 0}),a=[];break;case"textarea":i=xv(t,i),n=xv(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=id)}wv(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_l.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var u=n[c];if(l=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(a||(a=[]),a.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_l.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Xe("scroll",t),a||l===u||(a=[])):(a=a||[]).push(c,u))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};WC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ro(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function AR(t,e,r){var n=e.pendingProps;switch(Oy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return wr(e.type)&&ad(),Yt(e),null;case 3:return n=e.stateNode,Ws(),Ze(br),Ze(Qt),$y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(ng(fn),fn=null))),Xv(t,e),Yt(e),null;case 5:By(e);var i=ya(Ol.current);if(r=e.type,t!==null&&e.stateNode!=null)FC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(J(166));return Yt(e),null}if(t=ya(Dn.current),Gu(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[zn]=e,n[El]=a,t=(e.mode&1)!==0,r){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(i=0;i<Zo.length;i++)Xe(Zo[i],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":n1(n,a),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Xe("invalid",n);break;case"textarea":a1(n,a),Xe("invalid",n)}wv(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Yu(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Yu(n.textContent,l,t),i=["children",""+l]):_l.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Xe("scroll",n)}switch(r){case"input":Bu(n),i1(n,a,!0);break;case"textarea":Bu(n),s1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=id)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vM(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[zn]=e,t[El]=n,$C(t,e,!1,!1),e.stateNode=t;e:{switch(s=Sv(r,n),r){case"dialog":Xe("cancel",t),Xe("close",t),i=n;break;case"iframe":case"object":case"embed":Xe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Zo.length;i++)Xe(Zo[i],t);i=n;break;case"source":Xe("error",t),i=n;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=n;break;case"details":Xe("toggle",t),i=n;break;case"input":n1(t,n),i=gv(t,n),Xe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=it({},n,{value:void 0}),Xe("invalid",t);break;case"textarea":a1(t,n),i=xv(t,n),Xe("invalid",t);break;default:i=n}wv(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?_M(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gM(t,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&xl(t,u):typeof u=="number"&&xl(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_l.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Xe("scroll",t):u!=null&&vy(t,a,u,s))}switch(r){case"input":Bu(t),i1(t,n,!1);break;case"textarea":Bu(t),s1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+qi(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ms(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ms(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=id)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)WC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(J(166));if(r=ya(Ol.current),ya(Dn.current),Gu(e)){if(n=e.stateNode,r=e.memoizedProps,n[zn]=e,(a=n.nodeValue!==r)&&(t=Ir,t!==null))switch(t.tag){case 3:Yu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yu(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zn]=e,e.stateNode=n}return Yt(e),null;case 13:if(Ze(rt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Tr!==null&&e.mode&1&&!(e.flags&128))sC(),$s(),e.flags|=98560,a=!1;else if(a=Gu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(J(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[zn]=e}else $s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),a=!1}else fn!==null&&(ng(fn),fn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?kt===0&&(kt=3):Qy())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Ws(),Xv(t,e),t===null&&Ml(e.stateNode.containerInfo),Yt(e),null;case 10:return Ny(e.type._context),Yt(e),null;case 17:return wr(e.type)&&ad(),Yt(e),null;case 19:if(Ze(rt),a=e.memoizedState,a===null)return Yt(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Ro(a,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=hd(t),s!==null){for(e.flags|=128,Ro(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ye(rt,rt.current&1|2),e.child}t=t.sibling}a.tail!==null&&ht()>Ks&&(e.flags|=128,n=!0,Ro(a,!1),e.lanes=4194304)}else{if(!n)if(t=hd(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ro(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!et)return Yt(e),null}else 2*ht()-a.renderingStartTime>Ks&&r!==1073741824&&(e.flags|=128,n=!0,Ro(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ht(),e.sibling=null,r=rt.current,Ye(rt,n?r&1|2:r&1),e):(Yt(e),null);case 22:case 23:return Zy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ar&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function OR(t,e){switch(Oy(e),e.tag){case 1:return wr(e.type)&&ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ws(),Ze(br),Ze(Qt),$y(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return By(e),null;case 13:if(Ze(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));$s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(rt),null;case 4:return Ws(),null;case 10:return Ny(e.type._context),null;case 22:case 23:return Zy(),null;case 24:return null;default:return null}}var Zu=!1,qt=!1,TR=typeof WeakSet=="function"?WeakSet:Set,ue=null;function _s(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(t,e,n)}else r.current=null}function qv(t,e,r){try{r()}catch(n){ot(t,e,n)}}var X1=!1;function zR(t,e){if(zv=td,t=YM(),Ey(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(l=s+i),h!==a||n!==0&&h.nodeType!==3||(u=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++c===i&&(l=s),f===a&&++d===n&&(u=s),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Iv={focusedElem:t,selectionRange:r},td=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:dn(e.type,y),x);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(k){ot(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return g=X1,X1=!1,g}function ll(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&qv(e,r,a)}i=i.next}while(i!==n)}}function Ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Zv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function UC(t){var e=t.alternate;e!==null&&(t.alternate=null,UC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[El],delete e[Dv],delete e[mR],delete e[vR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KC(t){return t.tag===5||t.tag===3||t.tag===4}function q1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=id));else if(n!==4&&(t=t.child,t!==null))for(Qv(t,e,r),t=t.sibling;t!==null;)Qv(t,e,r),t=t.sibling}function Jv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Jv(t,e,r),t=t.sibling;t!==null;)Jv(t,e,r),t=t.sibling}var Lt=null,hn=!1;function Pi(t,e,r){for(r=r.child;r!==null;)VC(t,e,r),r=r.sibling}function VC(t,e,r){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(wh,r)}catch{}switch(r.tag){case 5:qt||_s(r,e);case 6:var n=Lt,i=hn;Lt=null,Pi(t,e,r),Lt=n,hn=i,Lt!==null&&(hn?(t=Lt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Lt.removeChild(r.stateNode));break;case 18:Lt!==null&&(hn?(t=Lt,r=r.stateNode,t.nodeType===8?lm(t.parentNode,r):t.nodeType===1&&lm(t,r),jl(t)):lm(Lt,r.stateNode));break;case 4:n=Lt,i=hn,Lt=r.stateNode.containerInfo,hn=!0,Pi(t,e,r),Lt=n,hn=i;break;case 0:case 11:case 14:case 15:if(!qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&qv(r,e,s),i=i.next}while(i!==n)}Pi(t,e,r);break;case 1:if(!qt&&(_s(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ot(r,e,l)}Pi(t,e,r);break;case 21:Pi(t,e,r);break;case 22:r.mode&1?(qt=(n=qt)||r.memoizedState!==null,Pi(t,e,r),qt=n):Pi(t,e,r);break;default:Pi(t,e,r)}}function Z1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TR),e.forEach(function(n){var i=WR.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function cn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Lt=l.stateNode,hn=!1;break e;case 3:Lt=l.stateNode.containerInfo,hn=!0;break e;case 4:Lt=l.stateNode.containerInfo,hn=!0;break e}l=l.return}if(Lt===null)throw Error(J(160));VC(a,s,i),Lt=null,hn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ot(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HC(e,t),e=e.sibling}function HC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),Pn(t),n&4){try{ll(3,t,t.return),Ah(3,t)}catch(y){ot(t,t.return,y)}try{ll(5,t,t.return)}catch(y){ot(t,t.return,y)}}break;case 1:cn(e,t),Pn(t),n&512&&r!==null&&_s(r,r.return);break;case 5:if(cn(e,t),Pn(t),n&512&&r!==null&&_s(r,r.return),t.flags&32){var i=t.stateNode;try{xl(i,"")}catch(y){ot(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&pM(i,a),Sv(l,s);var c=Sv(l,a);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];d==="style"?_M(i,h):d==="dangerouslySetInnerHTML"?gM(i,h):d==="children"?xl(i,h):vy(i,d,h,c)}switch(l){case"input":yv(i,a);break;case"textarea":mM(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ms(i,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ms(i,!!a.multiple,a.defaultValue,!0):Ms(i,!!a.multiple,a.multiple?[]:"",!1))}i[El]=a}catch(y){ot(t,t.return,y)}}break;case 6:if(cn(e,t),Pn(t),n&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){ot(t,t.return,y)}}break;case 3:if(cn(e,t),Pn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(y){ot(t,t.return,y)}break;case 4:cn(e,t),Pn(t);break;case 13:cn(e,t),Pn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Xy=ht())),n&4&&Z1(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(qt=(c=qt)||d,cn(e,t),qt=c):cn(e,t),Pn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ue=t,d=t.child;d!==null;){for(h=ue=d;ue!==null;){switch(f=ue,m=f.child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:_s(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ot(n,r,y)}}break;case 5:_s(f,f.return);break;case 22:if(f.memoizedState!==null){J1(h);continue}}m!==null?(m.return=f,ue=m):J1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=yM("display",s))}catch(y){ot(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){ot(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cn(e,t),Pn(t),n&4&&Z1(t);break;case 21:break;default:cn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(KC(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(xl(i,""),n.flags&=-33);var a=q1(t);Jv(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=q1(t);Qv(t,l,s);break;default:throw Error(J(161))}}catch(u){ot(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IR(t,e,r){ue=t,YC(t)}function YC(t,e,r){for(var n=(t.mode&1)!==0;ue!==null;){var i=ue,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Zu;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||qt;l=Zu;var c=qt;if(Zu=s,(qt=u)&&!c)for(ue=i;ue!==null;)s=ue,u=s.child,s.tag===22&&s.memoizedState!==null?ew(i):u!==null?(u.return=s,ue=u):ew(i);for(;a!==null;)ue=a,YC(a),a=a.sibling;ue=i,Zu=l,qt=c}Q1(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ue=a):Q1(t)}}function Q1(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||Ah(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:dn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&R1(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}R1(e,s,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&jl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}qt||e.flags&512&&Zv(e)}catch(f){ot(e,e.return,f)}}if(e===t){ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,ue=r;break}ue=e.return}}function J1(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ue=r;break}ue=e.return}}function ew(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ah(4,e)}catch(u){ot(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){ot(e,i,u)}}var a=e.return;try{Zv(e)}catch(u){ot(e,a,u)}break;case 5:var s=e.return;try{Zv(e)}catch(u){ot(e,s,u)}}}catch(u){ot(e,e.return,u)}if(e===t){ue=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ue=l;break}ue=e.return}}var NR=Math.ceil,md=gi.ReactCurrentDispatcher,Yy=gi.ReactCurrentOwner,Zr=gi.ReactCurrentBatchConfig,Ae=0,Tt=null,_t=null,Ut=0,Ar=0,xs=ta(0),kt=0,Nl=null,Ia=0,Oh=0,Gy=0,ul=null,mr=null,Xy=0,Ks=1/0,Hn=null,vd=!1,eg=null,Vi=null,Qu=!1,Di=null,gd=0,cl=0,tg=null,Lc=-1,Bc=0;function ar(){return Ae&6?ht():Lc!==-1?Lc:Lc=ht()}function Hi(t){return t.mode&1?Ae&2&&Ut!==0?Ut&-Ut:yR.transition!==null?(Bc===0&&(Bc=OM()),Bc):(t=$e,t!==0||(t=window.event,t=t===void 0?16:LM(t.type)),t):1}function yn(t,e,r,n){if(50<cl)throw cl=0,tg=null,Error(J(185));iu(t,r,n),(!(Ae&2)||t!==Tt)&&(t===Tt&&(!(Ae&2)&&(Oh|=r),kt===4&&Ii(t,Ut)),Sr(t,n),r===1&&Ae===0&&!(e.mode&1)&&(Ks=ht()+500,Mh&&ra()))}function Sr(t,e){var r=t.callbackNode;yN(t,e);var n=ed(t,t===Tt?Ut:0);if(n===0)r!==null&&u1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&u1(r),e===1)t.tag===0?gR(tw.bind(null,t)):nC(tw.bind(null,t)),fR(function(){!(Ae&6)&&ra()}),r=null;else{switch(TM(n)){case 1:r=by;break;case 4:r=EM;break;case 16:r=Jc;break;case 536870912:r=AM;break;default:r=Jc}r=tE(r,GC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function GC(t,e){if(Lc=-1,Bc=0,Ae&6)throw Error(J(327));var r=t.callbackNode;if(Ts()&&t.callbackNode!==r)return null;var n=ed(t,t===Tt?Ut:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=yd(t,n);else{e=n;var i=Ae;Ae|=2;var a=qC();(Tt!==t||Ut!==e)&&(Hn=null,Ks=ht()+500,ja(t,e));do try{LR();break}catch(l){XC(t,l)}while(!0);Iy(),md.current=a,Ae=i,_t!==null?e=0:(Tt=null,Ut=0,e=kt)}if(e!==0){if(e===2&&(i=Cv(t),i!==0&&(n=i,e=rg(t,i))),e===1)throw r=Nl,ja(t,0),Ii(t,n),Sr(t,ht()),r;if(e===6)Ii(t,n);else{if(i=t.current.alternate,!(n&30)&&!RR(i)&&(e=yd(t,n),e===2&&(a=Cv(t),a!==0&&(n=a,e=rg(t,a))),e===1))throw r=Nl,ja(t,0),Ii(t,n),Sr(t,ht()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(J(345));case 2:ha(t,mr,Hn);break;case 3:if(Ii(t,n),(n&130023424)===n&&(e=Xy+500-ht(),10<e)){if(ed(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ar(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rv(ha.bind(null,t,mr,Hn),e);break}ha(t,mr,Hn);break;case 4:if(Ii(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-gn(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*NR(n/1960))-n,10<n){t.timeoutHandle=Rv(ha.bind(null,t,mr,Hn),n);break}ha(t,mr,Hn);break;case 5:ha(t,mr,Hn);break;default:throw Error(J(329))}}}return Sr(t,ht()),t.callbackNode===r?GC.bind(null,t):null}function rg(t,e){var r=ul;return t.current.memoizedState.isDehydrated&&(ja(t,e).flags|=256),t=yd(t,e),t!==2&&(e=mr,mr=r,e!==null&&ng(e)),t}function ng(t){mr===null?mr=t:mr.push.apply(mr,t)}function RR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!xn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~Gy,e&=~Oh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gn(e),n=1<<r;t[r]=-1,e&=~n}}function tw(t){if(Ae&6)throw Error(J(327));Ts();var e=ed(t,0);if(!(e&1))return Sr(t,ht()),null;var r=yd(t,e);if(t.tag!==0&&r===2){var n=Cv(t);n!==0&&(e=n,r=rg(t,n))}if(r===1)throw r=Nl,ja(t,0),Ii(t,e),Sr(t,ht()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ha(t,mr,Hn),Sr(t,ht()),null}function qy(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(Ks=ht()+500,Mh&&ra())}}function Na(t){Di!==null&&Di.tag===0&&!(Ae&6)&&Ts();var e=Ae;Ae|=1;var r=Zr.transition,n=$e;try{if(Zr.transition=null,$e=1,t)return t()}finally{$e=n,Zr.transition=r,Ae=e,!(Ae&6)&&ra()}}function Zy(){Ar=xs.current,Ze(xs)}function ja(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,hR(r)),_t!==null)for(r=_t.return;r!==null;){var n=r;switch(Oy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ad();break;case 3:Ws(),Ze(br),Ze(Qt),$y();break;case 5:By(n);break;case 4:Ws();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:Ny(n.type._context);break;case 22:case 23:Zy()}r=r.return}if(Tt=t,_t=t=Yi(t.current,null),Ut=Ar=e,kt=0,Nl=null,Gy=Oh=Ia=0,mr=ul=null,ga!==null){for(e=0;e<ga.length;e++)if(r=ga[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}ga=null}return t}function XC(t,e){do{var r=_t;try{if(Iy(),Nc.current=pd,fd){for(var n=nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fd=!1}if(za=0,Ot=St=nt=null,ol=!1,Tl=0,Yy.current=null,r===null||r.return===null){kt=1,Nl=e,_t=null;break}e:{var a=t,s=r.return,l=r,u=e;if(e=Ut,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=W1(s);if(m!==null){m.flags&=-257,U1(m,s,l,a,e),m.mode&1&&F1(a,c,e),e=m,u=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(u),e.updateQueue=y}else g.add(u);break e}else{if(!(e&1)){F1(a,c,e),Qy();break e}u=Error(J(426))}}else if(et&&l.mode&1){var x=W1(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),U1(x,s,l,a,e),Ty(Us(u,l));break e}}a=u=Us(u,l),kt!==4&&(kt=2),ul===null?ul=[a]:ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=TC(a,u,e);N1(a,_);break e;case 1:l=u;var b=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Vi===null||!Vi.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=zC(a,l,e);N1(a,k);break e}}a=a.return}while(a!==null)}QC(r)}catch(p){e=p,_t===r&&r!==null&&(_t=r=r.return);continue}break}while(!0)}function qC(){var t=md.current;return md.current=pd,t===null?pd:t}function Qy(){(kt===0||kt===3||kt===2)&&(kt=4),Tt===null||!(Ia&268435455)&&!(Oh&268435455)||Ii(Tt,Ut)}function yd(t,e){var r=Ae;Ae|=2;var n=qC();(Tt!==t||Ut!==e)&&(Hn=null,ja(t,e));do try{DR();break}catch(i){XC(t,i)}while(!0);if(Iy(),Ae=r,md.current=n,_t!==null)throw Error(J(261));return Tt=null,Ut=0,kt}function DR(){for(;_t!==null;)ZC(_t)}function LR(){for(;_t!==null&&!uN();)ZC(_t)}function ZC(t){var e=eE(t.alternate,t,Ar);t.memoizedProps=t.pendingProps,e===null?QC(t):_t=e,Yy.current=null}function QC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=OR(r,e),r!==null){r.flags&=32767,_t=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,_t=null;return}}else if(r=AR(r,e,Ar),r!==null){_t=r;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);kt===0&&(kt=5)}function ha(t,e,r){var n=$e,i=Zr.transition;try{Zr.transition=null,$e=1,BR(t,e,r,n)}finally{Zr.transition=i,$e=n}return null}function BR(t,e,r,n){do Ts();while(Di!==null);if(Ae&6)throw Error(J(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(_N(t,a),t===Tt&&(_t=Tt=null,Ut=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qu||(Qu=!0,tE(Jc,function(){return Ts(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Zr.transition,Zr.transition=null;var s=$e;$e=1;var l=Ae;Ae|=4,Yy.current=null,zR(t,r),HC(r,t),aR(Iv),td=!!zv,Iv=zv=null,t.current=r,IR(r),cN(),Ae=l,$e=s,Zr.transition=a}else t.current=r;if(Qu&&(Qu=!1,Di=t,gd=i),a=t.pendingLanes,a===0&&(Vi=null),fN(r.stateNode),Sr(t,ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(vd)throw vd=!1,t=eg,eg=null,t;return gd&1&&t.tag!==0&&Ts(),a=t.pendingLanes,a&1?t===tg?cl++:(cl=0,tg=t):cl=0,ra(),null}function Ts(){if(Di!==null){var t=TM(gd),e=Zr.transition,r=$e;try{if(Zr.transition=null,$e=16>t?16:t,Di===null)var n=!1;else{if(t=Di,Di=null,gd=0,Ae&6)throw Error(J(331));var i=Ae;for(Ae|=4,ue=t.current;ue!==null;){var a=ue,s=a.child;if(ue.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(ue=c;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:ll(8,d,a)}var h=d.child;if(h!==null)h.return=d,ue=h;else for(;ue!==null;){d=ue;var f=d.sibling,m=d.return;if(UC(d),d===c){ue=null;break}if(f!==null){f.return=m,ue=f;break}ue=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ue=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ue=s;else e:for(;ue!==null;){if(a=ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ll(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,ue=_;break e}ue=a.return}}var b=t.current;for(ue=b;ue!==null;){s=ue;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,ue=S;else e:for(s=b;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ah(9,l)}}catch(p){ot(l,l.return,p)}if(l===s){ue=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ue=k;break e}ue=l.return}}if(Ae=i,ra(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(wh,t)}catch{}n=!0}return n}finally{$e=r,Zr.transition=e}}return!1}function rw(t,e,r){e=Us(r,e),e=TC(t,e,1),t=Ki(t,e,1),e=ar(),t!==null&&(iu(t,1,e),Sr(t,e))}function ot(t,e,r){if(t.tag===3)rw(t,t,r);else for(;e!==null;){if(e.tag===3){rw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vi===null||!Vi.has(n))){t=Us(r,t),t=zC(e,t,1),e=Ki(e,t,1),t=ar(),e!==null&&(iu(e,1,t),Sr(e,t));break}}e=e.return}}function $R(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ar(),t.pingedLanes|=t.suspendedLanes&r,Tt===t&&(Ut&r)===r&&(kt===4||kt===3&&(Ut&130023424)===Ut&&500>ht()-Xy?ja(t,0):Gy|=r),Sr(t,e)}function JC(t,e){e===0&&(t.mode&1?(e=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):e=1);var r=ar();t=oi(t,e),t!==null&&(iu(t,e,r),Sr(t,r))}function FR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),JC(t,r)}function WR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(e),JC(t,r)}var eE;eE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)vr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return vr=!1,ER(t,e,r);vr=!!(t.flags&131072)}else vr=!1,et&&e.flags&1048576&&iC(e,ld,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Dc(t,e),t=e.pendingProps;var i=Bs(e,Qt.current);Os(e,r),i=Wy(null,e,n,t,i,r);var a=Uy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(n)?(a=!0,sd(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dy(e),i.updater=Eh,e.stateNode=i,i._reactInternals=e,Uv(e,n,t,r),e=Hv(null,e,n,!0,a,r)):(e.tag=0,et&&a&&Ay(e),rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Dc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=KR(n),t=dn(n,t),i){case 0:e=Vv(null,e,n,t,r);break e;case 1:e=H1(null,e,n,t,r);break e;case 11:e=K1(null,e,n,t,r);break e;case 14:e=V1(null,e,n,dn(n.type,t),r);break e}throw Error(J(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dn(n,i),Vv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dn(n,i),H1(t,e,n,i,r);case 3:e:{if(DC(e),t===null)throw Error(J(387));n=e.pendingProps,a=e.memoizedState,i=a.element,cC(t,e),dd(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Us(Error(J(423)),e),e=Y1(t,e,n,r,i);break e}else if(n!==i){i=Us(Error(J(424)),e),e=Y1(t,e,n,r,i);break e}else for(Tr=Ui(e.stateNode.containerInfo.firstChild),Ir=e,et=!0,fn=null,r=lC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),n===i){e=li(t,e,r);break e}rr(t,e,n,r)}e=e.child}return e;case 5:return dC(e),t===null&&$v(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Nv(n,i)?s=null:a!==null&&Nv(n,a)&&(e.flags|=32),RC(t,e),rr(t,e,s,r),e.child;case 6:return t===null&&$v(e),null;case 13:return LC(t,e,r);case 4:return Ly(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Fs(e,null,n,r):rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dn(n,i),K1(t,e,n,i,r);case 7:return rr(t,e,e.pendingProps,r),e.child;case 8:return rr(t,e,e.pendingProps.children,r),e.child;case 12:return rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ye(ud,n._currentValue),n._currentValue=s,a!==null)if(xn(a.value,s)){if(a.children===i.children&&!br.current){e=li(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=ri(-1,r&-r),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Fv(a.return,r,e),l.lanes|=r;break}u=u.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(J(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Fv(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Os(e,r),i=Qr(i),n=n(i),e.flags|=1,rr(t,e,n,r),e.child;case 14:return n=e.type,i=dn(n,e.pendingProps),i=dn(n.type,i),V1(t,e,n,i,r);case 15:return IC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dn(n,i),Dc(t,e),e.tag=1,wr(n)?(t=!0,sd(e)):t=!1,Os(e,r),OC(e,n,i),Uv(e,n,i,r),Hv(null,e,n,!0,t,r);case 19:return BC(t,e,r);case 22:return NC(t,e,r)}throw Error(J(156,e.tag))};function tE(t,e){return CM(t,e)}function UR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(t,e,r,n){return new UR(t,e,r,n)}function Jy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KR(t){if(typeof t=="function")return Jy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yy)return 11;if(t===_y)return 14}return 2}function Yi(t,e){var r=t.alternate;return r===null?(r=Xr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $c(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")Jy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case cs:return ka(r.children,i,a,e);case gy:s=8,i|=8;break;case fv:return t=Xr(12,r,e,i|2),t.elementType=fv,t.lanes=a,t;case pv:return t=Xr(13,r,e,i),t.elementType=pv,t.lanes=a,t;case mv:return t=Xr(19,r,e,i),t.elementType=mv,t.lanes=a,t;case dM:return Th(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uM:s=10;break e;case cM:s=9;break e;case yy:s=11;break e;case _y:s=14;break e;case Ci:s=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Xr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ka(t,e,r,n){return t=Xr(7,t,n,e),t.lanes=r,t}function Th(t,e,r,n){return t=Xr(22,t,n,e),t.elementType=dM,t.lanes=r,t.stateNode={isHidden:!1},t}function vm(t,e,r){return t=Xr(6,t,null,e),t.lanes=r,t}function gm(t,e,r){return e=Xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VR(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zp(0),this.expirationTimes=Zp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function e_(t,e,r,n,i,a,s,l,u){return t=new VR(t,e,r,l,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Xr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dy(a),t}function HR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function rE(t){if(!t)return Zi;t=t._reactInternals;e:{if(qa(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(wr(r))return rC(t,r,e)}return e}function nE(t,e,r,n,i,a,s,l,u){return t=e_(r,n,!0,t,i,a,s,l,u),t.context=rE(null),r=t.current,n=ar(),i=Hi(r),a=ri(n,i),a.callback=e??null,Ki(r,a,i),t.current.lanes=i,iu(t,i,n),Sr(t,n),t}function zh(t,e,r,n){var i=e.current,a=ar(),s=Hi(i);return r=rE(r),e.context===null?e.context=r:e.pendingContext=r,e=ri(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ki(i,e,s),t!==null&&(yn(t,i,s,a),Ic(t,i,s)),s}function _d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function t_(t,e){nw(t,e),(t=t.alternate)&&nw(t,e)}function YR(){return null}var iE=typeof reportError=="function"?reportError:function(t){console.error(t)};function r_(t){this._internalRoot=t}Ih.prototype.render=r_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));zh(t,e,null,null)};Ih.prototype.unmount=r_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Na(function(){zh(null,t,null,null)}),e[si]=null}};function Ih(t){this._internalRoot=t}Ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=NM();t={blockedOn:null,target:t,priority:e};for(var r=0;r<zi.length&&e!==0&&e<zi[r].priority;r++);zi.splice(r,0,t),r===0&&DM(t)}};function n_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iw(){}function GR(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=_d(s);a.call(c)}}var s=nE(e,n,t,0,null,!1,!1,"",iw);return t._reactRootContainer=s,t[si]=s.current,Ml(t.nodeType===8?t.parentNode:t),Na(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=_d(u);l.call(c)}}var u=e_(t,0,!1,null,null,!1,!1,"",iw);return t._reactRootContainer=u,t[si]=u.current,Ml(t.nodeType===8?t.parentNode:t),Na(function(){zh(e,u,r,n)}),u}function Rh(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var u=_d(s);l.call(u)}}zh(e,s,t,i)}else s=GR(r,e,t,i,n);return _d(s)}zM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=qo(e.pendingLanes);r!==0&&(wy(e,r|1),Sr(e,ht()),!(Ae&6)&&(Ks=ht()+500,ra()))}break;case 13:Na(function(){var n=oi(t,1);if(n!==null){var i=ar();yn(n,t,1,i)}}),t_(t,1)}};Sy=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var r=ar();yn(e,t,134217728,r)}t_(t,134217728)}};IM=function(t){if(t.tag===13){var e=Hi(t),r=oi(t,e);if(r!==null){var n=ar();yn(r,t,e,n)}t_(t,e)}};NM=function(){return $e};RM=function(t,e){var r=$e;try{return $e=t,e()}finally{$e=r}};kv=function(t,e,r){switch(e){case"input":if(yv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ph(n);if(!i)throw Error(J(90));fM(n),yv(n,i)}}}break;case"textarea":mM(t,r);break;case"select":e=r.value,e!=null&&Ms(t,!!r.multiple,e,!1)}};wM=qy;SM=Na;var XR={usingClientEntryPoint:!1,Events:[su,ps,Ph,xM,bM,qy]},Do={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qR={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PM(t),t===null?null:t.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||YR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{wh=Ju.inject(qR),Rn=Ju}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR;Br.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n_(e))throw Error(J(200));return HR(t,e,null,r)};Br.createRoot=function(t,e){if(!n_(t))throw Error(J(299));var r=!1,n="",i=iE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=e_(t,1,!1,null,null,r,!1,n,i),t[si]=e.current,Ml(t.nodeType===8?t.parentNode:t),new r_(e)};Br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=PM(e),t=t===null?null:t.stateNode,t};Br.flushSync=function(t){return Na(t)};Br.hydrate=function(t,e,r){if(!Nh(e))throw Error(J(200));return Rh(null,t,e,!0,r)};Br.hydrateRoot=function(t,e,r){if(!n_(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=iE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=nE(e,null,t,1,r??null,i,!1,a,s),t[si]=e.current,Ml(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ih(e)};Br.render=function(t,e,r){if(!Nh(e))throw Error(J(200));return Rh(null,t,e,!1,r)};Br.unmountComponentAtNode=function(t){if(!Nh(t))throw Error(J(40));return t._reactRootContainer?(Na(function(){Rh(null,null,t,!1,function(){t._reactRootContainer=null,t[si]=null})}),!0):!1};Br.unstable_batchedUpdates=qy;Br.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Nh(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Rh(t,e,r,!1,n)};Br.version="18.3.1-next-f1338f8080-20240426";function aE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aE)}catch(t){console.error(t)}}aE(),aM.exports=Br;var i_=aM.exports,aw=i_;dv.createRoot=aw.createRoot,dv.hydrateRoot=aw.hydrateRoot;function We(t){var e=t.width,r=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(r<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:r}}function Pa(t,e){return t.width===e.width&&t.height===e.height}var ZR=function(){function t(e){var r=this;this._resolutionListener=function(){return r._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var r=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){r._observers=r._observers.filter(function(i){return i!==n})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(r){return r.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function QR(t){return new ZR(t)}var JR=function(){function t(e,r,n){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=We({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=r??function(a){return a},this._allowResizeObserver=(i=n==null?void 0:n.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,r;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(r=this._devicePixelRatioObservable)===null||r===void 0||r.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return We({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=We(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(r){return r!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(r){return r!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var r=this.bitmapSize;Pa(r,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(r,e))},t.prototype._emitBitmapSizeChanged=function(e,r){var n=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(n,e,r)})},t.prototype._suggestNewBitmapSize=function(e){var r=this._suggestedBitmapSize,n=We(this._transformBitmapSize(e,this._canvasElementClientSize)),i=Pa(this.bitmapSize,n)?null:n;r===null&&i===null||r!==null&&i!==null&&Pa(r,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(r,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,r){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(n,e,r)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}tD().then(function(r){return r?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var r=sw(this._canvasElement);if(r===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=QR(r),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,r;if(this._canvasElement!==null){var n=sw(this._canvasElement);if(n!==null){var i=(r=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&r!==void 0?r:n.devicePixelRatio,a=this._canvasElement.getClientRects(),s=a[0]!==void 0?rD(a[0],i):We({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(s)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(r){var n=r.find(function(s){return s.target===e._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var i=n.devicePixelContentBoxSize[0],a=We({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(a)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function eD(t,e){return new JR(t,e.transform,e.options)}function sw(t){return t.ownerDocument.defaultView}function tD(){return new Promise(function(t){var e=new ResizeObserver(function(r){t(r.every(function(n){return"devicePixelContentBoxSize"in n})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function rD(t,e){return We({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var nD=function(){function t(e,r,n){if(r.width===0||r.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=r,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function Ra(t,e){var r=t.canvasElementClientSize;if(r.width===0||r.height===0)return null;var n=t.bitmapSize;if(n.width===0||n.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new nD(i,r,n)}/*!
 * @license
 * TradingView Lightweight Charts v5.1.0
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const sE={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var ow,dl;function Da(t,e){const r={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(r)}function oE(t,e,r,n){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(r,e+i),t.lineTo(n,e+i),t.stroke()}function Ft(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function jr(t){if(t===void 0)throw new Error("Value is undefined");return t}function Q(t){if(t===null)throw new Error("Value is null");return t}function Li(t){return Q(jr(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(ow||(ow={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(dl||(dl={}));class ft{constructor(){this.t=[]}i(e,r,n){const i={h:e,l:r,o:n===!0};this.t.push(i)}_(e){const r=this.t.findIndex(n=>e===n.h);r>-1&&this.t.splice(r,1)}u(e){this.t=this.t.filter(r=>r.l!==e)}p(e,r,n){const i=[...this.t];this.t=this.t.filter(a=>!a.o),i.forEach(a=>a.h(e,r,n))}v(){return this.t.length>0}m(){this.t=[]}}function Nr(t,...e){for(const r of e)for(const n in r)r[n]!==void 0&&Object.prototype.hasOwnProperty.call(r,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof r[n]!="object"||t[n]===void 0||Array.isArray(r[n])?t[n]=r[n]:Nr(t[n],r[n]));return t}function La(t){return typeof t=="number"&&isFinite(t)}function Rl(t){return typeof t=="number"&&t%1==0}function lu(t){return typeof t=="string"}function ec(t){return typeof t=="boolean"}function Qn(t){const e=t;if(!e||typeof e!="object")return e;let r,n,i;for(n in r=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(i=e[n],r[n]=i&&typeof i=="object"?Qn(i):i);return r}function lw(t){return t!==null}function Dl(t){return t===null?void 0:t}const lE="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Ll(t,e,r){return e===void 0&&(e=lE),`${r=r!==void 0?`${r} `:""}${t}px ${e}`}class iD{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,r=this.F(),n=this.W();return e.k===r&&e.T===n||(e.k=r,e.T=n,e.P=Ll(r,n),e.A=2.5/12*r,e.I=e.A,e.V=r/12*e.C,e.B=r/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function ym(t){return t<0?0:t>255?255:Math.round(t)||0}function uw(t){return .199*t[0]+.687*t[1]+.114*t[2]}let aD=class{constructor(e,r){this.q=new Map,this.j=e,r&&(this.q=r)}Y(e,r){if(e==="transparent")return e;const n=this.K(e),i=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${r*i})`}Z(e){const r=this.K(e);return{G:`rgb(${r[0]}, ${r[1]}, ${r[2]})`,X:uw(r)>160?"black":"white"}}J(e){return uw(this.K(e))}tt(e,r,n){const[i,a,s,l]=this.K(e),[u,c,d,h]=this.K(r),f=[ym(i+n*(u-i)),ym(a+n*(c-a)),ym(s+n*(d-s)),(m=l+n*(h-l),m<=0||m>1?Math.min(Math.max(m,0),1):Math.round(1e4*m)/1e4)];var m;return`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${f[3]})`}K(e){const r=this.q.get(e);if(r)return r;const n=function(s){const l=document.createElement("div");l.style.display="none",document.body.appendChild(l),l.style.color=s;const u=window.getComputedStyle(l).color;return document.body.removeChild(l),u}(e),i=n.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!i){if(this.j.length)for(const s of this.j){const l=s(e);if(l)return this.q.set(e,l),l}throw new Error(`Failed to parse color: ${e}`)}const a=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1];return this.q.set(e,a),a}};class sD{constructor(){this.it=[]}st(e){this.it=e}nt(e,r,n){this.it.forEach(i=>{i.nt(e,r,n)})}}class Za{nt(e,r,n){e.useBitmapCoordinateSpace(i=>this.et(i,r,n))}}class oD extends Za{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){if(this.rt===null||this.rt.lt===null)return;const i=this.rt.lt,a=this.rt,s=Math.max(1,Math.floor(r))%2/2,l=u=>{e.beginPath();for(let c=i.to-1;c>=i.from;--c){const d=a.ot[c],h=Math.round(d._t*r)+s,f=d.ut*n,m=u*n+s;e.moveTo(h,f),e.arc(h,f,m,0,2*Math.PI)}e.fill()};a.ct>0&&(e.fillStyle=a.dt,l(a.ft+a.ct)),e.fillStyle=a.vt,l(a.ft)}}function lD(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const uD={from:0,to:1};class cD{constructor(e,r,n){this.Mt=new sD,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=r,this.yt=n,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(lD),this.bt=this.St.map(r=>{const n=new oD;return n.ht(r),n}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),r=this.yt.Vt(),n=this.Ct.Bt(),i=this.O.Et();this.Pt(),r.forEach((a,s)=>{const l=this.St[s],u=a.At(n),c=a.Lt();!e&&u!==null&&a.It()&&c!==null?(l.vt=u.zt,l.ft=u.ft,l.ct=u.Ot,l.ot[0].gt=u.gt,l.ot[0].ut=a.Ft().Nt(u.gt,c.Wt),l.dt=u.Ht??this.O.Ut(l.ot[0].ut/a.Ft().$t()),l.ot[0].wt=n,l.ot[0]._t=i.qt(n),l.lt=uD):l.lt=null})}}class dD extends Za{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.jt===null)return;const a=this.jt.Yt.It,s=this.jt.Kt.It;if(!a&&!s)return;const l=Math.round(this.jt._t*n),u=Math.round(this.jt.ut*i);e.lineCap="butt",a&&l>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*n),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,Da(e,this.jt.Yt.Zt),function(c,d,h,f){c.beginPath();const m=c.lineWidth%2?.5:0;c.moveTo(d+m,h),c.lineTo(d+m,f),c.stroke()}(e,l,0,r.height)),s&&u>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*i),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,Da(e,this.jt.Kt.Zt),oE(e,u,0,r.width))}}class hD{constructor(e,r){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new dD(this.Gt),this.Jt=e,this.yt=r}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),r=this.yt.Qt().N().crosshair,n=this.Gt;if(r.mode===2)return n.Kt.It=!1,void(n.Yt.It=!1);n.Kt.It=e&&this.Jt.ti(this.yt),n.Yt.It=e&&this.Jt.ii(),n.Kt.ct=r.horzLine.width,n.Kt.Zt=r.horzLine.style,n.Kt.R=r.horzLine.color,n.Yt.ct=r.vertLine.width,n.Yt.Zt=r.vertLine.style,n.Yt.R=r.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}}function fD(t,e,r,n,i,a){t.fillRect(e+a,r,n-2*a,a),t.fillRect(e+a,r+i-a,n-2*a,a),t.fillRect(e,r,a,i),t.fillRect(e+n-a,r,a,i)}function Dh(t,e,r,n,i,a){t.save(),t.globalCompositeOperation="copy",t.fillStyle=a,t.fillRect(e,r,n,i),t.restore()}function cw(t,e,r,n,i,a){t.beginPath(),t.roundRect?t.roundRect(e,r,n,i,a):(t.lineTo(e+n-a[1],r),a[1]!==0&&t.arcTo(e+n,r,e+n,r+a[1],a[1]),t.lineTo(e+n,r+i-a[2]),a[2]!==0&&t.arcTo(e+n,r+i,e+n-a[2],r+i,a[2]),t.lineTo(e+a[3],r+i),a[3]!==0&&t.arcTo(e,r+i,e,r+i-a[3],a[3]),t.lineTo(e,r+a[0]),a[0]!==0&&t.arcTo(e,r,e+a[0],r,a[0]))}function dw(t,e,r,n,i,a,s=0,l=[0,0,0,0],u=""){if(t.save(),!s||!u||u===a)return cw(t,e,r,n,i,l),t.fillStyle=a,t.fill(),void t.restore();const c=s/2;var d;cw(t,e+c,r+c,n-s,i-s,(d=-c,l.map(h=>h===0?h:h+d))),a!=="transparent"&&(t.fillStyle=a,t.fill()),u!=="transparent"&&(t.lineWidth=s,t.strokeStyle=u,t.closePath(),t.stroke()),t.restore()}function uE(t,e,r,n,i,a,s){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,i);l.addColorStop(0,a),l.addColorStop(1,s),t.fillStyle=l,t.fillRect(e,r,n,i),t.restore()}class hw{constructor(e,r){this.ht(e,r)}ht(e,r){this.jt=e,this.ei=r}$t(e,r){return this.jt.It?e.k+e.A+e.I:0}nt(e,r,n,i){if(!this.jt.It||this.jt.ri.length===0)return;const a=this.jt.R,s=this.ei.G,l=e.useBitmapCoordinateSpace(u=>{const c=u.context;c.font=r.P;const d=this.hi(u,r,n,i),h=d.ai;return d.li?dw(c,h.oi,h._i,h.ui,h.ci,s,h.di,[h.ft,0,0,h.ft],s):dw(c,h.fi,h._i,h.ui,h.ci,s,h.di,[0,h.ft,h.ft,0],s),this.jt.pi&&(c.fillStyle=a,c.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.jt.Mi&&(c.fillStyle=r.D,c.fillRect(d.li?h.bi-h.di:0,h._i,h.di,h.Si-h._i)),d});e.useMediaCoordinateSpace(({context:u})=>{const c=l.xi;u.font=r.P,u.textAlign=l.li?"right":"left",u.textBaseline="middle",u.fillStyle=a,u.fillText(this.jt.ri,c.Ci,(c._i+c.Si)/2+c.yi)})}hi(e,r,n,i){const{context:a,bitmapSize:s,mediaSize:l,horizontalPixelRatio:u,verticalPixelRatio:c}=e,d=this.jt.pi||!this.jt.ki?r.C:0,h=this.jt.Pi?r.S:0,f=r.A+this.ei.Ti,m=r.I+this.ei.Ri,g=r.V,y=r.B,x=this.jt.ri,_=r.k,b=n.Di(a,x),S=Math.ceil(n.Ii(a,x)),k=_+f+m,p=r.S+g+y+S+d,j=Math.max(1,Math.floor(c));let C=Math.round(k*c);C%2!=j%2&&(C+=1);const T=h>0?Math.max(1,Math.floor(h*u)):0,E=Math.round(p*u),z=Math.round(d*u),B=this.ei.Vi??this.ei.Bi??this.ei.Ei,O=Math.round(B*c)-Math.floor(.5*c),G=Math.floor(O+j/2-C/2),Y=G+C,W=i==="right",re=W?l.width-h:h,H=W?s.width-T:T;let L,R,M;return W?(L=H-E,R=H-z,M=re-d-g-h):(L=H+E,R=H+z,M=re+d+g),{li:W,ai:{_i:G,mi:O,Si:Y,ui:E,ci:C,ft:2*u,di:T,oi:L,fi:H,wi:R,gi:j,bi:s.width},xi:{_i:G/c,Si:Y/c,Ci:M,yi:b}}}}class Lh{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||hw)(this.Li,this.Ai),this.Ni=new(e||hw)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,r=!1){return Math.max(this.Oi.$t(e,r),this.Ni.$t(e,r))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class pD extends Lh{constructor(e,r,n){super(),this.Jt=e,this.Ki=r,this.Zi=n}Yi(e,r,n){if(e.It=!1,this.Jt.N().mode===2)return;const i=this.Jt.N().horzLine;if(!i.labelVisible)return;const a=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||a===null)return;const s=this.Ki.Xi().Z(i.labelBackgroundColor);n.G=s.G,e.R=s.X;const l=2/12*this.Ki.k();n.Ti=l,n.Ri=l;const u=this.Zi(this.Ki);n.Ei=u.Ei,e.ri=this.Ki.Ji(u.gt,a),e.It=!0}}const mD=/[1-9]/g;class cE{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,r){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const n=e.useMediaCoordinateSpace(({context:f})=>(f.font=r.P,Math.round(r.Qi.Ii(f,Q(this.jt).ri,mD))));if(n<=0)return;const i=r.ts,a=n+2*i,s=a/2,l=this.jt.ss;let u=this.jt.Ei,c=Math.floor(u-s)+.5;c<0?(u+=Math.abs(0-c),c=Math.floor(u-s)+.5):c+a>l&&(u-=Math.abs(l-(c+a)),c=Math.floor(u-s)+.5);const d=c+a,h=Math.ceil(0+r.S+r.C+r.A+r.k+r.I);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:m,verticalPixelRatio:g})=>{const y=Q(this.jt);f.fillStyle=y.G;const x=Math.round(c*m),_=Math.round(0*g),b=Math.round(d*m),S=Math.round(h*g),k=Math.round(2*m);if(f.beginPath(),f.moveTo(x,_),f.lineTo(x,S-k),f.arcTo(x,S,x+k,S,k),f.lineTo(b-k,S),f.arcTo(b,S,b,S-k,k),f.lineTo(b,_),f.fill(),y.pi){const p=Math.round(y.Ei*m),j=_,C=Math.round((j+r.C)*g);f.fillStyle=y.R;const T=Math.max(1,Math.floor(m)),E=Math.floor(.5*m);f.fillRect(p-E,j,T,C-j)}}),e.useMediaCoordinateSpace(({context:f})=>{const m=Q(this.jt),g=0+r.S+r.C+r.A+r.k/2;f.font=r.P,f.textAlign="left",f.textBaseline="middle",f.fillStyle=m.R;const y=r.Qi.Di(f,"Apr0");f.translate(c+i,g+y),f.fillText(m.ri,0,0)})}}class vD{constructor(e,r,n){this.xt=!0,this.Xt=new cE,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=r,this.Zi=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const r=this.Ct.N().vertLine;if(!r.labelVisible)return;const n=this.ns.Et();if(n.Gi())return;e.ss=n.ss();const i=this.Zi();if(i===null)return;e.Ei=i.Ei;const a=n.es(this.Ct.Bt());e.ri=n.rs(Q(a)),e.It=!0;const s=this.ns.Xi().Z(r.labelBackgroundColor);e.G=s.G,e.R=s.X,e.pi=n.N().ticksVisible}}class dE{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var fw;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(fw||(fw={}));class gD extends dE{constructor(e,r){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=r,this.Ts=((i,a)=>s=>{const l=a(),u=i();if(s===Q(this.yt).Rs())return{gt:u,Ei:l};{const c=Q(s.Lt());return{gt:s.Ds(l,c),Ei:l}}})(()=>this.ps,()=>this.Cs);const n=((i,a)=>()=>{const s=this.ns.Et().Is(i()),l=a();return s&&Number.isFinite(l)?{wt:s,Ei:l}:null})(()=>this.vs,()=>this.si());this.Vs=new vD(this,e,n)}N(){return this.Ps}Bs(e,r){this.ys=e,this.ks=r}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,r,n){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,r,n)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const r=this.ns,n=r.Et();let i=null,a=null;for(const c of r.Us()){const d=c.qs().$s(e,-1);if(d){if(d.js===e)return e;(i===null||d.js>i)&&(i=d.js)}const h=c.qs().$s(e,1);if(h){if(h.js===e)return e;(a===null||h.js<a)&&(a=h.js)}}const s=[i,a].filter(lw);if(s.length===0)return e;const l=n.qt(e),u=s.map(c=>Math.abs(l-n.qt(c)));return s[u.indexOf(Math.min(...u))]}Ys(e){let r=this.bs.get(e);r||(r=new hD(this,e),this.bs.set(e,r));let n=this.Ss.get(e);return n||(n=new cD(this.ns,this,e),this.Ss.set(e,n)),[r,n]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,r){this.ws&&this.yt===e||this.gs.clear();const n=[];return this.yt===e&&n.push(this.Zs(this.gs,r,this.Ts)),n}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach(e=>{var r,n;(r=this.bs.get(e))==null||r.kt(),(n=this.Ss.get(e))==null||n.kt()}),this.gs.forEach(e=>e.kt()),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,r,n){this.Qs(e,r,n)&&this.Ws()}Qs(e,r,n){const i=this.xs,a=this.Cs,s=this.ps,l=this.vs,u=this.yt,c=this.Js(n);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=n;const d=c!==null?c.Lt():null;return c!==null&&d!==null?(this.ps=r,this.Cs=c.Nt(r,d)):(this.ps=NaN,this.Cs=NaN),i!==this.xs||a!==this.Cs||l!==this.vs||s!==this.ps||u!==this.yt}Fs(){const e=this.ns.tn().map(n=>n.qs().sn()).filter(lw),r=e.length===0?null:Math.max(...e);this.vs=r!==null?r:NaN}Zs(e,r,n){let i=e.get(r);return i===void 0&&(i=new pD(this,r,n),e.set(r,i)),i}}function Bh(t){return t==="left"||t==="right"}class Bt{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,r){const n=function(i,a){return i===void 0?a:{an:Math.max(i.an,a.an),ln:i.ln||a.ln}}(this.nn.get(e),r);this.nn.set(e,n)}_n(){return this.rn}un(e){const r=this.nn.get(e);return r===void 0?{an:this.rn}:{an:Math.max(this.rn,r.an),ln:r.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const r of e.en)this.xn(r);this.rn=Math.max(this.rn,e.rn),e.nn.forEach((r,n)=>{this.hn(n,r)})}static Cn(){return new Bt(2)}static yn(){return new Bt(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex(r=>r.fn===5);e!==-1&&this.en.splice(e,1)}}class hE{formatTickmarks(e){return e.map(r=>this.format(r))}}const pw=".";function Jn(t,e){if(!La(t))return"n/a";if(!Rl(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class $h extends hE{constructor(e,r){if(super(),r||(r=1),La(e)&&Rl(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=r,this.Pn()}format(e){const r=e<0?"":"";return e=Math.abs(e),r+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const r=this.Ki/this.kn;let n=Math.floor(e),i="";const a=this.Rn!==void 0?this.Rn:NaN;if(r>1){let s=+(Math.round(e*r)-n*r).toFixed(this.Rn);s>=r&&(s-=r,n+=1),i=pw+Jn(+s.toFixed(this.Rn)*this.kn,a)}else n=Math.round(n*r)/r,a>0&&(i=pw+Jn(0,a));return n.toFixed(0)+i}}class fE extends $h{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class yD extends hE{constructor(e){super(),this.Dn=e}format(e){let r="";return e<0&&(r="-",e=-e),e<995?r+this.In(e):e<999995?r+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),r+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),r+this.In(e/1e9)+"B")}In(e){let r;const n=Math.pow(10,this.Dn);return r=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),r.replace(/(\.[1-9]*)0+$/,(i,a)=>a)}}const _D=/[2-9]/g;class Bl{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,r,n){return this.Nn(e,r,n).width}Di(e,r,n){const i=this.Nn(e,r,n);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}Nn(e,r,n){const i=n||_D,a=String(r).replace(i,"0");if(this.Ln.has(a))return jr(this.Ln.get(a)).Fn;if(this.Vn===this.zn){const l=this.An[this.En];delete this.An[this.En],this.Ln.delete(l),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const s=e.measureText(a);return e.restore(),s.width===0&&r.length||(this.Ln.set(a,{Fn:s,Wn:this.Bn}),this.An[this.Bn]=a,this.Vn++,this.Bn++),s}}class xD{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,r,n){this.Hn=e,this.M=r,this.Un=n}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class pE{constructor(e,r,n){this.jn=e,this.$n=new Bl(50),this.Yn=r,this.O=n,this.F=-1,this.Xt=new xD(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const r=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(r===null)return null;const n=e.Xn(r);if(n==="overlay")return null;const i=this.O.Jn();return i.k!==this.F&&(this.F=i.k,this.$n.On()),this.Xt.qn(this.jn.ji(),i,n),this.Xt}}class bD extends Za{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,r){var s;if(!((s=this.jt)!=null&&s.It))return null;const{ut:n,ct:i,te:a}=this.jt;return r>=n-i-7&&r<=n+i+7?{ie:this.jt,te:a}:null}et({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.jt===null||this.jt.It===!1)return;const a=Math.round(this.jt.ut*i);a<0||a>r.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*n),Da(e,this.jt.Zt),oE(e,a,0,r.width))}}class a_{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new bD,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class wD extends a_{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),r=e.ae().ae;if(r!==2&&r!==3)return;const n=this.ee.N();if(!n.baseLineVisible||!this.ee.It())return;const i=this.ee.Lt();i!==null&&(this.se.It=!0,this.se.ut=e.Nt(i.Wt,i.Wt),this.se.R=n.baseLineColor,this.se.ct=n.baseLineWidth,this.se.Zt=n.baseLineStyle)}}class SD extends Za{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){const i=this.jt;if(i===null)return;const a=Math.max(1,Math.floor(r)),s=a%2/2,l=Math.round(i.oe.x*r)+s,u=i.oe.y*n;e.fillStyle=i._e,e.beginPath();const c=Math.max(2,1.5*i.ue)*r;e.arc(l,u,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.ce,e.beginPath(),e.arc(l,u,i.ft*r,0,2*Math.PI,!1),e.fill(),e.lineWidth=a,e.strokeStyle=i.de,e.beginPath(),e.arc(l,u,i.ft*r+a/2,0,2*Math.PI,!1),e.stroke()}}const jD=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class kD{constructor(e){this.Xt=new SD,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),r=this.Ce-e;if(r>0)return void(r<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),r=e.Ie(),n=this.ye.Lt();if(r===null||n===null)return;const i=this.ye.Ve(!0);if(i.Be||!r.Ee(i.js))return;const a={x:e.qt(i.js),y:this.ye.Ft().Nt(i.gt,n.Wt)},s=i.R,l=this.ye.N().lineWidth,u=this.Ae(this.Le(),s);this.Xt.ht({_e:s,ue:l,ce:u.ce,de:u.de,ft:u.ft,oe:a})}De(){const e=this.Xt.le();if(e!==null){const r=this.Ae(this.Le(),e._e);e.ce=r.ce,e.de=r.de,e.ft=r.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,r,n,i){const a=n+(i-n)*r;return this.ye.Qt().Xi().Y(e,a)}Ae(e,r){const n=e%2600/2600;let i;for(const c of jD)if(n>=c.fe&&n<=c.pe){i=c;break}Ft(i!==void 0,"Last price animation internal logic error");const a=(n-i.fe)/(i.pe-i.fe);return{ce:this.ze(r,a,i.we,i.ge),de:this.ze(r,a,i.Me,i.be),ft:(s=a,l=i.ve,u=i.me,l+(u-l)*s)};var s,l,u}}class PD extends a_{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const r=this.ee.N();if(!r.priceLineVisible||!this.ee.It())return;const n=this.ee.Ve(r.priceLineSource===0);n.Be||(e.It=!0,e.ut=n.Ei,e.R=this.ee.Oe(n.R),e.ct=r.priceLineWidth,e.Zt=r.priceLineStyle)}}class MD extends Lh{constructor(e){super(),this.Jt=e}Yi(e,r,n){e.It=!1,r.It=!1;const i=this.Jt;if(!i.It())return;const a=i.N(),s=a.lastValueVisible,l=i.Ne()!=="",u=a.seriesLastValueMode===0,c=i.Ve(!1);if(c.Be)return;s&&(e.ri=this.Fe(c,s,u),e.It=e.ri.length!==0),(l||u)&&(r.ri=this.We(c,s,l,u),r.It=r.ri.length>0);const d=i.Oe(c.R),h=this.Jt.Qt().Xi().Z(d);n.G=h.G,n.Ei=c.Ei,r.Ht=i.Qt().Ut(c.Ei/i.Ft().$t()),e.Ht=d,e.R=h.X,r.R=h.X}We(e,r,n,i){let a="";const s=this.Jt.Ne();return n&&s.length!==0&&(a+=`${s} `),r&&i&&(a+=this.Jt.Ft().He()?e.Ue:e.$e),a.trim()}Fe(e,r,n){return r?n?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function mw(t,e,r,n){const i=Number.isFinite(e),a=Number.isFinite(r);return i&&a?t(e,r):i||a?i?e:r:n}class sr{constructor(e,r){this.qe=e,this.je=r}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new sr(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new sr(mw(Math.min,this.Ze(),e.Ze(),-1/0),mw(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!La(e)||this.je-this.qe===0)return;const r=.5*(this.je+this.qe);let n=this.je-r,i=this.qe-r;n*=e,i*=e,this.je=r+n,this.qe=r+i}Qe(e){La(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new sr(e.minValue,e.maxValue)}}class xd{constructor(e,r){this.sr=e,this.nr=r||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new xd(sr.ir(e.priceRange),e.margins)}}const CD=[2,4,8,16,32,64,128,256,512],ED="Custom series with conflation reducer must have a priceValueBuilder method";class AD extends a_{constructor(e,r){super(e),this.hr=r}he(){const e=this.se;e.It=!1;const r=this.hr.N();if(!this.ee.It()||!r.lineVisible)return;const n=this.hr.ar();n!==null&&(e.It=!0,e.ut=n,e.R=r.color,e.ct=r.lineWidth,e.Zt=r.lineStyle,e.te=this.hr.N().id)}}class OD extends Lh{constructor(e,r){super(),this.ye=e,this.hr=r}Yi(e,r,n){e.It=!1,r.It=!1;const i=this.hr.N(),a=i.axisLabelVisible,s=i.title!=="",l=this.ye;if(!a||!l.It())return;const u=this.hr.ar();if(u===null)return;s&&(r.ri=i.title,r.It=!0),r.Ht=l.Qt().Ut(u/l.Ft().$t()),e.ri=this.lr(i.price),e.It=!0;const c=this.ye.Qt().Xi().Z(i.axisLabelColor||i.color);n.G=c.G;const d=i.axisLabelTextColor||c.X;e.R=d,r.R=d,n.Ei=u}lr(e){const r=this.ye.Lt();return r===null?"":this.ye.Ft().Ji(e,r.Wt)}}class TD{constructor(e,r){this.ye=e,this.Ps=r,this._r=new AD(e,this),this.jn=new OD(e,this),this.ur=new pE(this.jn,e,e.Qt())}cr(e){Nr(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,r=e.Ft();if(e.Qt().Et().Gi()||r.Gi())return null;const n=e.Lt();return n===null?null:r.Nt(this.Ps.price,n.Wt)}}class zD{constructor(){this.wr=new WeakMap}gr(e,r,n){const i=1/r*n;if(e>=i)return 1;const a=i/e,s=Math.pow(2,Math.floor(Math.log2(a)));return Math.min(s,512)}Mr(e,r,n,i=!1,a){if(e.length===0||r<=1)return e;const s=this.br(r);if(s<=1)return e;const l=this.Sr(e);let u=l.Cr.get(s);return u!==void 0||(u=this.yr(e,s,n,i,a,l.Cr),l.Cr.set(s,u)),u}kr(e,r,n,i,a=!1,s){if(n<1||e.length===0)return e;const l=this.Sr(e),u=l.Cr.get(n);if(!u)return this.Mr(e,n,i,a,s);const c=this.Pr(e,r,n,u,a,i,s);return l.Cr.set(n,c),c}br(e){if(e<=2)return 2;for(const r of CD)if(e<=r)return r;return 512}Tr(e){if(e.length===0)return 0;const r=e[0],n=e[e.length-1];return 31*e.length+17*r.js+13*n.js}yr(e,r,n,i=!1,a,s=new Map){if(r===2)return this.Rr(e,2,n,i,a);const l=r/2;let u=s.get(l);return u||(u=this.yr(e,l,n,i,a,s),s.set(l,u)),this.Dr(u,n,i,a)}Rr(e,r,n,i=!1,a){const s=this.Ir(e,r,n,i,a);return this.Vr(s,i)}Dr(e,r,n=!1,i){const a=this.Ir(e,2,r,n,i);return this.Vr(a,n)}Ir(e,r,n,i=!1,a){const s=[];for(let l=0;l<e.length;l+=r)if(e.length-l>=r){const u=this.Br(e[l],e[l+1],n,i,a);u.Er=!1,s.push(u)}else if(s.length===0)s.push(this.Ar(e[l],!0));else{const u=s[s.length-1];s[s.length-1]=this.Lr(u,e[l],n,i,a)}return s}zr(e,r){return(e??1)+(r??1)}Br(e,r,n,i=!1,a){if(!i||!n||!a){const c=e.Wt[1]>r.Wt[1]?e.Wt[1]:r.Wt[1],d=e.Wt[2]<r.Wt[2]?e.Wt[2]:r.Wt[2];return{Or:e.js,Nr:r.js,Fr:e.wt,Wr:r.wt,Hr:e.Wt[0],Ur:c,$r:d,qr:r.Wt[3],jr:this.zr(e.jr,r.jr),Yr:void 0,Er:!1}}const s=n(this.Kr(e,a),this.Kr(r,a)),l=a(s),u=l.length?l[l.length-1]:0;return{Or:e.js,Nr:r.js,Fr:e.wt,Wr:r.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],u),$r:Math.min(e.Wt[2],u),qr:u,jr:this.zr(e.jr,r.jr),Yr:s,Er:!1}}Lr(e,r,n,i=!1,a){if(!i||!n||!a)return{Or:e.Or,Nr:r.js,Fr:e.Fr,Wr:r.wt,Hr:e.Hr,Ur:e.Ur>r.Wt[1]?e.Ur:r.Wt[1],$r:e.$r<r.Wt[2]?e.$r:r.Wt[2],qr:r.Wt[3],jr:e.jr+(r.jr??1),Yr:e.Yr,Er:!1};const s=e.Yr,l=this.Kr(r,a),u=s?{data:s,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:a(s)}:null,c=u?n(u,l):l.data,d=u?a(c):l.priceValues,h=d.length?d[d.length-1]:0;return{Or:e.Or,Nr:r.js,Fr:e.Fr,Wr:r.wt,Hr:e.Hr,Ur:Math.max(e.Ur,h),$r:Math.min(e.$r,h),qr:h,jr:e.jr+(r.jr??1),Yr:c,Er:!1}}Zr(e,r,n,i,a,s,l=!1,u){const c=r===i?a:e[r];if(n-r==1)return this.Ar(c,!0);const d=r+1===i?a:e[r+1];let h=this.Br(c,d,s,l,u);for(let f=r+2;f<n;f++){const m=f===i?a:e[f];h=this.Lr(h,m,s,l,u)}return h}Kr(e,r){const n=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:r(n)}}Xr(e,r=!1){const n=r===!0,i=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[n?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:n?i?e.Yr:{wt:e.Fr}:void 0}}Vr(e,r=!1){return e.map(n=>this.Xr(n,r))}Pr(e,r,n,i,a=!1,s,l){if(i.length===0)return i;const u=e.length-1,c=Math.floor(u/n)*n;if(Math.min(c+n,e.length)-c<n&&e.length>n){const d=e.slice();return d[d.length-1]=r,this.Mr(d,n,s,a,l)}if(Math.floor((u-1)/n)===Math.floor(u/n)||i.length===1){const d=Math.min(c+n,e.length),h=d-c;if(h<=0)return i;const f=h===1?this.Ar(c===u?r:e[c],!0):this.Zr(e,c,d,u,r,s,a,l);return i[i.length-1]=this.Xr(f,a),i}{const d=e.slice();return d[d.length-1]=r,this.Mr(d,n,s,a,l)}}Ar(e,r=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:r}}Sr(e){const r=this.Jr(e),n=this.Tr(e);return r.Qr!==n&&(r.Cr.clear(),r.Qr=n),r}Jr(e){let r=this.wr.get(e);return r===void 0&&(r={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,r)),r}}class ID extends dE{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const ND={Bar:(t,e,r,n)=>{const i=e.upColor,a=e.downColor,s=Q(t(r,n)),l=Li(s.Wt[0])<=Li(s.Wt[3]);return{th:s.R??(l?i:a)}},Candlestick:(t,e,r,n)=>{const i=e.upColor,a=e.downColor,s=e.borderUpColor,l=e.borderDownColor,u=e.wickUpColor,c=e.wickDownColor,d=Q(t(r,n)),h=Li(d.Wt[0])<=Li(d.Wt[3]);return{th:d.R??(h?i:a),ih:d.Ht??(h?s:l),sh:d.nh??(h?u:c)}},Custom:(t,e,r,n)=>({th:Q(t(r,n)).R??e.color}),Area:(t,e,r,n)=>{const i=Q(t(r,n));return{th:i.vt??e.lineColor,vt:i.vt??e.lineColor,eh:i.eh??e.topColor,rh:i.rh??e.bottomColor}},Baseline:(t,e,r,n)=>{const i=Q(t(r,n));return{th:i.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:i.hh??e.topLineColor,ah:i.ah??e.bottomLineColor,oh:i.oh??e.topFillColor1,_h:i._h??e.topFillColor2,uh:i.uh??e.bottomFillColor1,dh:i.dh??e.bottomFillColor2}},Line:(t,e,r,n)=>{const i=Q(t(r,n));return{th:i.R??e.color,vt:i.R??e.color}},Histogram:(t,e,r,n)=>({th:Q(t(r,n)).R??e.color})};class RD{constructor(e){this.fh=(r,n)=>n!==void 0?n.Wt:this.ye.qs().ph(r),this.ye=e,this.mh=ND[e.wh()]}gh(e,r){return this.mh(this.fh,this.ye.N(),e,r)}}function mE(t,e,r,n,i=0,a=e.length){let s=a-i;for(;0<s;){const l=s>>1,u=i+l;n(e[u],r)===t?(i=u+1,s-=l+1):s=l}return i}const Vs=mE.bind(null,!0),vE=mE.bind(null,!1);var vw;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(vw||(vw={}));const Mi=30;class DD{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,r=0){const n=this.Th(e,r);return n===null?null:{...this.Rh(n),js:this.Ph(n)}}Dh(){return this.Mh}Ih(e,r,n){if(this.Gi())return null;let i=null;for(const a of n)i=tc(i,this.Vh(e,r,a));return i}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map(r=>r.js)}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,r){const n=this.Eh(e);if(n===null&&r!==0)switch(r){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return n}Ah(e){let r=this.zh(e);return r>0&&(r-=1),r!==this.Mh.length&&this.Ph(r)<e?r:null}Lh(e){const r=this.Oh(e);return r!==this.Mh.length&&e<this.Ph(r)?r:null}Eh(e){const r=this.zh(e);return r===this.Mh.length||e<this.Mh[r].js?null:r}zh(e){return Vs(this.Mh,e,(r,n)=>r.js<n)}Oh(e){return vE(this.Mh,e,(r,n)=>r.js>n)}Nh(e,r,n){let i=null;for(let a=e;a<r;a++){const s=this.Mh[a].Wt[n];Number.isNaN(s)||(i===null?i={Fh:s,Wh:s}:(s<i.Fh&&(i.Fh=s),s>i.Wh&&(i.Wh=s)))}return i}Vh(e,r,n){if(this.Gi())return null;let i=null;const a=Q(this.kh()),s=Q(this.sn()),l=Math.max(e,a),u=Math.min(r,s),c=Math.ceil(l/Mi)*Mi,d=Math.max(c,Math.floor(u/Mi)*Mi);{const f=this.zh(l),m=this.Oh(Math.min(u,c,r));i=tc(i,this.Nh(f,m,n))}let h=this.bh.get(n);h===void 0&&(h=new Map,this.bh.set(n,h));for(let f=Math.max(c+1,l);f<d;f+=Mi){const m=Math.floor(f/Mi);let g=h.get(m);if(g===void 0){const y=this.zh(m*Mi),x=this.Oh((m+1)*Mi-1);g=this.Nh(y,x,n),h.set(m,g)}i=tc(i,g)}{const f=this.zh(d),m=this.Oh(u);i=tc(i,this.Nh(f,m,n))}return i}}function tc(t,e){return t===null?e:e===null?t:{Fh:Math.min(t.Fh,e.Fh),Wh:Math.max(t.Wh,e.Wh)}}function _m(){return new DD}const bd={setLineStyle:Da};class LD{constructor(e){this.Hh=e}nt(e,r,n){this.Hh.draw(e,bd)}Uh(e,r,n){var i,a;(a=(i=this.Hh).drawBackground)==null||a.call(i,e,bd)}}class BD{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const r=new LD(e);return this.Ln={qh:e,jh:r},r}Yh(){var e,r;return((r=(e=this.$h).zOrder)==null?void 0:r.call(e))??"normal"}}class gE{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){var e,r;(r=(e=this.Zh).updateAllViews)==null||r.call(e)}Ys(){var n,i,a;const e=((i=(n=this.Zh).paneViews)==null?void 0:i.call(n))??[];if(((a=this.Kh)==null?void 0:a.qh)===e)return this.Kh.jh;const r=e.map(s=>new BD(s));return this.Kh={qh:e,jh:r},r}Qn(e,r){var n,i;return((i=(n=this.Zh).hitTest)==null?void 0:i.call(n,e,r))??null}}let $D=class extends gE{ds(){return[]}};class FD{constructor(e){this.Hh=e}nt(e,r,n){this.Hh.draw(e,bd)}Uh(e,r,n){var i,a;(a=(i=this.Hh).drawBackground)==null||a.call(i,e,bd)}}class gw{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const r=new FD(e);return this.Ln={qh:e,jh:r},r}Yh(){var e,r;return((r=(e=this.$h).zOrder)==null?void 0:r.call(e))??"normal"}}function yE(t){var e,r,n;return{ri:t.text(),Ei:t.coordinate(),Vi:(e=t.fixedCoordinate)==null?void 0:e.call(t),R:t.textColor(),G:t.backColor(),It:((r=t.visible)==null?void 0:r.call(t))??!0,pi:((n=t.tickVisible)==null?void 0:n.call(t))??!0}}class WD{constructor(e,r){this.Xt=new cE,this.Xh=e,this.Jh=r}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...yE(this.Xh)}),this.Xt}}class UD extends Lh{constructor(e,r){super(),this.Xh=e,this.Ki=r}Yi(e,r,n){const i=yE(this.Xh);n.G=i.G,e.R=i.R;const a=2/12*this.Ki.k();n.Ti=a,n.Ri=a,n.Ei=i.Ei,n.Vi=i.Vi,e.ri=i.ri,e.It=i.It,e.pi=i.pi}}class KD extends gE{constructor(e,r){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=r}fs(){var i,a,s;const e=((a=(i=this.Zh).timeAxisViews)==null?void 0:a.call(i))??[];if(((s=this.Qh)==null?void 0:s.qh)===e)return this.Qh.jh;const r=this.ye.Qt().Et(),n=e.map(l=>new WD(l,r));return this.Qh={qh:e,jh:n},n}Ks(){var i,a,s;const e=((a=(i=this.Zh).priceAxisViews)==null?void 0:a.call(i))??[];if(((s=this.ta)==null?void 0:s.qh)===e)return this.ta.jh;const r=this.ye.Ft(),n=e.map(l=>new UD(l,r));return this.ta={qh:e,jh:n},n}na(){var n,i,a;const e=((i=(n=this.Zh).priceAxisPaneViews)==null?void 0:i.call(n))??[];if(((a=this.ia)==null?void 0:a.qh)===e)return this.ia.jh;const r=e.map(s=>new gw(s));return this.ia={qh:e,jh:r},r}ea(){var n,i,a;const e=((i=(n=this.Zh).timeAxisPaneViews)==null?void 0:i.call(n))??[];if(((a=this.sa)==null?void 0:a.qh)===e)return this.sa.jh;const r=e.map(s=>new gw(s));return this.sa={qh:e,jh:r},r}ra(e,r){var n,i;return((i=(n=this.Zh).autoscaleInfo)==null?void 0:i.call(n,e,r))??null}}function xm(t,e,r,n){t.forEach(i=>{e(i).forEach(a=>{a.Yh()===r&&n.push(a)})})}function bm(t){return t.Ys()}function VD(t){return t.na()}function HD(t){return t.ea()}const YD=["Area","Line","Baseline"];class Fh extends ID{constructor(e,r,n,i,a){super(e),this.jt=_m(),this._r=new PD(this),this.ha=[],this.aa=new wD(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new zD,this.da=new Map,this.fa=null,this.Ps=n,this.pa=r;const s=new MD(this);if(this.gs=[s],this.ur=new pE(s,this,e),YD.includes(this.pa)&&(this.la=new kD(this)),this.va(),this.$h=i(this,this.Qt(),a),this.pa==="Custom"){const l=this.$h;l.ma&&this.wa(l.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const r={Be:!0},n=this.Ft();if(this.Qt().Et().Gi()||n.Gi()||this.jt.Gi())return r;const i=this.Qt().Et().Ie(),a=this.Lt();if(i===null||a===null)return r;let s,l;if(e){const h=this.jt.Ch();if(h===null)return r;s=h,l=h.js}else{const h=this.jt.$s(i.bi(),-1);if(h===null||(s=this.jt.ph(h.js),s===null))return r;l=h.js}const u=s.Wt[3],c=this.ga().gh(l,{Wt:s}),d=n.Nt(u,a.Wt);return{Be:!1,gt:u,ri:n.Ji(u,a.Wt),Ue:n.Ma(u),$e:n.ba(u,a.Wt),R:c.th,Ei:d,js:l}}ga(){return this.oa!==null||(this.oa=new RD(this)),this.oa}N(){return this.Ps}cr(e){const r=this.Qt(),{priceScaleId:n,visible:i,priceFormat:a}=e;n!==void 0&&n!==this.Ps.priceScaleId&&r.Sa(this,n),i!==void 0&&i!==this.Ps.visible&&r.xa();const s=e.conflationThresholdFactor!==void 0;Nr(this.Ps,e),s&&(this.da.clear(),this.Qt().dr()),a!==void 0&&(this.va(),r.Ca()),r.ya(this),r.ka(),this.$h.kt("options")}ht(e,r){this.jt.ht(e),this.da.clear();const n=this.Qt().Et().N();n.enableConflation&&n.precomputeConflationOnInit&&this.Pa(n.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(r&&r.Ta?this.la.Pe():e.length===0&&this.la.ke());const i=this.Qt().Kn(this);this.Qt().Ra(i),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const r=new TD(this,e);return this.ha.push(r),this.Qt().ya(this),r}Ia(e){const r=this.ha.indexOf(e);r!==-1&&this.ha.splice(r,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const r=e.Aa();return this.jt.$s(r,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const r=this.za();if(!this.da.has(r))return;const n=this.pa==="Custom",i=n&&this.fa||void 0,a=n&&this.$h.Oa?u=>{const c=u,d=this.$h.Oa(c);return Array.isArray(d)?d:[typeof d=="number"?d:0]}:void 0,s=this.ca.kr(this.jt.Dh(),e,r,i,n,a),l=_m();l.ht(s),this.da.set(r,l)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const r=this.za(),n=this.da.get(r);return n||(this.Fa(r),this.da.get(r)??this.jt)}Wa(e){const r=this.jt.ph(e);return r===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:r.Wt[0],Ur:r.Wt[1],$r:r.Wt[2],qr:r.Wt[3]}:r.Wt[3]}Ha(e){const r=[];xm(this.ua,bm,"top",r);const n=this.la;return n!==null&&n.It()&&(this._a===null&&n.Re()&&(this._a=setTimeout(()=>{this._a=null,this.Qt().Ua()},0)),n.Te(),r.unshift(n)),r}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const r=this.ha.map(n=>n.pr());return e.push(...r),xm(this.ua,bm,"normal",e),e}qa(){return this.ja(bm,"bottom")}Ya(e){return this.ja(VD,e)}Ka(e){return this.ja(HD,e)}Za(e,r){return this.ua.map(n=>n.Qn(e,r)).filter(n=>n!==null)}ds(){return[this.ur,...this.ha.map(e=>e.vr())]}Ks(e,r){if(r!==this.hs&&!this.$a())return[];const n=[...this.gs];for(const i of this.ha)n.push(i.mr());return this.ua.forEach(i=>{n.push(...i.Ks())}),n}fs(){const e=[];return this.ua.forEach(r=>{e.push(...r.fs())}),e}ra(e,r){if(this.Ps.autoscaleInfoProvider!==void 0){const n=this.Ps.autoscaleInfoProvider(()=>{const i=this.Ga(e,r);return i===null?null:i.tr()});return xd.ir(n)}return this.Ga(e,r)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){var e;this.$h.kt();for(const r of this.gs)r.kt();for(const r of this.ha)r.kt();this._r.kt(),this.aa.kt(),(e=this.la)==null||e.kt(),this.ua.forEach(r=>r.Ws())}Ft(){return Q(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const r=this.jt.ph(e);return r===null?null:{gt:r.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new KD(e,this))}el(e){this.ua=this.ua.filter(r=>r.Gh()!==e)}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!Bh(this.Ft().ol())}Ga(e,r){if(!Rl(e)||!Rl(r)||this.jt.Gi())return null;const n=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],i=this.jt.Ih(e,r,n);let a=i!==null?new sr(i.Fh,i.Wh):null,s=null;if(this.wh()==="Histogram"){const l=this.Ps.base,u=new sr(l,l);a=a!==null?a.Sn(u):u}return this.ua.forEach(l=>{const u=l.ra(e,r);if(u!=null&&u.priceRange){const c=new sr(u.priceRange.minValue,u.priceRange.maxValue);a=a!==null?a.Sn(c):c}u!=null&&u.margins&&(s=u.margins)}),new xd(a,s)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const r=this.Ps.crosshairMarkerBackgroundColor;if(r.length!==0)return r}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(r=>r.map(e))};break}case"volume":this.Ja=new yD(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new fE(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new $h(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,r){const n=[];return xm(this.ua,e,r,n),n}za(){const{ul:e,cl:r,dl:n}=this.fl();return this.ca.gr(e,r,n)}fl(){const e=this.Qt().Et(),r=e.ul(),n=window.devicePixelRatio||1,i=e.N().conflationThresholdFactor;return{ul:r,cl:n,dl:this.Ps.conflationThresholdFactor??i??1}}pl(e){const r=this.jt.Dh();let n;if(this.pa==="Custom"&&this.fa!==null){const a=this.rl();if(!a)throw new Error(ED);n=this.ca.Mr(r,e,this.fa,!0,s=>a(s))}else n=this.ca.Mr(r,e);const i=_m();return i.ht(n),i}Fa(e){const r=this.pl(e);this.da.set(e,r)}Pa(e){var n;if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const r=this.Qt().Et().vl();for(const i of r){const a=()=>{this.ml(i)},s=typeof window=="object"&&window||typeof self=="object"&&self;(n=s==null?void 0:s.gl)!=null&&n.wl?s.gl.wl(()=>{a()},{Ml:e}):Promise.resolve().then(()=>a())}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const r=this.pl(e);this.da.set(e,r)}}const GD=[3],XD=[0,1,2,3];class qD{constructor(e){this.Ps=e}bl(e,r,n){let i=e;if(this.Ps.mode===0)return i;const a=n.Rs(),s=a.Lt();if(s===null)return i;const l=a.Nt(e,s),u=n.Sl().filter(d=>d instanceof Fh).reduce((d,h)=>{if(n.Zn(h)||!h.It())return d;const f=h.Ft(),m=h.qs();if(f.Gi()||!m.Ee(r))return d;const g=m.ph(r);if(g===null)return d;const y=Li(h.Lt()),x=this.Ps.mode===3?XD:GD;return d.concat(x.map(_=>f.Nt(g.Wt[_],y.Wt)))},[]);if(u.length===0)return i;u.sort((d,h)=>Math.abs(d-l)-Math.abs(h-l));const c=u[0];return i=a.Ds(c,s),i}}function hl(t,e,r){return Math.min(Math.max(t,e),r)}function rc(t,e,r){return e-t<=r}function s_(t){const e=Math.ceil(t);return e%2==0?e-1:e}class ZD extends Za{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.jt===null)return;const a=Math.max(1,Math.floor(n));e.lineWidth=a,function(s,l){s.save(),s.lineWidth%2&&s.translate(.5,.5),l(),s.restore()}(e,()=>{const s=Q(this.jt);if(s.xl){e.strokeStyle=s.Cl,Da(e,s.yl),e.beginPath();for(const l of s.kl){const u=Math.round(l.Pl*n);e.moveTo(u,-a),e.lineTo(u,r.height+a)}e.stroke()}if(s.Tl){e.strokeStyle=s.Rl,Da(e,s.Dl),e.beginPath();for(const l of s.Il){const u=Math.round(l.Pl*i);e.moveTo(-a,u),e.lineTo(r.width+a,u)}e.stroke()}})}}class QD{constructor(e){this.Xt=new ZD,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,r={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map(n=>({Pl:n.coord}))};this.Xt.ht(r),this.xt=!1}return this.Xt}}class JD{constructor(e){this.$h=new QD(e)}pr(){return this.$h}}const wm={Bl:4,El:1e-4};function bs(t,e){const r=100*(t-e)/e;return e<0?-r:r}function eL(t,e){const r=bs(t.Ze(),e),n=bs(t.Ge(),e);return new sr(r,n)}function fl(t,e){const r=100*(t-e)/e+100;return e<0?-r:r}function tL(t,e){const r=fl(t.Ze(),e),n=fl(t.Ge(),e);return new sr(r,n)}function wd(t,e){const r=Math.abs(t);if(r<1e-15)return 0;const n=Math.log10(r+e.El)+e.Bl;return t<0?-n:n}function pl(t,e){const r=Math.abs(t);if(r<1e-15)return 0;const n=Math.pow(10,r-e.Bl)-e.El;return t<0?-n:n}function Lo(t,e){if(t===null)return null;const r=wd(t.Ze(),e),n=wd(t.Ge(),e);return new sr(r,n)}function ws(t,e){if(t===null)return null;const r=pl(t.Ze(),e),n=pl(t.Ge(),e);return new sr(r,n)}function Sm(t){if(t===null)return wm;const e=Math.abs(t.Ge()-t.Ze());if(e>=1||e<1e-15)return wm;const r=Math.ceil(Math.abs(Math.log10(e))),n=wm.Bl+r;return{Bl:n,El:1/Math.pow(10,n)}}class jm{constructor(e,r){if(this.Al=e,this.Ll=r,function(n){if(n<0)return!1;if(n>1e18)return!0;for(let i=n;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let n=this.Al;n!==1;){if(n%2==0)this.zl.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),n/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,r,n){const i=this.Al===0?0:1/this.Al;let a=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-r)))),s=0,l=this.Ll[0];for(;;){const h=rc(a,i,1e-14)&&a>i+1e-14,f=rc(a,n*l,1e-14),m=rc(a,1,1e-14);if(!(h&&f&&m))break;a/=l,l=this.Ll[++s%this.Ll.length]}if(a<=i+1e-14&&(a=i),a=Math.max(1,a),this.zl.length>0&&(u=a,c=1,d=1e-14,Math.abs(u-c)<d))for(s=0,l=this.zl[0];rc(a,n*l,1e-14)&&a>i+1e-14;)a/=l,l=this.zl[++s%this.zl.length];var u,c,d;return a}}class yw{constructor(e,r,n,i){this.Nl=[],this.Ki=e,this.Al=r,this.Fl=n,this.Wl=i}Ol(e,r){if(e<r)throw new Error("high < low");const n=this.Ki.$t(),i=(e-r)*this.Hl()/n,a=new jm(this.Al,[2,2.5,2]),s=new jm(this.Al,[2,2,2.5]),l=new jm(this.Al,[2.5,2,2]),u=[];return u.push(a.Ol(e,r,i),s.Ol(e,r,i),l.Ol(e,r,i)),function(c){if(c.length<1)throw Error("array is empty");let d=c[0];for(let h=1;h<c.length;++h)c[h]<d&&(d=c[h]);return d}(u)}Ul(){const e=this.Ki,r=e.Lt();if(r===null)return void(this.Nl=[]);const n=e.$t(),i=this.Fl(n-1,r),a=this.Fl(0,r),s=this.Ki.N().entireTextOnly?this.$l()/2:0,l=s,u=n-1-s,c=Math.max(i,a),d=Math.min(i,a);if(c===d)return void(this.Nl=[]);const h=this.Ol(c,d);if(this.ql(r,h,c,d,l,u),e.jl()&&this.Yl(h,d,c)){const g=this.Ki.Kl();this.Zl(r,h,l,u,g,2*g)}const f=this.Nl.map(g=>g.Gl),m=this.Ki.Xl(f);for(let g=0;g<this.Nl.length;g++)this.Nl[g].Jl=m[g]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,r,n,i,a,s){const l=this.Nl,u=this.Ki;let c=n%r;c+=c<0?r:0;const d=n>=i?1:-1;let h=null,f=0;for(let m=n-c;m>i;m-=r){const g=this.Wl(m,e,!0);h!==null&&Math.abs(g-h)<this.Hl()||g<a||g>s||(f<l.length?(l[f].Pl=g,l[f].Jl=u.Ql(m),l[f].Gl=m):l.push({Pl:g,Jl:u.Ql(m),Gl:m}),f++,h=g,u.io()&&(r=this.Ol(m*d,i)))}l.length=f}Zl(e,r,n,i,a,s){const l=this.Nl,u=this.so(e,n,a,s),c=this.so(e,i,-s,-a),d=this.Wl(0,e,!0)-this.Wl(r,e,!0);l.length>0&&l[0].Pl-u.Pl<d/2&&l.shift(),l.length>0&&c.Pl-l[l.length-1].Pl<d/2&&l.pop(),l.unshift(u),l.push(c)}so(e,r,n,i){const a=(n+i)/2,s=this.Fl(r+n,e),l=this.Fl(r+i,e),u=Math.min(s,l),c=Math.max(s,l),d=Math.max(.1,this.Ol(c,u)),h=this.Fl(r+a,e),f=h-h%d,m=this.Wl(f,e,!0);return{Jl:this.Ki.Ql(f),Pl:m,Gl:f}}Yl(e,r,n){let i=Li(this.Ki.er());return this.Ki.io()&&(i=ws(i,this.Ki.no())),i.Ze()-r<e&&n-i.Ge()<e}}function _E(t){return t.slice().sort((e,r)=>Q(e._s())-Q(r._s()))}var _w;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(_w||(_w={}));const xw=new fE,bw=new $h(100,1);class rL{constructor(e,r,n,i,a){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new ft,this.fo=new ft,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=bw,this.So=Sm(null),this.xo=e,this.Ps=r,this.Co=n,this.yo=i,this.ko=a,this.Po=new yw(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(Nr(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const r=jr(e.scaleMargins.top),n=jr(e.scaleMargins.bottom);if(r<0||r>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${r}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(r+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${r+n}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const r=this.ae();let n=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),r.ae===1&&e.ae!==r.ae&&(function(a,s){if(a===null)return!1;const l=pl(a.Ze(),s),u=pl(a.Ge(),s);return isFinite(l)&&isFinite(u)}(this.sr,this.So)?(n=ws(this.sr,this.So),n!==null&&this.Lo(n)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==r.ae&&(n=Lo(this.sr,this.So),n!==null&&this.Lo(n));const i=r.ae!==this.Ps.mode;i&&(r.ae===2||this.He())&&this._l(),i&&(r.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&r.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(r,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,r){const n=this.sr;(r||n===null&&e!==null||n!==null&&!n.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,r){return this.He()?e=bs(e,r):this.Eo()&&(e=fl(e,r)),this.Ro(e,r)}Yo(e,r,n){this.Uo();const i=this.Ho(),a=Q(this.er()),s=a.Ze(),l=a.Ge(),u=this.Fo()-1,c=this.Ao(),d=u/(l-s),h=n===void 0?0:n.from,f=n===void 0?e.length:n.to,m=this.Ko();for(let g=h;g<f;g++){const y=e[g],x=y.gt;if(isNaN(x))continue;let _=x;m!==null&&(_=m(y.gt,r));const b=i+d*(_-s),S=c?b:this.eo-1-b;y.ut=S}}Zo(e,r,n){this.Uo();const i=this.Ho(),a=Q(this.er()),s=a.Ze(),l=a.Ge(),u=this.Fo()-1,c=this.Ao(),d=u/(l-s),h=n===void 0?0:n.from,f=n===void 0?e.length:n.to,m=this.Ko();for(let g=h;g<f;g++){const y=e[g];let x=y.Hr,_=y.Ur,b=y.$r,S=y.qr;m!==null&&(x=m(y.Hr,r),_=m(y.Ur,r),b=m(y.$r,r),S=m(y.qr,r));let k=i+d*(x-s),p=c?k:this.eo-1-k;y.Go=p,k=i+d*(_-s),p=c?k:this.eo-1-k,y.Xo=p,k=i+d*(b-s),p=c?k:this.eo-1-k,y.Jo=p,k=i+d*(S-s),p=c?k:this.eo-1-k,y.Qo=p}}Ds(e,r){const n=this.To(e,r);return this.t_(n,r)}t_(e,r){let n=e;return this.He()?n=function(i,a){return a<0&&(i=-i),i/100*a+a}(n,r):this.Eo()&&(n=function(i,a){return i-=100,a<0&&(i=-i),i/100*a+a}(n,r)),n}Sl(){return this.po}Dt(){return this.mo||(this.mo=_E(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const r=this.po.indexOf(e);if(r===-1)throw new Error("source is not attached to scale");this.po.splice(r,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const r of this.po){const n=r.Lt();n!==null&&(e===null||n.Ea<e.Ea)&&(e=n)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const r=this.Po.Vl();return this.wo={Vl:r,e_:e},this.do.p(),r}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=Q(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let r=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const n=Q(this.ho).Ke();r=Math.max(r,.1),n.Je(r),this.Lo(n)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=Q(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const r=Q(this.er()).Xe()/(this.Fo()-1);let n=e-this.bo;this.Ao()&&(n*=-1);const i=n*r,a=Q(this.ho).Ke();a.Qe(i),this.Lo(a,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,r){switch(this.Ps.mode){case 2:return this.c_(bs(e,r));case 3:return this.Xa().format(fl(e,r));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,Q(this.vo).Xa())}ba(e,r){return e=bs(e,r),this.c_(e,xw)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach(e=>e.Ws())}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const n of this.po)n._s()<e&&(e=n._s(),this.vo=n);let r=100;this.vo!==null&&(r=Math.round(this.vo.qh())),this.Ja=bw,this.He()?(this.Ja=xw,r=100):this.Eo()?(this.Ja=new $h(100,1),r=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new yw(this,r,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,r){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?wd(e,this.So):e;const n=Q(this.er()),i=this.Ho()+(this.Fo()-1)*(e-n.Ze())/n.Xe();return this.jo(i)}To(e,r){if(this.Uo(),this.Gi())return 0;const n=this.jo(e),i=Q(this.er()),a=i.Ze()+i.Xe()*((n-this.Ho())/(this.Fo()-1));return this.io()?pl(a,this.So):a}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let r=null;const n=this.p_();let i=0,a=0;for(const u of n){if(!u.It())continue;const c=u.Lt();if(c===null)continue;const d=u.ra(e.Aa(),e.bi());let h=d&&d.er();if(h!==null){switch(this.Ps.mode){case 1:h=Lo(h,this.So);break;case 2:h=eL(h,c.Wt);break;case 3:h=tL(h,c.Wt)}if(r=r===null?h:r.Sn(Q(h)),d!==null){const f=d.rr();f!==null&&(i=Math.max(i,f.above),a=Math.max(a,f.below))}}}if(this.jl()&&(i=Math.max(i,this.Kl()),a=Math.max(a,this.Kl())),i===this.uo&&a===this.co||(this.uo=i,this.co=a,this.wo=null,this.Io()),r!==null){if(r.Ze()===r.Ge()){const u=5*this.m_();this.io()&&(r=ws(r,this.So)),r=new sr(r.Ze()-u,r.Ge()+u),this.io()&&(r=Lo(r,this.So))}if(this.io()){const u=ws(r,this.So),c=Sm(u);if(s=c,l=this.So,s.Bl!==l.Bl||s.El!==l.El){const d=this.ho!==null?ws(this.ho,this.So):null;this.So=c,r=Lo(u,c),d!==null&&(this.ho=Lo(d,c))}}this.Lo(r)}else this.sr===null&&(this.Lo(new sr(-.5,.5)),this.So=Sm(null));var s,l}Ko(){return this.He()?bs:this.Eo()?fl:this.io()?e=>wd(e,this.So):null}g_(e,r,n){return r===void 0?(n===void 0&&(n=this.Xa()),n.format(e)):r(e)}M_(e,r,n){return r===void 0?(n===void 0&&(n=this.Xa()),n.formatTickmarks(e)):r(e)}lr(e,r){return this.g_(e,this.yo.priceFormatter,r)}f_(e,r){const n=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(n?i=>i.map(n):void 0),r)}c_(e,r){return this.g_(e,this.yo.percentageFormatter,r)}d_(e,r){const n=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(n?i=>i.map(n):void 0),r)}}function ww(t){return t instanceof Fh}class Sw{constructor(e,r){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new ft,this.ua=[],this.Jh=e,this.ns=r,this.k_=new JD(this);const n=r.N();this.P_=this.T_("left",n.leftPriceScale),this.R_=this.T_("right",n.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(n)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const r=Array.from(this.b_.values());for(const n of r){const i=Q(n[0].Ft());i.cr(e.overlayPriceScales),e.localization&&i._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?jr(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach(e=>{e.m&&e.m()}),this.ua=this.ua.filter(e=>{const r=e.Gh();return r.detached&&r.detached(),!1}),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach(r=>{if(this.Zn(r)){const n=r.Ft();n!==null&&n.No(e)}}),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(ww)}Sl(){return this.po}Zn(e){const r=e.Ft();return r===null||this.P_!==r&&this.R_!==r}i_(e,r,n){this.W_(e,r,n?e._s():this.po.length)}n_(e,r){const n=this.po.indexOf(e);Ft(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1),r||this.po.forEach((s,l)=>s.us(l));const i=Q(e.Ft()).ol();if(this.b_.has(i)){const s=jr(this.b_.get(i)),l=s.indexOf(e);l!==-1&&(s.splice(l,1),s.length===0&&this.b_.delete(i))}const a=e.Ft();a&&a.Sl().indexOf(e)>=0&&(a.n_(e),this.H_(a)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,r){e.h_(r)}Y_(e,r){e.a_(r),this.z_()}K_(e){e.l_()}Z_(e,r){e.o_(r)}G_(e,r){e.__(r),this.z_()}X_(e){e.u_()}z_(){this.po.forEach(e=>{e.Ws()})}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const r=this.Jh.Ie();e.Do({ln:!0}),r!==null&&e.v_(r),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach(e=>{this.Zn(e)&&this.H_(e.Ft())}),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=_E(this.po)),this.mo}su(e,r){r=hl(r,0,this.po.length-1);const n=this.po.indexOf(e);Ft(n!==-1,"setSeriesOrder: invalid data source"),this.po.splice(n,1),this.po.splice(r,0,e),this.po.forEach((i,a)=>i.us(a)),this.mo=null;for(const i of[this.P_,this.R_])i.s_(),i._l();this.ns.dr()}Vt(){return this.Dt().filter(ww)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new $D(e))}el(e){this.ua=this.ua.filter(r=>r.Gh()!==e),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,r){return this.ua.map(n=>n.Qn(e,r)).filter(n=>n!==null)}J_(e){const r=e.p_();if(r&&r.length>0&&!this.Jh.Gi()){const n=this.Jh.Ie();n!==null&&e.v_(n)}e.Ws()}W_(e,r,n){let i=this.V_(r);if(i===null&&(i=this.T_(r,this.ns.N().overlayPriceScales)),this.po.splice(n,0,e),!Bh(r)){const a=this.b_.get(r)||[];a.push(e),this.b_.set(r,a)}e.us(n),i.i_(e),e.cs(i),this.H_(i),this.mo=null}D_(e,r,n){r.ae!==n.ae&&this.J_(e)}T_(e,r){const n={visible:!0,autoScale:!0,...Qn(r)},i=new rL(e,n,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return i.No(this.$t()),i}}function nc(t){return{hu:t.hu,au:{te:t.lu.externalId},ou:t.lu.cursorStyle}}function nL(t,e,r,n){for(const i of t){const a=i.Tt(n);if(a!==null&&a.Qn){const s=a.Qn(e,r);if(s!==null)return{_u:i,au:s}}}return null}function iL(t){return t.Ys!==void 0}function xE(t,e,r){const n=[t,...t.Dt()],i=function(a,s,l){var f;let u,c;for(const m of a){const g=((f=m.Za)==null?void 0:f.call(m,s,l))??[];for(const y of g)d=y.zOrder,h=u==null?void 0:u.zOrder,(!h||d==="top"&&h!=="top"||d==="normal"&&h==="bottom")&&(u=y,c=m)}var d,h;return u&&c?{lu:u,hu:c}:null}(n,e,r);if((i==null?void 0:i.lu.zOrder)==="top")return nc(i);for(const a of n){if(i&&i.hu===a&&i.lu.zOrder!=="bottom"&&!i.lu.isBackground)return nc(i);if(iL(a)){const s=nL(a.Ys(t),e,r,t);if(s!==null)return{hu:a,_u:s._u,au:s.au}}if(i&&i.hu===a&&i.lu.zOrder!=="bottom"&&i.lu.isBackground)return nc(i)}return i!=null&&i.lu?nc(i):null}class aL{constructor(e,r,n=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=r,this.zn=n}du(e){const r=e.time,n=this.cu.cacheKey(r),i=this.Ln.get(n);if(i!==void 0)return i.fu;if(this.Vn===this.zn){const s=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(jr(s)),this.En++,this.Vn--}const a=this.uu(e);return this.Ln.set(n,{fu:a,Wn:this.Bn}),this.An.set(this.Bn,n),this.Vn++,this.Bn++,a}}class zs{constructor(e,r){Ft(e<=r,"right should be >= left"),this.pu=e,this.vu=r}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function jw(t,e){return t===null||e===null?t===e:t.Ye(e)}class sL{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,r){this.Su(r),this.Ln=null;for(let n=r;n<e.length;++n){const i=e[n];let a=this.wu.get(i.timeWeight);a===void 0&&(a=[],this.wu.set(i.timeWeight,a)),a.push({index:n,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}xu(e,r,n,i,a){const s=Math.ceil(r/e);return this.Ln!==null&&this.Ln.Cu===s&&a===this.Ln.yu&&n===this.Ln.ku||(this.Ln={yu:a,ku:n,Vl:this.Pu(s,n,i),Cu:s}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const r=[];this.wu.forEach((n,i)=>{e<=n[0].index?r.push(i):n.splice(Vs(n,e,a=>a.index<e),1/0)});for(const n of r)this.wu.delete(n)}Pu(e,r,n){let i=[];const a=s=>!r||n.has(s.index);for(const s of Array.from(this.wu.keys()).sort((l,u)=>u-l)){if(!this.wu.get(s))continue;const l=i;i=[];const u=l.length;let c=0;const d=jr(this.wu.get(s)),h=d.length;let f=1/0,m=-1/0;for(let g=0;g<h;g++){const y=d[g],x=y.index;for(;c<u;){const _=l[c],b=_.index;if(!(b<x&&a(_))){f=b;break}c++,i.push(_),m=b,f=1/0}if(f-x>=e&&x-m>=e&&a(y))i.push(y),m=x;else if(this.gu)return l}for(;c<u;c++)a(l[c])&&i.push(l[c])}return i}}class Is{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new zs(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new Is(null)}}function oL(t,e){return t.weight>e.weight?t:e}class lL{constructor(e,r,n,i){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new sL,this.Au=new Map,this.Lu=Is.Iu(),this.zu=!0,this.Ou=new ft,this.Nu=new ft,this.Fu=new ft,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=r,this.yo=n,this.Yu=r.rightOffset,this.Ku=r.barSpacing,this.ns=e,this.Zu(r),this.cu=i,this.Gu(),this.Eu.Mu(r.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){Nr(this.yo,e),this.tc(),this.Gu()}cr(e,r){Nr(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){var r;return((r=this.Bu[e])==null?void 0:r.time)??null}es(e){return this.Bu[e]??null}ec(e,r){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return r?this.Bu.length-1:null;const n=Vs(this.Bu,this.cu.key(e),(i,a)=>this.cu.key(i.time)<a);return this.cu.key(e)<this.cu.key(this.Bu[n].time)?r?n:null:n}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const r={from:e.Aa(),to:e.bi()};return this.oc(r)}oc(e){const r=Math.round(e.from),n=Math.round(e.to),i=Q(this._c()),a=Q(this.uc());return{from:Q(this.es(Math.max(i,r))),to:Q(this.es(Math.min(a,n)))}}cc(e){return{from:Q(this.ec(e.from,!0)),to:Q(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const r=this.ac(),n=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&n!==0){const i=this.Ku*e/n;this.Ku=i}if(this.Ps.fixLeftEdge&&r!==null&&r.Aa()<=0){const i=n-e;this.Yu-=Math.round(i/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!Rl(e))return 0;const r=this.vc()+this.Yu-e;return this.S_-(r+.5)*this.Ku-1}mc(e,r){const n=this.vc(),i=r===void 0?0:r.from,a=r===void 0?e.length:r.to;for(let s=i;s<a;s++){const l=e[s].wt,u=n+this.Yu-l,c=this.S_-(u+.5)*this.Ku-1;e[s]._t=c}}wc(e,r){const n=Math.ceil(this.gc(e));return r&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(n)?this.bc(n):n}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const r=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&r!==0){const n=this.Yu*r/this.Ku;this.Yu=n}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,r=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(r/e),i=Q(this.Ie()),a=Math.max(i.Aa(),i.Aa()-n),s=Math.max(i.bi(),i.bi()-n),l=this.Eu.xu(e,r,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),u=this._c()+n,c=this.uc()-n,d=this.yc(),h=this.Ps.fixLeftEdge||d,f=this.Ps.fixRightEdge||d;let m=0;for(const g of l){if(!(a<=g.index&&g.index<=s))continue;let y;m<this.qu.length?(y=this.qu[m],y.coord=this.qt(g.index),y.label=this.kc(g),y.weight=g.weight):(y={needAlignCoordinate:!1,coord:this.qt(g.index),label:this.kc(g),weight:g.weight},this.qu.push(y)),this.Ku>r/2&&!d?y.needAlignCoordinate=!1:y.needAlignCoordinate=h&&g.index<=u||f&&g.index>=c,m++}return this.qu.length=m,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,r){const n=this.gc(e),i=this.ul(),a=i+r*(i/10);this.gn(a),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(n-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const r=hl(this.S_-e,0,this.S_),n=hl(this.S_-Q(this.Mo),0,this.S_);r!==0&&n!==0&&this.gn(this.Wu.ul*r/n)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const r=(this.bo-e)/this.ul();this.Yu=Q(this.Wu).Cc+r,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,r=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(r)||r<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.Yu,i=performance.now();this.ns.vn({Ec:a=>(a-i)/r>=1,Ac:a=>{const s=(a-i)/r;return s>=1?e:n+(e-n)*s}})}kt(e,r){this.zu=!0,this.Bu=e,this.Eu.bu(e,r),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,r){const n=e.mu(),i=r&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-i)/n),this.Yu=e.bi()-this.vc(),r&&(this.Yu=i?i/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),r=this.uc();if(e===null||r===null)return;const n=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new zs(e,r+n),!0)}Wc(e){const r=new zs(e.from,e.to);this.Nc(r)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const r of e)for(const n of r.ll())this.Uu.set(n,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),r=this.Ps.minBarSpacing;if(r>=e)return[1];const n=[1];let i=2;for(;i<=512;)r<e/i&&n.push(i),i*=2;return n}yc(){const e=this.ns.N().handleScroll,r=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||r.axisDoubleClickReset.time||r.axisPressedMouseMove.time||r.mouseWheel||r.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const r=this.Uc(e),n=this.vc()+this.Yu-r;return Math.round(1e6*n)/1e6}xc(e){const r=this.Ku;this.Ku=e,this.dc(),r!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(Is.Iu());const e=this.vc(),r=this.S_/this.Ku,n=this.Yu+e,i=new zs(n-r+1,n);this.qc(new Is(i))}dc(){const e=hl(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const r=e/this.Ku,n=Math.pow(2,Math.floor(Math.log2(r)));this.ju=Math.min(n,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const r=this.Zc();this.Yu>r&&(this.Yu=r,this.zu=!0)}Kc(){const e=this._c(),r=this.Vu;return e===null||r===null?null:e-r-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let r=this.Au.get(e.weight);return r===void 0&&(r=new aL(n=>this.Gc(n),this.cu),this.Au.set(e.weight,r)),r.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const r=this.Lu;this.Lu=e,jw(r.Ru(),this.Lu.Ru())||this.Ou.p(),jw(r.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const r=this.Ie();if(r===null)return;const n=r.Aa()-e;if(n<0){const i=this.Yu-n-1;this.Mn(i)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const r=function*(i){const a=Math.round(i),s=a<i;let l=1;for(;;)s?(yield a+l,yield a-l):(yield a-l,yield a+l),l++}(e),n=this.uc();for(;n;){const i=r.next().value;if(this.Uu.get(i))return i;if(i<0||i>n)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const r=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(r)}}}var kw,Pw,Mw,Cw,Ew;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(kw||(kw={}));class uL{constructor(e,r,n){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new ft,this.nd=new ft,this.ed=null,this.rd=e,this.Ps=r,this.cu=n,this.ko=new aD(this.Ps.layout.colorParsers),this.hd=new iD(this),this.Jh=new lL(this,r.timeScale,this.Ps.localization,n),this.Ct=new gD(this,r.crosshair),this.ad=new qD(r.crosshair),r.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(Bt.yn())}dr(){this.dd(Bt.Cn())}Ua(){this.dd(new Bt(1))}ya(e){const r=this.fd(e);this.dd(r)}pd(){return this.td}vd(e){var n,i,a,s;if(((n=this.td)==null?void 0:n.hu)===(e==null?void 0:e.hu)&&((a=(i=this.td)==null?void 0:i.au)==null?void 0:a.te)===((s=e==null?void 0:e.au)==null?void 0:s.te))return;const r=this.td;this.td=e,r!==null&&this.ya(r.hu),e!==null&&e.hu!==(r==null?void 0:r.hu)&&this.ya(e.hu)}N(){return this.Ps}cr(e){Nr(this.Ps,e),this.Xc.forEach(r=>r.I_(e)),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,r,n=0){const i=this.Xc[n];if(i===void 0)return;if(e==="left")return Nr(this.Ps,{leftPriceScale:r}),i.I_({leftPriceScale:r}),this.sd.p(),void this.Ca();if(e==="right")return Nr(this.Ps,{rightPriceScale:r}),i.I_({rightPriceScale:r}),this.sd.p(),void this.Ca();const a=this.wd(e,n);a!==null&&(a.Ft.cr(r),this.sd.p())}wd(e,r){const n=this.Xc[r];if(n===void 0)return null;const i=n.V_(e);return i!==null?{Gs:n,Ft:i}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,r){e.No(r),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach(r=>r.L_(e)),this.Sc()}Sd(e){this.Xc.length!==1&&(Ft(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,r){if(this.Xc.length<2)return;Ft(e>=0&&e<this.Xc.length,"Invalid pane index");const n=this.Xc[e],i=this.Xc.reduce((h,f)=>h+f.E_(),0),a=this.Xc.reduce((h,f)=>h+f.$t(),0),s=a-30*(this.Xc.length-1);r=Math.min(s,Math.max(30,r));const l=i/a,u=n.$t();n.A_(r*l);let c=r-u,d=this.Xc.length-1;for(const h of this.Xc)if(h!==n){const f=Math.min(s,Math.max(30,h.$t()-c/d));c-=h.$t()-f,d-=1;const m=f*l;h.A_(m)}this.Ca()}Cd(e,r){Ft(e>=0&&e<this.Xc.length&&r>=0&&r<this.Xc.length,"Invalid pane index");const n=this.Xc[e],i=this.Xc[r];this.Xc[e]=i,this.Xc[r]=n,this.Ca()}yd(e,r){if(Ft(e>=0&&e<this.Xc.length&&r>=0&&r<this.Xc.length,"Invalid pane index"),e===r)return;const[n]=this.Xc.splice(e,1);this.Xc.splice(r,0,n),this.Ca()}j_(e,r,n){e.j_(r,n)}Y_(e,r,n){e.Y_(r,n),this.ka(),this.dd(this.kd(e,2))}K_(e,r){e.K_(r),this.dd(this.kd(e,2))}Z_(e,r,n){r.Vo()||e.Z_(r,n)}G_(e,r,n){r.Vo()||(e.G_(r,n),this.ka(),this.dd(this.kd(e,2)))}X_(e,r){r.Vo()||(e.X_(r),this.dd(this.kd(e,2)))}Q_(e,r){e.Q_(r),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,r){const n=this.Et();if(n.Gi()||r===0)return;const i=n.ss();e=Math.max(1,Math.min(e,i)),n.Rc(e,r),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter(e=>e.It())),this.Qc}xa(){this.Qc=null}Ad(e,r,n,i,a){this.Ct.Bs(e,r);let s=NaN,l=this.Jh.wc(e,!0);const u=this.Jh.Ie();u!==null&&(l=Math.min(Math.max(u.Aa(),l),u.bi())),l=this.Ct.Hs(l);const c=i.Rs(),d=c.Lt();if(d!==null&&(s=c.Ds(r,d)),s=this.ad.bl(s,l,i),this.Ct.zs(l,s,i),this.Ua(),!a){const h=xE(i,e,r);this.vd(h&&{hu:h.hu,au:h.au,ou:h.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:r},n)}}Ld(e,r,n){const i=n.Rs(),a=i.Lt(),s=i.Nt(e,Q(a)),l=this.Jh.ec(r,!0),u=this.Jh.qt(Q(l));this.Ad(u,s,null,n,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const r=this.Ct.As(),n=this.Ct.Ls();this.Ad(r,n,null,e)}this.Ct.Ws()}Od(e,r,n){const i=this.Jh.Is(0);r!==void 0&&n!==void 0&&this.Jh.kt(r,n);const a=this.Jh.Is(0),s=this.Jh.vc(),l=this.Jh.Ie();if(l!==null&&i!==null&&a!==null){const u=l.Ee(s),c=this.cu.key(i)>this.cu.key(a),d=e!==null&&e>s&&!c,h=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,f=u&&(n!==void 0||h)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(d&&!f){const m=e-s;this.Jh.Mn(this.Jh.Cc()-m)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if(function(n){return n instanceof Sw}(e))return e;const r=this.Xc.find(n=>n.Dt().includes(e));return r===void 0?null:r}Sc(){this.Xc.forEach(e=>e.iu()),this.ka()}m(){this.Xc.forEach(e=>e.m()),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,r){const n=this.ld(r);this.Wd(e,n),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const r=this.Kn(e),n=this.Jc.indexOf(e);Ft(n!==-1,"Series not found");const i=Q(r);this.Jc.splice(n,1),i.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(i)}Sa(e,r){const n=Q(this.Kn(e));n.n_(e,!0),n.i_(e,r,!0)}Fc(){const e=Bt.Cn();e.cn(),this.dd(e)}$d(e){const r=Bt.Cn();r.pn(e),this.dd(r)}wn(){const e=Bt.Cn();e.wn(),this.dd(e)}gn(e){const r=Bt.Cn();r.gn(e),this.dd(r)}Mn(e){const r=Bt.Cn();r.Mn(e),this.dd(r)}vn(e){const r=Bt.Cn();r.vn(e),this.dd(r)}dn(){const e=Bt.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,r){if(Ft(r>=0,"Index should be greater or equal to 0"),r===this.Yd(e))return;const n=Q(this.Kn(e));n.n_(e);const i=this.ld(r);this.Wd(e,i),n.Sl().length===0&&this.Ud(n),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const r=this.ud,n=this.od;if(r===n)return r;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==n||this.ed.rh!==r)this.ed={eh:n,rh:r,Zd:new Map};else{const a=this.ed.Zd.get(e);if(a!==void 0)return a}const i=this.ko.tt(n,r,e/100);return this.ed.Zd.set(e,i),i}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const r=new Sw(this.Jh,this);this.Xc.push(r);const n=e??this.Xc.length-1,i=Bt.yn();return i.hn(n,{an:0,ln:!0}),this.dd(i),r}ld(e){return Ft(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex(r=>r.F_().includes(e))}kd(e,r){const n=new Bt(r);if(e!==null){const i=this.Xc.indexOf(e);n.hn(i,{an:r})}return n}fd(e,r){return r===void 0&&(r=2),this.kd(this.Kn(e),r)}dd(e){this.rd&&this.rd(e),this.Xc.forEach(r=>r.eu().pr().kt())}Wd(e,r){const n=e.N().priceScaleId,i=n!==void 0?n:this.qd();r.i_(e,i),Bh(i)||e.cr(e.N())}_d(e){const r=this.Ps.layout;return r.background.type==="gradient"?e===0?r.background.topColor:r.background.bottomColor:r.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function bE(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const r=Math.round(t);if(Math.abs(r-t)<1e-8)return e;t*=10}return e}function ig(t){return!La(t)&&!lu(t)}function wE(t){return La(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(Pw||(Pw={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Mw||(Mw={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Cw||(Cw={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Ew||(Ew={}));const Aw=t=>t.getUTCFullYear();function cL(t,e,r){return e.replace(/yyyy/g,(n=>Jn(Aw(n),4))(t)).replace(/yy/g,(n=>Jn(Aw(n)%100,2))(t)).replace(/MMMM/g,((n,i)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,r)).replace(/MMM/g,((n,i)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,r)).replace(/MM/g,(n=>Jn((i=>i.getUTCMonth()+1)(n),2))(t)).replace(/dd/g,(n=>Jn((i=>i.getUTCDate())(n),2))(t))}class SE{constructor(e="yyyy-MM-dd",r="default"){this.Qd=e,this.tf=r}du(e){return cL(e,this.Qd,this.tf)}}class dL{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Jn(e.getUTCHours(),2)).replace("%m",Jn(e.getUTCMinutes(),2)).replace("%s",Jn(e.getUTCSeconds(),2))}}const hL={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class fL{constructor(e={}){const r={...hL,...e};this.hf=new SE(r.sf,r.rf),this.af=new dL(r.nf),this.lf=r.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function ic(t){return 60*t*60*1e3}function km(t){return 60*t*1e3}const ac=[{_f:(Ow=1,1e3*Ow),uf:10},{_f:km(1),uf:20},{_f:km(5),uf:21},{_f:km(30),uf:22},{_f:ic(1),uf:30},{_f:ic(3),uf:31},{_f:ic(6),uf:32},{_f:ic(12),uf:33}];var Ow;function Tw(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let r=ac.length-1;r>=0;--r)if(Math.floor(e.getTime()/ac[r]._f)!==Math.floor(t.getTime()/ac[r]._f))return ac[r].uf;return 0}function Pm(t){let e=t;if(lu(t)&&(e=o_(t)),!ig(e))throw new Error("time must be of type BusinessDay");const r=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(r.getTime()/1e3),df:e}}function zw(t){if(!wE(t))throw new Error("time must be of type isUTCTimestamp");return{cf:t}}function o_(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Iw(t){lu(t.time)&&(t.time=o_(t.time))}class Nw{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(r){r.forEach(Iw)}(e):Iw(e)}createConverterToInternalObj(e){return Q(function(r){return r.length===0?null:ig(r[0].time)||lu(r[0].time)?Pm:zw}(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const r=e;return r.df===void 0?new Date(1e3*r.cf).getTime():new Date(Date.UTC(r.df.year,r.df.month-1,r.df.day)).getTime()}convertHorzItemToInternal(e){return wE(r=e)?zw(r):ig(r)?Pm(r):Pm(o_(r));var r}updateFormatter(e){if(!this.Ps)return;const r=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new fL({sf:r,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new SE(r,e.locale)}formatHorzItem(e){const r=e;return this.ff.du(new Date(1e3*r.cf))}formatTickmark(e,r){const n=function(a,s,l){switch(a){case 0:case 10:return s?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return s?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),i=this.Ps.timeScale;if(i.tickMarkFormatter!==void 0){const a=i.tickMarkFormatter(e.originalTime,n,r.locale);if(a!==null)return a}return function(a,s,l){const u={};switch(s){case 0:u.year="numeric";break;case 1:u.month="short";break;case 2:u.day="numeric";break;case 3:u.hour12=!1,u.hour="2-digit",u.minute="2-digit";break;case 4:u.hour12=!1,u.hour="2-digit",u.minute="2-digit",u.second="2-digit"}const c=a.df===void 0?new Date(1e3*a.cf):new Date(Date.UTC(a.df.year,a.df.month-1,a.df.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(l,u)}(e.time,n,r.locale)}maxTickMarkWeight(e){let r=e.reduce(oL,e[0]).weight;return r>30&&r<50&&(r=30),r}fillWeightsForPoints(e,r){(function(n,i=0){if(n.length===0)return;let a=i===0?null:n[i-1].time.cf,s=a!==null?new Date(1e3*a):null,l=0;for(let u=i;u<n.length;++u){const c=n[u],d=new Date(1e3*c.time.cf);s!==null&&(c.timeWeight=Tw(d,s)),l+=c.time.cf-(a||c.time.cf),a=c.time.cf,s=d}if(i===0&&n.length>1){const u=Math.ceil(l/(n.length-1)),c=new Date(1e3*(n[0].time.cf-u));n[0].timeWeight=Tw(new Date(1e3*n[0].time.cf),c)}})(e,r)}static pf(e){return Nr({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Hs=typeof window<"u";function Rw(){return!!Hs&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Mm(){return!!Hs&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function ag(t){return t+t%2}function pL(t){Hs&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Wh{constructor(e,r,n){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!Mm(),this.Uf=i=>{this.$f(i)},this.qf=i=>{if(this.jf(i)){const a=this.Yf(i);if(++this.gf,this.Mf&&this.gf>1){const{Kf:s}=this.Zf(Mn(i),this.bf);s<30&&!this.Tf&&this.Gf(a,this.Jf.Xf),this.Qf()}}else{const a=this.Yf(i);if(++this.vf,this.mf&&this.vf>1){const{Kf:s}=this.Zf(Mn(i),this.wf);s<5&&!this.Pf&&this.tp(a,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=r,this.Ps=n,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const r=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",r)},this.np.addEventListener("mousemove",r),this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.op),this.Hf=!0}_p(e){const r=Cm(e.changedTouches,Q(this.Wf));if(r===null||(this.Ff=sc(e),this.Af!==null)||this.Of)return;this.zf=!0;const n=this.Zf(Mn(r),Q(this.yf)),{up:i,cp:a,Kf:s}=n;if(this.kf||!(s<5)){if(!this.kf){const l=.5*i,u=a>=l&&!this.Ps.dp(),c=l>a&&!this.Ps.fp();u||c||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const l=this.Yf(e,r);this.Gf(l,this.Jf.pp),rs(e)}}}vp(e){if(e.button!==0)return;const r=this.Zf(Mn(e),Q(this.Cf)),{Kf:n}=r;if(n>=5&&(this.Pf=!0,this.sp()),this.Pf){const i=this.Yf(e);this.tp(i,this.Jf.mp)}}Zf(e,r){const n=Math.abs(r._t-e._t),i=Math.abs(r.ut-e.ut);return{up:n,cp:i,Kf:n+i}}wp(e){let r=Cm(e.changedTouches,Q(this.Wf));if(r===null&&e.touches.length===0&&(r=e.changedTouches[0]),r===null)return;this.Wf=null,this.Ff=sc(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const n=this.Yf(e,r);if(this.Gf(n,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:i}=this.Zf(Mn(r),this.bf);i<30&&!this.Tf&&this.Gf(n,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(n,this.Jf.Mp),this.Jf.Mp&&rs(e));this.gf===0&&rs(e),e.touches.length===0&&this.xf&&(this.xf=!1,rs(e))}$f(e){if(e.button!==0)return;const r=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),Rw()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(r,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:n}=this.Zf(Mn(e),this.wf);n<5&&!this.Pf&&this.tp(r,this.Jf.ip),this.sp()}else this.Pf||this.tp(r,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const r=e.changedTouches[0];this.Wf=r.identifier,this.Ff=sc(e);const n=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Mn(r),this.Ef&&(this.Ef(),this.Ef=null);{const a=this._p.bind(this),s=this.wp.bind(this);this.Ef=()=>{n.removeEventListener("touchmove",a),n.removeEventListener("touchend",s)},n.addEventListener("touchmove",a,{passive:!1}),n.addEventListener("touchend",s,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const i=this.Yf(e,r);this.Gf(i,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Mn(r))}kp(e){if(e.button!==0)return;const r=this.np.ownerDocument.documentElement;Rw()&&r.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Mn(e),this.Bf&&(this.Bf(),this.Bf=null);{const i=this.vp.bind(this),a=this.$f.bind(this);this.Bf=()=>{r.removeEventListener("mousemove",i),r.removeEventListener("mouseup",a)},r.addEventListener("mousemove",i),r.addEventListener("mouseup",a)}if(this.Nf=!0,this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Mn(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,r=n=>{this.Jf.Tp&&(n.composed&&this.np.contains(n.composedPath()[0])||n.target&&this.np.contains(n.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",r)},this.Rf=()=>{e.removeEventListener("mousedown",r)},e.addEventListener("mousedown",r),e.addEventListener("touchstart",r,{passive:!0})}Mm()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),pL(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",()=>{},{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",e=>this.Ep(e.touches),{passive:!0}),this.np.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const r=Dw(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,r),rs(e)}},{passive:!1}),this.np.addEventListener("touchend",e=>{this.Ep(e.touches)}))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const r=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-r.left+(e[1].clientX-r.left))/2,ut:(e[0].clientY-r.top+(e[1].clientY-r.top))/2},this.Lf=Dw(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const r=this.Yf(e);this.tp(r,this.Jf.zp),this.Hf=!Mm()}Cp(e){const r=Cm(e.touches,Q(this.Wf));if(r===null)return;const n=this.Yf(e,r);this.Gf(n,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:sc(e)<this.Ff+500}Gf(e,r){r&&r.call(this.Jf,e)}tp(e,r){r&&r.call(this.Jf,e)}Yf(e,r){const n=r||e,i=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-i.left,localY:n.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:n.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&rs(e)}}}}function Dw(t,e){const r=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(r*r+n*n)}function rs(t){t.cancelable&&t.preventDefault()}function Mn(t){return{_t:t.pageX,ut:t.pageY}}function sc(t){return t.timeStamp||performance.now()}function Cm(t,e){for(let r=0;r<t.length;++r)if(t[r].identifier===e)return t[r];return null}class mL{constructor(e,r,n){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[r],this.Gp=e.Zp()[n],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return We({width:this.Kp.sv().width,height:1})}nv(){return We({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,r,n){const i=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(r,n,i.width,i.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),r=e.style;r.position="fixed",r.display="none",r.zIndex="49",r.top="0",r.left="0",r.width="100%",r.height="100%",r.cursor="row-resize",this.Jp.appendChild(e);const n=document.createElement("div"),i=n.style;i.position="absolute",i.zIndex="50",i.top="-4px",i.height="9px",i.width="100%",i.backgroundColor="",i.cursor="row-resize",this.Jp.appendChild(n);const a={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new Wh(n,a,{dp:()=>!1,fp:()=>!0}),this.Up={hv:n,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const r=this.Kp.cv().E_()+this.Gp.cv().E_(),n=r/(this.Kp.sv().height+this.Gp.sv().height),i=30*n;r<=2*i||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:r-i,vv:r,mv:n,wv:i},this.Up.rv.style.display="block")}_v(e){const r=this.jp;if(r===null)return;const n=(e.pageY-r.dv)*r.mv,i=hl(r.fv+n,r.wv,r.pv);this.Kp.cv().A_(i),this.Gp.cv().A_(r.vv-i),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function Em(t,e){return t.gv-e.gv}function Am(t,e,r){const n=(t.gv-e.gv)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),r)}class vL{constructor(e,r,n,i){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=r,this.Rv=n,this.kn=i}Dv(e,r){if(this.Mv!==null){if(this.Mv.wt===r)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:r,gv:e}}fe(e,r){if(this.Mv===null||this.bv===null||r-this.Mv.wt>50)return;let n=0;const i=Am(this.Mv,this.bv,this.Tv),a=Em(this.Mv,this.bv),s=[i],l=[a];if(n+=a,this.Sv!==null){const c=Am(this.bv,this.Sv,this.Tv);if(Math.sign(c)===Math.sign(i)){const d=Em(this.bv,this.Sv);if(s.push(c),l.push(d),n+=d,this.xv!==null){const h=Am(this.Sv,this.xv,this.Tv);if(Math.sign(h)===Math.sign(i)){const f=Em(this.Sv,this.xv);s.push(h),l.push(f),n+=f}}}}let u=0;for(let c=0;c<s.length;++c)u+=l[c]/n*s[c];Math.abs(u)<this.Pv||(this.Cv={gv:e,wt:r},this.kv=u,this.yv=function(c,d){const h=Math.log(d);return Math.log(1*h/-c)/h}(Math.abs(u),this.Rv))}Ac(e){const r=Q(this.Cv),n=e-r.wt;return r.gv+this.kv*(Math.pow(this.Rv,n)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const r=e-Q(this.Cv).wt;return Math.min(r,this.yv)}}class gL{constructor(e,r){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=r,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function Ba(t,e){const r=Q(t.ownerDocument).createElement("canvas");t.appendChild(r);const n=eD(r,{options:{allowResizeObserver:!0},transform:(i,a)=>({width:Math.max(i.width,a.width),height:Math.max(i.height,a.height)})});return n.resizeCanvasElement(e),n}function $a(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))==null||e.clearRect(0,0,1,1)}function sg(t,e,r,n){t.Uh&&t.Uh(e,r,n)}function Fc(t,e,r,n){t.nt(e,r,n)}function og(t,e,r,n){const i=t(r,n);for(const a of i){const s=a.Tt(n);s!==null&&e(s)}}function Om(t,e){return r=>{var n,i;return function(a){return a.Ft!==void 0}(r)?(((n=r.Ft())==null?void 0:n.ol())??"")!==e?[]:((i=r.Ya)==null?void 0:i.call(r,t))??[]:[]}}function Lw(t,e,r,n){if(!t.length)return;let i=0;const a=t[0].$t(n,!0);let s=e===1?r/2-(t[0].Hi()-a/2):t[0].Hi()-a/2-r/2;s=Math.max(0,s);for(let l=1;l<t.length;l++){const u=t[l],c=t[l-1],d=c.$t(n,!1),h=u.Hi(),f=c.Hi();if(e===1?h>f-d:h<f+d){const m=f-d*e;u.Ui(m);const g=m-e*d/2;if((e===1?g<0:g>r)&&s>0){const y=e===1?-1-g:g-r,x=Math.min(y,s);for(let _=i;_<t.length;_++)t[_].Ui(t[_].Hi()+e*x);s-=x}}else i=l,s=e===1?f-d-h:h-(f+d)}}class Bw{constructor(e,r,n,i){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new Bl(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=r,this.Co=r.layout,this.hd=n,this.Jv=i==="left",this.Qv=Om("normal",i),this.tm=Om("top",i),this.im=Om("bottom",i),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=Ba(this.Jp,We({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const a=this.sm.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.nm=Ba(this.Jp,We({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";const l={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new Wh(this.nm.canvasElement,l,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),$a(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),$a(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const r=this.lm(),n=Q(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));n.save();const i=this.Ki.Vl();n.font=this._m(),i.length>0&&(e=Math.max(this.qv.Ii(n,i[0].Jl),this.qv.Ii(n,i[i.length-1].Jl)));const a=this.um();for(let c=a.length;c--;){const d=this.qv.Ii(n,a[c].ri());d>e&&(e=d)}const s=this.Ki.Lt();if(s!==null&&this.Uv!==null&&(l=this.Ps.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const c=this.Ki.Ds(1,s),d=this.Ki.Ds(this.Uv.height-2,s);e=Math.max(e,this.qv.Ii(n,this.Ki.Ji(Math.floor(Math.min(c,d))+.11111111111111,s)),this.qv.Ii(n,this.Ki.Ji(Math.ceil(Math.max(c,d))-.11111111111111,s)))}var l;n.restore();const u=e||34;return ag(Math.ceil(r.S+r.C+r.V+r.B+5+u))}dm(e){this.Uv!==null&&Pa(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return Q(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,Q(this.Ft()))}pm(e){if(this.Uv===null)return;const r={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const i=Ra(this.sm,r);i!==null&&(i.useBitmapCoordinateSpace(a=>{this.wm(a),this.gm(a)}),this.yt.Mm(i,this.im),this.bm(i),this.yt.Mm(i,this.Qv),this.Sm(i))}this.nm.applySuggestedBitmapSize();const n=Ra(this.nm,r);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:a})=>{i.clearRect(0,0,a.width,a.height)}),this.xm(n),this.yt.Mm(n,this.tm))}nv(){return this.sm.bitmapSize}ev(e,r,n,i){const a=this.nv();if(a.width>0&&a.height>0&&(e.drawImage(this.sm.canvasElement,r,n),i)){const s=this.nm.canvasElement;e.drawImage(s,r,n)}}kt(){var e;(e=this.Ki)==null||e.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!0,r.j_(n,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.yt.Gv().Qt(),n=this.yt.cv(),i=this.Ki;r.Y_(n,i,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),r=this.yt.cv(),n=this.Ki;this.$v&&(this.$v=!1,e.K_(r,n))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!1,r.K_(n,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],r=this.Ki===null?void 0:this.Ki;return(n=>{for(let i=0;i<n.length;++i){const a=n[i].Ks(this.yt.cv(),r);for(let s=0;s<a.length;s++)e.push(a[s])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:r}){const{width:n,height:i}=r,a=this.yt.cv().Qt(),s=a.$(),l=a.Kd();s===l?Dh(e,0,0,n,i,s):uE(e,0,0,n,i,s,l)}gm({context:e,bitmapSize:r,horizontalPixelRatio:n}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const i=Math.max(1,Math.floor(this.lm().S*n));let a;a=this.Jv?r.width-i:0,e.fillRect(a,0,i,r.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const r=this.Ki.Vl(),n=this.Ki.N(),i=this.lm(),a=this.Jv?this.Uv.width-i.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:s,horizontalPixelRatio:l,verticalPixelRatio:u})=>{s.fillStyle=n.borderColor;const c=Math.max(1,Math.floor(u)),d=Math.floor(.5*u),h=Math.round(i.C*l);s.beginPath();for(const f of r)s.rect(Math.floor(a*l),Math.round(f.Pl*u)-d,h,c);s.fill()}),e.useMediaCoordinateSpace(({context:s})=>{s.font=this._m(),s.fillStyle=n.textColor??this.Co.textColor,s.textAlign=this.Jv?"right":"left",s.textBaseline="middle";const l=this.Jv?Math.round(a-i.V):Math.round(a+i.C+i.V),u=r.map(c=>this.qv.Di(s,c.Jl));for(let c=r.length;c--;){const d=r[c];s.fillText(d.Jl,l,d.Pl+u[c])}})}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const r=[],n=this.Ki.Dt().slice(),i=this.yt.cv(),a=this.lm();this.Ki===i.Gn()&&this.yt.cv().Dt().forEach(u=>{i.Zn(u)&&n.push(u)});const s=this.Ki.Sl()[0],l=this.Ki;n.forEach(u=>{const c=u.Ks(i,l);c.forEach(d=>{d.$i()&&d.Wi()===null&&(d.Ui(null),r.push(d))}),s===u&&c.length>0&&(e=c[0].Ei())}),this.Ki.N().alignLabels&&this.ym(r,a,e)}ym(e,r,n){if(this.Uv===null)return;const i=e.filter(s=>s.Ei()<=n),a=e.filter(s=>s.Ei()>n);i.sort((s,l)=>l.Ei()-s.Ei()),i.length&&a.length&&a.push(i[0]),a.sort((s,l)=>s.Ei()-l.Ei());for(const s of e){const l=Math.floor(s.$t(r)/2),u=s.Ei();u>-l&&u<l&&s.Ui(l),u>this.Uv.height-l&&u<this.Uv.height+l&&s.Ui(this.Uv.height-l)}Lw(i,1,this.Uv.height,r),Lw(a,-1,this.Uv.height,r)}Sm(e){if(this.Uv===null)return;const r=this.um(),n=this.lm(),i=this.Jv?"right":"left";r.forEach(a=>{a.qi()&&a.Tt(Q(this.Ki)).nt(e,n,this.qv,i)})}xm(e){if(this.Uv===null||this.Ki===null)return;const r=this.yt.Gv().Qt(),n=[],i=this.yt.cv(),a=r.gd().Ks(i,this.Ki);a.length&&n.push(a);const s=this.lm(),l=this.Jv?"right":"left";n.forEach(u=>{u.forEach(c=>{c.Tt(Q(this.Ki)).nt(e,s,this.qv,l)})})}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return Ll(this.Co.fontSize,this.Co.fontFamily)}}function yL(t,e){var r;return((r=t.qa)==null?void 0:r.call(t,e))??[]}function $w(t,e){var r;return((r=t.Ys)==null?void 0:r.call(t,e))??[]}function Fw(t,e){var r;return((r=t.ds)==null?void 0:r.call(t,e))??[]}function _L(t,e){var r;return((r=t.Ha)==null?void 0:r.call(t,e))??[]}class l_{constructor(e,r){this.Uv=We({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new ft,this.Vm=new ft,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=r,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(n),this.sm=Ba(n,We({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const i=this.sm.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.nm=Ba(n,We({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const a=this.nm.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new Wh(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),$a(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),$a(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return Q(this.Nm)}qm(e){var r;this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(l_.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new gL(this.Wm,this.Lv),this.Tm.kt()):((r=this.Tm)==null||r.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(Q(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(Q(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const r=e.localX,n=e.localY;this.Zm(r,n,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const r=e.localX,n=e.localY;this.Zm(r,n,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const r={x:e.localX,y:e.localY};this.iw(r,r,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,r){if(!this.Lv.N().handleScale.pinch)return;const n=5*(r-this.Bm);this.Bm=r,this.ns().Td(e._t,n)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const r=this.ns().gd();this.Am!==null&&r.It()&&(this.zm={x:r.si(),y:r.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const r=e.localX,n=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const i=Q(this.zm),a=i.x+(r-this.Am.x),s=i.y+(n-this.Am.y);this.Zm(a,s,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,r){const n=this.Nm;return n===null?null:xE(n,e,r)}hw(e,r){Q(r==="left"?this.km:this.Pm).dm(We({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){Pa(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=Q(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const r of e.Sl())if(e.Zn(r)){const n=r.Ft();n!==null&&e.H_(n),r.Ws()}for(const r of e.ru())r.Ws()}nv(){return this.sm.bitmapSize}ev(e,r,n,i){const a=this.nv();if(a.width>0&&a.height>0&&(e.drawImage(this.sm.canvasElement,r,n),i)){const s=this.nm.canvasElement;e!==null&&e.drawImage(s,r,n)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const r={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=Ra(this.sm,r);i!==null&&(i.useBitmapCoordinateSpace(a=>{this.wm(a)}),this.Nm&&(this.lw(i,yL),this.ow(i),this.lw(i,$w),this.lw(i,Fw)))}this.nm.applySuggestedBitmapSize();const n=Ra(this.nm,r);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:a})=>{i.clearRect(0,0,a.width,a.height)}),this._w(n),this.lw(n,_L),this.lw(n,Fw))}uw(){return this.km}cw(){return this.Pm}Mm(e,r){this.lw(e,r)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,r){const n=r.localX,i=r.localY;e.v()&&e.p(this.ns().Et().wc(n),{x:n,y:i},r)}wm({context:e,bitmapSize:r}){const{width:n,height:i}=r,a=this.ns(),s=a.$(),l=a.Kd();s===l?Dh(e,0,0,n,i,l):uE(e,0,0,n,i,s,l)}ow(e){const r=Q(this.Nm),n=r.eu().pr().Tt(r);n!==null&&n.nt(e,!1)}_w(e){this.dw(e,$w,Fc,this.ns().gd())}lw(e,r){const n=Q(this.Nm),i=n.Dt(),a=n.ru();for(const s of a)this.dw(e,r,sg,s);for(const s of i)this.dw(e,r,sg,s);for(const s of a)this.dw(e,r,Fc,s);for(const s of i)this.dw(e,r,Fc,s)}dw(e,r,n,i){const a=Q(this.Nm),s=a.Qt().pd(),l=s!==null&&s.hu===i,u=s!==null&&l&&s.au!==void 0?s.au.ie:void 0;og(r,c=>n(c,e,l,u),i,a)}jm(){if(this.Nm===null)return;const e=this.Lv,r=this.Nm.U_().N().visible,n=this.Nm.q_().N().visible;r||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),n||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const i=e.Qt().Nd();r&&this.km===null&&(this.km=new Bw(this,e.N(),i,"left"),this.Hm.appendChild(this.km.iv())),n&&this.Pm===null&&(this.Pm=new Bw(this,e.N(),i,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,r,n){e=Math.max(0,Math.min(e,this.Uv.width-1)),r=Math.max(0,Math.min(r,this.Uv.height-1)),this.ns().Ad(e,r,n,Q(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,r,n){this.Am=e,this.Lm=!1,this.Zm(r.x,r.y,n);const i=this.ns().gd();this.zm={x:i.si(),y:i.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const r=this.ns(),n=this.cv();if(r.X_(n,n.Rs()),this.Rm=null,this.Dm=!1,r.Vd(),this.Om!==null){const i=performance.now(),a=r.Et();this.Om.fe(a.Cc(),i),this.Om.Ec(i)||r.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Q(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const r=this.ns(),n=r.Et();if(n.Gi())return;const i=this.Lv.N(),a=i.handleScroll,s=i.kineticScroll;if((!a.pressedMouseMove||e.Np)&&(!a.horzTouchDrag&&!a.vertTouchDrag||!e.Np))return;const l=this.Nm.Rs(),u=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:u,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&s.touch||!e.Np&&s.mouse){const c=n.ul();this.Om=new vL(.2/c,7/c,.997,15/c),this.Om.Dv(n.Cc(),this.Rm.cf)}else this.Om=null;l.Gi()||r.Z_(this.Nm,l,e.localY),r.Dd(e.localX),this.Dm=!0}this.Dm&&(l.Gi()||r.G_(this.Nm,l,e.localY),r.Id(e.localX),this.Om!==null&&this.Om.Dv(n.Cc(),u))}}class Ww{constructor(e,r,n,i,a){this.xt=!0,this.Uv=We({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=n.Nd,this.Ps=r,this.ww=i,this.gw=a,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=Ba(this.Jp,We({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),$a(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){Pa(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const r=Ra(this.sm,{colorSpace:this.Ps.layout.colorSpace});r!==null&&r.useBitmapCoordinateSpace(n=>{this.wm(n),this.gm(n)})}nv(){return this.sm.bitmapSize}ev(e,r,n){const i=this.nv();i.width>0&&i.height>0&&e.drawImage(this.sm.canvasElement,r,n)}gm({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const a=Math.floor(this.hd.N().S*n),s=Math.floor(this.hd.N().S*i),l=this.Jv?r.width-a:0;e.fillRect(l,0,a,s)}wm({context:e,bitmapSize:r}){Dh(e,0,0,r.width,r.height,this.gw())}}function u_(t){return e=>{var r;return((r=e.Ka)==null?void 0:r.call(e,t))??[]}}const xL=u_("normal"),bL=u_("top"),wL=u_("bottom");class SL{constructor(e,r){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=We({width:0,height:0}),this.xw=new ft,this.qv=new Bl(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=r,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=Ba(this.kw,We({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const n=this.sm.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.nm=Ba(this.kw,We({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const i=this.nm.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new Wh(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),$a(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),$a(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const r=this.Lv.Qt();!r.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&r.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const r=this.Lv.Qt();!r.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&r.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,r,n){Pa(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(We({width:r,height:e.height})),this.bw!==null&&this.bw.dm(We({width:n,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,r,n,i){const a=this.nv();if(a.width>0&&a.height>0&&(e.drawImage(this.sm.canvasElement,r,n),i)){const s=this.nm.canvasElement;e.drawImage(s,r,n)}}pm(e){if(e===0)return;const r={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=Ra(this.sm,r);i!==null&&(i.useBitmapCoordinateSpace(a=>{this.wm(a),this.gm(a),this.Aw(i,wL)}),this.bm(i),this.Aw(i,xL)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const n=Ra(this.nm,r);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:a})=>{i.clearRect(0,0,a.width,a.height)}),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],n),this.Aw(n,bL))}Aw(e,r){const n=this.Lv.Qt().tn();for(const i of n)og(r,a=>sg(a,e,!1,void 0),i,void 0);for(const i of n)og(r,a=>Fc(a,e,!1,void 0),i,void 0)}wm({context:e,bitmapSize:r}){Dh(e,0,0,r.width,r.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:r,verticalPixelRatio:n}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const i=Math.max(1,Math.floor(this.Bw().S*n));e.fillRect(0,0,r.width,i)}}bm(e){const r=this.Lv.Qt().Et(),n=r.Vl();if(!n||n.length===0)return;const i=this.cu.maxTickMarkWeight(n),a=this.Bw(),s=r.N();s.borderVisible&&s.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:u,verticalPixelRatio:c})=>{l.strokeStyle=this.zw(),l.fillStyle=this.zw();const d=Math.max(1,Math.floor(u)),h=Math.floor(.5*u);l.beginPath();const f=Math.round(a.C*c);for(let m=n.length;m--;){const g=Math.round(n[m].coord*u);l.rect(g-h,0,d,f)}l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{const u=a.S+a.C+a.A+a.k/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.H(),l.font=this._m();for(const c of n)if(c.weight<i){const d=c.needAlignCoordinate?this.Ow(l,c.coord,c.label):c.coord;l.fillText(c.label,d,u)}this.Lv.N().timeScale.allowBoldLabels&&(l.font=this.Nw());for(const c of n)if(c.weight>=i){const d=c.needAlignCoordinate?this.Ow(l,c.coord,c.label):c.coord;l.fillText(c.label,d,u)}})}Ow(e,r,n){const i=this.qv.Ii(e,n),a=i/2,s=Math.floor(r-a)+.5;return s<0?r+=Math.abs(0-s):s+i>this.Uv.width&&(r-=Math.abs(this.Uv.width-(s+i))),r}Lw(e,r){const n=this.Bw();for(const i of e)for(const a of i.fs())a.Tt().nt(r,n)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return Ll(this.F(),this.Ps.fontFamily)}Nw(){return Ll(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new Bl,Ew:0});const e=this.M,r=this._m();if(e.P!==r){const n=this.F();e.k=n,e.P=r,e.A=3*n/12,e.I=3*n/12,e.ts=9*n/12,e.L=0,e.Ew=4*n/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),r=e.N();r.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),r.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const n={Nd:this.Lv.Qt().Nd()},i=()=>r.leftPriceScale.borderVisible&&e.Et().N().borderVisible,a=()=>e.Kd();r.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new Ww("left",r,n,i,a),this.Cw.appendChild(this.Mw.iv())),r.rightPriceScale.visible&&this.bw===null&&(this.bw=new Ww("right",r,n,i,a),this.yw.appendChild(this.bw.iv()))}}var YP;const jL=!!Hs&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Hs&&((YP=navigator==null?void 0:navigator.userAgentData)!=null&&YP.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class kL{constructor(e,r,n){var i;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new ft,this.Vm=new ft,this.nd=new ft,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=r,this.cu=n,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(i=this.Vv).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),Tm(this.Ps)&&this.Jw(!0),this.ns=new uL(this.rd.bind(this),this.Ps,n),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new SL(this,this.cu),this.Zw.appendChild(this.tg.iv());const a=r.autoSize&&this.ig();let s=this.Ps.width,l=this.Ps.height;if(a||s===0||l===0){const u=e.getBoundingClientRect();s=s||u.width,l=l||u.height}this.sg(s,l),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],Q(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,r,n=!1){if(this.eo===r&&this.S_===e)return;const i=function(l){const u=Math.floor(l.width),c=Math.floor(l.height);return We({width:u-u%2,height:c-c%2})}(We({width:e,height:r}));this.eo=i.height,this.S_=i.width;const a=this.eo+"px",s=this.S_+"px";Q(this.Vv).style.height=a,Q(this.Vv).style.width=s,this.Zw.style.height=a,this.Zw.style.width=s,n?this.lg(Bt.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=Bt.yn());for(let r=0;r<this.Fw.length;r++)this.Fw[r].pm(e.un(r).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){var i;const r=Tm(this.Ps);this.ns.cr(e);const n=Tm(this.Ps);n!==r&&this.Jw(n),(i=e.layout)!=null&&i.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const r=this.cg(null),n=document.createElement("canvas");n.width=r.width,n.height=r.height;const i=Q(n.getContext("2d"));return this.cg(i,e),n}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:Q(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return jr(this.Fw[e]).sv()}og(){this.Ww.forEach(e=>{e.kt()})}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,r){let n=0,i=0;const a=this.Fw[0],s=(u,c)=>{let d=0;for(let h=0;h<this.Fw.length;h++){const f=this.Fw[h],m=Q(u==="left"?f.uw():f.cw()),g=m.nv();if(e!==null&&m.ev(e,c,d,r),d+=g.height,h<this.Fw.length-1){const y=this.Ww[h],x=y.nv();e!==null&&y.ev(e,c,d),d+=x.height}}};this.fg()&&(s("left",0),n+=Q(a.uw()).nv().width);for(let u=0;u<this.Fw.length;u++){const c=this.Fw[u],d=c.nv();if(e!==null&&c.ev(e,n,i,r),i+=d.height,u<this.Fw.length-1){const h=this.Ww[u],f=h.nv();e!==null&&h.ev(e,n,i),i+=f.height}}n+=a.nv().width,this.pg()&&(s("right",n),n+=Q(a.cw()).nv().width);const l=(u,c,d)=>{Q(u==="left"?this.tg.Tw():this.tg.Rw()).ev(Q(e),c,d)};if(this.Ps.timeScale.visible){const u=this.tg.nv();if(e!==null){let c=0;this.fg()&&(l("left",c,i),c=Q(a.uw()).nv().width),this.tg.ev(e,c,i,r),c+=u.width,this.pg()&&l("right",c,i)}i+=u.height}return We({width:n,height:i})}Mg(){let e=0,r=0,n=0;for(const x of this.Fw)this.fg()&&(r=Math.max(r,Q(x.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(n=Math.max(n,Q(x.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=x.E_();r=ag(r),n=ag(n);const i=this.S_,a=this.eo,s=Math.max(i-r-n,0),l=1*this.Ww.length,u=this.Ps.timeScale.visible;let c=u?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var d;c=(d=c)+d%2;const h=l+c,f=a<h?0:a-h,m=f/e;let g=0;const y=window.devicePixelRatio||1;for(let x=0;x<this.Fw.length;++x){const _=this.Fw[x];_.qm(this.ns.Xs()[x]);let b=0,S=0;S=x===this.Fw.length-1?Math.ceil((f-g)*y)/y:Math.round(_.E_()*m*y)/y,b=Math.max(S,2),g+=b,_.dm(We({width:s,height:b})),this.fg()&&_.hw(r,"left"),this.pg()&&_.hw(n,"right"),_.cv()&&this.ns.bd(_.cv(),b)}this.tg.Iw(We({width:u?s:0,height:c}),u?r:0,u?n:0),this.ns.L_(s),this.Uw!==r&&(this.Uw=r),this.$w!==n&&(this.$w=n)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return jL?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const r=this.bg(e),n=r*e.deltaX/100,i=-r*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.Ps.handleScale.mouseWheel){const a=Math.sign(i)*Math.min(1,Math.abs(i)),s=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(s,a)}n!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*n)}lg(e,r){var i;const n=e._n();n===3&&this.Sg(),n!==3&&n!==2||(this.xg(e),this.Cg(e,r),this.tg.kt(),this.Fw.forEach(a=>{a.Ym()}),((i=this.qw)==null?void 0:i._n())===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,r),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,r){for(const n of e.bn())this.xn(n,r)}xg(e){const r=this.ns.Xs();for(let n=0;n<r.length;n++)e.un(n).ln&&r[n].tu()}xn(e,r){const n=this.ns.Et();switch(e.fn){case 0:n.Fc();break;case 1:n.Wc(e.Wt);break;case 2:n.gn(e.Wt);break;case 3:n.Mn(e.Wt);break;case 4:n.Pc();break;case 5:e.Wt.Ec(r)||n.Mn(e.Wt.Ac(r))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame(r=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const n=this.qw;this.qw=null,this.lg(n,r);for(const i of n.bn())if(i.fn===5&&!i.Wt.Ec(r)){this.Qt().vn(i.Wt);break}}}))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),r=e.length,n=this.Fw.length;for(let i=r;i<n;i++){const a=jr(this.Fw.pop());this.Zw.removeChild(a.iv()),a.nw().u(this),a.ew().u(this),a.m();const s=this.Ww.pop();s!==void 0&&this.hg(s)}for(let i=n;i<r;i++){const a=new l_(this,e[i]);if(a.nw().i(this.yg.bind(this,a),this),a.ew().i(this.kg.bind(this,a),this),this.Fw.push(a),i>0){const s=new mL(this,i-1,i);this.Ww.push(s),this.Zw.insertBefore(s.iv(),this.tg.iv())}this.Zw.insertBefore(a.iv(),this.tg.iv())}for(let i=0;i<r;i++){const a=e[i],s=this.Fw[i];s.cv()!==a?s.qm(a):s.$m()}this.eg(),this.Mg()}Pg(e,r,n,i){var h;const a=new Map;e!==null&&this.ns.tn().forEach(f=>{const m=f.qs().$s(e);m!==null&&a.set(f,m)});let s;if(e!==null){const f=(h=this.ns.Et().es(e))==null?void 0:h.originalTime;f!==void 0&&(s=f)}const l=this.Qt().pd(),u=l!==null&&l.hu instanceof Fh?l.hu:void 0,c=l!==null&&l.au!==void 0?l.au.te:void 0,d=this.Tg(i);return{Gr:s,js:e??void 0,Rg:r??void 0,Dg:d!==-1?d:void 0,Ig:u,Vg:a,Bg:c,Eg:n??void 0}}Tg(e){let r=-1;if(e)r=this.Fw.indexOf(e);else{const n=this.Qt().gd().Gs();n!==null&&(r=this.Qt().Xs().indexOf(n))}return r}yg(e,r,n,i){this.Im.p(()=>this.Pg(r,n,i,e))}kg(e,r,n,i){this.Vm.p(()=>this.Pg(r,n,i,e))}Qw(e,r,n){var i;this.mg(((i=this.Qt().pd())==null?void 0:i.ou)??null),this.nd.p(()=>this.Pg(e,r,n))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver(e=>{const r=e[e.length-1];r&&this.sg(r.contentRect.width,r.contentRect.height)}),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function Tm(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function PL(t){return t.open===void 0&&t.value===void 0}function ML(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function Uw(t,e,r,n){const i=r.value,a={js:e,wt:t,Wt:[i,i,i,i],Gr:n};return r.color!==void 0&&(a.R=r.color),a}function CL(t,e,r,n){const i=r.value,a={js:e,wt:t,Wt:[i,i,i,i],Gr:n};return r.lineColor!==void 0&&(a.vt=r.lineColor),r.topColor!==void 0&&(a.eh=r.topColor),r.bottomColor!==void 0&&(a.rh=r.bottomColor),a}function EL(t,e,r,n){const i=r.value,a={js:e,wt:t,Wt:[i,i,i,i],Gr:n};return r.topLineColor!==void 0&&(a.hh=r.topLineColor),r.bottomLineColor!==void 0&&(a.ah=r.bottomLineColor),r.topFillColor1!==void 0&&(a.oh=r.topFillColor1),r.topFillColor2!==void 0&&(a._h=r.topFillColor2),r.bottomFillColor1!==void 0&&(a.uh=r.bottomFillColor1),r.bottomFillColor2!==void 0&&(a.dh=r.bottomFillColor2),a}function AL(t,e,r,n){const i={js:e,wt:t,Wt:[r.open,r.high,r.low,r.close],Gr:n};return r.color!==void 0&&(i.R=r.color),i}function OL(t,e,r,n){const i={js:e,wt:t,Wt:[r.open,r.high,r.low,r.close],Gr:n};return r.color!==void 0&&(i.R=r.color),r.borderColor!==void 0&&(i.Ht=r.borderColor),r.wickColor!==void 0&&(i.nh=r.wickColor),i}function TL(t,e,r,n,i){const a=jr(i)(r),s=Math.max(...a),l=Math.min(...a),u=a[a.length-1],c=[u,s,l,u],{time:d,color:h,...f}=r;return{js:e,wt:t,Wt:c,Gr:n,le:f,R:h}}function ns(t){return t.Wt!==void 0}function Kw(t,e){return e.customValues!==void 0&&(t.Ag=e.customValues),t}function ua(t){return(e,r,n,i,a,s)=>function(l,u){return u?u(l):PL(l)}(n,s)?Kw({wt:e,js:r,Gr:i},n):Kw(t(e,r,n,i,a),n)}function Vw(t){return{Candlestick:ua(OL),Bar:ua(AL),Area:ua(CL),Baseline:ua(EL),Histogram:ua(Uw),Line:ua(Uw),Custom:ua(TL)}[t]}function Hw(t){return{js:0,Lg:new Map,Ea:t}}function Yw(t,e){if(t!==void 0&&t.length!==0)return{zg:e.key(t[0].wt),Og:e.key(t[t.length-1].wt)}}function Gw(t){let e;return t.forEach(r=>{e===void 0&&(e=r.Gr)}),jr(e)}class zL{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,r){let n=this.Ng.size!==0,i=!1;const a=this.Fg.get(e);if(a!==void 0)if(this.Fg.size===1)n=!1,i=!0,this.Ng.clear();else for(const u of this.Hg)u.pointData.Lg.delete(e)&&(i=!0);let s=[];if(r.length!==0){const u=r.map(m=>m.time),c=this.cu.createConverterToInternalObj(r),d=Vw(e.wh()),h=e.rl(),f=e.hl();s=r.map((m,g)=>{const y=c(m.time),x=this.cu.key(y);let _=this.Ng.get(x);_===void 0&&(_=Hw(y),this.Ng.set(x,_),i=!0);const b=d(y,_.js,m,u[g],h,f);return _.Lg.set(e,b),b})}n&&this.$g(),this.qg(e,s);let l=-1;if(i){const u=[];this.Ng.forEach(c=>{u.push({timeWeight:0,time:c.Ea,pointData:c,originalTime:Gw(c.Lg)})}),u.sort((c,d)=>this.cu.key(c.time)-this.cu.key(d.time)),l=this.jg(u)}return this.Yg(e,l,function(u,c,d){const h=Yw(u,d),f=Yw(c,d);if(h!==void 0&&f!==void 0)return{Kg:!1,Ta:h.Og>=f.Og&&h.zg>=f.zg}}(this.Fg.get(e),a,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,r,n){if(n&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const i=r;(function(_){_.Gr===void 0&&(_.Gr=_.time)})(i),this.cu.preprocessData(r);const a=this.cu.createConverterToInternalObj([r])(r.time),s=this.Wg.get(e);if(!n&&s!==void 0&&this.cu.key(a)<this.cu.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${a}`);let l=this.Ng.get(this.cu.key(a));if(n&&l===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const u=l===void 0;l===void 0&&(l=Hw(a),this.Ng.set(this.cu.key(a),l));const c=Vw(e.wh()),d=e.rl(),h=e.hl(),f=c(a,l.js,r,i.Gr,d,h),m=!n&&!u&&s!==void 0&&this.cu.key(a)===this.cu.key(s);l.Lg.set(e,f),n?this.Gg(e,f,l.js):m&&e.La()&&ns(f)?(e.kr(f),this.Xg(e,f)):this.Xg(e,f);const g={Ta:ns(f),Kg:n};if(!u)return this.Yg(e,-1,g);const y={timeWeight:0,time:l.Ea,pointData:l,originalTime:Gw(l.Lg)},x=Vs(this.Hg,this.cu.key(y.time),(_,b)=>this.cu.key(_.time)<b);this.Hg.splice(x,0,y);for(let _=x;_<this.Hg.length;++_)oc(this.Hg[_].pointData,_);return this.cu.fillWeightsForPoints(this.Hg,x),this.Yg(e,x,g)}Jg(e,r){const n=this.Fg.get(e);if(n===void 0||r<=0)return[[],this.Qg()];r=Math.min(r,n.length);const i=n.splice(-r).reverse();n.length===0?this.Wg.delete(e):this.Wg.set(e,n[n.length-1].wt);for(const a of i){const s=this.Ng.get(this.cu.key(a.wt));if(s&&(s.Lg.delete(e),s.Lg.size===0)){this.Ng.delete(this.cu.key(s.Ea)),this.Hg.splice(s.js,1);for(let l=s.js;l<this.Hg.length;++l)oc(this.Hg[l].pointData,l)}}return[i,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,r){let n=this.Fg.get(e);n===void 0&&(n=[],this.Fg.set(e,n));const i=n.length!==0?n[n.length-1]:null;i===null||this.cu.key(r.wt)>this.cu.key(i.wt)?ns(r)&&n.push(r):ns(r)?n[n.length-1]=r:n.splice(-1,1),this.Wg.set(e,r.wt)}Gg(e,r,n){const i=this.Fg.get(e);if(i===void 0)return;const a=Vs(i,n,(s,l)=>s.js<l);ns(r)?i[a]=r:i.splice(a,1)}qg(e,r){r.length!==0?(this.Fg.set(e,r.filter(ns)),this.Wg.set(e,r[r.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let r=-1;for(let n=0;n<this.Hg.length&&n<e.length;++n){const i=this.Hg[n],a=e[n];if(this.cu.key(i.time)!==this.cu.key(a.time)){r=n;break}a.timeWeight=i.timeWeight,oc(a.pointData,n)}if(r===-1&&this.Hg.length!==e.length&&(r=Math.min(this.Hg.length,e.length)),r===-1)return-1;for(let n=r;n<e.length;++n)oc(e[n].pointData,n);return this.cu.fillWeightsForPoints(e,r),this.Hg=e,r}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach(r=>{r.length!==0&&(e=Math.max(e,r[r.length-1].js))}),e}Yg(e,r,n){const i=this.Qg();if(r!==-1)this.Fg.forEach((a,s)=>{i.F_.set(s,{le:a,iM:s===e?n:void 0})}),this.Fg.has(e)||i.F_.set(e,{le:[],iM:n}),i.Et.sM=this.Hg,i.Et.nM=r;else{const a=this.Fg.get(e);i.F_.set(e,{le:a||[],iM:n})}return i}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function oc(t,e){t.js=e,t.Lg.forEach(r=>{r.js=e})}function IL(t,e){return t.wt<e}function NL(t,e){return e<t.wt}function jE(t,e,r){const n=e.Aa(),i=e.bi(),a=Vs(t,n,IL),s=vE(t,i,NL);if(!r)return{from:a,to:s};let l=a,u=s;return a>0&&a<t.length&&t[a].wt>=n&&(l=a-1),s>0&&s<t.length&&t[s-1].wt<=i&&(u=s+1),{from:l,to:u}}class c_{constructor(e,r,n){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=r,this._M=n}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map(e=>({...e,...this.ee.ga().gh(e.wt)}))}fM(){this.lM=null}uM(){const e=this.re.Et(),r=e.N().enableConflation?e.Hc():0;r!==this.oM&&(this.rM=!0,this.oM=r),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),r=this.re.Et();if(this.fM(),r.Gi()||e.Gi())return;const n=r.Ie();if(n===null||this.ee.qs().yh()===0)return;const i=this.ee.Lt();i!==null&&(this.lM=jE(this.aM,n,this._M),this.mM(e,r,i.Wt),this.wM())}}class RL{constructor(e,r){this.gM=e,this.Ki=r}nt(e,r,n){this.gM.draw(e,this.Ki,r,n)}}class DL extends c_{constructor(e,r,n){super(e,r,!1),this.$h=n,this.cM=new RL(this.$h.renderer(),i=>{const a=e.Lt();return a===null?null:e.Ft().Nt(i,a.Wt)})}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(r=>({wt:r.js,_t:NaN,...e.gh(r.js),MM:r.le}))}mM(e,r){r.mc(this.aM,Dl(this.lM))}wM(){this.$h.update({bars:this.aM.map(LL),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function LL(t){return{x:t._t,time:t.wt,originalData:t.MM,barColor:t.th}}const BL={color:"#2196f3"},$L=(t,e,r)=>{const n=Li(r);return new DL(t,e,n)};function d_(t){const e={value:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function Xw(t){const e=d_(t);return t.R!==void 0&&(e.color=t.R),e}function FL(t){const e=d_(t);return t.vt!==void 0&&(e.lineColor=t.vt),t.eh!==void 0&&(e.topColor=t.eh),t.rh!==void 0&&(e.bottomColor=t.rh),e}function WL(t){const e=d_(t);return t.hh!==void 0&&(e.topLineColor=t.hh),t.ah!==void 0&&(e.bottomLineColor=t.ah),t.oh!==void 0&&(e.topFillColor1=t.oh),t._h!==void 0&&(e.topFillColor2=t._h),t.uh!==void 0&&(e.bottomFillColor1=t.uh),t.dh!==void 0&&(e.bottomFillColor2=t.dh),e}function kE(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function UL(t){const e=kE(t);return t.R!==void 0&&(e.color=t.R),e}function KL(t){const e=kE(t),{R:r,Ht:n,nh:i}=t;return r!==void 0&&(e.color=r),n!==void 0&&(e.borderColor=n),i!==void 0&&(e.wickColor=i),e}function Wc(t){return{Area:FL,Line:Xw,Baseline:WL,Histogram:Xw,Bar:UL,Candlestick:KL,Custom:VL}[t]}function VL(t){const e=t.Gr;return{...t.le,time:e}}const HL={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},YL={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},GL={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:lE,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},zm={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},XL={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function qw(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:GL,crosshair:HL,grid:YL,overlayPriceScales:{...zm},leftPriceScale:{...zm,visible:!1},rightPriceScale:{...zm,visible:!0},timeScale:XL,localization:{locale:Hs?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class PE{constructor(e,r,n){this.Yp=e,this.bM=r,this.SM=n??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return Bh(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new sr(e.from,e.to))}getVisibleRange(){let e,r,n=this.Ki().er();if(n===null)return null;if(this.Ki().io()){const i=this.Ki().m_(),a=bE(i);n=ws(n,this.Ki().no()),e=Number((Math.round(n.Ze()/i)*i).toFixed(a)),r=Number((Math.round(n.Ge()/i)*i).toFixed(a))}else e=n.Ze(),r=n.Ge();return{from:e,to:r}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return Q(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class qL{constructor(e,r,n,i){this.Yp=e,this.yt=n,this.xM=r,this.CM=i}getHeight(){return this.yt.$t()}setHeight(e){const r=this.Yp.Qt(),n=r.Gd(this.yt);r.xd(n,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const r=this.paneIndex();r!==e&&(Ft(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(r,e))}getSeries(){return this.yt.F_().map(e=>this.xM(e))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new PE(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,r={},n=0){return this.CM.addCustomSeries(e,r,n)}addSeries(e,r={}){return this.CM.addSeries(e,r,this.paneIndex())}}const ZL={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Zw{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class QL{constructor(e,r,n,i,a,s){this.kM=new ft,this.ee=e,this.PM=r,this.TM=n,this.cu=a,this.CM=i,this.RM=s}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const r=this.ee.Lt();return r===null?null:this.ee.Ft().Nt(e,r.Wt)}coordinateToPrice(e){const r=this.ee.Lt();return r===null?null:this.ee.Ft().Ds(e,r.Wt)}barsInLogicalRange(e){if(e===null)return null;const r=new Is(new zs(e.from,e.to)).Ru(),n=this.ee.qs();if(n.Gi())return null;const i=n.$s(r.Aa(),1),a=n.$s(r.bi(),-1),s=Q(n.kh()),l=Q(n.sn());if(i!==null&&a!==null&&i.js>a.js)return{barsBefore:e.from-s,barsAfter:l-e.to};const u={barsBefore:i===null||i.js===s?e.from-s:i.js-s,barsAfter:a===null||a.js===l?l-e.to:l-a.js};return i!==null&&a!==null&&(u.from=i.Gr,u.to=a.Gr),u}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,r=!1){this.ee.wh(),this.PM.VM(this.ee,e,r),this.IM("update")}pop(e=1){const r=this.PM.BM(this.ee,e);r.length!==0&&this.IM("update");const n=Wc(this.seriesType());return r.map(i=>n(i))}dataByIndex(e,r){const n=this.ee.qs().$s(e,r);return n===null?null:Wc(this.seriesType())(n)}data(){const e=Wc(this.seriesType());return this.ee.qs().Dh().map(r=>e(r))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Qn(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const r=Nr(Qn(ZL),e),n=this.ee.Da(r);return new Zw(n)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map(e=>new Zw(e))}seriesType(){return this.ee.wh()}lastValueData(e){const r=this.ee.Ve(e);return r.Be?{noData:!0}:{noData:!1,price:r.gt,color:r.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,r=Q(this.ee.Qt().Kn(e));return this.RM(r)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const r=this.ee.Qt().Kn(this.ee);r!==null&&r.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class JL{constructor(e,r,n){this.EM=new ft,this.Nu=new ft,this.xw=new ft,this.ns=e,this.Jh=e.Et(),this.tg=r,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=n}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,r){r?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const r={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},n=this.Jh.cc(r);this.ns.$d(n)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){Ft(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const r=this.ns.Et();return r.Gi()?null:r.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,r){const n=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(n,r)}timeToCoordinate(e){const r=this.timeToIndex(e,!1);return r===null?null:this.Jh.qt(r)}coordinateToTime(e){const r=this.ns.Et(),n=r.wc(e),i=r.es(n);return i===null?null:i.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Qn(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function Qw(t){return function(e){if(ec(e.handleScale)){const n=e.handleScale;e.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:i}=e.handleScale;ec(n)&&(e.handleScale.axisPressedMouseMove={time:n,price:n}),ec(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const r=e.handleScroll;ec(r)&&(e.handleScroll={horzTouchDrag:r,vertTouchDrag:r,mouseWheel:r,pressedMouseMove:r})}(t),t}class e5{constructor(e,r,n){this.OM=new Map,this.NM=new Map,this.FM=new ft,this.WM=new ft,this.HM=new ft,this.Xc=new WeakMap,this.UM=new zL(r);const i=n===void 0?Qn(qw()):Nr(Qn(qw()),Qw(n));this.$M=r,this.Yp=new kL(e,i,r),this.Yp.nw().i(s=>{this.FM.v()&&this.FM.p(this.qM(s()))},this),this.Yp.ew().i(s=>{this.WM.v()&&this.WM.p(this.qM(s()))},this),this.Yp.Md().i(s=>{this.HM.v()&&this.HM.p(this.qM(s()))},this);const a=this.Yp.Qt();this.jM=new JL(a,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,r,n){this.autoSizeActive()||this.Yp.sg(e,r,n)}addCustomSeries(e,r={},n=0){const i=(a=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...BL,...a.defaultOptions()},YM:$L,KM:a}))(Li(e));return this.ZM(i,r,n)}addSeries(e,r={},n=0){return this.ZM(e,r,n)}removeSeries(e){const r=jr(this.OM.get(e)),n=this.UM.Hd(r);this.Yp.Qt().Hd(r),this.GM(n),this.OM.delete(e),this.NM.delete(r)}DM(e,r){this.GM(this.UM.Ug(e,r))}VM(e,r,n){this.GM(this.UM.Zg(e,r,n))}BM(e,r){const[n,i]=this.UM.Jg(e,r);return n.length!==0&&this.GM(i),n}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,r=0){return new PE(this.Yp,e,r)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(Qw(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,r=!1){let n,i;try{r||(n=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),i=this.Yp.ug(e)}finally{r||n===void 0||this.Yp.Qt().cr({crosshair:{mode:n}})}return i}addPane(e=!1){const r=this.Yp.Qt().Xd();return r.O_(e),this.XM(r)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,r){this.Yp.Qt().Cd(e,r)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map(e=>this.XM(e))}paneSize(e=0){const r=this.Yp.gg(e);return{height:r.height,width:r.width}}setCrosshairPosition(e,r,n){const i=this.OM.get(n);if(i===void 0)return;const a=this.Yp.Qt().Kn(i);a!==null&&this.Yp.Qt().Ld(e,r,a)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,r={},n=0){Ft(e.YM!==void 0),function(u){if(u===void 0||u.type==="custom")return;const c=u;c.minMove!==void 0&&c.precision===void 0&&(c.precision=bE(c.minMove))}(r.priceFormat),e.type==="Candlestick"&&function(u){u.borderColor!==void 0&&(u.borderUpColor=u.borderColor,u.borderDownColor=u.borderColor),u.wickColor!==void 0&&(u.wickUpColor=u.wickColor,u.wickDownColor=u.wickColor)}(r);const i=Nr(Qn(sE),Qn(e.defaultOptions),r),a=e.YM,s=new Fh(this.Yp.Qt(),e.type,i,a,e.KM);this.Yp.Qt().Fd(s,n);const l=new QL(s,this,this,this,this.$M,u=>this.XM(u));return this.OM.set(l,s),this.NM.set(s,l),l}GM(e){const r=this.Yp.Qt();r.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach((n,i)=>i.ht(n.le,n.iM)),r.Et().Ju(),r.Sc()}JM(e){return jr(this.NM.get(e))}qM(e){const r=new Map;e.Vg.forEach((i,a)=>{const s=a.wh(),l=Wc(s)(i);if(s!=="Custom")Ft(ML(l));else{const u=a.hl();Ft(!u||u(l)===!1)}r.set(this.JM(a),l)});const n=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:n,hoveredObjectId:e.Bg,seriesData:r,sourceEvent:e.Eg}}XM(e){let r=this.Xc.get(e);return r||(r=new qL(this.Yp,n=>this.JM(n),e,this),this.Xc.set(e,r)),r}}function t5(t){if(lu(t)){const e=document.getElementById(t);return Ft(e!==null,`Cannot find element in DOM with id=${t}`),e}return t}function r5(t,e,r){const n=t5(t),i=new e5(n,e,r);return e.setOptions(i.options()),i}function n5(t,e){return r5(t,new Nw,Nw.pf(e))}class i5 extends c_{constructor(e,r){super(e,r,!0)}mM(e,r,n){r.mc(this.aM,Dl(this.lM)),e.Yo(this.aM,n,Dl(this.lM))}QM(e,r){return{wt:e,gt:r,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(r=>{let n;if((r.jr??1)>1){const i=r.Wt[1],a=r.Wt[2],s=r.Wt[3];n=Math.abs(i-s)>Math.abs(a-s)?i:a}else n=r.Wt[3];return this.tb(r.js,n,e)})}}function a5(t,e,r,n,i,a,s){if(e.length===0||n.from>=e.length||n.to<=0)return;const{context:l,horizontalPixelRatio:u,verticalPixelRatio:c}=t,d=e[n.from];let h=a(t,d),f=d;if(n.to-n.from<2){const m=i/2;l.beginPath();const g={_t:d._t-m,ut:d.ut},y={_t:d._t+m,ut:d.ut};l.moveTo(g._t*u,g.ut*c),l.lineTo(y._t*u,y.ut*c),s(t,h,g,y)}else{const m=(y,x)=>{s(t,h,f,x),l.beginPath(),h=y,f=x};let g=f;l.beginPath(),l.moveTo(d._t*u,d.ut*c);for(let y=n.from+1;y<n.to;++y){g=e[y];const x=a(t,g);switch(r){case 0:l.lineTo(g._t*u,g.ut*c);break;case 1:l.lineTo(g._t*u,e[y-1].ut*c),x!==h&&(m(x,g),l.lineTo(g._t*u,e[y-1].ut*c)),l.lineTo(g._t*u,g.ut*c);break;case 2:{const[_,b]=s5(e,y-1,y);l.bezierCurveTo(_._t*u,_.ut*c,b._t*u,b.ut*c,g._t*u,g.ut*c);break}}r!==1&&x!==h&&(m(x,g),l.moveTo(g._t*u,g.ut*c))}(f!==g||f===g&&r===1)&&s(t,h,f,g)}}const Jw=6;function Im(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function eS(t,e){return{_t:t._t/e,ut:t.ut/e}}function s5(t,e,r){const n=Math.max(0,e-1),i=Math.min(t.length-1,r+1);var a,s;return[(a=t[e],s=eS(Im(t[r],t[n]),Jw),{_t:a._t+s._t,ut:a.ut+s.ut}),Im(t[r],eS(Im(t[i],t[e]),Jw))]}function o5(t,e){const r=t.context;r.strokeStyle=e,r.stroke()}class l5 extends Za{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:r,lt:n,ib:i,sb:a,ct:s,Zt:l,nb:u}=this.rt;if(n===null)return;const c=e.context;c.lineCap="butt",c.lineWidth=s*e.verticalPixelRatio,Da(c,l),c.lineJoin="round";const d=this.eb.bind(this);a!==void 0&&a5(e,r,a,n,i,d,o5),u&&function(h,f,m,g,y){if(g.to-g.from<=0)return;const{horizontalPixelRatio:x,verticalPixelRatio:_,context:b}=h;let S=null;const k=Math.max(1,Math.floor(x))%2/2,p=m*_+k;for(let j=g.to-1;j>=g.from;--j){const C=f[j];if(C){const T=y(h,C);T!==S&&(b.beginPath(),S!==null&&b.fill(),b.fillStyle=T,S=T);const E=Math.round(C._t*x)+k,z=C.ut*_;b.moveTo(E,z),b.arc(E,z,p,0,2*Math.PI)}}b.fill()}(e,r,u,n,d)}}class u5 extends l5{eb(e,r){return r.vt}}class c5 extends i5{constructor(){super(...arguments),this.cM=new u5}tb(e,r,n){return{...this.QM(e,r),...n.gh(e)}}wM(){const e=this.ee.N(),r={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(r)}}const lc={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new c5(t,e)};class d5 extends c_{constructor(e,r){super(e,r,!1)}mM(e,r,n){r.mc(this.aM,Dl(this.lM)),e.Zo(this.aM,n,Dl(this.lM))}Lb(e,r,n){return{wt:e,Hr:r.Wt[0],Ur:r.Wt[1],$r:r.Wt[2],qr:r.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(r=>this.tb(r.js,r,e))}}class h5 extends Za{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(this.jt===null||this.jt.qs.length===0||this.jt.lt===null)return;const{horizontalPixelRatio:r}=e;this.Ib=function(a,s){if(a>=2.5&&a<=4)return Math.floor(3*s);const l=1-.2*Math.atan(Math.max(4,a)-4)/(.5*Math.PI),u=Math.floor(a*l*s),c=Math.floor(a*s),d=Math.min(u,c);return Math.max(Math.floor(s),d)}(this.jt.ul,r),this.Ib>=2&&Math.floor(r)%2!=this.Ib%2&&this.Ib--;const n=this.jt.qs;this.jt.zb&&this.Ob(e,n,this.jt.lt),this.jt.Mi&&this.gm(e,n,this.jt.lt);const i=this.Nb(r);(!this.jt.Mi||this.Ib>2*i)&&this.Fb(e,n,this.jt.lt)}Ob(e,r,n){if(this.jt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:s}=e;let l="",u=Math.min(Math.floor(a),Math.floor(this.jt.ul*a));u=Math.max(Math.floor(a),Math.min(u,this.Ib));const c=Math.floor(.5*u);let d=null;for(let h=n.from;h<n.to;h++){const f=r[h];f.sh!==l&&(i.fillStyle=f.sh,l=f.sh);const m=Math.round(Math.min(f.Go,f.Qo)*s),g=Math.round(Math.max(f.Go,f.Qo)*s),y=Math.round(f.Xo*s),x=Math.round(f.Jo*s);let _=Math.round(a*f._t)-c;const b=_+u-1;d!==null&&(_=Math.max(d+1,_),_=Math.min(_,b));const S=b-_+1;i.fillRect(_,y,S,m-y),i.fillRect(_,g+1,S,x-g),d=b}}Nb(e){let r=Math.floor(1*e);this.Ib<=2*r&&(r=Math.floor(.5*(this.Ib-1)));const n=Math.max(Math.floor(e),r);return this.Ib<=2*n?Math.max(Math.floor(e),Math.floor(1*e)):n}gm(e,r,n){if(this.jt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:s}=e;let l="";const u=this.Nb(a);let c=null;for(let d=n.from;d<n.to;d++){const h=r[d];h.ih!==l&&(i.fillStyle=h.ih,l=h.ih);let f=Math.round(h._t*a)-Math.floor(.5*this.Ib);const m=f+this.Ib-1,g=Math.round(Math.min(h.Go,h.Qo)*s),y=Math.round(Math.max(h.Go,h.Qo)*s);if(c!==null&&(f=Math.max(c+1,f),f=Math.min(f,m)),this.jt.ul*a>2*u)fD(i,f,g,m-f+1,y-g+1,u);else{const x=m-f+1;i.fillRect(f,g,x,y-g+1)}c=m}}Fb(e,r,n){if(this.jt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:s}=e;let l="";const u=this.Nb(a);for(let c=n.from;c<n.to;c++){const d=r[c];let h=Math.round(Math.min(d.Go,d.Qo)*s),f=Math.round(Math.max(d.Go,d.Qo)*s),m=Math.round(d._t*a)-Math.floor(.5*this.Ib),g=m+this.Ib-1;if(d.th!==l){const y=d.th;i.fillStyle=y,l=y}this.jt.Mi&&(m+=u,h+=u,g-=u,f-=u),h>f||i.fillRect(m,h,g-m+1,f-h+1)}}}class f5 extends d5{constructor(){super(...arguments),this.cM=new h5}tb(e,r,n){return{...this.Lb(e,r,n),...n.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}}const p5={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(t,e)=>new f5(t,e)};class m5{constructor(e,r){this.ee=e,this.Zh=r,this.jb()}detach(){this.ee.detachPrimitive(this.Zh)}getSeries(){return this.ee}applyOptions(e){this.Zh&&this.Zh.cr&&this.Zh.cr(e)}jb(){this.ee.attachPrimitive(this.Zh)}}const v5={autoScale:!0,zOrder:"normal"};function ml(t,e){return s_(Math.min(Math.max(t,12),30)*e)}function Ys(t,e){switch(t){case"arrowDown":case"arrowUp":return ml(e,1);case"circle":return ml(e,.8);case"square":return ml(e,.7)}}function ME(t){return function(e){const r=Math.ceil(e);return r%2!=0?r-1:r}(ml(t,1))}function CE(t){return Math.max(ml(t,.1),3)}function tS(t,e,r){return e?t:r?Math.ceil(t/2):0}function rS(t,e,r,n){const i=(Ys("arrowUp",n)-1)/2*r.pS,a=(s_(n/2)-1)/2*r.pS;e.beginPath(),t?(e.moveTo(r._t-i,r.ut),e.lineTo(r._t,r.ut-i),e.lineTo(r._t+i,r.ut),e.lineTo(r._t+a,r.ut),e.lineTo(r._t+a,r.ut+i),e.lineTo(r._t-a,r.ut+i),e.lineTo(r._t-a,r.ut)):(e.moveTo(r._t-i,r.ut),e.lineTo(r._t,r.ut+i),e.lineTo(r._t+i,r.ut),e.lineTo(r._t+a,r.ut),e.lineTo(r._t+a,r.ut-i),e.lineTo(r._t-a,r.ut-i),e.lineTo(r._t-a,r.ut)),e.fill()}function nS(t,e,r,n,i,a){const s=(Ys("arrowUp",n)-1)/2,l=(s_(n/2)-1)/2;return i>=e-l-2&&i<=e+l+2&&a>=(t?r:r-s)-2&&a<=(t?r+s:r)+2?!0:(()=>{if(i<e-s-3||i>e+s+3||a<(t?r-s-3:r)||a>(t?r:r+s+3))return!1;const u=Math.abs(i-e);return Math.abs(a-r)+3>=u/2})()}class g5{constructor(){this.jt=null,this.$n=new Bl,this.F=-1,this.W="",this.jv="",this.vS="normal"}ht(e){this.jt=e}qn(e,r,n){this.F===e&&this.W===r||(this.F=e,this.W=r,this.jv=Ll(e,r),this.$n.On()),this.vS=n}Qn(e,r){if(this.jt===null||this.jt.lt===null)return null;for(let n=this.jt.lt.from;n<this.jt.lt.to;n++){const i=this.jt.ot[n];if(i&&_5(i,e,r))return{zOrder:"normal",externalId:i.te??""}}return null}draw(e){this.vS!=="aboveSeries"&&e.useBitmapCoordinateSpace(r=>{this.et(r)})}drawBackground(e){this.vS==="aboveSeries"&&e.useBitmapCoordinateSpace(r=>{this.et(r)})}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){if(this.jt!==null&&this.jt.lt!==null){e.textBaseline="middle",e.font=this.jv;for(let i=this.jt.lt.from;i<this.jt.lt.to;i++){const a=this.jt.ot[i];a.ri!==void 0&&(a.ri.ss=this.$n.Ii(e,a.ri.mS),a.ri.$t=this.F,a.ri._t=a._t-a.ri.ss/2),y5(a,e,r,n)}}}}function y5(t,e,r,n){e.fillStyle=t.R,t.ri!==void 0&&function(i,a,s,l,u,c){i.save(),i.scale(u,c),i.fillText(a,s,l),i.restore()}(e,t.ri.mS,t.ri._t,t.ri.ut,r,n),function(i,a,s){if(i.yh!==0){switch(i.wS){case"arrowDown":return void rS(!1,a,s,i.yh);case"arrowUp":return void rS(!0,a,s,i.yh);case"circle":return void function(l,u,c){const d=(Ys("circle",c)-1)/2;l.beginPath(),l.arc(u._t,u.ut,d*u.pS,0,2*Math.PI,!1),l.fill()}(a,s,i.yh);case"square":return void function(l,u,c){const d=Ys("square",c),h=(d-1)*u.pS/2,f=u._t-h,m=u.ut-h;l.fillRect(f,m,d*u.pS,d*u.pS)}(a,s,i.yh)}i.wS}}(t,e,function(i,a,s){const l=Math.max(1,Math.floor(a))%2/2;return{_t:Math.round(i._t*a)+l,ut:i.ut*s,pS:a}}(t,r,n))}function _5(t,e,r){return!(t.ri===void 0||!function(n,i,a,s,l,u){const c=s/2;return l>=n&&l<=n+a&&u>=i-c&&u<=i+c}(t.ri._t,t.ri.ut,t.ri.ss,t.ri.$t,e,r))||function(n,i,a){if(n.yh===0)return!1;switch(n.wS){case"arrowDown":return nS(!0,n._t,n.ut,n.yh,i,a);case"arrowUp":return nS(!1,n._t,n.ut,n.yh,i,a);case"circle":return function(s,l,u,c,d){const h=2+Ys("circle",u)/2,f=s-c,m=l-d;return Math.sqrt(f*f+m*m)<=h}(n._t,n.ut,n.yh,i,a);case"square":return function(s,l,u,c,d){const h=Ys("square",u),f=(h-1)/2,m=s-f,g=l-f;return c>=m&&c<=m+h&&d>=g&&d<=g+h}(n._t,n.ut,n.yh,i,a)}}(t,e,r)}function iS(t){return t==="atPriceTop"||t==="atPriceBottom"||t==="atPriceMiddle"}function x5(t,e,r,n,i,a,s,l){const u=function(g,y,x){if(iS(y.position)&&y.price!==void 0)return y.price;if("value"in(_=g)&&typeof _.value=="number")return g.value;var _;if(function(b){return"open"in b&&"high"in b&&"low"in b&&"close"in b}(g)){if(y.position==="inBar")return g.close;if(y.position==="aboveBar")return x?g.low:g.high;if(y.position==="belowBar")return x?g.high:g.low}}(r,e,s.priceScale().options().invertScale);if(u===void 0)return;const c=iS(e.position),d=l.timeScale(),h=La(e.size)?Math.max(e.size,0):1,f=ME(d.options().barSpacing)*h,m=f/2;switch(t.yh=f,e.position){case"inBar":case"atPriceMiddle":return t.ut=Q(s.priceToCoordinate(u)),void(t.ri!==void 0&&(t.ri.ut=t.ut+m+a+.6*i));case"aboveBar":case"atPriceTop":{const g=c?0:n.gS;return t.ut=Q(s.priceToCoordinate(u))-m-g,t.ri!==void 0&&(t.ri.ut=t.ut-m-.6*i,n.gS+=1.2*i),void(c||(n.gS+=f+a))}case"belowBar":case"atPriceBottom":{const g=c?0:n.MS;return t.ut=Q(s.priceToCoordinate(u))+m+g,t.ri!==void 0&&(t.ri.ut=t.ut+m+a+.6*i,n.MS+=1.2*i),void(c||(n.MS+=f+a))}}}class b5{constructor(e,r,n){this.bS=[],this.xt=!0,this.SS=!0,this.Xt=new g5,this.ye=e,this.Lv=r,this.jt={ot:[],lt:null},this.Ps=n}renderer(){if(!this.ye.options().visible)return null;this.xt&&this.xS();const e=this.Lv.options().layout;return this.Xt.qn(e.fontSize,e.fontFamily,this.Ps.zOrder),this.Xt.ht(this.jt),this.Xt}CS(e){this.bS=e,this.kt("data")}kt(e){this.xt=!0,e==="data"&&(this.SS=!0)}yS(e){this.xt=!0,this.Ps=e}zOrder(){return this.Ps.zOrder==="aboveSeries"?"top":this.Ps.zOrder}xS(){const e=this.Lv.timeScale(),r=this.bS;this.SS&&(this.jt.ot=r.map(c=>({wt:c.time,_t:0,ut:0,yh:0,wS:c.shape,R:c.color,te:c.id,kS:c.kS,ri:void 0})),this.SS=!1);const n=this.Lv.options().layout;this.jt.lt=null;const i=e.getVisibleLogicalRange();if(i===null)return;const a=new zs(Math.floor(i.from),Math.ceil(i.to));if(this.ye.data()[0]===null||this.jt.ot.length===0)return;let s=NaN;const l=CE(e.options().barSpacing),u={gS:l,MS:l};this.jt.lt=jE(this.jt.ot,a,!0);for(let c=this.jt.lt.from;c<this.jt.lt.to;c++){const d=r[c];d.time!==s&&(u.gS=l,u.MS=l,s=d.time);const h=this.jt.ot[c];h._t=Q(e.logicalToCoordinate(d.time)),d.text!==void 0&&d.text.length>0&&(h.ri={mS:d.text,_t:0,ut:0,ss:0,$t:0});const f=this.ye.dataByIndex(d.time,0);f!==null&&x5(h,d,f,u,n.fontSize,l,this.ye,this.Lv)}this.xt=!1}}function aS(t){return{...v5,...t}}class w5{constructor(e){this.$h=null,this.bS=[],this.PS=[],this.TS=null,this.ye=null,this.Lv=null,this.RS=!0,this.DS=null,this.IS=null,this.VS=null,this.BS=!0,this.Ps=aS(e)}attached(e){this.ES(),this.Lv=e.chart,this.ye=e.series,this.$h=new b5(this.ye,Q(this.Lv),this.Ps),this.dS=e.requestUpdate,this.ye.subscribeDataChanged(r=>this.IM(r)),this.BS=!0,this.Jb()}Jb(){this.dS&&this.dS()}detached(){this.ye&&this.TS&&this.ye.unsubscribeDataChanged(this.TS),this.Lv=null,this.ye=null,this.$h=null,this.TS=null}CS(e){this.BS=!0,this.bS=e,this.ES(),this.RS=!0,this.IS=null,this.Jb()}AS(){return this.bS}paneViews(){return this.$h?[this.$h]:[]}updateAllViews(){this.LS()}hitTest(e,r){var n;return this.$h?((n=this.$h.renderer())==null?void 0:n.Qn(e,r))??null:null}autoscaleInfo(e,r){if(this.Ps.autoScale&&this.$h){const n=this.zS();if(n)return{priceRange:null,margins:n}}return null}cr(e){this.Ps=aS({...this.Ps,...e}),this.Jb&&this.Jb()}zS(){const e=Q(this.Lv).timeScale().options().barSpacing;if(this.RS||e!==this.VS){if(this.VS=e,this.bS.length>0){const r=CE(e),n=1.5*ME(e)+2*r,i=this.OS();this.DS={above:tS(n,i.aboveBar,i.inBar),below:tS(n,i.belowBar,i.inBar)}}else this.DS=null;this.RS=!1}return this.DS}OS(){return this.IS===null&&(this.IS=this.bS.reduce((e,r)=>(e[r.position]||(e[r.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.IS}ES(){var i;if(!this.BS||!this.Lv||!this.ye)return;const e=this.Lv.timeScale(),r=(i=this.ye)==null?void 0:i.data();if(e.getVisibleLogicalRange()==null||!this.ye||r.length===0)return void(this.PS=[]);const n=e.timeToIndex(Q(r[0].time),!0);this.PS=this.bS.map((a,s)=>{const l=e.timeToIndex(a.time,!0),u=l<n?1:-1,c=Q(this.ye).dataByIndex(l,u),d={time:e.timeToIndex(Q(c).time,!1),position:a.position,shape:a.shape,color:a.color,id:a.id,kS:s,text:a.text,size:a.size,price:a.price,Gr:a.time};if(a.position==="atPriceTop"||a.position==="atPriceBottom"||a.position==="atPriceMiddle"){if(a.price===void 0)throw new Error(`Price is required for position ${a.position}`);return{...d,position:a.position,price:a.price}}return{...d,position:a.position,price:a.price}}),this.BS=!1}LS(e){this.$h&&(this.ES(),this.$h.CS(this.PS),this.$h.yS(this.Ps),this.$h.kt(e))}IM(e){this.BS=!0,this.Jb()}}class S5 extends m5{constructor(e,r,n){super(e,r),n&&this.setMarkers(n)}setMarkers(e){this.Zh.CS(e)}markers(){return this.Zh.AS()}}function j5(t,e,r){const n=new S5(t,new w5({}));return e&&n.setMarkers(e),n}({...sE});function EE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=EE(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Re(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=EE(t))&&(n&&(n+=" "),n+=e);return n}var k5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function h_(t){if(typeof t!="string")return!1;var e=k5;return e.includes(t)}var P5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],M5=new Set(P5);function AE(t){return typeof t!="string"?!1:M5.has(t)}function OE(t){return typeof t=="string"&&t.startsWith("data-")}function or(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(AE(r)||OE(r))&&(e[r]=t[r]);return e}function so(t){if(t==null)return null;if(v.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return or(e)}return typeof t=="object"&&!Array.isArray(t)?or(t):null}function Vt(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(AE(r)||OE(r)||h_(r))&&(e[r]=t[r]);return e}function C5(t){return t==null?null:v.isValidElement(t)?Vt(t.props):typeof t=="object"&&!Array.isArray(t)?Vt(t):null}var E5=["children","width","height","viewBox","className","style","title","desc"];function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lg.apply(null,arguments)}function A5(t,e){if(t==null)return{};var r,n,i=O5(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function O5(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var TE=v.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:l,title:u,desc:c}=t,d=A5(t,E5),h=a||{width:n,height:i,x:0,y:0},f=Re("recharts-surface",s);return v.createElement("svg",lg({},Vt(d),{className:f,width:n,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),v.createElement("title",null,u),v.createElement("desc",null,c),r)}),T5=["children","className"];function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ug.apply(null,arguments)}function z5(t,e){if(t==null)return{};var r,n,i=I5(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function I5(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ut=v.forwardRef((t,e)=>{var{children:r,className:n}=t,i=z5(t,T5),a=Re("recharts-layer",n);return v.createElement("g",ug({className:a},Vt(i),{ref:e}),r)}),N5=v.createContext(null);function Ve(t){return function(){return t}}const zE=Math.cos,Sd=Math.sin,jn=Math.sqrt,jd=Math.PI,Uh=2*jd,cg=Math.PI,dg=2*cg,fa=1e-6,R5=dg-fa;function IE(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function D5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return IE;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class L5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?IE:D5(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=n-e,c=i-r,d=s-e,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>fa)if(!(Math.abs(h*u-c*d)>fa)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-s,g=i-l,y=u*u+c*c,x=m*m+g*g,_=Math.sqrt(y),b=Math.sqrt(f),S=a*Math.tan((cg-Math.acos((y+f-x)/(2*_*b)))/2),k=S/b,p=S/_;Math.abs(k-1)>fa&&this._append`L${e+k*d},${r+k*h}`,this._append`A${a},${a},0,0,${+(h*m>d*g)},${this._x1=e+p*u},${this._y1=r+p*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),u=n*Math.sin(i),c=e+l,d=r+u,h=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>fa||Math.abs(this._y1-d)>fa)&&this._append`L${c},${d}`,n&&(f<0&&(f=f%dg+dg),f>R5?this._append`A${n},${n},0,1,${h},${e-l},${r-u}A${n},${n},0,1,${h},${this._x1=c},${this._y1=d}`:f>fa&&this._append`A${n},${n},0,${+(f>=cg)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function f_(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new L5(e)}function p_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function NE(t){this._context=t}NE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kh(t){return new NE(t)}function RE(t){return t[0]}function DE(t){return t[1]}function LE(t,e){var r=Ve(!0),n=null,i=Kh,a=null,s=f_(l);t=typeof t=="function"?t:t===void 0?RE:Ve(t),e=typeof e=="function"?e:e===void 0?DE:Ve(e);function l(u){var c,d=(u=p_(u)).length,h,f=!1,m;for(n==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&r(h=u[c],c,u))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,c,u),+e(h,c,u));if(m)return a=null,m+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Ve(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Ve(+u),l):e},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ve(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),l):n},l}function uc(t,e,r){var n=null,i=Ve(!0),a=null,s=Kh,l=null,u=f_(c);t=typeof t=="function"?t:t===void 0?RE:Ve(+t),e=typeof e=="function"?e:Ve(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?DE:Ve(+r);function c(h){var f,m,g,y=(h=p_(h)).length,x,_=!1,b,S=new Array(y),k=new Array(y);for(a==null&&(l=s(b=u())),f=0;f<=y;++f){if(!(f<y&&i(x=h[f],f,h))===_)if(_=!_)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(S[g],k[g]);l.lineEnd(),l.areaEnd()}_&&(S[f]=+t(x,f,h),k[f]=+e(x,f,h),l.point(n?+n(x,f,h):S[f],r?+r(x,f,h):k[f]))}if(b)return l=null,b+""||null}function d(){return LE().defined(i).curve(s).context(a)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ve(+h),n=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ve(+h),c):t},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ve(+h),c):n},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ve(+h),r=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ve(+h),c):e},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ve(+h),c):r},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(r)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ve(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,a!=null&&(l=s(a)),c):s},c.context=function(h){return arguments.length?(h==null?a=l=null:l=s(a=h),c):a},c}class BE{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function B5(t){return new BE(t,!0)}function $5(t){return new BE(t,!1)}const m_={draw(t,e){const r=jn(e/jd);t.moveTo(r,0),t.arc(0,0,r,0,Uh)}},F5={draw(t,e){const r=jn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},$E=jn(1/3),W5=$E*2,U5={draw(t,e){const r=jn(e/W5),n=r*$E;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},K5={draw(t,e){const r=jn(e),n=-r/2;t.rect(n,n,r,r)}},V5=.8908130915292852,FE=Sd(jd/10)/Sd(7*jd/10),H5=Sd(Uh/10)*FE,Y5=-zE(Uh/10)*FE,G5={draw(t,e){const r=jn(e*V5),n=H5*r,i=Y5*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Uh*a/5,l=zE(s),u=Sd(s);t.lineTo(u*r,-l*r),t.lineTo(l*n-u*i,u*n+l*i)}t.closePath()}},Nm=jn(3),X5={draw(t,e){const r=-jn(e/(Nm*3));t.moveTo(0,r*2),t.lineTo(-Nm*r,-r),t.lineTo(Nm*r,-r),t.closePath()}},Wr=-.5,Ur=jn(3)/2,hg=1/jn(12),q5=(hg/2+1)*3,Z5={draw(t,e){const r=jn(e/q5),n=r/2,i=r*hg,a=n,s=r*hg+r,l=-a,u=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(l,u),t.lineTo(Wr*n-Ur*i,Ur*n+Wr*i),t.lineTo(Wr*a-Ur*s,Ur*a+Wr*s),t.lineTo(Wr*l-Ur*u,Ur*l+Wr*u),t.lineTo(Wr*n+Ur*i,Wr*i-Ur*n),t.lineTo(Wr*a+Ur*s,Wr*s-Ur*a),t.lineTo(Wr*l+Ur*u,Wr*u-Ur*l),t.closePath()}};function Q5(t,e){let r=null,n=f_(i);t=typeof t=="function"?t:Ve(t||m_),e=typeof e=="function"?e:Ve(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ve(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ve(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function kd(){}function Pd(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function WE(t){this._context=t}WE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function J5(t){return new WE(t)}function UE(t){this._context=t}UE.prototype={areaStart:kd,areaEnd:kd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e4(t){return new UE(t)}function KE(t){this._context=t}KE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t4(t){return new KE(t)}function VE(t){this._context=t}VE.prototype={areaStart:kd,areaEnd:kd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function r4(t){return new VE(t)}function sS(t){return t<0?-1:1}function oS(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(sS(a)+sS(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function lS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Rm(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,s-l*r,a,s)}function Md(t){this._context=t}Md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rm(this,this._t0,lS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rm(this,lS(this,r=oS(this,t,e)),r);break;default:Rm(this,this._t0,r=oS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function HE(t){this._context=new YE(t)}(HE.prototype=Object.create(Md.prototype)).point=function(t,e){Md.prototype.point.call(this,e,t)};function YE(t){this._context=t}YE.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function n4(t){return new Md(t)}function i4(t){return new HE(t)}function GE(t){this._context=t}GE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=uS(t),i=uS(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uS(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function a4(t){return new GE(t)}function Vh(t,e){this._context=t,this._t=e}Vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function s4(t){return new Vh(t,.5)}function o4(t){return new Vh(t,0)}function l4(t){return new Vh(t,1)}function Fa(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,l=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function fg(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function u4(t,e){return t[e]}function c4(t){const e=[];return e.key=t,e}function d4(){var t=Ve([]),e=fg,r=Fa,n=u4;function i(a){var s=Array.from(t.apply(this,arguments),c4),l,u=s.length,c=-1,d;for(const h of a)for(l=0,++c;l<u;++l)(s[l][c]=[0,+n(h,s[l].key,c,a)]).data=h;for(l=0,d=p_(e(s));l<u;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ve(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ve(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?fg:typeof a=="function"?a:Ve(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Fa,i):r},i}function h4(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Fa(t,e)}}function f4(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Fa(t,e)}}function p4(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,u=0,c=0;l<s;++l){for(var d=t[e[l]],h=d[n][1]||0,f=d[n-1][1]||0,m=(h-f)/2,g=0;g<l;++g){var y=t[e[g]],x=y[n][1]||0,_=y[n-1][1]||0;m+=x-_}u+=h,c+=m*h}i[n-1][1]+=i[n-1][0]=r,u&&(r-=c/u)}i[n-1][1]+=i[n-1][0]=r,Fa(t,e)}}var Hh={},XE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(XE);var v_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(v_);var Yh={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(Yh);var Gh={},qE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(qE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qE,r=Yh;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,u="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const h=i[l];c?h==="\\"&&l+1<s?(l++,u+=i[l]):h===c?c="":u+=h:d?h==='"'||h==="'"?c=h:h==="]"?(d=!1,a.push(u),u=""):u+=h:h==="["?(d=!0,u&&(a.push(u),u="")):h==="."?u&&(a.push(u),u=""):u+=h,l++}return u&&a.push(u),a}t.toPath=n})(Gh);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XE,r=v_,n=Yh,i=Gh;function a(l,u,c){if(l==null)return c;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?r.isDeepKey(u)?a(l,i.toPath(u),c):c:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=l[u];return d===void 0?c:d}default:{if(Array.isArray(u))return s(l,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?c:d}}}function s(l,u,c){if(u.length===0)return c;let d=l;for(let h=0;h<u.length;h++){if(d==null||e.isUnsafeProperty(u[h]))return c;d=d[u[h]]}return d===void 0?c:d}t.get=a})(Hh);var m4=Hh.get;const Gs=vi(m4);var v4=4;function Bi(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v4,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function st(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,a,s)=>{var l=r[s-1];return typeof l=="string"?i+l+a:l!==void 0?i+Bi(l)+a:i+a},"")}var gr=t=>t===0?0:t>0?1:-1,bn=t=>typeof t=="number"&&t!=+t,Wa=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,le=t=>(typeof t=="number"||t instanceof Number)&&!bn(t),en=t=>le(t)||typeof t=="string",g4=0,$l=t=>{var e=++g4;return"".concat(t||"").concat(e)},wn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&typeof e!="string")return n;var a;if(Wa(e)){if(r==null)return n;var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return bn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},ZE=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function Oe(t,e,r){return le(t)&&le(e)?Bi(t+r*(e-t)):e}function QE(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Gs(n,e))===r)}var y4=t=>{for(var e=t.length,r=0,n=0,i=0,a=0,s=1/0,l=-1/0,u=0,c=0,d=0;d<e;d++){var h,f;u=((h=t[d])===null||h===void 0?void 0:h.cx)||0,c=((f=t[d])===null||f===void 0?void 0:f.cy)||0,r+=u,n+=c,i+=u*c,a+=u*u,s=Math.min(s,u),l=Math.max(l,u)}var m=e*a!==r*r?(e*i-r*n)/(e*a-r*r):0;return{xmin:s,xmax:l,a:m,b:(n-m*r)/e}},Be=t=>t===null||typeof t>"u",uu=t=>Be(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function yr(t){return t!=null}function na(){}var _4=["type","size","sizeType"];function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pg.apply(null,arguments)}function cS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(r),!0).forEach(function(n){x4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x4(t,e,r){return(e=b4(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b4(t){var e=w4(t,"string");return typeof e=="symbol"?e:e+""}function w4(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S4(t,e){if(t==null)return{};var r,n,i=j4(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function j4(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var JE={symbolCircle:m_,symbolCross:F5,symbolDiamond:U5,symbolSquare:K5,symbolStar:G5,symbolTriangle:X5,symbolWye:Z5},k4=Math.PI/180,P4=t=>{var e="symbol".concat(uu(t));return JE[e]||m_},M4=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*k4;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},C4=(t,e)=>{JE["symbol".concat(uu(t))]=e},g_=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=S4(t,_4),a=dS(dS({},i),{},{type:e,size:r,sizeType:n}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var f=P4(s),m=Q5().type(f).size(M4(r,n,s)),g=m();if(g!==null)return g},{className:u,cx:c,cy:d}=a,h=Vt(a);return le(c)&&le(d)&&le(r)?v.createElement("path",pg({},h,{className:Re("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:l()})):null};g_.registerSymbol=C4;var e2=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,y_=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{h_(i)&&(n[i]=a=>r[i](r,a))}),n},E4=(t,e,r)=>n=>(t(e,r,n),null),Xh=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];h_(i)&&typeof a=="function"&&(n||(n={}),n[i]=E4(a,e,r))}),n},A4=t=>Array.isArray(t)&&t.length>0;function hS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(r),!0).forEach(function(n){T4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T4(t,e,r){return(e=z4(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z4(t){var e=I4(t,"string");return typeof e=="symbol"?e:e+""}function I4(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bt(t,e){var r=O4({},t),n=e,i=Object.keys(e),a=i.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return a}var t2={},r2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],l=n(s,a,r);i.has(l)||i.set(l,s)}return Array.from(i.values())}t.uniqBy=e})(r2);var n2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}t.ary=e})(n2);var __={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(__);var i2={},qh={},a2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(a2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a2;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(qh);var s2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(s2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qh,r=s2;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(i2);var o2={},l2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hh;function r(n){return function(i){return e.get(i,n)}}t.property=r})(l2);var u2={},x_={},c2={},b_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(b_);var w_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(w_);var S_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.isEqualsSameValueZero=e})(S_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b_,r=w_,n=S_;function i(d,h,f){return typeof f!="function"?i(d,h,()=>{}):a(d,h,function m(g,y,x,_,b,S){const k=f(g,y,x,_,b,S);return k!==void 0?!!k:a(g,y,m,S)},new Map)}function a(d,h,f,m){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,f,m);case"function":return Object.keys(h).length>0?a(d,{...h},f,m):n.isEqualsSameValueZero(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:n.isEqualsSameValueZero(d,h)}}function s(d,h,f,m){if(h==null)return!0;if(Array.isArray(h))return u(d,h,f,m);if(h instanceof Map)return l(d,h,f,m);if(h instanceof Set)return c(d,h,f,m);const g=Object.keys(h);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(h))return m.get(h)===d;m==null||m.set(h,d);try{for(let y=0;y<g.length;y++){const x=g[y];if(!r.isPrimitive(d)&&!(x in d)||h[x]===void 0&&d[x]!==void 0||h[x]===null&&d[x]!==null||!f(d[x],h[x],x,d,h,m))return!1}return!0}finally{m==null||m.delete(h)}}function l(d,h,f,m){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of h.entries()){const x=d.get(g);if(f(x,y,g,d,h,m)===!1)return!1}return!0}function u(d,h,f,m){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<h.length;y++){const x=h[y];let _=!1;for(let b=0;b<d.length;b++){if(g.has(b))continue;const S=d[b];let k=!1;if(f(S,x,y,d,h,m)&&(k=!0),k){g.add(b),_=!0;break}}if(!_)return!1}return!0}function c(d,h,f,m){return h.size===0?!0:d instanceof Set?u([...d],[...h],f,m):!1}t.isMatchWith=i,t.isSetMatch=c})(c2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c2;function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(x_);var d2={},j_={},h2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(h2);var Zh={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Zh);var k_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",c="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",x="[object Uint8Array]",_="[object Uint8ClampedArray]",b="[object Uint16Array]",S="[object Uint32Array]",k="[object BigUint64Array]",p="[object Int8Array]",j="[object Int16Array]",C="[object Int32Array]",T="[object BigInt64Array]",E="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=f,t.arrayTag=d,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=k,t.booleanTag=i,t.dataViewTag=y,t.dateTag=l,t.errorTag=g,t.float32ArrayTag=E,t.float64ArrayTag=z,t.functionTag=h,t.int16ArrayTag=j,t.int32ArrayTag=C,t.int8ArrayTag=p,t.mapTag=u,t.numberTag=n,t.objectTag=m,t.regexpTag=e,t.setTag=c,t.stringTag=r,t.symbolTag=s,t.uint16ArrayTag=b,t.uint32ArrayTag=S,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=_})(k_);var f2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(f2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h2,r=Zh,n=k_,i=w_,a=f2;function s(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,f,m=new Map,g=void 0){const y=g==null?void 0:g(d,h,f,m);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let _=0;_<d.length;_++)x[_]=l(d[_],_,f,m,g);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[_,b]of d)x.set(_,l(b,_,f,m,g));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const _ of d)x.add(l(_,void 0,f,m,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let _=0;_<d.length;_++)x[_]=l(d[_],_,f,m,g);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),u(x,d,f,m,g),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),u(x,d,f,m,g),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),u(x,d,f,m,g),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,u(x,d,f,m,g),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),u(x,d,f,m,g),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),u(x,d,f,m,g),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),u(x,d,f,m,g),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),u(x,d,f,m,g),x}return d}function u(d,h,f=d,m,g){const y=[...Object.keys(h),...e.getSymbols(h)];for(let x=0;x<y.length;x++){const _=y[x],b=Object.getOwnPropertyDescriptor(d,_);(b==null||b.writable)&&(d[_]=l(h[_],_,f,m,g))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=u})(j_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j_;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(d2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x_,r=d2;function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(u2);var p2={},m2={},v2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j_,r=Zh,n=k_;function i(a,s){return e.cloneDeepWith(a,(l,u,c,d)=>{const h=s==null?void 0:s(l,u,c,d);if(h!==void 0)return h;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const f={};return d.set(a,f),e.copyProperties(f,a,c,d),f}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(f,a),f}case n.argumentsTag:{const f={};return e.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}}})}t.cloneDeepWith=i})(v2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v2;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(m2);var g2={},P_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(P_);var y2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zh;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(y2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v_,r=P_,n=y2,i=Gh;function a(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(s==null?void 0:s[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let c=s;for(let d=0;d<u.length;d++){const h=u[d];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=a})(g2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x_,r=Yh,n=m2,i=Hh,a=g2;function s(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(c){const d=i.get(c,l);return d===void 0?a.has(c,l):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=s})(p2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=__,r=l2,n=u2,i=p2;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}t.iteratee=a})(o2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r2,r=n2,n=__,i=i2,a=o2;function s(l,u=n.identity){return i.isArrayLikeObject(l)?e.uniqBy(Array.from(l),r.ary(a.iteratee(u),1)):[]}t.uniqBy=s})(t2);var N4=t2.uniqBy;const fS=vi(N4);function R4(t,e,r){return e===!0?fS(t,r):typeof e=="function"?fS(t,e):t}var _2={exports:{}},x2={},b2={exports:{}},w2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=v;function D4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var L4=typeof Object.is=="function"?Object.is:D4,B4=Xs.useState,$4=Xs.useEffect,F4=Xs.useLayoutEffect,W4=Xs.useDebugValue;function U4(t,e){var r=e(),n=B4({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return F4(function(){i.value=r,i.getSnapshot=e,Dm(i)&&a({inst:i})},[t,r,e]),$4(function(){return Dm(i)&&a({inst:i}),t(function(){Dm(i)&&a({inst:i})})},[t]),W4(r),r}function Dm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!L4(t,r)}catch{return!0}}function K4(t,e){return e()}var V4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K4:U4;w2.useSyncExternalStore=Xs.useSyncExternalStore!==void 0?Xs.useSyncExternalStore:V4;b2.exports=w2;var H4=b2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=v,Y4=H4;function G4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var X4=typeof Object.is=="function"?Object.is:G4,q4=Y4.useSyncExternalStore,Z4=Qh.useRef,Q4=Qh.useEffect,J4=Qh.useMemo,e8=Qh.useDebugValue;x2.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Z4(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=J4(function(){function u(m){if(!c){if(c=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return h=g}return h=m}if(g=h,X4(d,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(d=m,g):(d=m,h=y)}var c=!1,d,h,f=r===void 0?null:r;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,r,n,i]);var l=q4(t,a[0],a[1]);return Q4(function(){s.hasValue=!0,s.value=l},[l]),e8(l),l};_2.exports=x2;var t8=_2.exports,M_=v.createContext(null),r8=t=>t,ct=()=>{var t=v.useContext(M_);return t?t.store.dispatch:r8},Uc=()=>{},n8=()=>Uc,i8=(t,e)=>t===e;function de(t){var e=v.useContext(M_),r=v.useMemo(()=>e?n=>{if(n!=null)return t(n)}:Uc,[e,t]);return t8.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:n8,e?e.store.getState:Uc,e?e.store.getState:Uc,r,i8)}function a8(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function s8(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function o8(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var pS=t=>Array.isArray(t)?t:[t];function l8(t){const e=Array.isArray(t[0])?t[0]:t;return o8(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function u8(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var c8=class{constructor(t){this.value=t}deref(){return this.value}},d8=typeof WeakRef<"u"?WeakRef:c8,h8=0,mS=1;function cc(){return{s:h8,v:void 0,o:null,p:null}}function S2(t,e={}){let r=cc();const{resultEqualityCheck:n}=e;let i,a=0;function s(){var h;let l=r;const{length:u}=arguments;for(let f=0,m=u;f<m;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(g);x===void 0?(l=cc(),y.set(g,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(g);x===void 0?(l=cc(),y.set(g,l)):l=x}}const c=l;let d;if(l.s===mS)d=l.v;else if(d=t.apply(null,arguments),a++,n){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&n(f,d)&&(d=f,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new d8(d):d}return c.s=mS,c.v=d,d}return s.clearCache=()=>{r=cc(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function f8(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,s=0,l,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),a8(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...u},{memoize:h,memoizeOptions:f=[],argsMemoize:m=S2,argsMemoizeOptions:g=[]}=d,y=pS(f),x=pS(g),_=l8(i),b=h(function(){return a++,c.apply(null,arguments)},...y),S=m(function(){s++;const p=u8(_,arguments);return l=b.apply(null,p),l},...x);return Object.assign(S,{resultFunc:c,memoizedResultFunc:b,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var F=f8(S2),p8=Object.assign((t,e=F)=>{s8(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((s,l,u)=>(s[r[u]]=l,s),{}))},{withTypes:()=>p8}),j2={},k2={},P2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=e(n),l=e(i);if(s===l&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=r})(P2);var M2={},C_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(C_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C_,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(M2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P2,r=M2,n=Gh;function i(a,s,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const c=(m,g)=>{let y=m;for(let x=0;x<g.length&&y!=null;++x)y=y[g[x]];return y},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:c(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?c(g,m):typeof g=="object"?g[m]:g,h=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:h.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let y=0;y<h.length;y++){const x=e.compareValues(m.criteria[y],g.criteria[y],l[y]);if(x!==0)return x}return 0}).map(m=>m.original)}t.orderBy=i})(k2);var C2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),s=(l,u)=>{for(let c=0;c<l.length;c++){const d=l[c];Array.isArray(d)&&u<a?s(d,u+1):i.push(d)}};return s(r,0),i}t.flatten=e})(C2);var E_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P_,r=qh,n=b_,i=S_;function a(s,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.isEqualsSameValueZero(u[l],s):!1}t.isIterateeCall=a})(E_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k2,r=C2,n=E_;function i(a,...s){const l=s.length;return l>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,r.flatten(s),["asc"])}t.sortBy=i})(j2);var m8=j2.sortBy;const Jh=vi(m8);var E2=t=>t.legend.settings,v8=t=>t.legend.size,g8=t=>t.legend.payload;F([g8,E2],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Jh(n,r):n});var dc=1;function y8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>dc||Math.abs(s.left-e.left)>dc||Math.abs(s.top-e.top)>dc||Math.abs(s.width-e.width)>dc)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Dt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _8=typeof Symbol=="function"&&Symbol.observable||"@@observable",vS=_8,Lm=()=>Math.random().toString(36).substring(7).split("").join("."),x8={INIT:`@@redux/INIT${Lm()}`,REPLACE:`@@redux/REPLACE${Lm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lm()}`},Cd=x8;function A_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function A2(t,e,r){if(typeof t!="function")throw new Error(Dt(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Dt(1));return r(A2)(t,e)}let n=t,i=e,a=new Map,s=a,l=0,u=!1;function c(){s===a&&(s=new Map,a.forEach((x,_)=>{s.set(_,x)}))}function d(){if(u)throw new Error(Dt(3));return i}function h(x){if(typeof x!="function")throw new Error(Dt(4));if(u)throw new Error(Dt(5));let _=!0;c();const b=l++;return s.set(b,x),function(){if(_){if(u)throw new Error(Dt(6));_=!1,c(),s.delete(b),a=null}}}function f(x){if(!A_(x))throw new Error(Dt(7));if(typeof x.type>"u")throw new Error(Dt(8));if(typeof x.type!="string")throw new Error(Dt(17));if(u)throw new Error(Dt(9));try{u=!0,i=n(i,x)}finally{u=!1}return(a=s).forEach(b=>{b()}),x}function m(x){if(typeof x!="function")throw new Error(Dt(10));n=x,f({type:Cd.REPLACE})}function g(){const x=h;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Dt(11));function b(){const k=_;k.next&&k.next(d())}return b(),{unsubscribe:x(b)}},[vS](){return this}}}return f({type:Cd.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[vS]:g}}function b8(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Cd.INIT})>"u")throw new Error(Dt(12));if(typeof r(void 0,{type:Cd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function O2(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;try{b8(r)}catch(a){i=a}return function(s={},l){if(i)throw i;let u=!1;const c={};for(let d=0;d<n.length;d++){const h=n[d],f=r[h],m=s[h],g=f(m,l);if(typeof g>"u")throw l&&l.type,new Error(Dt(14));c[h]=g,u=u||g!==m}return u=u||n.length!==Object.keys(s).length,u?c:s}}function Ed(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function w8(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Dt(15))};const s={getState:i.getState,dispatch:(u,...c)=>a(u,...c)},l=t.map(u=>u(s));return a=Ed(...l)(i.dispatch),{...i,dispatch:a}}}function T2(t){return A_(t)&&"type"in t&&typeof t.type=="string"}var z2=Symbol.for("immer-nothing"),gS=Symbol.for("immer-draftable"),lr=Symbol.for("immer-state");function pn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zr=Object,qs=zr.getPrototypeOf,Ad="constructor",ef="prototype",mg="configurable",Od="enumerable",Kc="writable",Fl="value",ui=t=>!!t&&!!t[lr];function Sn(t){var e;return t?I2(t)||rf(t)||!!t[gS]||!!((e=t[Ad])!=null&&e[gS])||nf(t)||af(t):!1}var S8=zr[ef][Ad].toString(),yS=new WeakMap;function I2(t){if(!t||!O_(t))return!1;const e=qs(t);if(e===null||e===zr[ef])return!0;const r=zr.hasOwnProperty.call(e,Ad)&&e[Ad];if(r===Object)return!0;if(!ls(r))return!1;let n=yS.get(r);return n===void 0&&(n=Function.toString.call(r),yS.set(r,n)),n===S8}function tf(t,e,r=!0){cu(t)===0?(r?Reflect.ownKeys(t):zr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function cu(t){const e=t[lr];return e?e.type_:rf(t)?1:nf(t)?2:af(t)?3:0}var _S=(t,e,r=cu(t))=>r===2?t.has(e):zr[ef].hasOwnProperty.call(t,e),vg=(t,e,r=cu(t))=>r===2?t.get(e):t[e],Td=(t,e,r,n=cu(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function j8(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var rf=Array.isArray,nf=t=>t instanceof Map,af=t=>t instanceof Set,O_=t=>typeof t=="object",ls=t=>typeof t=="function",Bm=t=>typeof t=="boolean";function k8(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Gn=t=>t.copy_||t.base_,T_=t=>t.modified_?t.copy_:t.base_;function gg(t,e){if(nf(t))return new Map(t);if(af(t))return new Set(t);if(rf(t))return Array[ef].slice.call(t);const r=I2(t);if(e===!0||e==="class_only"&&!r){const n=zr.getOwnPropertyDescriptors(t);delete n[lr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],l=n[s];l[Kc]===!1&&(l[Kc]=!0,l[mg]=!0),(l.get||l.set)&&(n[s]={[mg]:!0,[Kc]:!0,[Od]:l[Od],[Fl]:t[s]})}return zr.create(qs(t),n)}else{const n=qs(t);if(n!==null&&r)return{...t};const i=zr.create(n);return zr.assign(i,t)}}function z_(t,e=!1){return sf(t)||ui(t)||!Sn(t)||(cu(t)>1&&zr.defineProperties(t,{set:hc,add:hc,clear:hc,delete:hc}),zr.freeze(t),e&&tf(t,(r,n)=>{z_(n,!0)},!1)),t}function P8(){pn(2)}var hc={[Fl]:P8};function sf(t){return t===null||!O_(t)?!0:zr.isFrozen(t)}var zd="MapSet",yg="Patches",xS="ArrayMethods",N2={};function Ua(t){const e=N2[t];return e||pn(0,t),e}var bS=t=>!!N2[t],Wl,R2=()=>Wl,M8=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:bS(zd)?Ua(zd):void 0,arrayMethodsPlugin_:bS(xS)?Ua(xS):void 0});function wS(t,e){e&&(t.patchPlugin_=Ua(yg),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function _g(t){xg(t),t.drafts_.forEach(C8),t.drafts_=null}function xg(t){t===Wl&&(Wl=t.parent_)}var SS=t=>Wl=M8(Wl,t);function C8(t){const e=t[lr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[lr].modified_&&(_g(e),pn(4)),Sn(t)&&(t=kS(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[lr].base_,t,e)}else t=kS(e,r);return E8(e,t,!0),_g(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==z2?t:void 0}function kS(t,e){if(sf(e))return e;const r=e[lr];if(!r)return Id(e,t.handledSet_,t);if(!of(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);B2(r,t)}return r.copy_}function E8(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&z_(e,r)}function D2(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var of=(t,e)=>t.scope_===e,A8=[];function L2(t,e,r,n){const i=Gn(t),a=t.type_;if(n!==void 0&&vg(i,n,a)===e){Td(i,n,r,a);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;tf(i,(u,c)=>{if(ui(c)){const d=l.get(c)||[];d.push(u),l.set(c,d)}})}const s=t.draftLocations_.get(e)??A8;for(const l of s)Td(i,l,r,a)}function O8(t,e,r){t.callbacks_.push(function(i){var l;const a=e;if(!a||!of(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const s=T_(a);L2(t,a.draft_??a,s,r),B2(a,i)})}function B2(t,e){var n;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((n=t.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}D2(t)}}function T8(t,e,r){const{scope_:n}=t;if(ui(r)){const i=r[lr];of(i,n)&&i.callbacks_.push(function(){Vc(t);const s=T_(i);L2(t,r,s,e)})}else Sn(r)&&t.callbacks_.push(function(){const a=Gn(t);t.type_===3?a.has(r)&&Id(r,n.handledSet_,n):vg(a,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Id(vg(t.copy_,e,t.type_),n.handledSet_,n)})}function Id(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ui(t)||e.has(t)||!Sn(t)||sf(t)||(e.add(t),tf(t,(n,i)=>{if(ui(i)){const a=i[lr];if(of(a,r)){const s=T_(a);Td(t,n,s,t.type_),D2(a)}}else Sn(i)&&Id(i,e,r)})),t}function z8(t,e){const r=rf(t),n={type_:r?1:0,scope_:e?e.scope_:R2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Nd;r&&(i=[n],a=Ul);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=s,[l,n]}var Nd={get(t,e){if(e===lr)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r!=null&&r.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const i=Gn(t);if(!_S(i,e,t.type_))return I8(t,i,e);const a=i[e];if(t.finalized_||!Sn(a)||n&&t.operationMethod&&(r!=null&&r.isMutatingArrayMethod(t.operationMethod))&&k8(e))return a;if(a===$m(t.base_,e)){Vc(t);const s=t.type_===1?+e:e,l=wg(t.scope_,a,t,s);return t.copy_[s]=l}return a},has(t,e){return e in Gn(t)},ownKeys(t){return Reflect.ownKeys(Gn(t))},set(t,e,r){const n=$2(Gn(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=$m(Gn(t),e),a=i==null?void 0:i[lr];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(j8(r,i)&&(r!==void 0||_S(t.base_,e,t.type_)))return!0;Vc(t),bg(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),T8(t,e,r)),!0},deleteProperty(t,e){return Vc(t),$m(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),bg(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Gn(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[Kc]:!0,[mg]:t.type_!==1||e!=="length",[Od]:n[Od],[Fl]:r[e]}},defineProperty(){pn(11)},getPrototypeOf(t){return qs(t.base_)},setPrototypeOf(){pn(12)}},Ul={};for(let t in Nd){let e=Nd[t];Ul[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}Ul.deleteProperty=function(t,e){return Ul.set.call(this,t,e,void 0)};Ul.set=function(t,e,r){return Nd.set.call(this,t[0],e,r,t[0])};function $m(t,e){const r=t[lr];return(r?Gn(r):t)[e]}function I8(t,e,r){var i;const n=$2(e,r);return n?Fl in n?n[Fl]:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function $2(t,e){if(!(e in t))return;let r=qs(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=qs(r)}}function bg(t){t.modified_||(t.modified_=!0,t.parent_&&bg(t.parent_))}function Vc(t){t.copy_||(t.assigned_=new Map,t.copy_=gg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var N8=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(ls(r)&&!ls(n)){const s=n;n=r;const l=this;return function(c=s,...d){return l.produce(c,h=>n.call(this,h,...d))}}ls(n)||pn(6),i!==void 0&&!ls(i)&&pn(7);let a;if(Sn(r)){const s=SS(this),l=wg(s,r,void 0);let u=!0;try{a=n(l),u=!1}finally{u?_g(s):xg(s)}return wS(s,i),jS(a,s)}else if(!r||!O_(r)){if(a=n(r),a===void 0&&(a=r),a===z2&&(a=void 0),this.autoFreeze_&&z_(a,!0),i){const s=[],l=[];Ua(yg).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:l}),i(s,l)}return a}else pn(1,r)},this.produceWithPatches=(r,n)=>{if(ls(r))return(l,...u)=>this.produceWithPatches(l,c=>r(c,...u));let i,a;return[this.produce(r,n,(l,u)=>{i=l,a=u}),i,a]},Bm(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Bm(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Bm(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Sn(e)||pn(8),ui(e)&&(e=_n(e));const r=SS(this),n=wg(r,e,void 0);return n[lr].isManual_=!0,xg(r),n}finishDraft(e,r){const n=e&&e[lr];(!n||!n.isManual_)&&pn(9);const{scope_:i}=n;return wS(i,r),jS(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Ua(yg).applyPatches_;return ui(e)?i(e,r):this.produce(e,a=>i(a,r))}};function wg(t,e,r,n){const[i,a]=nf(e)?Ua(zd).proxyMap_(e,r):af(e)?Ua(zd).proxySet_(e,r):z8(e,r);return((r==null?void 0:r.scope_)??R2()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?O8(r,a,n):a.callbacks_.push(function(u){var d;(d=u.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=u;a.modified_&&c&&c.generatePatches_(a,[],u)}),i}function _n(t){return ui(t)||pn(10,t),F2(t)}function F2(t){if(!Sn(t)||sf(t))return t;const e=t[lr];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=gg(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=gg(t,!0);return tf(r,(i,a)=>{Td(r,i,F2(a))},n),e&&(e.finalized_=!1),r}var R8=new N8,W2=R8.produce;function U2(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var D8=U2(),L8=U2,B8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ed:Ed.apply(null,arguments)};function tn(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Rr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>T2(n)&&n.type===t,r}var K2=class Qo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Qo.prototype)}static get[Symbol.species](){return Qo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Qo(...e[0].concat(this)):new Qo(...e.concat(this))}};function PS(t){return Sn(t)?W2(t,()=>{}):t}function fc(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function $8(t){return typeof t=="boolean"}var F8=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new K2;return r&&($8(r)?s.push(D8):s.push(L8(r.extraArgument))),s},V2="RTK_autoBatch",Je=()=>t=>({payload:t,meta:{[V2]:!0}}),MS=t=>e=>{setTimeout(e,t)},H2=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,s=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:MS(10):t.type==="callback"?t.queueNotification:MS(t.timeout),c=()=>{s=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>i&&d(),f=n.subscribe(h);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[V2]),a=!i,a&&(s||(s=!0,u(c))),n.dispatch(d)}finally{i=!0}}})},W8=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new K2(t);return n&&i.push(H2(typeof n=="object"?n:void 0)),i};function U8(t){const e=F8(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(A_(r))l=O2(r);else throw new Error(Rr(1));let u;typeof n=="function"?u=n(e):u=e();let c=Ed;i&&(c=B8({trace:!1,...typeof i=="object"&&i}));const d=w8(...u),h=W8(d);let f=typeof s=="function"?s(h):h();const m=c(...f);return A2(l,a,m)}function Y2(t){const e={},r=[];let n;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Rr(28));if(l in e)throw new Error(Rr(29));return e[l]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function K8(t){return typeof t=="function"}function V8(t,e){let[r,n,i]=Y2(e),a;if(K8(t))a=()=>PS(t());else{const l=PS(t);a=()=>l}function s(l=a(),u){let c=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(ui(d)){const m=h(d,u);return m===void 0?d:m}else{if(Sn(d))return W2(d,f=>h(f,u));{const f=h(d,u);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return s.getInitialState=a,s}var H8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Y8=(t=21)=>{let e="",r=t;for(;r--;)e+=H8[Math.random()*64|0];return e},G8=Symbol.for("rtk-slice-createasyncthunk");function X8(t,e){return`${t}/${e}`}function q8({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[G8];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Rr(11));const l=(typeof i.reducers=="function"?i.reducers(Q8()):i.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,p){const j=typeof k=="string"?k:k.type;if(!j)throw new Error(Rr(12));if(j in c.sliceCaseReducersByType)throw new Error(Rr(13));return c.sliceCaseReducersByType[j]=p,d},addMatcher(k,p){return c.sliceMatchers.push({matcher:k,reducer:p}),d},exposeAction(k,p){return c.actionCreators[k]=p,d},exposeCaseReducer(k,p){return c.sliceCaseReducersByName[k]=p,d}};u.forEach(k=>{const p=l[k],j={reducerName:k,type:X8(a,k),createNotation:typeof i.reducers=="function"};e6(p)?r6(j,p,d,e):J8(j,p,d)});function h(){const[k={},p=[],j=void 0]=typeof i.extraReducers=="function"?Y2(i.extraReducers):[i.extraReducers],C={...k,...c.sliceCaseReducersByType};return V8(i.initialState,T=>{for(let E in C)T.addCase(E,C[E]);for(let E of c.sliceMatchers)T.addMatcher(E.matcher,E.reducer);for(let E of p)T.addMatcher(E.matcher,E.reducer);j&&T.addDefaultCase(j)})}const f=k=>k,m=new Map,g=new WeakMap;let y;function x(k,p){return y||(y=h()),y(k,p)}function _(){return y||(y=h()),y.getInitialState()}function b(k,p=!1){function j(T){let E=T[k];return typeof E>"u"&&p&&(E=fc(g,j,_)),E}function C(T=f){const E=fc(m,p,()=>new WeakMap);return fc(E,T,()=>{const z={};for(const[B,O]of Object.entries(i.selectors??{}))z[B]=Z8(O,T,()=>fc(g,T,_),p);return z})}return{reducerPath:k,getSelectors:C,get selectors(){return C(j)},selectSlice:j}}const S={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...b(s),injectInto(k,{reducerPath:p,...j}={}){const C=p??s;return k.inject({reducerPath:C,reducer:x},j),{...S,...b(C,!0)}}};return S}}function Z8(t,e,r,n){function i(a,...s){let l=e(a);return typeof l>"u"&&n&&(l=r()),t(l,...s)}return i.unwrapped=t,i}var kr=q8();function Q8(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function J8({type:t,reducerName:e,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!t6(n))throw new Error(Rr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?tn(t,s):tn(t))}function e6(t){return t._reducerDefinitionType==="asyncThunk"}function t6(t){return t._reducerDefinitionType==="reducerWithPrepare"}function r6({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Rr(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:u,settled:c,options:d}=r,h=i(t,a,d);n.exposeAction(e,h),s&&n.addCase(h.fulfilled,s),l&&n.addCase(h.pending,l),u&&n.addCase(h.rejected,u),c&&n.addMatcher(h.settled,c),n.exposeCaseReducer(e,{fulfilled:s||pc,pending:l||pc,rejected:u||pc,settled:c||pc})}function pc(){}var n6="task",G2="listener",X2="completed",I_="cancelled",i6=`task-${I_}`,a6=`task-${X2}`,Sg=`${G2}-${I_}`,s6=`${G2}-${X2}`,lf=class{constructor(t){Vp(this,"name","TaskAbortError");Vp(this,"message");this.code=t,this.message=`${n6} ${I_} (reason: ${t})`}},N_=(t,e)=>{if(typeof t!="function")throw new TypeError(Rr(32))},Rd=()=>{},q2=(t,e=Rd)=>(t.catch(e),t),Z2=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ma=t=>{if(t.aborted)throw new lf(t.reason)};function Q2(t,e){let r=Rd;return new Promise((n,i)=>{const a=()=>i(new lf(t.reason));if(t.aborted){a();return}r=Z2(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Rd})}var o6=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof lf?"cancelled":"rejected",error:r}}finally{e==null||e()}},Dd=t=>e=>q2(Q2(t,e).then(r=>(Ma(t),r))),J2=t=>{const e=Dd(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Ns}=Object,CS={},uf="listenerMiddleware",l6=(t,e)=>{const r=n=>Z2(t,()=>n.abort(t.reason));return(n,i)=>{N_(n);const a=new AbortController;r(a);const s=o6(async()=>{Ma(t),Ma(a.signal);const l=await n({pause:Dd(a.signal),delay:J2(a.signal),signal:a.signal});return Ma(a.signal),l},()=>a.abort(a6));return i!=null&&i.autoJoin&&e.push(s.catch(Rd)),{result:Dd(t)(s),cancel(){a.abort(i6)}}}},u6=(t,e)=>{const r=async(n,i)=>{Ma(e);let a=()=>{};const l=[new Promise((u,c)=>{let d=t({predicate:n,effect:(h,f)=>{f.unsubscribe(),u([h,f.getState(),f.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await Q2(e,Promise.race(l));return Ma(e),u}finally{a()}};return(n,i)=>q2(r(n,i))},eA=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=tn(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Rr(21));return N_(a),{predicate:i,type:e,effect:a}},tA=Ns(t=>{const{type:e,predicate:r,effect:n}=eA(t);return{id:Y8(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Rr(22))}}},{withTypes:()=>tA}),ES=(t,e)=>{const{type:r,effect:n,predicate:i}=eA(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},jg=t=>{t.pending.forEach(e=>{e.abort(Sg)})},c6=(t,e)=>()=>{for(const r of e.keys())jg(r);t.clear()},AS=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},rA=Ns(tn(`${uf}/add`),{withTypes:()=>rA}),d6=tn(`${uf}/removeAll`),nA=Ns(tn(`${uf}/remove`),{withTypes:()=>nA}),h6=(...t)=>{console.error(`${uf}/error`,...t)},du=(t={})=>{const e=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},i=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:a,onError:s=h6}=t;N_(s);const l=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&jg(m)}),u=m=>{const g=ES(e,m)??tA(m);return l(g)};Ns(u,{withTypes:()=>u});const c=m=>{const g=ES(e,m);return g&&(g.unsubscribe(),m.cancelActive&&jg(g)),!!g};Ns(c,{withTypes:()=>c});const d=async(m,g,y,x)=>{const _=new AbortController,b=u6(u,_.signal),S=[];try{m.pending.add(_),n(m),await Promise.resolve(m.effect(g,Ns({},y,{getOriginalState:x,condition:(k,p)=>b(k,p).then(Boolean),take:b,delay:J2(_.signal),pause:Dd(_.signal),extra:a,signal:_.signal,fork:l6(_.signal,S),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((k,p,j)=>{k!==_&&(k.abort(Sg),j.delete(k))})},cancel:()=>{_.abort(Sg),m.pending.delete(_)},throwIfCancelled:()=>{Ma(_.signal)}})))}catch(k){k instanceof lf||AS(s,k,{raisedBy:"effect"})}finally{await Promise.all(S),_.abort(s6),i(m),m.pending.delete(_)}},h=c6(e,r);return{middleware:m=>g=>y=>{if(!T2(y))return g(y);if(rA.match(y))return u(y.payload);if(d6.match(y)){h();return}if(nA.match(y))return c(y.payload);let x=m.getState();const _=()=>{if(x===CS)throw new Error(Rr(23));return x};let b;try{if(b=g(y),e.size>0){const S=m.getState(),k=Array.from(e.values());for(const p of k){let j=!1;try{j=p.predicate(y,S,x)}catch(C){j=!1,AS(s,C,{raisedBy:"predicate"})}j&&d(p,y,m,_)}}}finally{x=CS}return b},startListening:u,stopListening:c,clearListeners:h}};function Rr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var f6={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iA=kr({name:"chartLayout",initialState:f6,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:p6,setLayout:m6,setChartSize:v6,setScale:g6}=iA.actions,y6=iA.reducer;function aA(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function we(t){return Number.isFinite(t)}function Bn(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function OS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(r),!0).forEach(function(n){_6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _6(t,e,r){return(e=x6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x6(t){var e=b6(t,"string");return typeof e=="symbol"?e:e+""}function b6(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ge(t,e,r){return Be(t)||Be(e)?r:en(e)?Gs(t,e,r):typeof e=="function"?e(t):r}var w6=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&le(t[a]))return Ss(Ss({},t),{},{[a]:t[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&le(t[s]))return Ss(Ss({},t),{},{[s]:t[s]+(i||0)})}return t},kn=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",sA=(t,e,r,n)=>{if(n)return t.map(l=>l.coordinate);var i,a,s=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||s.push(e),a||s.push(r),s},oA=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:c,tickCount:d,ticks:h,niceTicks:f,axisType:m}=t;if(!s)return null;var g=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(y=m==="angleAxis"&&a&&a.length>=2?gr(a[0]-a[1])*2*y:y,h||f){var x=(h||f||[]).map((_,b)=>{var S=n?n.indexOf(_):_,k=s.map(S);return we(k)?{coordinate:k+y,value:_,offset:y,index:b}:null}).filter(yr);return x}return u&&c?c.map((_,b)=>{var S=s.map(_);return we(S)?{coordinate:S+y,value:_,index:b,offset:y}:null}).filter(yr):s.ticks&&d!=null?s.ticks(d).map((_,b)=>{var S=s.map(_);return we(S)?{coordinate:S+y,value:_,index:b,offset:y}:null}).filter(yr):s.domain().map((_,b)=>{var S=s.map(_);return we(S)?{coordinate:S+y,value:n?n[_]:_,index:b,offset:y}:null}).filter(yr)},S6=(t,e)=>{if(!e||e.length!==2||!le(e[0])||!le(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!le(t[0])||t[0]<r)&&(i[0]=r),(!le(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},j6=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,l=0;l<r;++l){var u=t[l],c=u==null?void 0:u[i];if(c!=null){var d=c[1],h=c[0],f=bn(d)?h:d;f>=0?(c[0]=a,a+=f,c[1]=a):(c[0]=s,s+=f,c[1]=s)}}}},k6=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var l=t[s],u=l==null?void 0:l[i];if(u!=null){var c=bn(u[1])?u[0]:u[1];c>=0?(u[0]=a,a+=c,u[1]=a):(u[0]=0,u[1]=0)}}}},P6={sign:j6,expand:h4,none:Fa,silhouette:f4,wiggle:p4,positive:k6},M6=(t,e,r)=>{var n,i=(n=P6[r])!==null&&n!==void 0?n:Fa,a=d4().keys(e).value((l,u)=>Number(Ge(l,u,0))).order(fg).offset(i),s=a(t);return s.forEach((l,u)=>{l.forEach((c,d)=>{var h=Ge(t[d],e[u],0);Array.isArray(h)&&h.length===2&&le(h[0])&&le(h[1])&&(c[0]=h[0],c[1]=h[1])})}),s};function lA(t){return t==null?void 0:String(t)}function Zs(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Be(i[e.dataKey])){var l=QE(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var u=Ge(i,Be(s)?e.dataKey:s),c=e.scale.map(u);return le(c)?c:null}var TS=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return r[s]?r[s].coordinate+n:null;var l=Ge(a,e.dataKey,e.scale.domain()[s]);if(Be(l))return null;var u=e.scale.map(l);return le(u)?u-i/2+n:null},C6=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},E6=t=>{var e=t.flat(2).filter(le);return[Math.min(...e),Math.max(...e)]},A6=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],O6=(t,e,r)=>{if(t!=null)return A6(Object.keys(t).reduce((n,i)=>{var a=t[i];if(!a)return n;var{stackedData:s}=a,l=s.reduce((u,c)=>{var d=aA(c,e,r),h=E6(d);return!we(h[0])||!we(h[1])?u:[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},zS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qi=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Jh(e,d=>d.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var u=i[s],c=i[s-1];a=Math.min(((u==null?void 0:u.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function NS(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Ss(Ss({},e),{},{dataKey:r,payload:n,value:i,name:a})}function ia(t,e){if(t)return String(t);if(typeof e=="string")return e}var T6=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},z6=(t,e)=>e==="centric"?t.angle:t.radius,yi=t=>t.layout.width,_i=t=>t.layout.height,I6=t=>t.layout.scale,uA=t=>t.layout.margin,cf=F(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),df=F(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),N6="data-recharts-item-index",cA="data-recharts-item-id",hu=60;function RS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(r),!0).forEach(function(n){R6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R6(t,e,r){return(e=D6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D6(t){var e=L6(t,"string");return typeof e=="symbol"?e:e+""}function L6(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B6=t=>t.brush.height;function $6(t){var e=df(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hu;return r+i}return r},0)}function F6(t){var e=df(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hu;return r+i}return r},0)}function W6(t){var e=cf(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function U6(t){var e=cf(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var zt=F([yi,_i,uA,B6,$6,F6,W6,U6,E2,v8],(t,e,r,n,i,a,s,l,u,c)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},h={top:(r.top||0)+s,bottom:(r.bottom||0)+l},f=mc(mc({},h),d),m=f.bottom;f.bottom+=n,f=w6(f,u,c);var g=t-f.left-f.right,y=e-f.top-f.bottom;return mc(mc({brushBottom:m},f),{},{width:Math.max(g,0),height:Math.max(y,0)})}),K6=F(zt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),R_=F(yi,_i,(t,e)=>({x:0,y:0,width:t,height:e})),V6=v.createContext(null),pt=()=>v.useContext(V6)!=null,hf=t=>t.brush,ff=F([hf,zt,uA],(t,e,r)=>({height:t.height,x:le(t.x)?t.x:e.left,y:le(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:le(t.width)?t.width:e.width})),dA={},hA={},fA={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let s,l=null;const u=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},h=()=>{c&&d(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},n)},g=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{g(),s=void 0,l=null},x=()=>{d()},_=function(...b){if(i!=null&&i.aborted)return;s=this,l=b;const S=f==null;m(),u&&S&&d()};return _.schedule=m,_.cancel=y,_.flush=x,i==null||i.addEventListener("abort",y,{once:!0}),_}t.debounce=e})(fA);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fA;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:u}=a,c=Array(2);s&&(c[0]="leading"),l&&(c[1]="trailing");let d,h=null;const f=e.debounce(function(...y){d=n.apply(this,y),h=null},i,{edges:c}),m=function(...y){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(d=n.apply(this,y),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,y),d)},g=()=>(f.flush(),d);return m.cancel=f.cancel,m.flush=g,m}t.debounce=r})(hA);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hA;function r(n,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(n,i,{leading:s,maxWait:i,trailing:l})}t.throttle=r})(dA);var H6=dA.throttle;const Y6=vi(H6);var Ld=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},In={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},pA=(t,e,r)=>{var{width:n=In.width,height:i=In.height,aspect:a,maxHeight:s}=r,l=Wa(n)?t:Number(n),u=Wa(i)?e:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},G6={width:0,height:0,overflow:"visible"},X6={width:0,overflowX:"visible"},q6={height:0,overflowY:"visible"},Z6={},Q6=t=>{var{width:e,height:r}=t,n=Wa(e),i=Wa(r);return n&&i?G6:n?X6:i?q6:Z6};function J6(t){var{width:e,height:r,aspect:n}=t,i=e,a=r;return i===void 0&&a===void 0?(i=In.width,a=In.height):i===void 0?i=n&&n>0?void 0:In.width:a===void 0&&(a=n&&n>0?void 0:In.height),{width:i,height:a}}function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kg.apply(null,arguments)}function DS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(r),!0).forEach(function(n){eB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eB(t,e,r){return(e=tB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tB(t){var e=rB(t,"string");return typeof e=="symbol"?e:e+""}function rB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mA=v.createContext(In.initialDimension);function nB(t){return Bn(t.width)&&Bn(t.height)}function vA(t){var{children:e,width:r,height:n}=t,i=v.useMemo(()=>({width:r,height:n}),[r,n]);return nB(i)?v.createElement(mA.Provider,{value:i},e):null}var D_=()=>v.useContext(mA),iB=v.forwardRef((t,e)=>{var{aspect:r,initialDimension:n=In.initialDimension,width:i,height:a,minWidth:s=In.minWidth,minHeight:l,maxHeight:u,children:c,debounce:d=In.debounce,id:h,className:f,onResize:m,style:g={}}=t,y=v.useRef(null),x=v.useRef();x.current=m,v.useImperativeHandle(e,()=>y.current);var[_,b]=v.useState({containerWidth:n.width,containerHeight:n.height}),S=v.useCallback((T,E)=>{b(z=>{var B=Math.round(T),O=Math.round(E);return z.containerWidth===B&&z.containerHeight===O?z:{containerWidth:B,containerHeight:O}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return na;var T=O=>{var G,Y=O[0];if(Y!=null){var{width:W,height:re}=Y.contentRect;S(W,re),(G=x.current)===null||G===void 0||G.call(x,W,re)}};d>0&&(T=Y6(T,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(T),{width:z,height:B}=y.current.getBoundingClientRect();return S(z,B),E.observe(y.current),()=>{E.disconnect()}},[S,d]);var{containerWidth:k,containerHeight:p}=_;Ld(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:C}=pA(k,p,{width:i,height:a,aspect:r,maxHeight:u});return Ld(j!=null&&j>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,C,i,a,s,l,r),v.createElement("div",{id:h?"".concat(h):void 0,className:Re("recharts-responsive-container",f),style:LS(LS({},g),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:u}),ref:y},v.createElement("div",{style:Q6({width:i,height:a})},v.createElement(vA,{width:j,height:C},c)))}),Kr=v.forwardRef((t,e)=>{var r=D_();if(Bn(r.width)&&Bn(r.height))return t.children;var{width:n,height:i}=J6({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=pA(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return le(a)&&le(s)?v.createElement(vA,{width:a,height:s},t.children):v.createElement(iB,kg({},t,{width:n,height:i,ref:e}))});function L_(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var oo=()=>{var t,e=pt(),r=de(K6),n=de(ff),i=(t=de(hf))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},aB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},gA=()=>{var t;return(t=de(zt))!==null&&t!==void 0?t:aB},yA=()=>de(yi),_A=()=>de(_i),ze=t=>t.layout.layoutType,aa=()=>de(ze),B_=()=>{var t=aa();if(t==="horizontal"||t==="vertical")return t},xA=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},sB=()=>{var t=aa();return t!==void 0},fu=t=>{var e=ct(),r=pt(),{width:n,height:i}=t,a=D_(),s=n,l=i;return a&&(s=a.width>0?a.width:n,l=a.height>0?a.height:i),v.useEffect(()=>{!r&&Bn(s)&&Bn(l)&&e(v6({width:s,height:l}))},[e,r,s,l]),null},bA=Symbol.for("immer-nothing"),BS=Symbol.for("immer-draftable"),Lr=Symbol.for("immer-state");function mn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Kl=Object.getPrototypeOf;function Qs(t){return!!t&&!!t[Lr]}function Ka(t){var e;return t?wA(t)||Array.isArray(t)||!!t[BS]||!!((e=t.constructor)!=null&&e[BS])||pu(t)||mf(t):!1}var oB=Object.prototype.constructor.toString(),$S=new WeakMap;function wA(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=$S.get(r);return n===void 0&&(n=Function.toString.call(r),$S.set(r,n)),n===oB}function Bd(t,e,r=!0){pf(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function pf(t){const e=t[Lr];return e?e.type_:Array.isArray(t)?1:pu(t)?2:mf(t)?3:0}function Pg(t,e){return pf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function SA(t,e,r){const n=pf(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function lB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function pu(t){return t instanceof Map}function mf(t){return t instanceof Set}function pa(t){return t.copy_||t.base_}function Mg(t,e){if(pu(t))return new Map(t);if(mf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=wA(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Lr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(Kl(t),n)}else{const n=Kl(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function $_(t,e=!1){return vf(t)||Qs(t)||!Ka(t)||(pf(t)>1&&Object.defineProperties(t,{set:vc,add:vc,clear:vc,delete:vc}),Object.freeze(t),e&&Object.values(t).forEach(r=>$_(r,!0))),t}function uB(){mn(2)}var vc={value:uB};function vf(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var cB={};function Va(t){const e=cB[t];return e||mn(0,t),e}var Vl;function jA(){return Vl}function dB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FS(t,e){e&&(Va("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Cg(t){Eg(t),t.drafts_.forEach(hB),t.drafts_=null}function Eg(t){t===Vl&&(Vl=t.parent_)}function WS(t){return Vl=dB(Vl,t)}function hB(t){const e=t[Lr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function US(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Lr].modified_&&(Cg(e),mn(4)),Ka(t)&&(t=$d(e,t),e.parent_||Fd(e,t)),e.patches_&&Va("Patches").generateReplacementPatches_(r[Lr].base_,t,e.patches_,e.inversePatches_)):t=$d(e,r,[]),Cg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==bA?t:void 0}function $d(t,e,r){if(vf(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[Lr];if(!i)return Bd(e,(a,s)=>KS(t,i,e,a,s,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return Fd(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),Bd(s,(u,c)=>KS(t,i,a,u,c,r,l),n),Fd(t,a,!1),r&&t.patches_&&Va("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function KS(t,e,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=vf(i);if(!(l&&!s)){if(Qs(i)){const u=a&&e&&e.type_!==3&&!Pg(e.assigned_,n)?a.concat(n):void 0,c=$d(t,i,u);if(SA(r,n,c),Qs(c))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Ka(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&l)return;$d(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(pu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Fd(t,i)}}}function Fd(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$_(e,r)}function fB(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:jA(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=F_;r&&(i=[n],a=Hl);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=s,l}var F_={get(t,e){if(e===Lr)return t;const r=pa(t);if(!Pg(r,e))return pB(t,r,e);const n=r[e];return t.finalized_||!Ka(n)?n:n===Fm(t.base_,e)?(Wm(t),t.copy_[e]=Og(n,t)):n},has(t,e){return e in pa(t)},ownKeys(t){return Reflect.ownKeys(pa(t))},set(t,e,r){const n=kA(pa(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Fm(pa(t),e),a=i==null?void 0:i[Lr];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(lB(r,i)&&(r!==void 0||Pg(t.base_,e)))return!0;Wm(t),Ag(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Fm(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Wm(t),Ag(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=pa(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){mn(11)},getPrototypeOf(t){return Kl(t.base_)},setPrototypeOf(){mn(12)}},Hl={};Bd(F_,(t,e)=>{Hl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Hl.deleteProperty=function(t,e){return Hl.set.call(this,t,e,void 0)};Hl.set=function(t,e,r){return F_.set.call(this,t[0],e,r,t[0])};function Fm(t,e){const r=t[Lr];return(r?pa(r):t)[e]}function pB(t,e,r){var i;const n=kA(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function kA(t,e){if(!(e in t))return;let r=Kl(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Kl(r)}}function Ag(t){t.modified_||(t.modified_=!0,t.parent_&&Ag(t.parent_))}function Wm(t){t.copy_||(t.copy_=Mg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var mB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(u=a,...c){return s.produce(u,d=>r.call(this,d,...c))}}typeof r!="function"&&mn(6),n!==void 0&&typeof n!="function"&&mn(7);let i;if(Ka(e)){const a=WS(this),s=Og(e,void 0);let l=!0;try{i=r(s),l=!1}finally{l?Cg(a):Eg(a)}return FS(a,n),US(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===bA&&(i=void 0),this.autoFreeze_&&$_(i,!0),n){const a=[],s=[];Va("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else mn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,u=>e(u,...l));let n,i;return[this.produce(e,r,(s,l)=>{n=s,i=l}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ka(t)||mn(8),Qs(t)&&(t=vB(t));const e=WS(this),r=Og(t,void 0);return r[Lr].isManual_=!0,Eg(e),r}finishDraft(t,e){const r=t&&t[Lr];(!r||!r.isManual_)&&mn(9);const{scope_:n}=r;return FS(n,e),US(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Va("Patches").applyPatches_;return Qs(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Og(t,e){const r=pu(t)?Va("MapSet").proxyMap_(t,e):mf(t)?Va("MapSet").proxySet_(t,e):fB(t,e);return(e?e.scope_:jA()).drafts_.push(r),r}function vB(t){return Qs(t)||mn(10,t),PA(t)}function PA(t){if(!Ka(t)||vf(t))return t;const e=t[Lr];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Mg(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=Mg(t,!0);return Bd(r,(i,a)=>{SA(r,i,PA(a))},n),e&&(e.finalized_=!1),r}var gB=new mB;gB.produce;var yB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},MA=kr({name:"legend",initialState:yB,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Je()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=_n(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:Je()},removeLegendPayload:{reducer(t,e){var r=_n(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Je()}}}),{setLegendSize:RQ,setLegendSettings:DQ,addLegendPayload:_B,replaceLegendPayload:xB,removeLegendPayload:bB}=MA.actions,wB=MA.reducer;function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(null,arguments)}function VS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(r),!0).forEach(function(n){SB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SB(t,e,r){return(e=jB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jB(t){var e=kB(t,"string");return typeof e=="symbol"?e:e+""}function kB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PB(t){return Array.isArray(t)&&en(t[0])&&en(t[1])?t.join(" ~ "):t}var is={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},MB=t=>{var{separator:e=is.separator,contentStyle:r,itemStyle:n,labelStyle:i=is.labelStyle,payload:a,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:c,label:d,labelFormatter:h,accessibilityLayer:f=is.accessibilityLayer}=t,m=()=>{if(a&&a.length){var p={padding:0,margin:0},j=(l?Jh(a,l):a).map((C,T)=>{if(C.type==="none")return null;var E=C.formatter||s||PB,{value:z,name:B}=C,O=z,G=B;if(E){var Y=E(z,B,C,T,a);if(Array.isArray(Y))[O,G]=Y;else if(Y!=null)O=Y;else return null}var W=Bo(Bo({},is.itemStyle),{},{color:C.color||is.itemStyle.color},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:W},en(G)?v.createElement("span",{className:"recharts-tooltip-item-name"},G):null,en(G)?v.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:p},j)}return null},g=Bo(Bo({},is.contentStyle),r),y=Bo({margin:0},i),x=!Be(d),_=x?d:"",b=Re("recharts-default-tooltip",u),S=Re("recharts-tooltip-label",c);x&&h&&a!==void 0&&a!==null&&(_=h(d,a));var k=f?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Tg({className:b,style:g},k),v.createElement("p",{className:S,style:y},v.isValidElement(_)?_:"".concat(_)),m())},$o="recharts-tooltip-wrapper",CB={visibility:"hidden"};function EB(t){var{coordinate:e,translateX:r,translateY:n}=t;return Re($o,{["".concat($o,"-right")]:le(r)&&e&&le(e.x)&&r>=e.x,["".concat($o,"-left")]:le(r)&&e&&le(e.x)&&r<e.x,["".concat($o,"-bottom")]:le(n)&&e&&le(e.y)&&n>=e.y,["".concat($o,"-top")]:le(n)&&e&&le(e.y)&&n<e.y})}function HS(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:c}=t;if(a&&le(a[n]))return a[n];var d=r[n]-l-(i>0?i:0),h=r[n]+i;if(e[n])return s[n]?d:h;var f=u[n];if(f==null)return 0;if(s[n]){var m=d,g=f;return m<g?Math.max(h,f):Math.max(d,f)}if(c==null)return 0;var y=h+l,x=f+c;return y>x?Math.max(d,f):Math.max(h,f)}function AB(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function OB(t){var{allowEscapeViewBox:e,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:c}=t,d,h,f;return l.height>0&&l.width>0&&r?(h=HS({allowEscapeViewBox:e,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),f=HS({allowEscapeViewBox:e,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=AB({translateX:h,translateY:f,useTranslate3d:u})):d=CB,{cssProperties:d,cssClasses:EB({translateX:h,translateY:f,coordinate:r})}}function YS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(r),!0).forEach(function(n){zg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zg(t,e,r){return(e=TB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TB(t){var e=zB(t,"string");return typeof e=="symbol"?e:e+""}function zB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class IB extends v.PureComponent{constructor(){super(...arguments),zg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zg(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:u,offset:c,position:d,reverseDirection:h,useTranslate3d:f,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:x,hasPortalFromProps:_}=this.props,b=typeof c=="number"?c:c.x,S=typeof c=="number"?c:c.y,{cssClasses:k,cssProperties:p}=OB({allowEscapeViewBox:r,coordinate:s,offsetLeft:b,offsetTop:S,position:d,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:m}),j=_?{}:gc(gc({transition:u&&e?"transform ".concat(n,"ms ").concat(i):void 0},p),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=gc(gc({},j),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},g);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:C,ref:x},a)}}var CA=()=>{var t;return(t=de(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ig.apply(null,arguments)}function GS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(r),!0).forEach(function(n){NB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NB(t,e,r){return(e=RB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RB(t){var e=DB(t,"string");return typeof e=="symbol"?e:e+""}function DB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qS={curveBasisClosed:e4,curveBasisOpen:t4,curveBasis:J5,curveBumpX:B5,curveBumpY:$5,curveLinearClosed:r4,curveLinear:Kh,curveMonotoneX:n4,curveMonotoneY:i4,curveNatural:a4,curveStep:s4,curveStepAfter:l4,curveStepBefore:o4},Wd=t=>we(t.x)&&we(t.y),ZS=t=>t.base!=null&&Wd(t.base)&&Wd(t),Fo=t=>t.x,Wo=t=>t.y,LB=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(uu(t));if((r==="curveMonotone"||r==="curveBump")&&e){var n=qS["".concat(r).concat(e==="vertical"?"Y":"X")];if(n)return n}return qS[r]||Kh},QS={connectNulls:!1,type:"linear"},BB=t=>{var{type:e=QS.type,points:r=[],baseLine:n,layout:i,connectNulls:a=QS.connectNulls}=t,s=LB(e,i),l=a?r.filter(Wd):r;if(Array.isArray(n)){var u,c=r.map((g,y)=>XS(XS({},g),{},{base:n[y]}));i==="vertical"?u=uc().y(Wo).x1(Fo).x0(g=>g.base.x):u=uc().x(Fo).y1(Wo).y0(g=>g.base.y);var d=u.defined(ZS).curve(s),h=a?c.filter(ZS):c;return d(h)}var f;i==="vertical"&&le(n)?f=uc().y(Wo).x1(Fo).x0(n):le(n)?f=uc().x(Fo).y1(Wo).y0(n):f=LE().x(Fo).y(Wo);var m=f.defined(Wd).curve(s);return m(l)},Rs=t=>{var{className:e,points:r,path:n,pathRef:i}=t,a=aa();if((!r||!r.length)&&!n)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},l=r&&r.length?BB(s):n;return v.createElement("path",Ig({},or(t),y_(t),{className:Re("recharts-curve",e),d:l===null?void 0:l,ref:i}))},$B=["x","y","top","left","width","height","className"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(null,arguments)}function JS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JS(Object(r),!0).forEach(function(n){WB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WB(t,e,r){return(e=UB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UB(t){var e=KB(t,"string");return typeof e=="symbol"?e:e+""}function KB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VB(t,e){if(t==null)return{};var r,n,i=HB(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function HB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var YB=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),GB=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:l}=t,u=VB(t,$B),c=FB({x:e,y:r,top:n,left:i,width:a,height:s},u);return!le(e)||!le(r)||!le(a)||!le(s)||!le(n)||!le(i)?null:v.createElement("path",Ng({},Vt(c),{className:Re("recharts-cross",l),d:YB(e,r,a,s,n,i)}))};function XB(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(r),!0).forEach(function(n){qB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qB(t,e,r){return(e=ZB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZB(t){var e=QB(t,"string");return typeof e=="symbol"?e:e+""}function QB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JB=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),EA=(t,e,r)=>t.map(n=>"".concat(JB(n)," ").concat(e,"ms ").concat(r)).join(","),e$=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Yl=(t,e)=>Object.keys(e).reduce((r,n)=>tj(tj({},r),{},{[n]:t(n,e[n])}),{});function rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(r),!0).forEach(function(n){t$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t$(t,e,r){return(e=r$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r$(t){var e=n$(t,"string");return typeof e=="symbol"?e:e+""}function n$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ud=(t,e,r)=>t+(e-t)*r,Rg=t=>{var{from:e,to:r}=t;return e!==r},AA=(t,e,r)=>{var n=Yl((i,a)=>{if(Rg(a)){var[s,l]=t(a.from,a.to,a.velocity);return jt(jt({},a),{},{from:s,velocity:l})}return a},e);return r<1?Yl((i,a)=>Rg(a)&&n[i]!=null?jt(jt({},a),{},{velocity:Ud(a.velocity,n[i].velocity,r),from:Ud(a.from,n[i].from,r)}):a,e):AA(t,n,r-1)};function i$(t,e,r,n,i,a){var s,l=n.reduce((f,m)=>jt(jt({},f),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),u=()=>Yl((f,m)=>m.from,l),c=()=>!Object.values(l).filter(Rg).length,d=null,h=f=>{s||(s=f);var m=f-s,g=m/r.dt;l=AA(r,l,g),i(jt(jt(jt({},t),e),u())),s=f,c()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{var f;(f=d)===null||f===void 0||f()})}function a$(t,e,r,n,i,a,s){var l=null,u=i.reduce((h,f)=>{var m=t[f],g=e[f];return m==null||g==null?h:jt(jt({},h),{},{[f]:[m,g]})},{}),c,d=h=>{c||(c=h);var f=(h-c)/n,m=Yl((y,x)=>Ud(...x,r(f)),u);if(a(jt(jt(jt({},t),e),m)),f<1)l=s.setTimeout(d);else{var g=Yl((y,x)=>Ud(...x,r(1)),u);a(jt(jt(jt({},t),e),g))}};return()=>(l=s.setTimeout(d),()=>{var h;(h=l)===null||h===void 0||h()})}const s$=(t,e,r,n,i,a)=>{var s=e$(t,e);return r==null?()=>(i(jt(jt({},t),e)),()=>{}):r.isStepper===!0?i$(t,e,r,s,i,a):a$(t,e,r,n,s,i,a)};var Kd=1e-4,OA=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],TA=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),nj=(t,e)=>r=>{var n=OA(t,e);return TA(n,r)},o$=(t,e)=>r=>{var n=OA(t,e),i=[...n.map((a,s)=>a*s).slice(1),0];return TA(i,r)},l$=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},u$=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=l$(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},c$=(t,e,r,n)=>{var i=nj(t,r),a=nj(e,n),s=o$(t,r),l=c=>c>1?1:c<0?0:c,u=c=>{for(var d=c>1?1:c,h=d,f=0;f<8;++f){var m=i(h)-d,g=s(h);if(Math.abs(m-d)<Kd||g<Kd)return a(h);h=l(h-m/g)}return a(h)};return u.isStepper=!1,u},ij=function(){return c$(...u$(...arguments))},d$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(s,l,u)=>{var c=-(s-l)*r,d=u*n,h=u+(c-d)*i/1e3,f=u*i/1e3+s;return Math.abs(f-l)<Kd&&Math.abs(h)<Kd?[l,0]:[f,h]};return a.isStepper=!0,a.dt=i,a},h$=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ij(t);case"spring":return d$();default:if(t.split("(")[0]==="cubic-bezier")return ij(t)}return typeof t=="function"?t:null};function f$(t){var e,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...c]=l;if(typeof u=="number"){i=t.setTimeout(a.bind(null,c),u);return}a(u),i=t.setTimeout(a.bind(null,c));return}typeof s=="string"&&(e=s,r(e)),typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>t}}class p${setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function m$(){return f$(new p$)}var v$=v.createContext(m$);function g$(t,e){var r=v.useContext(v$);return v.useMemo(()=>e??r(t),[t,e,r])}var y$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),mu={isSsr:y$()},_$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},aj={t:0},Um={t:1};function lo(t){var e=bt(t,_$),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:u,children:c}=e,d=r==="auto"?!mu.isSsr:r,h=g$(e.animationId,e.animationManager),[f,m]=v.useState(d?aj:Um),g=v.useRef(null);return v.useEffect(()=>{d||m(Um)},[d]),v.useEffect(()=>{if(!d||!n)return na;var y=s$(aj,Um,h$(a),i,m,h.getTimeoutController()),x=()=>{g.current=y()};return h.start([u,s,x,i,l]),()=>{h.stop(),g.current&&g.current(),l()}},[d,n,i,a,s,u,l,h]),c(f.t)}function uo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef($l(e)),n=v.useRef(t);return n.current!==t&&(r.current=$l(e),n.current=t),r.current}var x$=["radius"],b$=["radius"],sj,oj,lj,uj,cj,dj,hj,fj,pj,mj;function vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(r),!0).forEach(function(n){w$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w$(t,e,r){return(e=S$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S$(t){var e=j$(t,"string");return typeof e=="symbol"?e:e+""}function j$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vd.apply(null,arguments)}function yj(t,e){if(t==null)return{};var r,n,i=k$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function k$(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Cn(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var _j=(t,e,r,n,i)=>{var a=Bi(r),s=Bi(n),l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,h;if(l>0&&Array.isArray(i)){for(var f=[0,0,0,0],m=0,g=4;m<g;m++){var y,x=(y=i[m])!==null&&y!==void 0?y:0;f[m]=x>l?l:x}h=st(sj||(sj=Cn(["M",",",""])),t,e+u*f[0]),f[0]>0&&(h+=st(oj||(oj=Cn(["A ",",",",0,0,",",",",",""])),f[0],f[0],d,t+c*f[0],e)),h+=st(lj||(lj=Cn(["L ",",",""])),t+r-c*f[1],e),f[1]>0&&(h+=st(uj||(uj=Cn(["A ",",",",0,0,",`,
        `,",",""])),f[1],f[1],d,t+r,e+u*f[1])),h+=st(cj||(cj=Cn(["L ",",",""])),t+r,e+n-u*f[2]),f[2]>0&&(h+=st(dj||(dj=Cn(["A ",",",",0,0,",`,
        `,",",""])),f[2],f[2],d,t+r-c*f[2],e+n)),h+=st(hj||(hj=Cn(["L ",",",""])),t+c*f[3],e+n),f[3]>0&&(h+=st(fj||(fj=Cn(["A ",",",",0,0,",`,
        `,",",""])),f[3],f[3],d,t,e+n-u*f[3])),h+="Z"}else if(l>0&&i===+i&&i>0){var _=Math.min(l,i);h=st(pj||(pj=Cn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*_,_,_,d,t+c*_,e,t+r-c*_,e,_,_,d,t+r,e+u*_,t+r,e+n-u*_,_,_,d,t+r-c*_,e+n,t+c*_,e+n,_,_,d,t,e+n-u*_)}else h=st(mj||(mj=Cn(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return h},xj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zA=t=>{var e=bt(t,xj),r=v.useRef(null),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:s,width:l,height:u,radius:c,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=e,x=v.useRef(l),_=v.useRef(u),b=v.useRef(a),S=v.useRef(s),k=v.useMemo(()=>({x:a,y:s,width:l,height:u,radius:c}),[a,s,l,u,c]),p=uo(k,"rectangle-");if(a!==+a||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var j=Re("recharts-rectangle",d);if(!y){var C=Vt(e),{radius:T}=C,E=yj(C,x$);return v.createElement("path",Vd({},E,{x:Bi(a),y:Bi(s),width:Bi(l),height:Bi(u),radius:typeof c=="number"?c:void 0,className:j,d:_j(a,s,l,u,c)}))}var z=x.current,B=_.current,O=b.current,G=S.current,Y="0px ".concat(n===-1?1:n,"px"),W="".concat(n,"px 0px"),re=EA(["strokeDasharray"],f,typeof h=="string"?h:xj.animationEasing);return v.createElement(lo,{animationId:p,key:p,canBegin:n>0,duration:f,easing:h,isActive:y,begin:m},H=>{var L=Oe(z,l,H),R=Oe(B,u,H),M=Oe(O,a,H),ee=Oe(G,s,H);r.current&&(x.current=L,_.current=R,b.current=M,S.current=ee);var q;g?H>0?q={transition:re,strokeDasharray:W}:q={strokeDasharray:Y}:q={strokeDasharray:W};var Pe=Vt(e),{radius:_e}=Pe,Ee=yj(Pe,b$);return v.createElement("path",Vd({},Ee,{radius:typeof c=="number"?c:void 0,className:j,d:_j(M,ee,L,R,c),ref:r,style:gj(gj({},q),e.style)}))})};function bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(r),!0).forEach(function(n){P$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P$(t,e,r){return(e=M$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M$(t){var e=C$(t,"string");return typeof e=="symbol"?e:e+""}function C$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hd=Math.PI/180,E$=t=>t*180/Math.PI,Wt=(t,e,r,n)=>({x:t+Math.cos(-Hd*n)*r,y:e+Math.sin(-Hd*n)*r}),A$=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},O$=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},T$=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,s=O$({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(r-i)/s,u=Math.acos(l);return n>a&&(u=2*Math.PI-u),{radius:s,angle:E$(u),angleInRadian:u}},z$=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},I$=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return t+s*360},N$=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:a}=T$({x:r,y:n},e),{innerRadius:s,outerRadius:l}=e;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:c}=z$(e),d=a,h;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}return h?wj(wj({},e),{},{radius:i,angle:I$(d,e)}):null};function IA(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,s=Wt(e,r,n,i),l=Wt(e,r,n,a);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}var Sj,jj,kj,Pj,Mj,Cj,Ej;function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dg.apply(null,arguments)}function _a(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var R$=(t,e)=>{var r=gr(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},yc=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:u}=t,c=l*(s?1:-1)+n,d=Math.asin(l/c)/Hd,h=u?i:i+a*d,f=Wt(e,r,c,h),m=Wt(e,r,n,h),g=u?i-a*d:i,y=Wt(e,r,c*Math.cos(d*Hd),g);return{center:f,circleTangency:m,lineTangency:y,theta:d}},NA=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=t,l=R$(a,s),u=a+l,c=Wt(e,r,i,a),d=Wt(e,r,i,u),h=st(Sj||(Sj=_a(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(l)>180),+(a>u),d.x,d.y);if(n>0){var f=Wt(e,r,n,a),m=Wt(e,r,n,u);h+=st(jj||(jj=_a(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(a<=u),f.x,f.y)}else h+=st(kj||(kj=_a(["L ",","," Z"])),e,r);return h},D$=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}=t,d=gr(c-u),{circleTangency:h,lineTangency:f,theta:m}=yc({cx:e,cy:r,radius:i,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:g,lineTangency:y,theta:x}=yc({cx:e,cy:r,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),_=l?Math.abs(u-c):Math.abs(u-c)-m-x;if(_<0)return s?st(Pj||(Pj=_a(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),f.x,f.y,a,a,a*2,a,a,-a*2):NA({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:c});var b=st(Mj||(Mj=_a(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),f.x,f.y,a,a,+(d<0),h.x,h.y,i,i,+(_>180),+(d<0),g.x,g.y,a,a,+(d<0),y.x,y.y);if(n>0){var{circleTangency:S,lineTangency:k,theta:p}=yc({cx:e,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:j,lineTangency:C,theta:T}=yc({cx:e,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=l?Math.abs(u-c):Math.abs(u-c)-p-T;if(E<0&&a===0)return"".concat(b,"L").concat(e,",").concat(r,"Z");b+=st(Cj||(Cj=_a(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,a,a,+(d<0),j.x,j.y,n,n,+(E>180),+(d>0),S.x,S.y,a,a,+(d<0),k.x,k.y)}else b+=st(Ej||(Ej=_a(["L",",","Z"])),e,r);return b},L$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RA=t=>{var e=bt(t,L$),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d,className:h}=e;if(a<i||c===d)return null;var f=Re("recharts-sector",h),m=a-i,g=wn(s,m,0,!0),y;return g>0&&Math.abs(c-d)<360?y=D$({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):y=NA({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),v.createElement("path",Dg({},Vt(e),{className:f,d:y}))};function B$(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(e2(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:l}=e,u=Wt(n,i,a,l),c=Wt(n,i,s,l);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return IA(e)}}var DA={},LA={},BA={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C_;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(BA);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BA;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(LA);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E_,r=LA;function n(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(l);for(let c=0;c<l;c++)u[c]=i,i+=s;return u}t.range=n})(DA);var $$=DA.range;const $A=vi($$);function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function F$(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function W_(t){let e,r,n;t.length!==2?(e=Gi,r=(l,u)=>Gi(t(l),u),n=(l,u)=>t(l)-u):(e=t===Gi||t===F$?t:W$,r=t,n=t);function i(l,u,c=0,d=l.length){if(c<d){if(e(u,u)!==0)return d;do{const h=c+d>>>1;r(l[h],u)<0?c=h+1:d=h}while(c<d)}return c}function a(l,u,c=0,d=l.length){if(c<d){if(e(u,u)!==0)return d;do{const h=c+d>>>1;r(l[h],u)<=0?c=h+1:d=h}while(c<d)}return c}function s(l,u,c=0,d=l.length){const h=i(l,u,c,d-1);return h>c&&n(l[h-1],u)>-n(l[h],u)?h-1:h}return{left:i,center:s,right:a}}function W$(){return 0}function FA(t){return t===null?NaN:+t}function*U$(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const K$=W_(Gi),vu=K$.right;W_(FA).center;class Aj extends Map{constructor(e,r=Y$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Oj(this,e))}has(e){return super.has(Oj(this,e))}set(e,r){return super.set(V$(this,e),r)}delete(e){return super.delete(H$(this,e))}}function Oj({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function V$({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function H$({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Y$(t){return t!==null&&typeof t=="object"?t.valueOf():t}function G$(t=Gi){if(t===Gi)return WA;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function WA(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const X$=Math.sqrt(50),q$=Math.sqrt(10),Z$=Math.sqrt(2);function Yd(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=X$?10:a>=q$?5:a>=Z$?2:1;let l,u,c;return i<0?(c=Math.pow(10,-i)/s,l=Math.round(t*c),u=Math.round(e*c),l/c<t&&++l,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,l=Math.round(t/c),u=Math.round(e/c),l*c<t&&++l,u*c>e&&--u),u<l&&.5<=r&&r<2?Yd(t,e,r*2):[l,u,c]}function Lg(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Yd(e,t,r):Yd(t,e,r);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(n)if(s<0)for(let c=0;c<l;++c)u[c]=(a-c)/-s;else for(let c=0;c<l;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<l;++c)u[c]=(i+c)/-s;else for(let c=0;c<l;++c)u[c]=(i+c)*s;return u}function Bg(t,e,r){return e=+e,t=+t,r=+r,Yd(t,e,r)[2]}function $g(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Bg(e,t,r):Bg(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Tj(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zj(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function UA(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?WA:G$(i);n>r;){if(n-r>600){const u=n-r+1,c=e-r+1,d=Math.log(u),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(u-h)/u)*(c-u/2<0?-1:1),m=Math.max(r,Math.floor(e-c*h/u+f)),g=Math.min(n,Math.floor(e+(u-c)*h/u+f));UA(t,e,m,g,i)}const a=t[e];let s=r,l=n;for(Uo(t,r,e),i(t[n],a)>0&&Uo(t,r,n);s<l;){for(Uo(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Uo(t,r,l):(++l,Uo(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Uo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Q$(t,e,r){if(t=Float64Array.from(U$(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return zj(t);if(e>=1)return Tj(t);var n,i=(n-1)*e,a=Math.floor(i),s=Tj(UA(t,a).subarray(0,a+1)),l=zj(t.subarray(a+1));return s+(l-s)*(i-a)}}function J$(t,e,r=FA){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function e3(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function sn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Fg=Symbol("implicit");function U_(){var t=new Aj,e=[],r=[],n=Fg;function i(a){let s=t.get(a);if(s===void 0){if(n!==Fg)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Aj;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return U_(e,r).unknown(n)},sn.apply(i,arguments),i}function K_(){var t=U_().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,l=!1,u=0,c=0,d=.5;delete t.unknown;function h(){var f=e().length,m=i<n,g=m?i:n,y=m?n:i;a=(y-g)/Math.max(1,f-u+c*2),l&&(a=Math.floor(a)),g+=(y-g-a*(f-u))*d,s=a*(1-u),l&&(g=Math.round(g),s=Math.round(s));var x=e3(f).map(function(_){return g+a*_});return r(m?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(u=Math.min(1,c=+f),h()):u},t.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return K_(e(),[n,i]).round(l).paddingInner(u).paddingOuter(c).align(d)},sn.apply(h(),arguments)}function KA(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KA(e())},t}function t3(){return KA(K_.apply(null,arguments).paddingInner(1))}function V_(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function VA(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function gu(){}var Gl=.7,Gd=1/Gl,Ds="\\s*([+-]?\\d+)\\s*",Xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r3=/^#([0-9a-f]{3,8})$/,n3=new RegExp(`^rgb\\(${Ds},${Ds},${Ds}\\)$`),i3=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),a3=new RegExp(`^rgba\\(${Ds},${Ds},${Ds},${Xl}\\)$`),s3=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${Xl}\\)$`),o3=new RegExp(`^hsl\\(${Xl},${Ln},${Ln}\\)$`),l3=new RegExp(`^hsla\\(${Xl},${Ln},${Ln},${Xl}\\)$`),Ij={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V_(gu,ql,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Nj,formatHex:Nj,formatHex8:u3,formatHsl:c3,formatRgb:Rj,toString:Rj});function Nj(){return this.rgb().formatHex()}function u3(){return this.rgb().formatHex8()}function c3(){return HA(this).formatHsl()}function Rj(){return this.rgb().formatRgb()}function ql(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=r3.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Dj(e):r===3?new _r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?_c(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?_c(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=n3.exec(t))?new _r(e[1],e[2],e[3],1):(e=i3.exec(t))?new _r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=a3.exec(t))?_c(e[1],e[2],e[3],e[4]):(e=s3.exec(t))?_c(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=o3.exec(t))?$j(e[1],e[2]/100,e[3]/100,1):(e=l3.exec(t))?$j(e[1],e[2]/100,e[3]/100,e[4]):Ij.hasOwnProperty(t)?Dj(Ij[t]):t==="transparent"?new _r(NaN,NaN,NaN,0):null}function Dj(t){return new _r(t>>16&255,t>>8&255,t&255,1)}function _c(t,e,r,n){return n<=0&&(t=e=r=NaN),new _r(t,e,r,n)}function d3(t){return t instanceof gu||(t=ql(t)),t?(t=t.rgb(),new _r(t.r,t.g,t.b,t.opacity)):new _r}function Wg(t,e,r,n){return arguments.length===1?d3(t):new _r(t,e,r,n??1)}function _r(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}V_(_r,Wg,VA(gu,{brighter(t){return t=t==null?Gd:Math.pow(Gd,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gl:Math.pow(Gl,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _r(Ca(this.r),Ca(this.g),Ca(this.b),Xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lj,formatHex:Lj,formatHex8:h3,formatRgb:Bj,toString:Bj}));function Lj(){return`#${xa(this.r)}${xa(this.g)}${xa(this.b)}`}function h3(){return`#${xa(this.r)}${xa(this.g)}${xa(this.b)}${xa((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bj(){const t=Xd(this.opacity);return`${t===1?"rgb(":"rgba("}${Ca(this.r)}, ${Ca(this.g)}, ${Ca(this.b)}${t===1?")":`, ${t})`}`}function Xd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ca(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xa(t){return t=Ca(t),(t<16?"0":"")+t.toString(16)}function $j(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new vn(t,e,r,n)}function HA(t){if(t instanceof vn)return new vn(t.h,t.s,t.l,t.opacity);if(t instanceof gu||(t=ql(t)),!t)return new vn;if(t instanceof vn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,l=a-i,u=(a+i)/2;return l?(e===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-e)/l+2:s=(e-r)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new vn(s,l,u,t.opacity)}function f3(t,e,r,n){return arguments.length===1?HA(t):new vn(t,e,r,n??1)}function vn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}V_(vn,f3,VA(gu,{brighter(t){return t=t==null?Gd:Math.pow(Gd,t),new vn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gl:Math.pow(Gl,t),new vn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new _r(Km(t>=240?t-240:t+120,i,n),Km(t,i,n),Km(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new vn(Fj(this.h),xc(this.s),xc(this.l),Xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xd(this.opacity);return`${t===1?"hsl(":"hsla("}${Fj(this.h)}, ${xc(this.s)*100}%, ${xc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fj(t){return t=(t||0)%360,t<0?t+360:t}function xc(t){return Math.max(0,Math.min(1,t||0))}function Km(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const H_=t=>()=>t;function p3(t,e){return function(r){return t+r*e}}function m3(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function v3(t){return(t=+t)==1?YA:function(e,r){return r-e?m3(e,r,t):H_(isNaN(e)?r:e)}}function YA(t,e){var r=e-t;return r?p3(t,r):H_(isNaN(t)?e:t)}const Wj=function t(e){var r=v3(e);function n(i,a){var s=r((i=Wg(i)).r,(a=Wg(a)).r),l=r(i.g,a.g),u=r(i.b,a.b),c=YA(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=u(d),i.opacity=c(d),i+""}}return n.gamma=t,n}(1);function g3(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function y3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _3(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=co(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function x3(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function qd(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function b3(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=co(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ug=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vm=new RegExp(Ug.source,"g");function w3(t){return function(){return t}}function S3(t){return function(e){return t(e)+""}}function j3(t,e){var r=Ug.lastIndex=Vm.lastIndex=0,n,i,a,s=-1,l=[],u=[];for(t=t+"",e=e+"";(n=Ug.exec(t))&&(i=Vm.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:qd(n,i)})),r=Vm.lastIndex;return r<e.length&&(a=e.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?S3(u[0].x):w3(e):(e=u.length,function(c){for(var d=0,h;d<e;++d)l[(h=u[d]).i]=h.x(c);return l.join("")})}function co(t,e){var r=typeof e,n;return e==null||r==="boolean"?H_(e):(r==="number"?qd:r==="string"?(n=ql(e))?(e=n,Wj):j3:e instanceof ql?Wj:e instanceof Date?x3:y3(e)?g3:Array.isArray(e)?_3:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?b3:qd)(t,e)}function Y_(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function k3(t,e){e===void 0&&(e=t,t=co);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function P3(t){return function(){return t}}function Zd(t){return+t}var Uj=[0,1];function ir(t){return t}function Kg(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:P3(isNaN(e)?NaN:.5)}function M3(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function C3(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Kg(i,n),a=r(s,a)):(n=Kg(n,i),a=r(a,s)),function(l){return a(n(l))}}function E3(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Kg(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(l){var u=vu(t,l,1,n)-1;return a[u](i[u](l))}}function yu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gf(){var t=Uj,e=Uj,r=co,n,i,a,s=ir,l,u,c;function d(){var f=Math.min(t.length,e.length);return s!==ir&&(s=M3(t[0],t[f-1])),l=f>2?E3:C3,u=c=null,h}function h(f){return f==null||isNaN(f=+f)?a:(u||(u=l(t.map(n),e,r)))(n(s(f)))}return h.invert=function(f){return s(i((c||(c=l(e,t.map(n),qd)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Zd),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=Y_,d()},h.clamp=function(f){return arguments.length?(s=f?!0:ir,d()):s!==ir},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,m){return n=f,i=m,d()}}function G_(){return gf()(ir,ir)}function A3(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qd(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Js(t){return t=Qd(Math.abs(t)),t?t[1]:NaN}function O3(t,e){return function(r,n){for(var i=r.length,a=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),a.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function T3(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var z3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zl(t){if(!(e=z3.exec(t)))throw new Error("invalid format: "+t);var e;return new X_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zl.prototype=X_.prototype;function X_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}X_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function I3(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Jd;function N3(t,e){var r=Qd(t,e);if(!r)return Jd=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(Jd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Qd(t,Math.max(0,e+a-1))[0]}function Kj(t,e){var r=Qd(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Vj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:A3,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Kj(t*100,e),r:Kj,s:N3,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Hj(t){return t}var Yj=Array.prototype.map,Gj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function R3(t){var e=t.grouping===void 0||t.thousands===void 0?Hj:O3(Yj.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Hj:T3(Yj.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h,f){h=Zl(h);var m=h.fill,g=h.align,y=h.sign,x=h.symbol,_=h.zero,b=h.width,S=h.comma,k=h.precision,p=h.trim,j=h.type;j==="n"?(S=!0,j="g"):Vj[j]||(k===void 0&&(k=12),p=!0,j="g"),(_||m==="0"&&g==="=")&&(_=!0,m="0",g="=");var C=(f&&f.prefix!==void 0?f.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),T=(x==="$"?n:/[%p]/.test(j)?s:"")+(f&&f.suffix!==void 0?f.suffix:""),E=Vj[j],z=/[defgprs%]/.test(j);k=k===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function B(O){var G=C,Y=T,W,re,H;if(j==="c")Y=E(O)+Y,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?u:E(Math.abs(O),k),p&&(O=I3(O)),L&&+O==0&&y!=="+"&&(L=!1),G=(L?y==="("?y:l:y==="-"||y==="("?"":y)+G,Y=(j==="s"&&!isNaN(O)&&Jd!==void 0?Gj[8+Jd/3]:"")+Y+(L&&y==="("?")":""),z){for(W=-1,re=O.length;++W<re;)if(H=O.charCodeAt(W),48>H||H>57){Y=(H===46?i+O.slice(W+1):O.slice(W))+Y,O=O.slice(0,W);break}}}S&&!_&&(O=e(O,1/0));var R=G.length+O.length+Y.length,M=R<b?new Array(b-R+1).join(m):"";switch(S&&_&&(O=e(M+O,M.length?b-Y.length:1/0),M=""),g){case"<":O=G+O+Y+M;break;case"=":O=G+M+O+Y;break;case"^":O=M.slice(0,R=M.length>>1)+G+O+Y+M.slice(R);break;default:O=M+G+O+Y;break}return a(O)}return B.toString=function(){return h+""},B}function d(h,f){var m=Math.max(-8,Math.min(8,Math.floor(Js(f)/3)))*3,g=Math.pow(10,-m),y=c((h=Zl(h),h.type="f",h),{suffix:Gj[8+m/3]});return function(x){return y(g*x)}}return{format:c,formatPrefix:d}}var bc,q_,GA;D3({thousands:",",grouping:[3],currency:["$",""]});function D3(t){return bc=R3(t),q_=bc.format,GA=bc.formatPrefix,bc}function L3(t){return Math.max(0,-Js(Math.abs(t)))}function B3(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Js(e)/3)))*3-Js(Math.abs(t)))}function $3(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Js(e)-Js(t))+1}function XA(t,e,r,n){var i=$g(t,e,r),a;switch(n=Zl(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=B3(i,s))&&(n.precision=a),GA(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=$3(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=L3(i))&&(n.precision=a-(n.type==="%")*2);break}}return q_(n)}function sa(t){var e=t.domain;return t.ticks=function(r){var n=e();return Lg(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return XA(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],l=n[a],u,c,d=10;for(l<s&&(c=s,s=l,l=c,c=i,i=a,a=c);d-- >0;){if(c=Bg(s,l,r),c===u)return n[i]=s,n[a]=l,e(n);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;u=c}return t},t}function qA(){var t=G_();return t.copy=function(){return yu(t,qA())},sn.apply(t,arguments),sa(t)}function ZA(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Zd),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return ZA(t).unknown(e)},t=arguments.length?Array.from(t,Zd):[0,1],sa(r)}function QA(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function Xj(t){return Math.log(t)}function qj(t){return Math.exp(t)}function F3(t){return-Math.log(-t)}function W3(t){return-Math.exp(-t)}function U3(t){return isFinite(t)?+("1e"+t):t<0?0:t}function K3(t){return t===10?U3:t===Math.E?Math.exp:e=>Math.pow(t,e)}function V3(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Zj(t){return(e,r)=>-t(-e,r)}function Z_(t){const e=t(Xj,qj),r=e.domain;let n=10,i,a;function s(){return i=V3(n),a=K3(n),r()[0]<0?(i=Zj(i),a=Zj(a),t(F3,W3)):t(Xj,qj),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const u=r();let c=u[0],d=u[u.length-1];const h=d<c;h&&([c,d]=[d,c]);let f=i(c),m=i(d),g,y;const x=l==null?10:+l;let _=[];if(!(n%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),c>0){for(;f<=m;++f)for(g=1;g<n;++g)if(y=f<0?g/a(-f):g*a(f),!(y<c)){if(y>d)break;_.push(y)}}else for(;f<=m;++f)for(g=n-1;g>=1;--g)if(y=f>0?g/a(-f):g*a(f),!(y<c)){if(y>d)break;_.push(y)}_.length*2<x&&(_=Lg(c,d,x))}else _=Lg(f,m,Math.min(m-f,x)).map(a);return h?_.reverse():_},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Zl(u)).precision==null&&(u.trim=!0),u=q_(u)),l===1/0)return u;const c=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=c?u(d):""}},e.nice=()=>r(QA(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function JA(){const t=Z_(gf()).domain([1,10]);return t.copy=()=>yu(t,JA()).base(t.base()),sn.apply(t,arguments),t}function Qj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Jj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Q_(t){var e=1,r=t(Qj(e),Jj(e));return r.constant=function(n){return arguments.length?t(Qj(e=+n),Jj(e)):e},sa(r)}function eO(){var t=Q_(gf());return t.copy=function(){return yu(t,eO()).constant(t.constant())},sn.apply(t,arguments)}function ek(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function H3(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Y3(t){return t<0?-t*t:t*t}function J_(t){var e=t(ir,ir),r=1;function n(){return r===1?t(ir,ir):r===.5?t(H3,Y3):t(ek(r),ek(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},sa(e)}function ex(){var t=J_(gf());return t.copy=function(){return yu(t,ex()).exponent(t.exponent())},sn.apply(t,arguments),t}function G3(){return ex.apply(null,arguments).exponent(.5)}function tk(t){return Math.sign(t)*t*t}function X3(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function tO(){var t=G_(),e=[0,1],r=!1,n;function i(a){var s=X3(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(tk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Zd)).map(tk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return tO(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},sn.apply(i,arguments),sa(i)}function rO(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=J$(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:e[vu(r,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Gi),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return rO().domain(t).range(e).unknown(n)},sn.apply(a,arguments)}function nO(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[vu(n,u,0,r)]:a}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},s.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return n.slice()},s.copy=function(){return nO().domain([t,e]).range(i).unknown(a)},sn.apply(sa(s),arguments)}function iO(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[vu(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return iO().domain(t).range(e).unknown(r)},sn.apply(i,arguments)}const Hm=new Date,Ym=new Date;function Pt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let c;do u.push(c=new Date(+a)),e(a,l),t(a);while(c<a&&a<s);return u},i.filter=a=>Pt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Hm.setTime(+a),Ym.setTime(+s),t(Hm),t(Ym),Math.floor(r(Hm,Ym))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const eh=Pt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);eh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):eh);eh.range;const ei=1e3,qr=ei*60,ti=qr*60,ci=ti*24,tx=ci*7,rk=ci*30,Gm=ci*365,ba=Pt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ei)},(t,e)=>(e-t)/ei,t=>t.getUTCSeconds());ba.range;const rx=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ei)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getMinutes());rx.range;const nx=Pt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getUTCMinutes());nx.range;const ix=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ei-t.getMinutes()*qr)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getHours());ix.range;const ax=Pt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getUTCHours());ax.range;const _u=Pt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qr)/ci,t=>t.getDate()-1);_u.range;const yf=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ci,t=>t.getUTCDate()-1);yf.range;const aO=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ci,t=>Math.floor(t/ci));aO.range;function Qa(t){return Pt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qr)/tx)}const _f=Qa(0),th=Qa(1),q3=Qa(2),Z3=Qa(3),eo=Qa(4),Q3=Qa(5),J3=Qa(6);_f.range;th.range;q3.range;Z3.range;eo.range;Q3.range;J3.range;function Ja(t){return Pt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/tx)}const xf=Ja(0),rh=Ja(1),eF=Ja(2),tF=Ja(3),to=Ja(4),rF=Ja(5),nF=Ja(6);xf.range;rh.range;eF.range;tF.range;to.range;rF.range;nF.range;const sx=Pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());sx.range;const ox=Pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ox.range;const di=Pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});di.range;const hi=Pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});hi.range;function sO(t,e,r,n,i,a){const s=[[ba,1,ei],[ba,5,5*ei],[ba,15,15*ei],[ba,30,30*ei],[a,1,qr],[a,5,5*qr],[a,15,15*qr],[a,30,30*qr],[i,1,ti],[i,3,3*ti],[i,6,6*ti],[i,12,12*ti],[n,1,ci],[n,2,2*ci],[r,1,tx],[e,1,rk],[e,3,3*rk],[t,1,Gm]];function l(c,d,h){const f=d<c;f&&([c,d]=[d,c]);const m=h&&typeof h.range=="function"?h:u(c,d,h),g=m?m.range(c,+d+1):[];return f?g.reverse():g}function u(c,d,h){const f=Math.abs(d-c)/h,m=W_(([,,x])=>x).right(s,f);if(m===s.length)return t.every($g(c/Gm,d/Gm,h));if(m===0)return eh.every(Math.max($g(c,d,h),1));const[g,y]=s[f/s[m-1][2]<s[m][2]/f?m-1:m];return g.every(y)}return[l,u]}const[iF,aF]=sO(hi,ox,xf,aO,ax,nx),[sF,oF]=sO(di,sx,_f,_u,ix,rx);function Xm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ko(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function lF(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths,c=Vo(i),d=Ho(i),h=Vo(a),f=Ho(a),m=Vo(s),g=Ho(s),y=Vo(l),x=Ho(l),_=Vo(u),b=Ho(u),S={a:H,A:L,b:R,B:M,c:null,d:lk,e:lk,f:OF,g:FF,G:UF,H:CF,I:EF,j:AF,L:oO,m:TF,M:zF,p:ee,q,Q:dk,s:hk,S:IF,u:NF,U:RF,V:DF,w:LF,W:BF,x:null,X:null,y:$F,Y:WF,Z:KF,"%":ck},k={a:Pe,A:_e,b:Ee,B:se,c:null,d:uk,e:uk,f:GF,g:iW,G:sW,H:VF,I:HF,j:YF,L:uO,m:XF,M:qF,p:he,q:be,Q:dk,s:hk,S:ZF,u:QF,U:JF,V:eW,w:tW,W:rW,x:null,X:null,y:nW,Y:aW,Z:oW,"%":ck},p={a:z,A:B,b:O,B:G,c:Y,d:sk,e:sk,f:jF,g:ak,G:ik,H:ok,I:ok,j:xF,L:SF,m:_F,M:bF,p:E,q:yF,Q:PF,s:MF,S:wF,u:fF,U:pF,V:mF,w:hF,W:vF,x:W,X:re,y:ak,Y:ik,Z:gF,"%":kF};S.x=j(r,S),S.X=j(n,S),S.c=j(e,S),k.x=j(r,k),k.X=j(n,k),k.c=j(e,k);function j(K,pe){return function(xe){var D=[],te=-1,fe=0,A=K.length,P,V,$;for(xe instanceof Date||(xe=new Date(+xe));++te<A;)K.charCodeAt(te)===37&&(D.push(K.slice(fe,te)),(V=nk[P=K.charAt(++te)])!=null?P=K.charAt(++te):V=P==="e"?" ":"0",($=pe[P])&&(P=$(xe,V)),D.push(P),fe=te+1);return D.push(K.slice(fe,te)),D.join("")}}function C(K,pe){return function(xe){var D=Ko(1900,void 0,1),te=T(D,K,xe+="",0),fe,A;if(te!=xe.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(pe&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(fe=qm(Ko(D.y,0,1)),A=fe.getUTCDay(),fe=A>4||A===0?rh.ceil(fe):rh(fe),fe=yf.offset(fe,(D.V-1)*7),D.y=fe.getUTCFullYear(),D.m=fe.getUTCMonth(),D.d=fe.getUTCDate()+(D.w+6)%7):(fe=Xm(Ko(D.y,0,1)),A=fe.getDay(),fe=A>4||A===0?th.ceil(fe):th(fe),fe=_u.offset(fe,(D.V-1)*7),D.y=fe.getFullYear(),D.m=fe.getMonth(),D.d=fe.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),A="Z"in D?qm(Ko(D.y,0,1)).getUTCDay():Xm(Ko(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(A+5)%7:D.w+D.U*7-(A+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,qm(D)):Xm(D)}}function T(K,pe,xe,D){for(var te=0,fe=pe.length,A=xe.length,P,V;te<fe;){if(D>=A)return-1;if(P=pe.charCodeAt(te++),P===37){if(P=pe.charAt(te++),V=p[P in nk?pe.charAt(te++):P],!V||(D=V(K,xe,D))<0)return-1}else if(P!=xe.charCodeAt(D++))return-1}return D}function E(K,pe,xe){var D=c.exec(pe.slice(xe));return D?(K.p=d.get(D[0].toLowerCase()),xe+D[0].length):-1}function z(K,pe,xe){var D=m.exec(pe.slice(xe));return D?(K.w=g.get(D[0].toLowerCase()),xe+D[0].length):-1}function B(K,pe,xe){var D=h.exec(pe.slice(xe));return D?(K.w=f.get(D[0].toLowerCase()),xe+D[0].length):-1}function O(K,pe,xe){var D=_.exec(pe.slice(xe));return D?(K.m=b.get(D[0].toLowerCase()),xe+D[0].length):-1}function G(K,pe,xe){var D=y.exec(pe.slice(xe));return D?(K.m=x.get(D[0].toLowerCase()),xe+D[0].length):-1}function Y(K,pe,xe){return T(K,e,pe,xe)}function W(K,pe,xe){return T(K,r,pe,xe)}function re(K,pe,xe){return T(K,n,pe,xe)}function H(K){return s[K.getDay()]}function L(K){return a[K.getDay()]}function R(K){return u[K.getMonth()]}function M(K){return l[K.getMonth()]}function ee(K){return i[+(K.getHours()>=12)]}function q(K){return 1+~~(K.getMonth()/3)}function Pe(K){return s[K.getUTCDay()]}function _e(K){return a[K.getUTCDay()]}function Ee(K){return u[K.getUTCMonth()]}function se(K){return l[K.getUTCMonth()]}function he(K){return i[+(K.getUTCHours()>=12)]}function be(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var pe=j(K+="",S);return pe.toString=function(){return K},pe},parse:function(K){var pe=C(K+="",!1);return pe.toString=function(){return K},pe},utcFormat:function(K){var pe=j(K+="",k);return pe.toString=function(){return K},pe},utcParse:function(K){var pe=C(K+="",!0);return pe.toString=function(){return K},pe}}}var nk={"-":"",_:" ",0:"0"},It=/^\s*\d+/,uF=/^%/,cF=/[\\^$*+?|[\]().{}]/g;function Te(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function dF(t){return t.replace(cF,"\\$&")}function Vo(t){return new RegExp("^(?:"+t.map(dF).join("|")+")","i")}function Ho(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function hF(t,e,r){var n=It.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function fF(t,e,r){var n=It.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function pF(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function mF(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function vF(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function ik(t,e,r){var n=It.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function ak(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gF(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function yF(t,e,r){var n=It.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function _F(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function sk(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function xF(t,e,r){var n=It.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function ok(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function bF(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function wF(t,e,r){var n=It.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function SF(t,e,r){var n=It.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function jF(t,e,r){var n=It.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function kF(t,e,r){var n=uF.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function PF(t,e,r){var n=It.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function MF(t,e,r){var n=It.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function lk(t,e){return Te(t.getDate(),e,2)}function CF(t,e){return Te(t.getHours(),e,2)}function EF(t,e){return Te(t.getHours()%12||12,e,2)}function AF(t,e){return Te(1+_u.count(di(t),t),e,3)}function oO(t,e){return Te(t.getMilliseconds(),e,3)}function OF(t,e){return oO(t,e)+"000"}function TF(t,e){return Te(t.getMonth()+1,e,2)}function zF(t,e){return Te(t.getMinutes(),e,2)}function IF(t,e){return Te(t.getSeconds(),e,2)}function NF(t){var e=t.getDay();return e===0?7:e}function RF(t,e){return Te(_f.count(di(t)-1,t),e,2)}function lO(t){var e=t.getDay();return e>=4||e===0?eo(t):eo.ceil(t)}function DF(t,e){return t=lO(t),Te(eo.count(di(t),t)+(di(t).getDay()===4),e,2)}function LF(t){return t.getDay()}function BF(t,e){return Te(th.count(di(t)-1,t),e,2)}function $F(t,e){return Te(t.getFullYear()%100,e,2)}function FF(t,e){return t=lO(t),Te(t.getFullYear()%100,e,2)}function WF(t,e){return Te(t.getFullYear()%1e4,e,4)}function UF(t,e){var r=t.getDay();return t=r>=4||r===0?eo(t):eo.ceil(t),Te(t.getFullYear()%1e4,e,4)}function KF(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Te(e/60|0,"0",2)+Te(e%60,"0",2)}function uk(t,e){return Te(t.getUTCDate(),e,2)}function VF(t,e){return Te(t.getUTCHours(),e,2)}function HF(t,e){return Te(t.getUTCHours()%12||12,e,2)}function YF(t,e){return Te(1+yf.count(hi(t),t),e,3)}function uO(t,e){return Te(t.getUTCMilliseconds(),e,3)}function GF(t,e){return uO(t,e)+"000"}function XF(t,e){return Te(t.getUTCMonth()+1,e,2)}function qF(t,e){return Te(t.getUTCMinutes(),e,2)}function ZF(t,e){return Te(t.getUTCSeconds(),e,2)}function QF(t){var e=t.getUTCDay();return e===0?7:e}function JF(t,e){return Te(xf.count(hi(t)-1,t),e,2)}function cO(t){var e=t.getUTCDay();return e>=4||e===0?to(t):to.ceil(t)}function eW(t,e){return t=cO(t),Te(to.count(hi(t),t)+(hi(t).getUTCDay()===4),e,2)}function tW(t){return t.getUTCDay()}function rW(t,e){return Te(rh.count(hi(t)-1,t),e,2)}function nW(t,e){return Te(t.getUTCFullYear()%100,e,2)}function iW(t,e){return t=cO(t),Te(t.getUTCFullYear()%100,e,2)}function aW(t,e){return Te(t.getUTCFullYear()%1e4,e,4)}function sW(t,e){var r=t.getUTCDay();return t=r>=4||r===0?to(t):to.ceil(t),Te(t.getUTCFullYear()%1e4,e,4)}function oW(){return"+0000"}function ck(){return"%"}function dk(t){return+t}function hk(t){return Math.floor(+t/1e3)}var as,dO,hO;lW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lW(t){return as=lF(t),dO=as.format,as.parse,hO=as.utcFormat,as.utcParse,as}function uW(t){return new Date(t)}function cW(t){return t instanceof Date?+t:+new Date(+t)}function lx(t,e,r,n,i,a,s,l,u,c){var d=G_(),h=d.invert,f=d.domain,m=c(".%L"),g=c(":%S"),y=c("%I:%M"),x=c("%I %p"),_=c("%a %d"),b=c("%b %d"),S=c("%B"),k=c("%Y");function p(j){return(u(j)<j?m:l(j)<j?g:s(j)<j?y:a(j)<j?x:n(j)<j?i(j)<j?_:b:r(j)<j?S:k)(j)}return d.invert=function(j){return new Date(h(j))},d.domain=function(j){return arguments.length?f(Array.from(j,cW)):f().map(uW)},d.ticks=function(j){var C=f();return t(C[0],C[C.length-1],j??10)},d.tickFormat=function(j,C){return C==null?p:c(C)},d.nice=function(j){var C=f();return(!j||typeof j.range!="function")&&(j=e(C[0],C[C.length-1],j??10)),j?f(QA(C,j)):d},d.copy=function(){return yu(d,lx(t,e,r,n,i,a,s,l,u,c))},d}function dW(){return sn.apply(lx(sF,oF,di,sx,_f,_u,ix,rx,ba,dO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hW(){return sn.apply(lx(iF,aF,hi,ox,xf,yf,ax,nx,ba,hO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bf(){var t=0,e=1,r,n,i,a,s=ir,l=!1,u;function c(h){return h==null||isNaN(h=+h)?u:s(i===0?.5:(h=(a(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(h){return arguments.length?(l=!!h,c):l},c.interpolator=function(h){return arguments.length?(s=h,c):s};function d(h){return function(f){var m,g;return arguments.length?([m,g]=f,s=h(m,g),c):[s(0),s(1)]}}return c.range=d(co),c.rangeRound=d(Y_),c.unknown=function(h){return arguments.length?(u=h,c):u},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),c}}function oa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function fO(){var t=sa(bf()(ir));return t.copy=function(){return oa(t,fO())},xi.apply(t,arguments)}function pO(){var t=Z_(bf()).domain([1,10]);return t.copy=function(){return oa(t,pO()).base(t.base())},xi.apply(t,arguments)}function mO(){var t=Q_(bf());return t.copy=function(){return oa(t,mO()).constant(t.constant())},xi.apply(t,arguments)}function ux(){var t=J_(bf());return t.copy=function(){return oa(t,ux()).exponent(t.exponent())},xi.apply(t,arguments)}function fW(){return ux.apply(null,arguments).exponent(.5)}function vO(){var t=[],e=ir;function r(n){if(n!=null&&!isNaN(n=+n))return e((vu(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Q$(t,a/n))},r.copy=function(){return vO(e).domain(t)},xi.apply(r,arguments)}function wf(){var t=0,e=.5,r=1,n=1,i,a,s,l,u,c=ir,d,h=!1,f;function m(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-a)*(n*y<n*a?l:u),c(h?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,r]=y,i=d(t=+t),a=d(e=+e),s=d(r=+r),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(y){return arguments.length?(h=!!y,m):h},m.interpolator=function(y){return arguments.length?(c=y,m):c};function g(y){return function(x){var _,b,S;return arguments.length?([_,b,S]=x,c=k3(y,[_,b,S]),m):[c(0),c(.5),c(1)]}}return m.range=g(co),m.rangeRound=g(Y_),m.unknown=function(y){return arguments.length?(f=y,m):f},function(y){return d=y,i=y(t),a=y(e),s=y(r),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function gO(){var t=sa(wf()(ir));return t.copy=function(){return oa(t,gO())},xi.apply(t,arguments)}function yO(){var t=Z_(wf()).domain([.1,1,10]);return t.copy=function(){return oa(t,yO()).base(t.base())},xi.apply(t,arguments)}function _O(){var t=Q_(wf());return t.copy=function(){return oa(t,_O()).constant(t.constant())},xi.apply(t,arguments)}function cx(){var t=J_(wf());return t.copy=function(){return oa(t,cx()).exponent(t.exponent())},xi.apply(t,arguments)}function pW(){return cx.apply(null,arguments).exponent(.5)}const Jo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:K_,scaleDiverging:gO,scaleDivergingLog:yO,scaleDivergingPow:cx,scaleDivergingSqrt:pW,scaleDivergingSymlog:_O,scaleIdentity:ZA,scaleImplicit:Fg,scaleLinear:qA,scaleLog:JA,scaleOrdinal:U_,scalePoint:t3,scalePow:ex,scaleQuantile:rO,scaleQuantize:nO,scaleRadial:tO,scaleSequential:fO,scaleSequentialLog:pO,scaleSequentialPow:ux,scaleSequentialQuantile:vO,scaleSequentialSqrt:fW,scaleSequentialSymlog:mO,scaleSqrt:G3,scaleSymlog:eO,scaleThreshold:iO,scaleTime:dW,scaleUtc:hW,tickFormat:XA},Symbol.toStringTag,{value:"Module"}));var bi=t=>t.chartData,xO=F([bi],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Sf=(t,e,r,n)=>n?xO(t):bi(t),bO=(t,e,r)=>r?xO(t):bi(t);function fi(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(we(e)&&we(r))return!0}return!1}function fk(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function wO(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(we(r))i=r;else if(typeof r=="function")return;if(we(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(fi(s))return s}}function mW(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(fi(n))return fk(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,l;if(i==="auto")e!=null&&(s=Math.min(...e));else if(le(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&zS.test(i)){var u=zS.exec(i);if(u==null||u[1]==null||e==null)s=void 0;else{var c=+u[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(le(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&IS.test(a)){var d=IS.exec(a);if(d==null||d[1]==null||e==null)l=void 0;else{var h=+d[1];l=e[1]+h}}else l=e==null?void 0:e[1];var f=[s,l];if(fi(f))return e==null?f:fk(f,e,r)}}}var ho=1e9,vW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hx,tt=!0,rn="[DecimalError] ",Ea=rn+"Invalid argument: ",dx=rn+"Exponent out of range: ",fo=Math.floor,ma=Math.pow,gW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Or,At=1e7,qe=7,SO=9007199254740991,nh=fo(SO/qe),ce={};ce.absoluteValue=ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ce.comparedTo=ce.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*qe;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ce.dividedBy=ce.div=function(t){return ni(this,new this.constructor(t))};ce.dividedToIntegerBy=ce.idiv=function(t){var e=this,r=e.constructor;return Ue(ni(e,new r(t),0,1),r.precision)};ce.equals=ce.eq=function(t){return!this.cmp(t)};ce.exponent=function(){return xt(this)};ce.greaterThan=ce.gt=function(t){return this.cmp(t)>0};ce.greaterThanOrEqualTo=ce.gte=function(t){return this.cmp(t)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(t){return this.cmp(t)<0};ce.lessThanOrEqualTo=ce.lte=function(t){return this.cmp(t)<1};ce.logarithm=ce.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Or))throw Error(rn+"NaN");if(r.s<1)throw Error(rn+(r.s?"NaN":"-Infinity"));return r.eq(Or)?new n(0):(tt=!1,e=ni(Ql(r,a),Ql(t,a),a),tt=!0,Ue(e,i))};ce.minus=ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PO(e,t):jO(e,(t.s=-t.s,t))};ce.modulo=ce.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(rn+"NaN");return r.s?(tt=!1,e=ni(r,t,0,1).times(t),tt=!0,r.minus(e)):Ue(new n(r),i)};ce.naturalExponential=ce.exp=function(){return kO(this)};ce.naturalLogarithm=ce.ln=function(){return Ql(this)};ce.negated=ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ce.plus=ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jO(e,t):PO(e,(t.s=-t.s,t))};ce.precision=ce.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ea+t);if(e=xt(i)+1,n=i.d.length-1,r=n*qe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ce.squareRoot=ce.sqrt=function(){var t,e,r,n,i,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(rn+"NaN")}for(t=xt(l),tt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Nn(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=fo((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=s=r+3;;)if(a=n,n=a.plus(ni(l,a,s+2)).times(.5),Nn(a.d).slice(0,s)===(e=Nn(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ue(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;s+=4}return tt=!0,Ue(n,r)};ce.times=ce.mul=function(t){var e,r,n,i,a,s,l,u,c,d=this,h=d.constructor,f=d.d,m=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,u=f.length,c=m.length,u<c&&(a=f,f=m,m=a,s=u,u=c,c=s),a=[],s=u+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=u+n;i>n;)l=a[i]+m[n]*f[i-n-1]+e,a[i--]=l%At|0,e=l/At|0;a[i]=(a[i]+e)%At|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,tt?Ue(t,h.precision):t};ce.toDecimalPlaces=ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:($n(t,0,ho),e===void 0?e=n.rounding:$n(e,0,8),Ue(r,t+xt(r)+1,e))};ce.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ha(n,!0):($n(t,0,ho),e===void 0?e=i.rounding:$n(e,0,8),n=Ue(new i(n),t+1,e),r=Ha(n,!0,t+1)),r};ce.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ha(i):($n(t,0,ho),e===void 0?e=a.rounding:$n(e,0,8),n=Ue(new a(i),t+xt(i)+1,e),r=Ha(n.abs(),!1,t+xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ce.toInteger=ce.toint=function(){var t=this,e=t.constructor;return Ue(new e(t),xt(t)+1,e.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(t){var e,r,n,i,a,s,l=this,u=l.constructor,c=12,d=+(t=new u(t));if(!t.s)return new u(Or);if(l=new u(l),!l.s){if(t.s<1)throw Error(rn+"Infinity");return l}if(l.eq(Or))return l;if(n=u.precision,t.eq(Or))return Ue(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=l.s,s){if((r=d<0?-d:d)<=SO){for(i=new u(Or),e=Math.ceil(n/qe+4),tt=!1;r%2&&(i=i.times(l),mk(i.d,e)),r=fo(r/2),r!==0;)l=l.times(l),mk(l.d,e);return tt=!0,t.s<0?new u(Or).div(i):Ue(i,n)}}else if(a<0)throw Error(rn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,tt=!1,i=t.times(Ql(l,n+c)),tt=!0,i=kO(i),i.s=a,i};ce.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=xt(i),n=Ha(i,r<=a.toExpNeg||r>=a.toExpPos)):($n(t,1,ho),e===void 0?e=a.rounding:$n(e,0,8),i=Ue(new a(i),t,e),r=xt(i),n=Ha(i,t<=r||r<=a.toExpNeg,t)),n};ce.toSignificantDigits=ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):($n(t,1,ho),e===void 0?e=n.rounding:$n(e,0,8)),Ue(new n(r),t,e)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=xt(t),r=t.constructor;return Ha(t,e<=r.toExpNeg||e>=r.toExpPos)};function jO(t,e){var r,n,i,a,s,l,u,c,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),tt?Ue(e,h):e;if(u=t.d,c=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(n=u,a=-a,l=c.length):(n=c,i=s,l=u.length),s=Math.ceil(h/qe),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=u.length,a=c.length,l-a<0&&(a=l,n=c,c=u,u=n),r=0;a;)r=(u[--a]=u[a]+c[a]+r)/At|0,u[a]%=At;for(r&&(u.unshift(r),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,tt?Ue(e,h):e}function $n(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ea+t)}function Nn(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=qe-n.length,r&&(a+=Ai(r)),a+=n;s=t[e],n=s+"",r=qe-n.length,r&&(a+=Ai(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ni=function(){function t(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%At|0,s=a/At|0;return s&&n.unshift(s),n}function e(n,i,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*At+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,u,c,d,h,f,m,g,y,x,_,b,S,k,p,j,C,T,E=n.constructor,z=n.s==i.s?1:-1,B=n.d,O=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(rn+"Division by zero");for(u=n.e-i.e,C=O.length,p=B.length,m=new E(z),g=m.d=[],c=0;O[c]==(B[c]||0);)++c;if(O[c]>(B[c]||0)&&--u,a==null?b=a=E.precision:s?b=a+(xt(n)-xt(i))+1:b=a,b<0)return new E(0);if(b=b/qe+2|0,c=0,C==1)for(d=0,O=O[0],b++;(c<p||d)&&b--;c++)S=d*At+(B[c]||0),g[c]=S/O|0,d=S%O|0;else{for(d=At/(O[0]+1)|0,d>1&&(O=t(O,d),B=t(B,d),C=O.length,p=B.length),k=C,y=B.slice(0,C),x=y.length;x<C;)y[x++]=0;T=O.slice(),T.unshift(0),j=O[0],O[1]>=At/2&&++j;do d=0,l=e(O,y,C,x),l<0?(_=y[0],C!=x&&(_=_*At+(y[1]||0)),d=_/j|0,d>1?(d>=At&&(d=At-1),h=t(O,d),f=h.length,x=y.length,l=e(h,y,f,x),l==1&&(d--,r(h,C<f?T:O,f))):(d==0&&(l=d=1),h=O.slice()),f=h.length,f<x&&h.unshift(0),r(y,h,x),l==-1&&(x=y.length,l=e(O,y,C,x),l<1&&(d++,r(y,C<x?T:O,x))),x=y.length):l===0&&(d++,y=[0]),g[c++]=d,l&&y[0]?y[x++]=B[k]||0:(y=[B[k]],x=1);while((k++<p||y[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=u,Ue(m,s?a+xt(m)+1:a)}}();function kO(t,e){var r,n,i,a,s,l,u=0,c=0,d=t.constructor,h=d.precision;if(xt(t)>16)throw Error(dx+xt(t));if(!t.s)return new d(Or);for(tt=!1,l=h,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(ma(2,c))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Or),d.precision=l;;){if(i=Ue(i.times(t),l),r=r.times(++u),s=a.plus(ni(i,r,l)),Nn(s.d).slice(0,l)===Nn(a.d).slice(0,l)){for(;c--;)a=Ue(a.times(a),l);return d.precision=h,e==null?(tt=!0,Ue(a,h)):a}a=s}}function xt(t){for(var e=t.e*qe,r=t.d[0];r>=10;r/=10)e++;return e}function Zm(t,e,r){if(e>t.LN10.sd())throw tt=!0,r&&(t.precision=r),Error(rn+"LN10 precision limit exceeded");return Ue(new t(t.LN10),e)}function Ai(t){for(var e="";t--;)e+="0";return e}function Ql(t,e){var r,n,i,a,s,l,u,c,d,h=1,f=10,m=t,g=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(rn+(m.s?"NaN":"-Infinity"));if(m.eq(Or))return new y(0);if(e==null?(tt=!1,c=x):c=e,m.eq(10))return e==null&&(tt=!0),Zm(y,c);if(c+=f,y.precision=c,r=Nn(g),n=r.charAt(0),a=xt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Nn(m.d),n=r.charAt(0),h++;a=xt(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return u=Zm(y,c+2,x).times(a+""),m=Ql(new y(n+"."+r.slice(1)),c-f).plus(u),y.precision=x,e==null?(tt=!0,Ue(m,x)):m;for(l=s=m=ni(m.minus(Or),m.plus(Or),c),d=Ue(m.times(m),c),i=3;;){if(s=Ue(s.times(d),c),u=l.plus(ni(s,new y(i),c)),Nn(u.d).slice(0,c)===Nn(l.d).slice(0,c))return l=l.times(2),a!==0&&(l=l.plus(Zm(y,c+2,x).times(a+""))),l=ni(l,new y(h),c),y.precision=x,e==null?(tt=!0,Ue(l,x)):l;l=u,i+=2}}function pk(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=fo(r/qe),t.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=qe;n<i;)t.d.push(+e.slice(n,n+=qe));e=e.slice(n),n=qe-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),tt&&(t.e>nh||t.e<-nh))throw Error(dx+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ue(t,e,r){var n,i,a,s,l,u,c,d,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=qe,i=e,c=h[d=0];else{if(d=Math.ceil((n+1)/qe),a=h.length,d>=a)return t;for(c=a=h[d],s=1;a>=10;a/=10)s++;n%=qe,i=n-qe+s}if(r!==void 0&&(a=ma(10,s-i-1),l=c/a%10|0,u=e<0||h[d+1]!==void 0||c%a,u=r<4?(l||u)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?i>0?c/ma(10,s-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return u?(a=xt(t),h.length=1,e=e-a-1,h[0]=ma(10,(qe-e%qe)%qe),t.e=fo(-e/qe)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=ma(10,qe-n),h[d]=i>0?(c/ma(10,s-i)%ma(10,i)|0)*a:0),u)for(;;)if(d==0){(h[0]+=a)==At&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=At)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(tt&&(t.e>nh||t.e<-nh))throw Error(dx+xt(t));return t}function PO(t,e){var r,n,i,a,s,l,u,c,d,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),tt?Ue(e,m):e;if(u=t.d,h=e.d,n=e.e,c=t.e,u=u.slice(),s=c-n,s){for(d=s<0,d?(r=u,s=-s,l=h.length):(r=h,n=c,l=u.length),i=Math.max(Math.ceil(m/qe),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=u.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(u[i]!=h[i]){d=u[i]<h[i];break}s=0}for(d&&(r=u,u=h,h=r,e.s=-e.s),l=u.length,i=h.length-l;i>0;--i)u[l++]=0;for(i=h.length;i>s;){if(u[--i]<h[i]){for(a=i;a&&u[--a]===0;)u[a]=At-1;--u[a],u[i]+=At}u[i]-=h[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,tt?Ue(e,m):e):new f(0)}function Ha(t,e,r){var n,i=xt(t),a=Nn(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ai(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ai(-i-1)+a,r&&(n=r-s)>0&&(a+=Ai(n))):i>=s?(a+=Ai(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ai(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ai(n))),t.s<0?"-"+a:a}function mk(t,e){if(t.length>e)return t.length=e,!0}function MO(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ea+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return pk(s,a.toString())}else if(typeof a!="string")throw Error(Ea+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,gW.test(a))pk(s,a);else throw Error(Ea+a)}if(i.prototype=ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=MO,i.config=i.set=yW,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function yW(t){if(!t||typeof t!="object")throw Error(rn+"Object expected");var e,r,n,i=["precision",1,ho,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(fo(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ea+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ea+r+": "+n);return this}var hx=MO(vW);Or=new hx(1);const Le=hx;function CO(t){var e;return t===0?e=1:e=Math.floor(new Le(t).abs().log(10).toNumber())+1,e}function EO(t,e,r){for(var n=new Le(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var AO=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},OO=(t,e,r)=>{if(t.lte(0))return new Le(0);var n=CO(t.toNumber()),i=new Le(10).pow(n),a=t.div(i),s=n!==1?.05:.1,l=new Le(Math.ceil(a.div(s).toNumber())).add(r).mul(s),u=l.mul(i);return e?new Le(u.toNumber()):new Le(Math.ceil(u.toNumber()))},_W=(t,e,r)=>{var n=new Le(1),i=new Le(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Le(10).pow(CO(t)-1),i=new Le(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Le(Math.floor(t)))}else t===0?i=new Le(Math.floor((e-1)/2)):r||(i=new Le(Math.floor(t)));for(var s=Math.floor((e-1)/2),l=[],u=0;u<e;u++)l.push(i.add(new Le(u-s).mul(n)).toNumber());return l},TO=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var s=OO(new Le(r).sub(e).div(n-1),i,a),l;e<=0&&r>=0?l=new Le(0):(l=new Le(e).add(r).div(2),l=l.sub(new Le(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),c=Math.ceil(new Le(r).sub(l).div(s).toNumber()),d=u+c+1;return d>n?TO(e,r,n,i,a+1):(d<n&&(c=r>0?c+(n-d):c,u=r>0?u:u+(n-d)),{step:s,tickMin:l.sub(new Le(u).mul(s)),tickMax:l.add(new Le(c).mul(s))})},xW=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,u]=AO([r,n]);if(l===-1/0||u===1/0){var c=u===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return r>n?c.reverse():c}if(l===u)return _W(l,i,a);var{step:d,tickMin:h,tickMax:f}=TO(l,u,s,a,0),m=EO(h,f.add(new Le(.1).mul(d)),d);return r>n?m.reverse():m},bW=function(e,r){var[n,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=AO([n,i]);if(s===-1/0||l===1/0)return[n,i];if(s===l)return[s];var u=Math.max(r,2),c=OO(new Le(l).sub(s).div(u-1),a,0),d=[...EO(new Le(s),new Le(l),c),l];return a===!1&&(d=d.map(h=>Math.round(h))),n>i?d.reverse():d},zO=t=>t.rootProps.maxBarSize,wW=t=>t.rootProps.barGap,IO=t=>t.rootProps.barCategoryGap,SW=t=>t.rootProps.barSize,jf=t=>t.rootProps.stackOffset,NO=t=>t.rootProps.reverseStackOrder,fx=t=>t.options.chartName,px=t=>t.rootProps.syncId,RO=t=>t.rootProps.syncMethod,mx=t=>t.options.eventEmitter,jW=t=>t.rootProps.baseValue,lt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ca={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},En={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},kf=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Pf(t,e,r){if(r!=="auto")return r;if(t!=null)return kn(t,e)?"category":"number"}function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ih(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){kW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kW(t,e,r){return(e=PW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PW(t){var e=MW(t,"string");return typeof e=="symbol"?e:e+""}function MW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gk={allowDataOverflow:ca.allowDataOverflow,allowDecimals:ca.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ca.angleAxisId,includeHidden:!1,name:void 0,reversed:ca.reversed,scale:ca.scale,tick:ca.tick,tickCount:void 0,ticks:void 0,type:ca.type,unit:void 0},yk={allowDataOverflow:En.allowDataOverflow,allowDecimals:En.allowDecimals,allowDuplicatedCategory:En.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:En.radiusAxisId,includeHidden:En.includeHidden,name:void 0,reversed:En.reversed,scale:En.scale,tick:En.tick,tickCount:En.tickCount,ticks:void 0,type:En.type,unit:void 0},CW=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},vx=F([CW,xA],(t,e)=>{var r;if(t!=null)return t;var n=(r=Pf(e,"angleAxis",gk.type))!==null&&r!==void 0?r:"category";return ih(ih({},gk),{},{type:n})}),EW=(t,e)=>t.polarAxis.radiusAxis[e],gx=F([EW,xA],(t,e)=>{var r;if(t!=null)return t;var n=(r=Pf(e,"radiusAxis",yk.type))!==null&&r!==void 0?r:"category";return ih(ih({},yk),{},{type:n})}),Mf=t=>t.polarOptions,yx=F([yi,_i,zt],A$),DO=F([Mf,yx],(t,e)=>{if(t!=null)return wn(t.innerRadius,e,0)}),LO=F([Mf,yx],(t,e)=>{if(t!=null)return wn(t.outerRadius,e,e*.8)}),AW=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},BO=F([Mf],AW);F([vx,BO],kf);var $O=F([yx,DO,LO],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});F([gx,$O],kf);var FO=F([ze,Mf,DO,LO,yi,_i],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:s,cy:l,startAngle:u,endAngle:c}=e;return{cx:wn(s,i,i/2),cy:wn(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:c,clockWise:!1}}}),Nt=(t,e)=>e,Cf=(t,e,r)=>r;function Ef(t){return t==null?void 0:t.id}function WO(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return t.forEach(l=>{var u,c=(u=l.data)!==null&&u!==void 0?u:n;if(!(c==null||c.length===0)){var d=Ef(l);c.forEach((h,f)=>{var m=a==null||i?f:String(Ge(h,a,null)),g=Ge(h,l.dataKey,0),y;s.has(m)?y=s.get(m):y={},Object.assign(y,{[d]:g}),s.set(m,y)})}}),Array.from(s.values())}function Af(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Of=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Tf(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function OW(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var Rt=t=>{var e=ze(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},po=t=>t.tooltip.settings.axisId;function TW(t){if(t in Jo)return Jo[t]();var e="scale".concat(uu(t));if(e in Jo)return Jo[e]()}function _k(t){var e=t.ticks,r=t.bandwidth,n=t.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>t.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],l=i[1];return s<=l?a>=s&&a<=l:a>=l&&a<=s},bandwidth:r?()=>r.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,s)=>{var l=t(a);if(l!=null){if(t.bandwidth&&s!==null&&s!==void 0&&s.position){var u=t.bandwidth();switch(s.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function xk(t,e,r){if(typeof t=="function")return _k(t.copy().domain(e).range(r));if(t!=null){var n=TW(t);if(n!=null)return n.domain(e).range(r),_k(n)}}var zW=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!fi(e)){for(var r,n,i=0;i<e.length;i++){var a=e[i];we(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return e}default:return e}};function bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ah(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(r),!0).forEach(function(n){IW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IW(t,e,r){return(e=NW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NW(t){var e=RW(t,"string");return typeof e=="symbol"?e:e+""}function RW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vg=[0,"auto"],Ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UO=(t,e)=>t.cartesianAxis.xAxis[e],Fn=(t,e)=>{var r=UO(t,e);return r??Ct},Et={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hu},KO=(t,e)=>t.cartesianAxis.yAxis[e],Wn=(t,e)=>{var r=KO(t,e);return r??Et},VO={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_x=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??VO},dr=(t,e,r)=>{switch(e){case"xAxis":return Fn(t,r);case"yAxis":return Wn(t,r);case"zAxis":return _x(t,r);case"angleAxis":return vx(t,r);case"radiusAxis":return gx(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},DW=(t,e,r)=>{switch(e){case"xAxis":return Fn(t,r);case"yAxis":return Wn(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},xu=(t,e,r)=>{switch(e){case"xAxis":return Fn(t,r);case"yAxis":return Wn(t,r);case"angleAxis":return vx(t,r);case"radiusAxis":return gx(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},HO=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function YO(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var mo=t=>t.graphicalItems.cartesianItems,LW=F([Nt,Cf],YO),GO=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),bu=F([mo,dr,LW],GO,{memoizeOptions:{resultEqualityCheck:Tf}}),XO=F([bu],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Af)),qO=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),BW=F([bu],qO),ZO=t=>t.map(e=>e.data).filter(Boolean).flat(1),$W=F([bu],ZO,{memoizeOptions:{resultEqualityCheck:Tf}}),QO=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},xx=F([$W,Sf],QO),JO=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ge(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Ge(i,n)}))):t.map(n=>({value:n})),zf=F([xx,dr,bu],JO);function eT(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Hc(t){if(en(t)||t instanceof Date){var e=Number(t);if(we(e))return e}}function wk(t){if(Array.isArray(t)){var e=[Hc(t[0]),Hc(t[1])];return fi(e)?e:void 0}var r=Hc(t);if(r!=null)return[r,r]}function pi(t){return t.map(Hc).filter(yr)}function FW(t,e,r){return!r||typeof e!="number"||bn(e)?[]:r.length?pi(r.flatMap(n=>{var i=Ge(t,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!we(a)||!we(s)))return[e-a,e+s]})):[]}var Mt=t=>{var e=Rt(t),r=po(t);return xu(t,e,r)},wu=F([Mt],t=>t==null?void 0:t.dataKey),WW=F([XO,Sf,Mt],WO),tT=(t,e,r,n)=>{var i={},a=e.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[l,u]=s,c=n?[...u].reverse():u,d=c.map(Ef);return[l,{stackedData:M6(t,d,r),graphicalItems:c}]}))},sh=F([WW,XO,jf,NO],tT),rT=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n==null&&r!=="zAxis"){var s=O6(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},UW=F([dr],t=>t.allowDataOverflow),bx=t=>{var e;if(t==null||!("domain"in t))return Vg;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=pi(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Vg},nT=F([dr],bx),iT=F([nT,UW],wO),KW=F([sh,bi,Nt,iT],rT,{memoizeOptions:{resultEqualityCheck:Of}}),wx=t=>t.errorBars,VW=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>eT(r,n)),oh=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},aT=(t,e,r,n,i)=>{var a,s;if(r.length>0&&t.forEach(l=>{r.forEach(u=>{var c,d,h=(c=n[u.id])===null||c===void 0?void 0:c.filter(_=>eT(i,_)),f=Ge(l,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey),m=FW(l,f,h);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(a==null||g<a)&&(a=g),(s==null||y>s)&&(s=y)}var x=wk(f);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=wk(Ge(l,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),we(a)&&we(s))return[a,s]},HW=F([xx,dr,BW,wx,Nt],aT,{memoizeOptions:{resultEqualityCheck:Of}});function YW(t){var{value:e}=t;if(en(e)||e instanceof Date)return e}var GW=(t,e,r)=>{var n=t.map(YW).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&ZE(n))?$A(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},sT=t=>t.referenceElements.dots,vo=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),XW=F([sT,Nt,Cf],vo),oT=t=>t.referenceElements.areas,qW=F([oT,Nt,Cf],vo),lT=t=>t.referenceElements.lines,ZW=F([lT,Nt,Cf],vo),uT=(t,e)=>{if(t!=null){var r=pi(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},QW=F(XW,Nt,uT),cT=(t,e)=>{if(t!=null){var r=pi(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},JW=F([qW,Nt],cT);function e7(t){var e;if(t.x!=null)return pi([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:pi(r)}function t7(t){var e;if(t.y!=null)return pi([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:pi(r)}var dT=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?e7(n):t7(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},r7=F([ZW,Nt],dT),n7=F(QW,r7,JW,(t,e,r)=>oh(t,r,e)),hT=(t,e,r,n,i,a,s,l)=>{if(r!=null)return r;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",c=u?oh(n,a,i):oh(a,i);return mW(e,c,t.allowDataOverflow)},i7=F([dr,nT,iT,KW,HW,n7,ze,Nt],hT,{memoizeOptions:{resultEqualityCheck:Of}}),a7=[0,1],fT=(t,e,r,n,i,a,s)=>{if(!((t==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:u}=t,c=kn(e,a);if(c&&l==null){var d;return $A(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return u==="category"?GW(n,t,c):i==="expand"?a7:s}},Sx=F([dr,ze,xx,zf,jf,Nt,i7],fT);function s7(t){return t in Jo}var pT=(t,e,r)=>{if(t!=null){var{scale:n,type:i}=t;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(uu(n));return s7(a)?a:"point"}}},go=F([dr,HO,fx],pT);function jx(t,e,r,n){if(!(r==null||n==null))return typeof t.scale=="function"?xk(t.scale,r,n):xk(e,r,n)}var mT=(t,e,r)=>{var n=bx(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&fi(t))return xW(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&fi(t))return bW(t,e.tickCount,e.allowDecimals)}},kx=F([Sx,xu,go],mT),vT=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&fi(e)&&Array.isArray(r)&&r.length>0){var i,a,s=e[0],l=(i=r[0])!==null&&i!==void 0?i:0,u=e[1],c=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,l),Math.max(u,c)]}return e},o7=F([dr,Sx,kx,Nt],vT),l7=F(zf,dr,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(pi(t.map(h=>h.value))).sort((h,f)=>h-f),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var l=0;l<n.length-1;l++){var u=n[l],c=n[l+1];if(!(u==null||c==null)){var d=c-u;r=Math.min(r,d)}}return r/s}}),gT=F(l7,ze,IO,zt,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!we(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=wn(r,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),u7=(t,e,r)=>{var n=Fn(t,e);return n==null||typeof n.padding!="string"?0:gT(t,"xAxis",e,r,n.padding)},c7=(t,e,r)=>{var n=Wn(t,e);return n==null||typeof n.padding!="string"?0:gT(t,"yAxis",e,r,n.padding)},d7=F(Fn,u7,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),h7=F(Wn,c7,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),f7=F([zt,d7,ff,hf,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),p7=F([zt,ze,h7,ff,hf,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Su=(t,e,r,n)=>{var i;switch(e){case"xAxis":return f7(t,r,n);case"yAxis":return p7(t,r,n);case"zAxis":return(i=_x(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return BO(t);case"radiusAxis":return $O(t,r);default:return}},yT=F([dr,Su],kf),m7=F([go,o7],zW),ro=F([dr,go,m7,yT],jx);F([bu,wx,Nt],VW);function _T(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var If=(t,e)=>e,Nf=(t,e,r)=>r,v7=F(cf,If,Nf,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(_T)),g7=F(df,If,Nf,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(_T)),xT=(t,e)=>({width:t.width,height:e.height}),y7=(t,e)=>{var r=typeof e.width=="number"?e.width:hu;return{width:r,height:t.height}},bT=F(zt,Fn,xT),_7=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},x7=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},b7=F(_i,zt,v7,If,Nf,(t,e,r,n,i)=>{var a={},s;return r.forEach(l=>{var u=xT(e,l);s==null&&(s=_7(e,n,t));var c=n==="top"&&!i||n==="bottom"&&i;a[l.id]=s-Number(c)*u.height,s+=(c?-1:1)*u.height}),a}),w7=F(yi,zt,g7,If,Nf,(t,e,r,n,i)=>{var a={},s;return r.forEach(l=>{var u=y7(e,l);s==null&&(s=x7(e,n,t));var c=n==="left"&&!i||n==="right"&&i;a[l.id]=s-Number(c)*u.width,s+=(c?-1:1)*u.width}),a}),S7=(t,e)=>{var r=Fn(t,e);if(r!=null)return b7(t,r.orientation,r.mirror)},j7=F([zt,Fn,S7,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),k7=(t,e)=>{var r=Wn(t,e);if(r!=null)return w7(t,r.orientation,r.mirror)},P7=F([zt,Wn,k7,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),wT=F(zt,Wn,(t,e)=>{var r=typeof e.width=="number"?e.width:hu;return{width:r,height:t.height}}),Sk=(t,e,r)=>{switch(e){case"xAxis":return bT(t,r).width;case"yAxis":return wT(t,r).height;default:return}},ST=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,l=kn(t,n),u=e.map(c=>c.value);if(s&&l&&a==="category"&&i&&ZE(u))return u}},Px=F([ze,zf,dr,Nt],ST),jT=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=kn(t,n);if(s&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},Mx=F([ze,zf,xu,Nt],jT),jk=F([ze,DW,go,ro,Px,Mx,Su,kx,Nt],(t,e,r,n,i,a,s,l,u)=>{if(e!=null){var c=kn(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:l,range:s,realScaleType:r,scale:n}}}),M7=(t,e,r,n,i,a,s,l,u)=>{if(!(e==null||n==null)){var c=kn(t,u),{type:d,ticks:h,tickCount:f}=e,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=u==="angleAxis"&&a!=null&&a.length>=2?gr(a[0]-a[1])*2*g:g;var y=h||i;return y?y.map((x,_)=>{var b=s?s.indexOf(x):x,S=n.map(b);return we(S)?{index:_,coordinate:S+g,value:x,offset:g}:null}).filter(yr):c&&l?l.map((x,_)=>{var b=n.map(x);return we(b)?{coordinate:b+g,value:x,index:_,offset:g}:null}).filter(yr):n.ticks?n.ticks(f).map((x,_)=>{var b=n.map(x);return we(b)?{coordinate:b+g,value:x,index:_,offset:g}:null}).filter(yr):n.domain().map((x,_)=>{var b=n.map(x);return we(b)?{coordinate:b+g,value:s?s[x]:x,index:_,offset:g}:null}).filter(yr)}},kT=F([ze,xu,go,ro,kx,Su,Px,Mx,Nt],M7),C7=(t,e,r,n,i,a,s)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var l=kn(t,s),{tickCount:u}=e,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?gr(n[0]-n[1])*2*c:c,l&&a?a.map((d,h)=>{var f=r.map(d);return we(f)?{coordinate:f+c,value:d,index:h,offset:c}:null}).filter(yr):r.ticks?r.ticks(u).map((d,h)=>{var f=r.map(d);return we(f)?{coordinate:f+c,value:d,index:h,offset:c}:null}).filter(yr):r.domain().map((d,h)=>{var f=r.map(d);return we(f)?{coordinate:f+c,value:i?i[d]:d,index:h,offset:c}:null}).filter(yr)}},nn=F([ze,xu,ro,Su,Px,Mx,Nt],C7),an=F(dr,ro,(t,e)=>{if(!(t==null||e==null))return ah(ah({},t),{},{scale:e})}),E7=F([dr,go,Sx,yT],jx),A7=F((t,e,r)=>_x(t,r),E7,(t,e)=>{if(!(t==null||e==null))return ah(ah({},t),{},{scale:e})}),O7=F([ze,cf,df],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),PT=t=>t.options.defaultTooltipEventType,MT=t=>t.options.validateTooltipEventTypes;function CT(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function Cx(t,e){var r=PT(t),n=MT(t);return CT(e,r,n)}function T7(t){return de(e=>Cx(e,t))}var ET=(t,e)=>{var r,n=Number(e);if(!(bn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},z7=t=>t.tooltip.settings,Ni={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},I7={itemInteraction:{click:Ni,hover:Ni},axisInteraction:{click:Ni,hover:Ni},keyboardInteraction:Ni,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},AT=kr({name:"tooltip",initialState:I7,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Je()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=_n(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:Je()},removeTooltipEntrySettings:{reducer(t,e){var r=_n(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Je()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:N7,replaceTooltipEntrySettings:R7,removeTooltipEntrySettings:D7,setTooltipSettingsState:L7,setActiveMouseOverItemIndex:OT,mouseLeaveItem:B7,mouseLeaveChart:TT,setActiveClickItemIndex:$7,setMouseOverAxisIndex:zT,setMouseClickAxisIndex:F7,setSyncInteraction:Hg,setKeyboardInteraction:Yg}=AT.actions,W7=AT.reducer;function kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(r),!0).forEach(function(n){U7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U7(t,e,r){return(e=K7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K7(t){var e=V7(t,"string");return typeof e=="symbol"?e:e+""}function V7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H7(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Y7(t){return t.index!=null}var IT=(t,e,r,n)=>{if(e==null)return Ni;var i=H7(t,e,r);if(i==null)return Ni;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Y7(i)){if(a)return wc(wc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return wc(wc({},Ni),{},{coordinate:i.coordinate})};function G7(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function X7(t,e){var r=G7(t),n=e[0],i=e[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function q7(t,e,r){if(r==null||e==null)return!0;var n=Ge(t,e);return n==null||!fi(r)?!0:X7(n,r)}var Ex=(t,e,r,n)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!we(a))return i;var s=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(s,Math.min(a,l)),c=e[u];return c==null||q7(c,r,n)?String(u):null},NT=(t,e,r,n,i,a,s)=>{if(a!=null){var l=s[0],u=l==null?void 0:l.getPosition(a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:c.coordinate}}}},RT=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},DT=t=>t.options.tooltipPayloadSearcher,yo=t=>t.tooltip;function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){Z7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z7(t,e,r){return(e=Q7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q7(t){var e=J7(t,"string");return typeof e=="symbol"?e:e+""}function J7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eU(t,e){return t??e}var LT=(t,e,r,n,i,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:c,dataEndIndex:d}=r,h=[];return t.reduce((f,m)=>{var g,{dataDefinedOnItem:y,settings:x}=m,_=eU(y,l),b=Array.isArray(_)?aA(_,c,d):_,S=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:n,k=x==null?void 0:x.nameKey,p;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?p=QE(b,n,i):p=a(b,e,u,k),Array.isArray(p))p.forEach(C=>{var T=Mk(Mk({},x),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(NS({tooltipEntrySettings:T,dataKey:C.dataKey,payload:C.payload,value:Ge(C.payload,C.dataKey),name:C.name}))});else{var j;f.push(NS({tooltipEntrySettings:x,dataKey:S,payload:p,value:Ge(p,S),name:(j=Ge(p,k))!==null&&j!==void 0?j:x==null?void 0:x.name}))}return f},h)}},Ax=F([Mt,HO,fx],pT),tU=F([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),rU=F([Rt,po],YO),_o=F([tU,Mt,rU],GO,{memoizeOptions:{resultEqualityCheck:Tf}}),nU=F([_o],t=>t.filter(Af)),iU=F([_o],ZO,{memoizeOptions:{resultEqualityCheck:Tf}}),xo=F([iU,bi],QO),aU=F([nU,bi,Mt],WO),Ox=F([xo,Mt,_o],JO),BT=F([Mt],bx),sU=F([Mt],t=>t.allowDataOverflow),$T=F([BT,sU],wO),oU=F([_o],t=>t.filter(Af)),lU=F([aU,oU,jf,NO],tT),uU=F([lU,bi,Rt,$T],rT),cU=F([_o],qO),dU=F([xo,Mt,cU,wx,Rt],aT,{memoizeOptions:{resultEqualityCheck:Of}}),hU=F([sT,Rt,po],vo),fU=F([hU,Rt],uT),pU=F([oT,Rt,po],vo),mU=F([pU,Rt],cT),vU=F([lT,Rt,po],vo),gU=F([vU,Rt],dT),yU=F([fU,gU,mU],oh),_U=F([Mt,BT,$T,uU,dU,yU,ze,Rt],hT),ju=F([Mt,ze,xo,Ox,jf,Rt,_U],fT),xU=F([ju,Mt,Ax],mT),bU=F([Mt,ju,xU,Rt],vT),FT=t=>{var e=Rt(t),r=po(t),n=!1;return Su(t,e,r,n)},WT=F([Mt,FT],kf),UT=F([Mt,Ax,bU,WT],jx),wU=F([ze,Ox,Mt,Rt],ST),SU=F([ze,Ox,Mt,Rt],jT),jU=(t,e,r,n,i,a,s,l)=>{if(e){var{type:u}=e,c=kn(t,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?gr(i[0]-i[1])*2*h:h,c&&s?s.map((f,m)=>{var g=n.map(f);return we(g)?{coordinate:g+h,value:f,index:m,offset:h}:null}).filter(yr):n.domain().map((f,m)=>{var g=n.map(f);return we(g)?{coordinate:g+h,value:a?a[f]:f,index:m,offset:h}:null}).filter(yr)}}},wi=F([ze,Mt,Ax,UT,FT,wU,SU,Rt],jU),Tx=F([PT,MT,z7],(t,e,r)=>CT(r.shared,t,e)),KT=t=>t.tooltip.settings.trigger,zx=t=>t.tooltip.settings.defaultIndex,ku=F([yo,Tx,KT,zx],IT),Ji=F([ku,xo,wu,ju],Ex),VT=F([wi,Ji],ET),HT=F([ku],t=>{if(t)return t.dataKey});F([ku],t=>{if(t)return t.graphicalItemId});var YT=F([yo,Tx,KT,zx],RT),kU=F([yi,_i,ze,zt,wi,zx,YT],NT),PU=F([ku,kU],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),MU=F([ku],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),CU=F([YT,Ji,bi,wu,VT,DT,Tx],LT),EU=F([CU],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function Ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(r),!0).forEach(function(n){AU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AU(t,e,r){return(e=OU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OU(t){var e=TU(t,"string");return typeof e=="symbol"?e:e+""}function TU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zU=()=>de(Mt),IU=()=>{var t=zU(),e=de(wi),r=de(UT);return Qi(!t||!r?void 0:Ek(Ek({},t),{},{scale:r}),e)};function Ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(r),!0).forEach(function(n){NU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NU(t,e,r){return(e=RU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RU(t){var e=DU(t,"string");return typeof e=="symbol"?e:e+""}function DU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LU=(t,e,r,n)=>{var i=e.find(a=>a&&a.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},BU=(t,e,r,n)=>{var i=e.find(c=>c&&c.index===r);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=n;return ss(ss(ss({},n),Wt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:u}=n;return ss(ss(ss({},n),Wt(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function $U(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var GT=(t,e,r,n,i)=>{var a,s=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,c,d,h,f,m=l>0?(u=r[l-1])===null||u===void 0?void 0:u.coordinate:(c=r[s-1])===null||c===void 0?void 0:c.coordinate,g=(d=r[l])===null||d===void 0?void 0:d.coordinate,y=l>=s-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(f=r[l+1])===null||f===void 0?void 0:f.coordinate,x=void 0;if(!(m==null||g==null||y==null))if(gr(g-m)!==gr(y-g)){var _=[];if(gr(y-g)===gr(i[1]-i[0])){x=y;var b=g+i[1]-i[0];_[0]=Math.min(b,(b+m)/2),_[1]=Math.max(b,(b+m)/2)}else{x=m;var S=y+i[1]-i[0];_[0]=Math.min(g,(S+g)/2),_[1]=Math.max(g,(S+g)/2)}var k=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(t>k[0]&&t<=k[1]||t>=_[0]&&t<=_[1]){var p;return(p=r[l])===null||p===void 0?void 0:p.index}}else{var j=Math.min(m,y),C=Math.max(m,y);if(t>(j+g)/2&&t<=(C+g)/2){var T;return(T=r[l])===null||T===void 0?void 0:T.index}}}else if(e)for(var E=0;E<s;E++){var z=e[E];if(z!=null){var B=e[E+1],O=e[E-1];if(E===0&&B!=null&&t<=(z.coordinate+B.coordinate)/2||E===s-1&&O!=null&&t>(z.coordinate+O.coordinate)/2||E>0&&E<s-1&&O!=null&&B!=null&&t>(z.coordinate+O.coordinate)/2&&t<=(z.coordinate+B.coordinate)/2)return z.index}}return-1},XT=()=>de(fx),Ix=(t,e)=>e,qT=(t,e,r)=>r,Nx=(t,e,r,n)=>n,FU=F(wi,t=>Jh(t,e=>e.coordinate)),Rx=F([yo,Ix,qT,Nx],IT),Dx=F([Rx,xo,wu,ju],Ex),WU=(t,e,r)=>{if(e!=null){var n=yo(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ZT=F([yo,Ix,qT,Nx],RT),lh=F([yi,_i,ze,zt,wi,Nx,ZT],NT),UU=F([Rx,lh],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),QT=F([wi,Dx],ET),KU=F([ZT,Dx,bi,wu,QT,DT,Ix],LT),VU=F([Rx,Dx],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),HU=(t,e,r,n,i,a,s)=>{if(!(!t||!r||!n||!i)&&$U(t,s)){var l=T6(t,e),u=GT(l,a,i,r,n),c=LU(e,i,u,t);return{activeIndex:String(u),activeCoordinate:c}}},YU=(t,e,r,n,i,a,s)=>{if(!(!t||!n||!i||!a||!r)){var l=N$(t,r);if(l){var u=z6(l,e),c=GT(u,s,a,n,i),d=BU(e,a,c,l);return{activeIndex:String(c),activeCoordinate:d}}}},GU=(t,e,r,n,i,a,s,l)=>{if(!(!t||!e||!n||!i||!a))return e==="horizontal"||e==="vertical"?HU(t,e,n,i,a,s,l):YU(t,e,r,n,i,a,s)},XU=F(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),qU=F(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(lt)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:OW}});function Ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(r),!0).forEach(function(n){ZU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZU(t,e,r){return(e=QU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QU(t){var e=JU(t,"string");return typeof e=="symbol"?e:e+""}function JU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e9={},t9={zIndexMap:Object.values(lt).reduce((t,e)=>Tk(Tk({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),e9)},r9=new Set(Object.values(lt));function n9(t){return r9.has(t)}var JT=kr({name:"zIndex",initialState:t9,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Je()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!n9(r)&&delete t.zIndexMap[r])},prepare:Je()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Je()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Je()}}}),{registerZIndexPortal:i9,unregisterZIndexPortal:a9,registerZIndexPortalElement:s9,unregisterZIndexPortalElement:o9}=JT.actions,l9=JT.reducer;function Jt(t){var{zIndex:e,children:r}=t,n=sB(),i=n&&e!==void 0&&e!==0,a=pt(),s=ct();v.useLayoutEffect(()=>i?(s(i9({zIndex:e})),()=>{s(a9({zIndex:e}))}):na,[s,e,i]);var l=de(u=>XU(u,e,a));return i?l?i_.createPortal(r,l):null:r}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gg.apply(null,arguments)}function zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(r),!0).forEach(function(n){u9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u9(t,e,r){return(e=c9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c9(t){var e=d9(t,"string");return typeof e=="symbol"?e:e+""}function d9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h9(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return v.isValidElement(e)?v.cloneElement(e,n):v.createElement(r,n)}function f9(t){var e,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:c,chartName:d}=t,h=r,f=n,m=i;if(!u||!h||d!=="ScatterChart"&&c!=="axis")return null;var g,y,x;if(d==="ScatterChart")g=h,y=GB,x=lt.cursorLine;else if(d==="BarChart")g=XB(l,h,a,s),y=zA,x=lt.cursorRectangle;else if(l==="radial"&&e2(h)){var{cx:_,cy:b,radius:S,startAngle:k,endAngle:p}=IA(h);g={cx:_,cy:b,startAngle:k,endAngle:p,innerRadius:S,outerRadius:S},y=RA,x=lt.cursorLine}else g={points:B$(l,h,a)},y=Rs,x=lt.cursorLine;var j=typeof u=="object"&&"className"in u?u.className:void 0,C=Sc(Sc(Sc(Sc({stroke:"#ccc",pointerEvents:"none"},a),g),so(u)),{},{payload:f,payloadIndex:m,className:Re("recharts-tooltip-cursor",j)});return v.createElement(Jt,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},v.createElement(h9,{cursor:u,cursorComp:y,cursorProps:C}))}function p9(t){var e=IU(),r=gA(),n=aa(),i=XT();return e==null||r==null||n==null||i==null?null:v.createElement(f9,Gg({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var ez=v.createContext(null),m9=()=>v.useContext(ez),tz={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function a(u,c,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||u,f),g=r?r+c:c;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],m]:u._events[g].push(m):(u._events[g]=m,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=r?r+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(c){var d=r?r+c:c,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(c,d,h,f,m,g){var y=r?r+c:c;if(!this._events[y])return!1;var x=this._events[y],_=arguments.length,b,S;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,g),!0}for(S=1,b=new Array(_-1);S<_;S++)b[S-1]=arguments[S];x.fn.apply(x.context,b)}else{var k=x.length,p;for(S=0;S<k;S++)switch(x[S].once&&this.removeListener(c,x[S].fn,void 0,!0),_){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,d);break;case 3:x[S].fn.call(x[S].context,d,h);break;case 4:x[S].fn.call(x[S].context,d,h,f);break;default:if(!b)for(p=1,b=new Array(_-1);p<_;p++)b[p-1]=arguments[p];x[S].fn.apply(x[S].context,b)}}return!0},l.prototype.on=function(c,d,h){return a(this,c,d,h,!1)},l.prototype.once=function(c,d,h){return a(this,c,d,h,!0)},l.prototype.removeListener=function(c,d,h,f){var m=r?r+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&s(this,m);else{for(var y=0,x=[],_=g.length;y<_;y++)(g[y].fn!==d||f&&!g[y].once||h&&g[y].context!==h)&&x.push(g[y]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(tz);var v9=tz.exports;const g9=vi(v9);var Jl=new g9,Xg="recharts.syncEvent.tooltip",Ik="recharts.syncEvent.brush",Pu=(t,e)=>{if(e&&Array.isArray(t)){var r=Number.parseInt(e,10);if(!bn(r))return t[r]}},y9={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},rz=kr({name:"options",initialState:y9,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),_9=rz.reducer,{createEventEmitter:x9}=rz.actions;function b9(t){return t.tooltip.syncInteraction}var w9={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nz=kr({name:"chartData",initialState:w9,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:Nk,setDataStartEndIndexes:S9,setComputedData:LQ}=nz.actions,j9=nz.reducer,k9=["x","y"];function Rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(r),!0).forEach(function(n){P9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P9(t,e,r){return(e=M9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M9(t){var e=C9(t,"string");return typeof e=="symbol"?e:e+""}function C9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E9(t,e){if(t==null)return{};var r,n,i=A9(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function A9(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function O9(){var t=de(px),e=de(mx),r=ct(),n=de(RO),i=de(wi),a=aa(),s=oo(),l=de(u=>u.rootProps.className);v.useEffect(()=>{if(t==null)return na;var u=(c,d,h)=>{if(e!==h&&t===c){if(n==="index"){var f;if(s&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y}=m,x=E9(m,k9),{x:_,y:b,width:S,height:k}=d.payload.sourceViewBox,p=os(os({},x),{},{x:s.x+(S?(g-_)/S:0)*s.width,y:s.y+(k?(y-b)/k:0)*s.height});r(os(os({},d),{},{payload:os(os({},d.payload),{},{coordinate:p})}))}else r(d);return}if(i!=null){var j;if(typeof n=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=n(i,C);j=i[T]}else n==="value"&&(j=i.find(re=>String(re.value)===d.payload.label));var{coordinate:E}=d.payload;if(j==null||d.payload.active===!1||E==null||s==null){r(Hg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:B}=E,O=Math.min(z,s.x+s.width),G=Math.min(B,s.y+s.height),Y={x:a==="horizontal"?j.coordinate:O,y:a==="horizontal"?G:j.coordinate},W=Hg({active:d.payload.active,coordinate:Y,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(W)}}};return Jl.on(Xg,u),()=>{Jl.off(Xg,u)}},[l,r,e,t,n,i,a,s])}function T9(){var t=de(px),e=de(mx),r=ct();v.useEffect(()=>{if(t==null)return na;var n=(i,a,s)=>{e!==s&&t===i&&r(S9(a))};return Jl.on(Ik,n),()=>{Jl.off(Ik,n)}},[r,e,t])}function z9(){var t=ct();v.useEffect(()=>{t(x9())},[t]),O9(),T9()}function I9(t,e,r,n,i,a){var s=de(m=>WU(m,t,e)),l=de(mx),u=de(px),c=de(RO),d=de(b9),h=d==null?void 0:d.active,f=oo();v.useEffect(()=>{if(!h&&u!=null&&l!=null){var m=Hg({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:f,graphicalItemId:void 0});Jl.emit(Xg,u,m,l)}},[h,r,s,i,n,l,u,c,a,f])}function Dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(r),!0).forEach(function(n){N9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N9(t,e,r){return(e=R9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R9(t){var e=D9(t,"string");return typeof e=="symbol"?e:e+""}function D9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L9(t){return t.dataKey}function B9(t,e){return v.isValidElement(t)?v.cloneElement(t,e):typeof t=="function"?v.createElement(t,e):v.createElement(MB,e)}var Bk=[],$9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vr(t){var e,r,n=bt(t,$9),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:u,filterNull:c,isAnimationActive:d,offset:h,payloadUniqBy:f,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:x,cursor:_,shared:b,trigger:S,defaultIndex:k,portal:p,axisId:j}=n,C=ct(),T=typeof k=="number"?String(k):k;v.useEffect(()=>{C(L7({shared:b,trigger:S,axisId:j,active:i,defaultIndex:T}))},[C,b,S,j,i,T]);var E=oo(),z=CA(),B=T7(b),{activeIndex:O,isActive:G}=(e=de(he=>VU(he,B,S,T)))!==null&&e!==void 0?e:{},Y=de(he=>KU(he,B,S,T)),W=de(he=>QT(he,B,S,T)),re=de(he=>UU(he,B,S,T)),H=Y,L=m9(),R=(r=i??G)!==null&&r!==void 0?r:!1,[M,ee]=y8([H,R]),q=B==="axis"?W:void 0;I9(B,S,re,q,O,R);var Pe=p??L;if(Pe==null||E==null||B==null)return null;var _e=H??Bk;R||(_e=Bk),c&&_e.length&&(_e=R4(_e.filter(he=>he.value!=null&&(he.hide!==!0||n.includeHidden)),f,L9));var Ee=_e.length>0,se=v.createElement(IB,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:R,coordinate:re,hasPayload:Ee,offset:h,position:m,reverseDirection:g,useTranslate3d:y,viewBox:E,wrapperStyle:x,lastBoundingBox:M,innerRef:ee,hasPortalFromProps:!!p},B9(u,Lk(Lk({},n),{},{payload:_e,label:q,active:R,activeIndex:O,coordinate:re,accessibilityLayer:z})));return v.createElement(v.Fragment,null,i_.createPortal(se,Pe),R&&v.createElement(p9,{cursor:_,tooltipEventType:B,coordinate:re,payload:_e,index:O}))}var wa=t=>null;wa.displayName="Cell";function F9(t,e,r){return(e=W9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W9(t){var e=U9(t,"string");return typeof e=="symbol"?e:e+""}function U9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class K9{constructor(e){F9(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){H9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H9(t,e,r){return(e=Y9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y9(t){var e=G9(t,"string");return typeof e=="symbol"?e:e+""}function G9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X9={cacheSize:2e3,enableCache:!0},iz=V9({},X9),Fk=new K9(iz.cacheSize),q9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Wk="recharts_measurement_span";function Z9(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var Uk=(t,e)=>{try{var r=document.getElementById(Wk);r||(r=document.createElement("span"),r.setAttribute("id",Wk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,q9,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},vl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mu.isSsr)return{width:0,height:0};if(!iz.enableCache)return Uk(e,r);var n=Z9(e,r),i=Fk.get(n);if(i)return i;var a=Uk(e,r);return Fk.set(n,a),a},az;function Q9(t,e,r){return(e=J9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J9(t){var e=eK(t,"string");return typeof e=="symbol"?e:e+""}function eK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iK=["cm","mm","pt","pc","in","Q","px"];function aK(t){return iK.includes(t)}var js="NaN";function sK(t,e){return t*nK[e]}class $t{static parse(e){var r,[,n,i]=(r=rK.exec(e))!==null&&r!==void 0?r:[];return n==null?$t.NaN:new $t(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,bn(e)&&(this.unit=""),r!==""&&!tK.test(r)&&(this.num=NaN,this.unit=""),aK(r)&&(this.num=sK(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new $t(NaN,""):new $t(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new $t(NaN,""):new $t(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new $t(NaN,""):new $t(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new $t(NaN,""):new $t(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bn(this.num)}}az=$t;Q9($t,"NaN",new az(NaN,""));function sz(t){if(t==null||t.includes(js))return js;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=Kk.exec(e))!==null&&r!==void 0?r:[],s=$t.parse(n??""),l=$t.parse(a??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return js;e=e.replace(Kk,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,d,h,f]=(c=Vk.exec(e))!==null&&c!==void 0?c:[],m=$t.parse(d??""),g=$t.parse(f??""),y=h==="+"?m.add(g):m.subtract(g);if(y.isNaN())return js;e=e.replace(Vk,y.toString())}return e}var Hk=/\(([^()]*)\)/;function oK(t){for(var e=t,r;(r=Hk.exec(e))!=null;){var[,n]=r;e=e.replace(Hk,sz(n))}return e}function lK(t){var e=t.replace(/\s+/g,"");return e=oK(e),e=sz(e),e}function uK(t){try{return lK(t)}catch{return js}}function Qm(t){var e=uK(t.slice(5,-1));return e===js?"":e}var cK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dK=["dx","dy","angle","className","breakAll"];function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qg.apply(null,arguments)}function Yk(t,e){if(t==null)return{};var r,n,i=hK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oz=/[ \f\n\r\t\v\u2028\u2029]+/,lz=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];Be(e)||(r?i=e.toString().split(""):i=e.toString().split(oz));var a=i.map(l=>({word:l,width:vl(l,n).width})),s=r?0:vl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function fK(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var uz=(t,e,r,n)=>t.reduce((i,a)=>{var{word:s,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(e==null||n||u.width+l+r<Number(e)))u.words.push(s),u.width+=l+r;else{var c={words:[s],width:l};i.push(c)}return i},[]),cz=t=>t.reduce((e,r)=>e.width>r.width?e:r),pK="",Gk=(t,e,r,n,i,a,s,l)=>{var u=t.slice(0,e),c=lz({breakAll:r,style:n,children:u+pK});if(!c)return[!1,[]];var d=uz(c.wordsWithComputedWidth,a,s,l),h=d.length>i||cz(d).width>Number(a);return[h,d]},mK=(t,e,r,n,i)=>{var{maxLines:a,children:s,style:l,breakAll:u}=t,c=le(a),d=String(s),h=uz(e,n,r,i);if(!c||i)return h;var f=h.length>a||cz(h).width>Number(n);if(!f)return h;for(var m=0,g=d.length-1,y=0,x;m<=g&&y<=d.length-1;){var _=Math.floor((m+g)/2),b=_-1,[S,k]=Gk(d,b,u,l,a,n,r,i),[p]=Gk(d,_,u,l,a,n,r,i);if(!S&&!p&&(m=_+1),S&&p&&(g=_-1),!S&&p){x=k;break}y++}return x||h},Xk=t=>{var e=Be(t)?[]:t.toString().split(oz);return[{words:e,width:void 0}]},vK=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=t;if((e||r)&&!mu.isSsr){var l,u,c=lz({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:h}=c;l=d,u=h}else return Xk(n);return mK({breakAll:a,children:n,maxLines:s,style:i},l,u,e,!!r)}return Xk(n)},dz="#808080",gK={angle:0,breakAll:!1,capHeight:"0.71em",fill:dz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Lx=v.forwardRef((t,e)=>{var r=bt(t,gK),{x:n,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:u,textAnchor:c,verticalAnchor:d}=r,h=Yk(r,cK),f=v.useMemo(()=>vK({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:m,dy:g,angle:y,className:x,breakAll:_}=h,b=Yk(h,dK);if(!en(n)||!en(i)||f.length===0)return null;var S=Number(n)+(le(m)?m:0),k=Number(i)+(le(g)?g:0);if(!we(S)||!we(k))return null;var p;switch(d){case"start":p=Qm("calc(".concat(s,")"));break;case"middle":p=Qm("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:p=Qm("calc(".concat(f.length-1," * -").concat(a,")"));break}var j=[],C=f[0];if(u&&C!=null){var T=C.width,{width:E}=h;j.push("scale(".concat(le(E)&&le(T)?E/T:1,")"))}return y&&j.push("rotate(".concat(y,", ").concat(S,", ").concat(k,")")),j.length&&(b.transform=j.join(" ")),v.createElement("text",qg({},Vt(b),{ref:e,x:S,y:k,className:Re("recharts-text",x),textAnchor:c,fill:l.includes("url")?dz:l}),f.map((z,B)=>{var O=z.words.join(_?"":" ");return v.createElement("tspan",{x:S,dy:B===0?p:a,key:"".concat(O,"-").concat(B)},O)}))});Lx.displayName="Text";function qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function An(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(r),!0).forEach(function(n){yK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yK(t,e,r){return(e=_K(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _K(t){var e=xK(t,"string");return typeof e=="symbol"?e:e+""}function xK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bK=t=>{var{viewBox:e,position:r,offset:n=0,parentViewBox:i}=t,{x:a,y:s,height:l,upperWidth:u,lowerWidth:c}=L_(e),d=a,h=a+(u-c)/2,f=(d+h)/2,m=(u+c)/2,g=d+u/2,y=l>=0?1:-1,x=y*n,_=y>0?"end":"start",b=y>0?"start":"end",S=u>=0?1:-1,k=S*n,p=S>0?"end":"start",j=S>0?"start":"end",C=i;if(r==="top"){var T={x:d+u/2,y:s-x,horizontalAnchor:"middle",verticalAnchor:_};return C&&(T.height=Math.max(s-C.y,0),T.width=u),T}if(r==="bottom"){var E={x:h+c/2,y:s+l+x,horizontalAnchor:"middle",verticalAnchor:b};return C&&(E.height=Math.max(C.y+C.height-(s+l),0),E.width=c),E}if(r==="left"){var z={x:f-k,y:s+l/2,horizontalAnchor:p,verticalAnchor:"middle"};return C&&(z.width=Math.max(z.x-C.x,0),z.height=l),z}if(r==="right"){var B={x:f+m+k,y:s+l/2,horizontalAnchor:j,verticalAnchor:"middle"};return C&&(B.width=Math.max(C.x+C.width-B.x,0),B.height=l),B}var O=C?{width:m,height:l}:{};return r==="insideLeft"?An({x:f+k,y:s+l/2,horizontalAnchor:j,verticalAnchor:"middle"},O):r==="insideRight"?An({x:f+m-k,y:s+l/2,horizontalAnchor:p,verticalAnchor:"middle"},O):r==="insideTop"?An({x:d+u/2,y:s+x,horizontalAnchor:"middle",verticalAnchor:b},O):r==="insideBottom"?An({x:h+c/2,y:s+l-x,horizontalAnchor:"middle",verticalAnchor:_},O):r==="insideTopLeft"?An({x:d+k,y:s+x,horizontalAnchor:j,verticalAnchor:b},O):r==="insideTopRight"?An({x:d+u-k,y:s+x,horizontalAnchor:p,verticalAnchor:b},O):r==="insideBottomLeft"?An({x:h+k,y:s+l-x,horizontalAnchor:j,verticalAnchor:_},O):r==="insideBottomRight"?An({x:h+c-k,y:s+l-x,horizontalAnchor:p,verticalAnchor:_},O):r&&typeof r=="object"&&(le(r.x)||Wa(r.x))&&(le(r.y)||Wa(r.y))?An({x:a+wn(r.x,m),y:s+wn(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},O):An({x:g,y:s+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},O)},wK=["labelRef"],SK=["content"];function Zk(t,e){if(t==null)return{};var r,n,i=jK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function el(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){kK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kK(t,e,r){return(e=PK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PK(t){var e=MK(t,"string");return typeof e=="symbol"?e:e+""}function MK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(){return Xn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xn.apply(null,arguments)}var hz=v.createContext(null),fz=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:l}=t,u=v.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[e,r,n,i,a,s]);return v.createElement(hz.Provider,{value:u},l)},pz=()=>{var t=v.useContext(hz),e=oo();return t||(e?L_(e):void 0)},CK=v.createContext(null),EK=()=>{var t=v.useContext(CK),e=de(FO);return t||e},AK=t=>{var{value:e,formatter:r}=t,n=Be(t.children)?e:t.children;return typeof r=="function"?r(n):n},Bx=t=>t!=null&&typeof t=="function",OK=(t,e)=>{var r=gr(e-t),n=Math.min(Math.abs(e-t),360);return r*n},TK=(t,e,r,n,i)=>{var{offset:a,className:s}=t,{cx:l,cy:u,innerRadius:c,outerRadius:d,startAngle:h,endAngle:f,clockWise:m}=i,g=(c+d)/2,y=OK(h,f),x=y>=0?1:-1,_,b;switch(e){case"insideStart":_=h+x*a,b=m;break;case"insideEnd":_=f-x*a,b=!m;break;case"end":_=f+x*a,b=m;break;default:throw new Error("Unsupported position ".concat(e))}b=y<=0?b:!b;var S=Wt(l,u,g,_),k=Wt(l,u,g,_+(b?1:-1)*359),p="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),j=Be(t.id)?$l("recharts-radial-line-"):t.id;return v.createElement("text",Xn({},n,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:j,d:p})),v.createElement("textPath",{xlinkHref:"#".concat(j)},r))},zK=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:u}=t,c=(l+u)/2;if(r==="outside"){var{x:d,y:h}=Wt(n,i,s+e,c);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+s)/2,{x:m,y:g}=Wt(n,i,f,c);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Yc=t=>t!=null&&"cx"in t&&le(t.cx),IK={angle:0,offset:5,zIndex:lt.label,position:"middle",textBreakAll:!1};function NK(t){if(!Yc(t))return t;var{cx:e,cy:r,outerRadius:n}=t,i=n*2;return{x:e-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Oi(t){var e=bt(t,IK),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:l,className:u="",textBreakAll:c,labelRef:d}=e,h=EK(),f=pz(),m=i==="center"?f:h??f,g,y,x;r==null?g=m:Yc(r)?g=r:g=L_(r);var _=NK(g);if(!g||Be(a)&&Be(s)&&!v.isValidElement(l)&&typeof l!="function")return null;var b=el(el({},e),{},{viewBox:g});if(v.isValidElement(l)){var{labelRef:S}=b,k=Zk(b,wK);return v.cloneElement(l,k)}if(typeof l=="function"){var{content:p}=b,j=Zk(b,SK);if(y=v.createElement(l,j),v.isValidElement(y))return y}else y=AK(e);var C=Vt(e);if(Yc(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return TK(e,i,y,C,g);x=zK(g,e.offset,e.position)}else{if(!_)return null;var T=bK({viewBox:_,position:i,offset:e.offset,parentViewBox:Yc(n)?void 0:n});x=el(el({x:T.x,y:T.y,textAnchor:T.horizontalAnchor,verticalAnchor:T.verticalAnchor},T.width!==void 0?{width:T.width}:{}),T.height!==void 0?{height:T.height}:{})}return v.createElement(Jt,{zIndex:e.zIndex},v.createElement(Lx,Xn({ref:d,className:Re("recharts-label",u)},C,x,{textAnchor:fK(C.textAnchor)?C.textAnchor:x.textAnchor,breakAll:c}),y))}Oi.displayName="Label";var RK=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?v.createElement(Oi,Xn({key:"label-implicit"},n)):en(t)?v.createElement(Oi,Xn({key:"label-implicit",value:t},n)):v.isValidElement(t)?t.type===Oi?v.cloneElement(t,el({key:"label-implicit"},n)):v.createElement(Oi,Xn({key:"label-implicit",content:t},n)):Bx(t)?v.createElement(Oi,Xn({key:"label-implicit",content:t},n)):t&&typeof t=="object"?v.createElement(Oi,Xn({},t,{key:"label-implicit"},n)):null};function mz(t){var{label:e,labelRef:r}=t,n=pz();return RK(e,n,r)||null}var vz={},gz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(gz);var yz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(yz);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gz,r=yz,n=qh;function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(vz);var DK=vz.last;const LK=vi(DK);var BK=["valueAccessor"],$K=["dataKey","clockWise","id","textBreakAll","zIndex"];function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uh.apply(null,arguments)}function Jk(t,e){if(t==null)return{};var r,n,i=FK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function FK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var WK=t=>Array.isArray(t.value)?LK(t.value):t.value,_z=v.createContext(void 0),Rf=_z.Provider,xz=v.createContext(void 0);xz.Provider;function UK(){return v.useContext(_z)}function KK(){return v.useContext(xz)}function Gc(t){var{valueAccessor:e=WK}=t,r=Jk(t,BK),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:l}=r,u=Jk(r,$K),c=UK(),d=KK(),h=c||d;return!h||!h.length?null:v.createElement(Jt,{zIndex:l??lt.label},v.createElement(ut,{className:"recharts-label-list"},h.map((f,m)=>{var g,y=Be(n)?e(f,m):Ge(f.payload,n),x=Be(a)?{}:{id:"".concat(a,"-").concat(m)};return v.createElement(Oi,uh({key:"label-".concat(m)},Vt(f),u,x,{fill:(g=r.fill)!==null&&g!==void 0?g:f.fill,parentViewBox:f.parentViewBox,value:y,textBreakAll:s,viewBox:f.viewBox,index:m,zIndex:0}))})))}Gc.displayName="LabelList";function Df(t){var{label:e}=t;return e?e===!0?v.createElement(Gc,{key:"labelList-implicit"}):v.isValidElement(e)||Bx(e)?v.createElement(Gc,{key:"labelList-implicit",content:e}):typeof e=="object"?v.createElement(Gc,uh({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zg.apply(null,arguments)}var bz=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=Re("recharts-dot",i);return le(e)&&le(r)&&le(n)?v.createElement("circle",Zg({},or(t),y_(t),{className:a,cx:e,cy:r,r:n})):null},VK={radiusAxis:{},angleAxis:{}},wz=kr({name:"polarAxis",initialState:VK,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:BQ,removeRadiusAxis:$Q,addAngleAxis:FQ,removeAngleAxis:WQ}=wz.actions,HK=wz.reducer;function YK(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Sz={exports:{}},Ke={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x=Symbol.for("react.transitional.element"),Fx=Symbol.for("react.portal"),Lf=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),Ff=Symbol.for("react.consumer"),Wf=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Vf=Symbol.for("react.suspense_list"),Hf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),GK=Symbol.for("react.view_transition"),XK=Symbol.for("react.client.reference");function on(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $x:switch(t=t.type,t){case Lf:case $f:case Bf:case Kf:case Vf:case GK:return t;default:switch(t=t&&t.$$typeof,t){case Wf:case Uf:case Yf:case Hf:return t;case Ff:return t;default:return e}}case Fx:return e}}}Ke.ContextConsumer=Ff;Ke.ContextProvider=Wf;Ke.Element=$x;Ke.ForwardRef=Uf;Ke.Fragment=Lf;Ke.Lazy=Yf;Ke.Memo=Hf;Ke.Portal=Fx;Ke.Profiler=$f;Ke.StrictMode=Bf;Ke.Suspense=Kf;Ke.SuspenseList=Vf;Ke.isContextConsumer=function(t){return on(t)===Ff};Ke.isContextProvider=function(t){return on(t)===Wf};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$x};Ke.isForwardRef=function(t){return on(t)===Uf};Ke.isFragment=function(t){return on(t)===Lf};Ke.isLazy=function(t){return on(t)===Yf};Ke.isMemo=function(t){return on(t)===Hf};Ke.isPortal=function(t){return on(t)===Fx};Ke.isProfiler=function(t){return on(t)===$f};Ke.isStrictMode=function(t){return on(t)===Bf};Ke.isSuspense=function(t){return on(t)===Kf};Ke.isSuspenseList=function(t){return on(t)===Vf};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lf||t===$f||t===Bf||t===Kf||t===Vf||typeof t=="object"&&t!==null&&(t.$$typeof===Yf||t.$$typeof===Hf||t.$$typeof===Wf||t.$$typeof===Ff||t.$$typeof===Uf||t.$$typeof===XK||t.getModuleId!==void 0)};Ke.typeOf=on;Sz.exports=Ke;var qK=Sz.exports,eP=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",tP=null,Jm=null,jz=t=>{if(t===tP&&Array.isArray(Jm))return Jm;var e=[];return v.Children.forEach(t,r=>{Be(r)||(qK.isFragment(r)?e=e.concat(jz(r.props.children)):e.push(r))}),Jm=e,tP=t,e};function kz(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>eP(i)):n=[eP(e)],jz(t).forEach(i=>{var a=Gs(i,"type.displayName")||Gs(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var Wx=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Pz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(Pz);var ZK=Pz.isPlainObject;const QK=vi(ZK);var rP,nP,iP,aP,sP;function oP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(r),!0).forEach(function(n){JK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JK(t,e,r){return(e=eV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eV(t){var e=tV(t,"string");return typeof e=="symbol"?e:e+""}function tV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ch.apply(null,arguments)}function Yo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var uP=(t,e,r,n,i)=>{var a=r-n,s;return s=st(rP||(rP=Yo(["M ",",",""])),t,e),s+=st(nP||(nP=Yo(["L ",",",""])),t+r,e),s+=st(iP||(iP=Yo(["L ",",",""])),t+r-a/2,e+i),s+=st(aP||(aP=Yo(["L ",",",""])),t+r-a/2-n,e+i),s+=st(sP||(sP=Yo(["L ",","," Z"])),t,e),s},rV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nV=t=>{var e=bt(t,rV),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:l}=e,{animationEasing:u,animationDuration:c,animationBegin:d,isUpdateAnimationActive:h}=e,f=v.useRef(null),[m,g]=v.useState(-1),y=v.useRef(i),x=v.useRef(a),_=v.useRef(s),b=v.useRef(r),S=v.useRef(n),k=uo(t,"trapezoid-");if(v.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var Y=f.current.getTotalLength();Y&&g(Y)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var p=Re("recharts-trapezoid",l);if(!h)return v.createElement("g",null,v.createElement("path",ch({},Vt(e),{className:p,d:uP(r,n,i,a,s)})));var j=y.current,C=x.current,T=_.current,E=b.current,z=S.current,B="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),G=EA(["strokeDasharray"],c,u);return v.createElement(lo,{animationId:k,key:k,canBegin:m>0,duration:c,easing:u,isActive:h,begin:d},Y=>{var W=Oe(j,i,Y),re=Oe(C,a,Y),H=Oe(T,s,Y),L=Oe(E,r,Y),R=Oe(z,n,Y);f.current&&(y.current=W,x.current=re,_.current=H,b.current=L,S.current=R);var M=Y>0?{transition:G,strokeDasharray:O}:{strokeDasharray:B};return v.createElement("path",ch({},Vt(e),{className:p,d:uP(L,R,W,re,H),ref:f,style:lP(lP({},M),e.style)}))})},iV=["option","shapeType","activeClassName"];function aV(t,e){if(t==null)return{};var r,n,i=sV(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sV(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function cP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(r),!0).forEach(function(n){oV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oV(t,e,r){return(e=lV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lV(t){var e=uV(t,"string");return typeof e=="symbol"?e:e+""}function uV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cV(t,e){return dh(dh({},e),t)}function dV(t,e){return t==="symbols"}function dP(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return v.createElement(zA,r);case"trapezoid":return v.createElement(nV,r);case"sector":return v.createElement(RA,r);case"symbols":if(dV(e))return v.createElement(g_,r);break;case"curve":return v.createElement(Rs,r);default:return null}}function hV(t){return v.isValidElement(t)?t.props:t}function hh(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,i=aV(t,iV),a;if(v.isValidElement(e))a=v.cloneElement(e,dh(dh({},i),hV(e)));else if(typeof e=="function")a=e(i,i.index);else if(QK(e)&&typeof e!="boolean"){var s=cV(e,i);a=v.createElement(dP,{shapeType:r,elementProps:s})}else{var l=i;a=v.createElement(dP,{shapeType:r,elementProps:l})}return i.isActive?v.createElement(ut,{className:n},a):a}var Ux=(t,e,r)=>{var n=ct();return(i,a)=>s=>{t==null||t(i,a,s),n(OT({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Kx=t=>{var e=ct();return(r,n)=>i=>{t==null||t(r,n,i),e(B7())}},Vx=(t,e,r)=>{var n=ct();return(i,a)=>s=>{t==null||t(i,a,s),n($7({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function Gf(t){var{tooltipEntrySettings:e}=t,r=ct(),n=pt(),i=v.useRef(null);return v.useLayoutEffect(()=>{n||(i.current===null?r(N7(e)):i.current!==e&&r(R7({prev:i.current,next:e})),i.current=e)},[e,r,n]),v.useLayoutEffect(()=>()=>{i.current&&(r(D7(i.current)),i.current=null)},[r]),null}function Xf(t){var{legendPayload:e}=t,r=ct(),n=pt(),i=v.useRef(null);return v.useLayoutEffect(()=>{n||(i.current===null?r(_B(e)):i.current!==e&&r(xB({prev:i.current,next:e})),i.current=e)},[r,n,e]),v.useLayoutEffect(()=>()=>{i.current&&(r(bB(i.current)),i.current=null)},[r]),null}var ev,fV=()=>{var[t]=v.useState(()=>$l("uid-"));return t},pV=(ev=$I.useId)!==null&&ev!==void 0?ev:fV;function mV(t,e){var r=pV();return e||(t?"".concat(t,"-").concat(r):r)}var vV=v.createContext(void 0),qf=t=>{var{id:e,type:r,children:n}=t,i=mV("recharts-".concat(r),e);return v.createElement(vV.Provider,{value:i},n(i))},gV={cartesianItems:[],polarItems:[]},Mz=kr({name:"graphicalItems",initialState:gV,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Je()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=_n(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:Je()},removeCartesianGraphicalItem:{reducer(t,e){var r=_n(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Je()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Je()},removePolarGraphicalItem:{reducer(t,e){var r=_n(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Je()}}}),{addCartesianGraphicalItem:yV,replaceCartesianGraphicalItem:_V,removeCartesianGraphicalItem:xV,addPolarGraphicalItem:UQ,removePolarGraphicalItem:KQ}=Mz.actions,bV=Mz.reducer,wV=t=>{var e=ct(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?e(yV(t)):r.current!==t&&e(_V({prev:r.current,next:t})),r.current=t},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(e(xV(r.current)),r.current=null)},[e]),null},Zf=v.memo(wV),SV=["points"];function hP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(r),!0).forEach(function(n){jV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jV(t,e,r){return(e=kV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kV(t){var e=PV(t,"string");return typeof e=="symbol"?e:e+""}function PV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fh.apply(null,arguments)}function MV(t,e){if(t==null)return{};var r,n,i=CV(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function CV(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function EV(t){var{option:e,dotProps:r,className:n}=t;if(v.isValidElement(e))return v.cloneElement(e,r);if(typeof e=="function")return e(r);var i=Re(n,typeof e!="boolean"?e.className:""),a=r??{},{points:s}=a,l=MV(a,SV);return v.createElement(bz,fh({},l,{className:i}))}function AV(t,e){return t==null?!1:e?!0:t.length===1}function Cz(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:l,clipPathId:u,zIndex:c=lt.scatter}=t;if(!AV(e,r))return null;var d=Wx(r),h=C5(r),f=e.map((g,y)=>{var x,_,b=tv(tv(tv({r:3},s),h),{},{index:y,cx:(x=g.x)!==null&&x!==void 0?x:void 0,cy:(_=g.y)!==null&&_!==void 0?_:void 0,dataKey:a,value:g.value,payload:g.payload,points:e});return v.createElement(EV,{key:"dot-".concat(y),option:r,dotProps:b,className:i})}),m={};return l&&u!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),v.createElement(Jt,{zIndex:c},v.createElement(ut,fh({className:n},m),f))}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){OV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OV(t,e,r){return(e=TV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TV(t){var e=zV(t,"string");return typeof e=="symbol"?e:e+""}function zV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ez=0,IV={xAxis:{},yAxis:{},zAxis:{}},Az=kr({name:"cartesianAxis",initialState:IV,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Je()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Je()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Je()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Je()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Je()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Je()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Je()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Je()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Je()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var l=[...s,n].slice(-3);t.yAxis[r]=pP(pP({},i),{},{width:n,widthHistory:l})}}}}),{addXAxis:NV,replaceXAxis:RV,removeXAxis:DV,addYAxis:LV,replaceYAxis:BV,removeYAxis:$V,addZAxis:VQ,replaceZAxis:HQ,removeZAxis:YQ,updateYAxisWidth:FV}=Az.actions,WV=Az.reducer,UV=F([zt],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),KV=F([UV,yi,_i],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),Qf=()=>de(KV),VV=()=>de(EU);function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){HV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HV(t,e,r){return(e=YV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YV(t){var e=GV(t,"string");return typeof e=="symbol"?e:e+""}function GV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XV=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=rv(rv(rv({},l),so(i)),y_(i)),c;return v.isValidElement(i)?c=v.cloneElement(i,u):typeof i=="function"?c=i(u):c=v.createElement(bz,u),v.createElement(ut,{className:"recharts-active-dot",clipPath:s},c)};function Qg(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=lt.activeDot}=t,l=de(Ji),u=VV();if(e==null||u==null)return null;var c=e.find(d=>u.includes(d.payload));return Be(c)?null:v.createElement(Jt,{zIndex:s},v.createElement(XV,{point:c,childIndex:Number(l),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var vP=(t,e,r)=>{var n=r??t;if(!Be(n))return wn(n,e,0)},qV=(t,e,r)=>{var n={},i=t.filter(Af),a=t.filter(c=>c.stackId==null),s=i.reduce((c,d)=>{var h=c[d.stackId];return h==null&&(h=[]),h.push(d),c[d.stackId]=h,c},n),l=Object.entries(s).map(c=>{var d,[h,f]=c,m=f.map(y=>y.dataKey),g=vP(e,r,(d=f[0])===null||d===void 0?void 0:d.barSize);return{stackId:h,dataKeys:m,barSize:g}}),u=a.map(c=>{var d=[c.dataKey].filter(f=>f!=null),h=vP(e,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...l,...u]};function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){ZV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZV(t,e,r){return(e=QV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QV(t){var e=JV(t,"string");return typeof e=="symbol"?e:e+""}function JV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eH(t,e,r,n,i){var a,s=n.length;if(!(s<1)){var l=wn(t,r,0,!0),u,c=[];if(we((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,h=r/s,f=n.reduce((b,S)=>b+(S.barSize||0),0);f+=(s-1)*l,f>=r&&(f-=(s-1)*l,l=0),f>=r&&h>0&&(d=!0,h*=.9,f=s*h);var m=(r-f)/2>>0,g={offset:m-l,size:0};u=n.reduce((b,S)=>{var k,p={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:g.offset+g.size+l,size:d?h:(k=S.barSize)!==null&&k!==void 0?k:0}},j=[...b,p];return g=p.position,j},c)}else{var y=wn(e,r,0,!0);r-2*y-(s-1)*l<=0&&(l=0);var x=(r-2*y-(s-1)*l)/s;x>1&&(x>>=0);var _=we(i)?Math.min(x,i):x;u=n.reduce((b,S,k)=>[...b,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y+(x+l)*k+(x-_)/2,size:_}}],c)}return u}}var tH=(t,e,r,n,i,a,s)=>{var l=Be(s)?e:s,u=eH(r,n,i!==a?i:a,t,l);return i!==a&&u!=null&&(u=u.map(c=>jc(jc({},c),{},{position:jc(jc({},c.position),{},{offset:c.position.offset-i/2})}))),u},rH=(t,e)=>{var r=Ef(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},nH=(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}};function iH(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&we(t.zIndex)?t.zIndex:e}var aH=t=>{var{chartData:e}=t,r=ct(),n=pt();return v.useEffect(()=>n?()=>{}:(r(Nk(e)),()=>{r(Nk(void 0))}),[e,r,n]),null},yP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Oz=kr({name:"brush",initialState:yP,reducers:{setBrushSettings(t,e){return e.payload==null?yP:e.payload}}}),{setBrushSettings:GQ}=Oz.actions,sH=Oz.reducer,oH=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return{x:Math.min(r,i),y:Math.min(n,a),width:Math.abs(i-r),height:Math.abs(a-n)}},lH=t=>{var{x1:e,y1:r,x2:n,y2:i}=t;return oH({x:e,y:r},{x:n,y:i})};function uH(t){return(t%180+180)%180}var cH=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uH(i),s=a*Math.PI/180,l=Math.atan(n/r),u=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(u)},dH={dots:[],areas:[],lines:[]},Tz=kr({name:"referenceElements",initialState:dH,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=_n(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=_n(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=_n(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:XQ,removeDot:qQ,addArea:ZQ,removeArea:QQ,addLine:hH,removeLine:fH}=Tz.actions,pH=Tz.reducer,zz=v.createContext(void 0),mH=t=>{var{children:e}=t,[r]=v.useState("".concat($l("recharts"),"-clip")),n=Qf();if(n==null)return null;var{x:i,y:a,width:s,height:l}=n;return v.createElement(zz.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:i,y:a,height:l,width:s}))),e)},vH=()=>v.useContext(zz);class gH{constructor(e){var{x:r,y:n}=e;this.xAxisScale=r,this.yAxisScale=n}map(e,r){var n,i,{position:a}=r;return{x:(n=this.xAxisScale.map(e.x,{position:a}))!==null&&n!==void 0?n:0,y:(i=this.yAxisScale.map(e.y,{position:a}))!==null&&i!==void 0?i:0}}mapWithFallback(e,r){var n,i,{position:a,fallback:s}=r,l,u;return s==="rangeMin"?l=this.yAxisScale.rangeMin():s==="rangeMax"?l=this.yAxisScale.rangeMax():l=0,s==="rangeMin"?u=this.xAxisScale.rangeMin():s==="rangeMax"?u=this.xAxisScale.rangeMax():u=0,{x:(n=this.xAxisScale.map(e.x,{position:a}))!==null&&n!==void 0?n:u,y:(i=this.yAxisScale.map(e.y,{position:a}))!==null&&i!==void 0?i:l}}isInRange(e){var{x:r,y:n}=e,i=r==null||this.xAxisScale.isInRange(r),a=n==null||this.yAxisScale.isInRange(n);return i&&a}}function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){yH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yH(t,e,r){return(e=_H(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _H(t){var e=xH(t,"string");return typeof e=="symbol"?e:e+""}function xH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ph.apply(null,arguments)}var bH=(t,e)=>{var r;if(v.isValidElement(t))r=v.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{if(!we(e.x1)||!we(e.y1)||!we(e.x2)||!we(e.y2))return null;r=v.createElement("line",ph({},e,{className:"recharts-reference-line-line"}))}return r},wH=(t,e,r,n,i,a)=>{var{x:s,width:l}=a,u=i.map(t,{position:r});if(!we(u)||e==="discard"&&!i.isInRange(u))return null;var c=[{x:s+l,y:u},{x:s,y:u}];return n==="left"?c.reverse():c},SH=(t,e,r,n,i,a)=>{var{y:s,height:l}=a,u=i.map(t,{position:r});if(!we(u)||e==="discard"&&!i.isInRange(u))return null;var c=[{x:u,y:s+l},{x:u,y:s}];return n==="top"?c.reverse():c},jH=(t,e,r,n)=>{var i=[n.mapWithFallback(t[0],{position:r,fallback:"rangeMin"}),n.mapWithFallback(t[1],{position:r,fallback:"rangeMax"})];return e==="discard"&&i.some(a=>!n.isInRange(a))?null:i},kH=(t,e,r,n,i,a,s)=>{var{x:l,y:u,segment:c,ifOverflow:d}=s,h=en(l),f=en(u);return f?wH(u,d,n,a,e,r):h?SH(l,d,n,i,t,r):c!=null&&c.length===2?jH(c,d,n,new gH({x:t,y:e})):null};function PH(t){var e=ct();return v.useEffect(()=>(e(hH(t)),()=>{e(fH(t))})),null}function MH(t){var{xAxisId:e,yAxisId:r,shape:n,className:i,ifOverflow:a}=t,s=pt(),l=vH(),u=de(C=>Fn(C,e)),c=de(C=>Wn(C,r)),d=de(C=>ro(C,"xAxis",e,s)),h=de(C=>ro(C,"yAxis",r,s)),f=oo();if(!l||!f||u==null||c==null||d==null||h==null)return null;var m=kH(d,h,f,t.position,u.orientation,c.orientation,t);if(!m)return null;var g=m[0],y=m[1];if(g==null||y==null)return null;var{x,y:_}=g,{x:b,y:S}=y,k=a==="hidden"?"url(#".concat(l,")"):void 0,p=xP(xP({clipPath:k},Vt(t)),{},{x1:x,y1:_,x2:b,y2:S}),j=lH({x1:x,y1:_,x2:b,y2:S});return v.createElement(Jt,{zIndex:t.zIndex},v.createElement(ut,{className:Re("recharts-reference-line",i)},bH(n,p),v.createElement(fz,ph({},j,{lowerWidth:j.width,upperWidth:j.width}),v.createElement(mz,{label:t.label}),t.children)))}var CH={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:lt.line};function Ti(t){var e=bt(t,CH);return v.createElement(v.Fragment,null,v.createElement(PH,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),v.createElement(MH,e))}Ti.displayName="ReferenceLine";function Iz(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function EH(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return cH(n,r)}function AH(t,e,r){var n=r==="width",{x:i,y:a,width:s,height:l}=t;return e===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function eu(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function OH(t,e){return Iz(t,e+1)}function TH(t,e,r,n,i){for(var a=(n||[]).slice(),{start:s,end:l}=e,u=0,c=1,d=s,h=function(){var g=n==null?void 0:n[u];if(g===void 0)return{v:Iz(n,c)};var y=u,x,_=()=>(x===void 0&&(x=r(g,y)),x),b=g.coordinate,S=u===0||eu(t,b,_,d,l);S||(u=0,d=s,c+=1),S&&(d=b+t*(_()/2+i),u+=c)},f;c<=a.length;)if(f=h(),f)return f.v;return[]}function zH(t,e,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:l,end:u}=e,c=1;c<=s;c++){for(var d=(s-1)%c,h=l,f=!0,m=function(){var k=n[y];if(k==null)return 0;var p=y,j,C=()=>(j===void 0&&(j=r(k,p)),j),T=k.coordinate,E=y===d||eu(t,T,C,h,u);if(!E)return f=!1,1;E&&(h=T+t*(C()/2+i))},g,y=d;y<s&&(g=m(),!(g!==0&&g===1));y+=c);if(f){for(var x=[],_=d;_<s;_+=c){var b=n[_];b!=null&&x.push(b)}return x}}return[]}function bP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(r),!0).forEach(function(n){IH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IH(t,e,r){return(e=NH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NH(t){var e=RH(t,"string");return typeof e=="symbol"?e:e+""}function RH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DH(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:l}=e,{end:u}=e,c=function(f){var m=a[f];if(m==null)return 1;var g=m,y,x=()=>(y===void 0&&(y=r(m,f)),y);if(f===s-1){var _=t*(g.coordinate+t*x()/2-u);a[f]=g=Xt(Xt({},g),{},{tickCoord:_>0?g.coordinate-_*t:g.coordinate})}else a[f]=g=Xt(Xt({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var b=eu(t,g.tickCoord,x,l,u);b&&(u=g.tickCoord-t*(x()/2+i),a[f]=Xt(Xt({},g),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function LH(t,e,r,n,i,a){var s=(n||[]).slice(),l=s.length,{start:u,end:c}=e;if(a){var d=n[l-1];if(d!=null){var h=r(d,l-1),f=t*(d.coordinate+t*h/2-c);if(s[l-1]=d=Xt(Xt({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate}),d.tickCoord!=null){var m=eu(t,d.tickCoord,()=>h,u,c);m&&(c=d.tickCoord-t*(h/2+i),s[l-1]=Xt(Xt({},d),{},{isShow:!0}))}}}for(var g=a?l-1:l,y=function(b){var S=s[b];if(S==null)return 1;var k=S,p,j=()=>(p===void 0&&(p=r(S,b)),p);if(b===0){var C=t*(k.coordinate-t*j()/2-u);s[b]=k=Xt(Xt({},k),{},{tickCoord:C<0?k.coordinate-C*t:k.coordinate})}else s[b]=k=Xt(Xt({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var T=eu(t,k.tickCoord,j,u,c);T&&(u=k.tickCoord+t*(j()/2+i),s[b]=Xt(Xt({},k),{},{isShow:!0}))}},x=0;x<g;x++)y(x);return s}function Hx(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:u,tickFormatter:c,unit:d,angle:h}=t;if(!i||!i.length||!n)return[];if(le(u)||mu.isSsr){var f;return(f=OH(i,le(u)?u:0))!==null&&f!==void 0?f:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",y=d&&g==="width"?vl(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=(p,j)=>{var C=typeof c=="function"?c(p.value,j):p.value;return g==="width"?EH(vl(C,{fontSize:e,letterSpacing:r}),y,h):vl(C,{fontSize:e,letterSpacing:r})[g]},_=i[0],b=i[1],S=i.length>=2&&_!=null&&b!=null?gr(b.coordinate-_.coordinate):1,k=AH(a,S,g);return u==="equidistantPreserveStart"?TH(S,k,x,i,s):u==="equidistantPreserveEnd"?zH(S,k,x,i,s):(u==="preserveStart"||u==="preserveStartEnd"?m=LH(S,k,x,i,s,u==="preserveStartEnd"):m=DH(S,k,x,i,s),m.filter(p=>p.isShow))}var BH=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>s&&(s=h.width)}});var l=r?r.getBoundingClientRect().width:0,u=i+a,c=s+u+l+(r?n:0);return Math.round(c)}return 0},$H=["axisLine","width","height","className","hide","ticks","axisType"];function FH(t,e){if(t==null)return{};var r,n,i=WH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function WH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ya.apply(null,arguments)}function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function at(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){UH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UH(t,e,r){return(e=KH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KH(t){var e=VH(t,"string");return typeof e=="symbol"?e:e+""}function VH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ii={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:lt.axis};function HH(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var c=at(at(at({},u),or(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=at(at({},c),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);c=at(at({},c),{},{x1:e+h*n,y1:r,x2:e+h*n,y2:r+i})}return v.createElement("line",Ya({},c,{className:Re("recharts-cartesian-axis-line",Gs(l,"className"))}))}function YH(t,e,r,n,i,a,s,l,u){var c,d,h,f,m,g,y=l?-1:1,x=t.tickSize||s,_=le(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":c=d=t.coordinate,f=r+ +!l*i,h=f-y*x,g=h-y*u,m=_;break;case"left":h=f=t.coordinate,d=e+ +!l*n,c=d-y*x,m=c-y*u,g=_;break;case"right":h=f=t.coordinate,d=e+ +l*n,c=d+y*x,m=c+y*u,g=_;break;default:c=d=t.coordinate,f=r+ +l*i,h=f+y*x,g=h+y*u,m=_;break}return{line:{x1:c,y1:h,x2:d,y2:f},tick:{x:m,y:g}}}function GH(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function XH(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function qH(t){var{option:e,tickProps:r,value:n}=t,i,a=Re(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(e))i=v.cloneElement(e,at(at({},r),{},{className:a}));else if(typeof e=="function")i=e(at(at({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Re(s,YK(e))),i=v.createElement(Lx,Ya({},r,{className:s}),n)}return i}var ZH=v.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:u,tickTextProps:c,orientation:d,mirror:h,x:f,y:m,width:g,height:y,tickSize:x,tickMargin:_,fontSize:b,letterSpacing:S,getTicksConfig:k,events:p,axisType:j}=t,C=Hx(at(at({},k),{},{ticks:r}),b,S),T=GH(d,h),E=XH(d,h),z=or(k),B=so(n),O={};typeof i=="object"&&(O=i);var G=at(at({},z),{},{fill:"none"},O),Y=C.map(H=>at({entry:H},YH(H,f,m,g,y,d,x,h,_))),W=Y.map(H=>{var{entry:L,line:R}=H;return v.createElement(ut,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},i&&v.createElement("line",Ya({},G,R,{className:Re("recharts-cartesian-axis-tick-line",Gs(i,"className"))})))}),re=Y.map((H,L)=>{var R,M,{entry:ee,tick:q}=H,Pe=at(at(at(at({verticalAnchor:E},z),{},{textAnchor:T,stroke:"none",fill:a},q),{},{index:L,payload:ee,visibleTicksCount:C.length,tickFormatter:s,padding:u},c),{},{angle:(R=(M=c==null?void 0:c.angle)!==null&&M!==void 0?M:z.angle)!==null&&R!==void 0?R:0}),_e=at(at({},Pe),B);return v.createElement(ut,Ya({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},Xh(p,ee,L)),n&&v.createElement(qH,{option:n,tickProps:_e,value:"".concat(typeof s=="function"?s(ee.value,L):ee.value).concat(l||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},re.length>0&&v.createElement(Jt,{zIndex:lt.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},re)),W.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},W))}),QH=v.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:l,axisType:u}=t,c=FH(t,$H),[d,h]=v.useState(""),[f,m]=v.useState(""),g=v.useRef(null);v.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return BH({ticks:g.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=v.useCallback(x=>{if(x){var _=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=_;var b=_[0];if(b){var S=window.getComputedStyle(b),k=S.fontSize,p=S.letterSpacing;(k!==d||p!==f)&&(h(k),m(p))}}},[d,f]);return s||n!=null&&n<=0||i!=null&&i<=0?null:v.createElement(Jt,{zIndex:t.zIndex},v.createElement(ut,{className:Re("recharts-cartesian-axis",a)},v.createElement(HH,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:or(t)}),v.createElement(ZH,{ref:y,axisType:u,events:c,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:f,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),v.createElement(fz,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},v.createElement(mz,{label:t.label,labelRef:t.labelRef}),t.children)))}),Yx=v.forwardRef((t,e)=>{var r=bt(t,ii);return v.createElement(QH,Ya({},r,{ref:e}))});Yx.displayName="CartesianAxis";var JH=["x1","y1","x2","y2","key"],eY=["offset"],tY=["xAxisId","yAxisId"],rY=["xAxisId","yAxisId"];function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){nY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nY(t,e,r){return(e=iY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iY(t){var e=aY(t,"string");return typeof e=="symbol"?e:e+""}function aY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sa.apply(null,arguments)}function mh(t,e){if(t==null)return{};var r,n,i=sY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oY=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:l}=t;return v.createElement("rect",{x:n,y:i,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Nz(t){var{option:e,lineItemProps:r}=t,n;if(v.isValidElement(e))n=v.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:a,y1:s,x2:l,y2:u,key:c}=r,d=mh(r,JH),h=(i=or(d))!==null&&i!==void 0?i:{},{offset:f}=h,m=mh(h,eY);n=v.createElement("line",Sa({},m,{x1:a,y1:s,x2:l,y2:u,fill:"none",key:c}))}return n}function lY(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=mh(t,tY),u=i.map((c,d)=>{var h=Zt(Zt({},l),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return v.createElement(Nz,{key:"line-".concat(d),option:n,lineItemProps:h})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function uY(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=mh(t,rY),u=i.map((c,d)=>{var h=Zt(Zt({},l),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return v.createElement(Nz,{option:n,lineItemProps:h,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function cY(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var c=l.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var d=c.map((h,f)=>{var m=c[f+1],g=m==null,y=g?i+s-h:m-h;if(y<=0)return null;var x=f%e.length;return v.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:y,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function dY(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:l,verticalPoints:u}=t;if(!e||!r||!r.length)return null;var c=u.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var d=c.map((h,f)=>{var m=c[f+1],g=m==null,y=g?i+s-h:m-h;if(y<=0)return null;var x=f%r.length;return v.createElement("rect",{key:"react-".concat(f),x:h,y:a,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var hY=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return sA(Hx(Zt(Zt(Zt({},ii),r),{},{ticks:oA(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},fY=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return sA(Hx(Zt(Zt(Zt({},ii),r),{},{ticks:oA(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},pY={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:lt.grid};function Cr(t){var e=yA(),r=_A(),n=gA(),i=Zt(Zt({},bt(t,pY)),{},{x:le(t.x)?t.x:n.left,y:le(t.y)?t.y:n.top,width:le(t.width)?t.width:n.width,height:le(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:s,x:l,y:u,width:c,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:m}=i,g=pt(),y=de(E=>jk(E,"xAxis",a,g)),x=de(E=>jk(E,"yAxis",s,g));if(!Bn(c)||!Bn(d)||!le(l)||!le(u))return null;var _=i.verticalCoordinatesGenerator||hY,b=i.horizontalCoordinatesGenerator||fY,{horizontalPoints:S,verticalPoints:k}=i;if((!S||!S.length)&&typeof b=="function"){var p=f&&f.length,j=b({yAxis:x?Zt(Zt({},x),{},{ticks:p?f:x.ticks}):void 0,width:e??c,height:r??d,offset:n},p?!0:h);Ld(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(S=j)}if((!k||!k.length)&&typeof _=="function"){var C=m&&m.length,T=_({xAxis:y?Zt(Zt({},y),{},{ticks:C?m:y.ticks}):void 0,width:e??c,height:r??d,offset:n},C?!0:h);Ld(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(k=T)}return v.createElement(Jt,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(oY,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(cY,Sa({},i,{horizontalPoints:S})),v.createElement(dY,Sa({},i,{verticalPoints:k})),v.createElement(lY,Sa({},i,{offset:n,horizontalPoints:S,xAxis:y,yAxis:x})),v.createElement(uY,Sa({},i,{offset:n,verticalPoints:k,xAxis:y,yAxis:x}))))}Cr.displayName="CartesianGrid";var mY={},Rz=kr({name:"errorBars",initialState:mY,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:JQ,replaceErrorBar:eJ,removeErrorBar:tJ}=Rz.actions,vY=Rz.reducer,gY=["children"];function yY(t,e){if(t==null)return{};var r,n,i=_Y(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _Y(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var xY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bY=v.createContext(xY);function Gx(t){var{children:e}=t,r=yY(t,gY);return v.createElement(bY.Provider,{value:r},e)}function Mu(t,e){var r,n,i=de(c=>Fn(c,t)),a=de(c=>Wn(c,e)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Ct.allowDataOverflow,l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Et.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function Jf(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=Qf(),{needClipX:a,needClipY:s,needClip:l}=Mu(e,r);if(!l||!i)return null;var{x:u,y:c,width:d,height:h}=i;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:a?u:u-d/2,y:s?c:c-h/2,width:a?d:d*2,height:s?h:h*2}))}var Dz=(t,e,r,n)=>an(t,"xAxis",e,n),Lz=(t,e,r,n)=>nn(t,"xAxis",e,n),Bz=(t,e,r,n)=>an(t,"yAxis",r,n),$z=(t,e,r,n)=>nn(t,"yAxis",r,n),wY=F([ze,Dz,Bz,Lz,$z],(t,e,r,n,i)=>kn(t,"xAxis")?Qi(e,n,!1):Qi(r,i,!1)),SY=(t,e,r,n,i)=>i;function jY(t){return t.type==="line"}var kY=F([mo,SY],(t,e)=>t.filter(jY).find(r=>r.id===e)),PY=F([ze,Dz,Bz,Lz,$z,kY,wY,Sf],(t,e,r,n,i,a,s,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=l;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:h,data:f}=a,m;if(f!=null&&f.length>0?m=f:m=u==null?void 0:u.slice(c,d+1),m!=null)return vG({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:m})}});function Fz(t){var e=so(t),r=3,n=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),l=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(l)||l<0)&&(l=n),{r:s,strokeWidth:l}}return{r,strokeWidth:n}}var MY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=v;function CY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var EY=typeof Object.is=="function"?Object.is:CY,AY=Cu.useSyncExternalStore,OY=Cu.useRef,TY=Cu.useEffect,zY=Cu.useMemo,IY=Cu.useDebugValue;MY.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=OY(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=zY(function(){function u(m){if(!c){if(c=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return h=g}return h=m}if(g=h,EY(d,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(d=m,g):(d=m,h=y)}var c=!1,d,h,f=r===void 0?null:r;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,r,n,i]);var l=AY(t,a[0],a[1]);return TY(function(){s.hasValue=!0,s.value=l},[l]),IY(l),l};function NY(t){t()}function RY(){let t=null,e=null;return{clear(){t=null,e=null},notify(){NY(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var jP={notify(){},get:()=>[]};function DY(t,e){let r,n=jP,i=0,a=!1;function s(y){d();const x=n.subscribe(y);let _=!1;return()=>{_||(_=!0,x(),h())}}function l(){n.notify()}function u(){g.onStateChange&&g.onStateChange()}function c(){return a}function d(){i++,r||(r=t.subscribe(u),n=RY())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=jP)}function f(){a||(a=!0,d())}function m(){a&&(a=!1,h())}const g={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>n};return g}var LY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BY=LY(),$Y=()=>typeof navigator<"u"&&navigator.product==="ReactNative",FY=$Y(),WY=()=>BY||FY?v.useLayoutEffect:v.useEffect,UY=WY();function kP(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function KY(t,e){if(kP(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!kP(t[r[i]],e[r[i]]))return!1;return!0}var nv=Symbol.for("react-redux-context"),iv=typeof globalThis<"u"?globalThis:{};function VY(){if(!v.createContext)return{};const t=iv[nv]??(iv[nv]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var HY=VY();function YY(t){const{children:e,context:r,serverState:n,store:i}=t,a=v.useMemo(()=>{const u=DY(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),s=v.useMemo(()=>i.getState(),[i]);UY(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const l=r||HY;return v.createElement(l.Provider,{value:a},e)}var GY=YY,XY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function qY(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function bo(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(XY.has(n)){if(t[n]==null&&e[n]==null)continue;if(!KY(t[n],e[n]))return!1}else if(!qY(t[n],e[n]))return!1;return!0}var ZY=["id"],QY=["type","layout","connectNulls","needClip","shape"],JY=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tu.apply(null,arguments)}function PP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(r),!0).forEach(function(n){eG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eG(t,e,r){return(e=tG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tG(t){var e=rG(t,"string");return typeof e=="symbol"?e:e+""}function rG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xx(t,e){if(t==null)return{};var r,n,i=nG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var iG=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:ia(r,e),payload:t}]},aG=v.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:l,unit:u,tooltipType:c,id:d}=t,h={dataDefinedOnItem:r,getPosition:na,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:ia(s,e),hide:l,type:c,color:n,unit:u,graphicalItemId:d}};return v.createElement(Gf,{tooltipEntrySettings:h})}),Wz=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function sG(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var oG=(t,e,r)=>{var n=r.reduce((m,g)=>m+g);if(!n)return Wz(e,t);for(var i=Math.floor(t/n),a=t%n,s=e-t,l=[],u=0,c=0;u<r.length;c+=(d=r[u])!==null&&d!==void 0?d:0,++u){var d,h=r[u];if(h!=null&&c+h>a){l=[...r.slice(0,u),a-c];break}}var f=l.length%2===0?[0,s]:[s];return[...sG(r,i),...l,...f].map(m=>"".concat(m,"px")).join(", ")};function lG(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:s}=n,{id:l}=n,u=Xx(n,ZY),c=or(u);return v.createElement(Cz,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:e})}function uG(t){var{showLabels:e,children:r,points:n}=t,i=v.useMemo(()=>n==null?void 0:n.map(a=>{var s,l,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Tn(Tn({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(Rf,{value:e?i:void 0},r)}function MP(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a}=t,{type:s,layout:l,connectNulls:u,needClip:c,shape:d}=a,h=Xx(a,QY),f=Tn(Tn({},Vt(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:n,type:s,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(n==null?void 0:n.length)>1&&v.createElement(hh,tu({shapeType:"curve",option:d},f,{pathRef:r})),v.createElement(lG,{points:n,clipPathId:e,props:a}))}function cG(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function dG(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:l,isAnimationActive:u,animationBegin:c,animationDuration:d,animationEasing:h,animateNewValues:f,width:m,height:g,onAnimationEnd:y,onAnimationStart:x}=r,_=i.current,b=uo(s,"recharts-line-"),S=v.useRef(b),[k,p]=v.useState(!1),j=!k,C=v.useCallback(()=>{typeof y=="function"&&y(),p(!1)},[y]),T=v.useCallback(()=>{typeof x=="function"&&x(),p(!0)},[x]),E=cG(n.current),z=v.useRef(0);S.current!==b&&(z.current=a.current,S.current=b);var B=z.current;return v.createElement(uG,{points:s,showLabels:j},r.children,v.createElement(lo,{animationId:b,begin:c,duration:d,isActive:u,easing:h,onAnimationEnd:C,onAnimationStart:T,key:b},O=>{var G=Oe(B,E+B,O),Y=Math.min(G,E),W;if(u)if(l){var re="".concat(l).split(/[,\s]+/gim).map(R=>parseFloat(R));W=oG(Y,E,re)}else W=Wz(E,Y);else W=l==null?void 0:String(l);if(O>0&&E>0&&(i.current=s,a.current=Math.max(a.current,Y)),_){var H=_.length/s.length,L=O===1?s:s.map((R,M)=>{var ee=Math.floor(M*H);if(_[ee]){var q=_[ee];return Tn(Tn({},R),{},{x:Oe(q.x,R.x,O),y:Oe(q.y,R.y,O)})}return f?Tn(Tn({},R),{},{x:Oe(m*2,R.x,O),y:Oe(g/2,R.y,O)}):Tn(Tn({},R),{},{x:R.x,y:R.y})});return i.current=L,v.createElement(MP,{props:r,points:L,clipPathId:e,pathRef:n,strokeDasharray:W})}return v.createElement(MP,{props:r,points:s,clipPathId:e,pathRef:n,strokeDasharray:W})}),v.createElement(Df,{label:r.label}))}function hG(t){var{clipPathId:e,props:r}=t,n=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(dG,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var fG=(t,e)=>{var r,n;return{x:(r=t.x)!==null&&r!==void 0?r:void 0,y:(n=t.y)!==null&&n!==void 0?n:void 0,value:t.value,errorVal:Ge(t.payload,e)}};class pG extends v.Component{render(){var{hide:e,dot:r,points:n,className:i,xAxisId:a,yAxisId:s,top:l,left:u,width:c,height:d,id:h,needClip:f,zIndex:m}=this.props;if(e)return null;var g=Re("recharts-line",i),y=h,{r:x,strokeWidth:_}=Fz(r),b=Wx(r),S=x*2+_,k=f?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return v.createElement(Jt,{zIndex:m},v.createElement(ut,{className:g},f&&v.createElement("defs",null,v.createElement(Jf,{clipPathId:y,xAxisId:a,yAxisId:s}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:u-S/2,y:l-S/2,width:c+S,height:d+S}))),v.createElement(Gx,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:fG,errorBarOffset:0},v.createElement(hG,{props:this.props,clipPathId:y}))),v.createElement(Qg,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var Uz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:lt.line,type:"linear"};function mG(t){var e=bt(t,Uz),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:u,hide:c,isAnimationActive:d,label:h,legendType:f,xAxisId:m,yAxisId:g,id:y}=e,x=Xx(e,JY),{needClip:_}=Mu(m,g),b=Qf(),S=aa(),k=pt(),p=de(z=>PY(z,m,g,k,y));if(S!=="horizontal"&&S!=="vertical"||p==null||b==null)return null;var{height:j,width:C,x:T,y:E}=b;return v.createElement(pG,tu({},x,{id:y,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:h,legendType:f,xAxisId:m,yAxisId:g,points:p,layout:S,height:j,width:C,left:T,top:E,needClip:_}))}function vG(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:u}=t;return u.map((c,d)=>{var h=Ge(c,s);if(e==="horizontal"){var f=Zs({axis:r,ticks:i,bandSize:l,entry:c,index:d}),m=Be(h)?null:n.scale.map(h);return{x:f,y:m??null,value:h,payload:c}}var g=Be(h)?null:r.scale.map(h),y=Zs({axis:n,ticks:a,bandSize:l,entry:c,index:d});return g==null||y==null?null:{x:g,y,value:h,payload:c}}).filter(Boolean)}function gG(t){var e=bt(t,Uz),r=pt();return v.createElement(qf,{id:e.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(Xf,{legendPayload:iG(e)}),v.createElement(aG,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),v.createElement(Zf,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),v.createElement(mG,tu({},e,{id:n}))))}var ks=v.memo(gG,bo);ks.displayName="Line";function Un(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Ez}function Kn(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Ez}var Kz=(t,e,r)=>an(t,"xAxis",Un(t,e),r),Vz=(t,e,r)=>nn(t,"xAxis",Un(t,e),r),Hz=(t,e,r)=>an(t,"yAxis",Kn(t,e),r),Yz=(t,e,r)=>nn(t,"yAxis",Kn(t,e),r),yG=F([ze,Kz,Hz,Vz,Yz],(t,e,r,n,i)=>kn(t,"xAxis")?Qi(e,n,!1):Qi(r,i,!1)),_G=(t,e)=>e,Gz=F([mo,_G],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),Xz=t=>{var e=ze(t),r=kn(e,"xAxis");return r?"yAxis":"xAxis"},xG=(t,e)=>{var r=Xz(t);return r==="yAxis"?Kn(t,e):Un(t,e)},bG=(t,e,r)=>sh(t,Xz(t),xG(t,e),r),wG=F([Gz,bG],(t,e)=>{var r;if(!(t==null||e==null)){var{stackId:n}=t,i=Ef(t);if(!(n==null||i==null)){var a=(r=e[n])===null||r===void 0?void 0:r.stackedData,s=a==null?void 0:a.find(l=>l.key===i);if(s!=null)return s.map(l=>[l[0],l[1]])}}}),SG=F([ze,Kz,Hz,Vz,Yz,wG,bO,yG,Gz,jW],(t,e,r,n,i,a,s,l,u,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:f}=s;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||i==null||n.length===0||i.length===0||l==null)){var{data:m}=u,g;if(m&&m.length>0?g=m:g=d==null?void 0:d.slice(h,f+1),g!=null)return WG({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:h,areaSettings:u,stackedData:a,displayedData:g,chartBaseValue:c,bandSize:l})}}),jG=["id"],kG=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aa.apply(null,arguments)}function qz(t,e){if(t==null)return{};var r,n,i=PG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function PG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){MG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MG(t,e,r){return(e=CG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CG(t){var e=EG(t,"string");return typeof e=="symbol"?e:e+""}function EG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vh(t,e){return t&&t!=="none"?t:e}var AG=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:vh(n,i),value:ia(r,e),payload:t}]},OG=v.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:l,unit:u,tooltipType:c,id:d}=t,h={dataDefinedOnItem:r,getPosition:na,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:ia(s,e),hide:l,type:c,color:vh(n,a),unit:u,graphicalItemId:d}};return v.createElement(Gf,{tooltipEntrySettings:h})});function TG(t){var{clipPathId:e,points:r,props:n}=t,{needClip:i,dot:a,dataKey:s}=n,l=or(n);return v.createElement(Cz,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:e})}function zG(t){var{showLabels:e,children:r,points:n}=t,i=n.map(a=>{var s,l,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ps(Ps({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return v.createElement(Rf,{value:e?i:void 0},r)}function EP(t){var{points:e,baseLine:r,needClip:n,clipPathId:i,props:a}=t,{layout:s,type:l,stroke:u,connectNulls:c,isRange:d}=a,{id:h}=a,f=qz(a,jG),m=or(f),g=Vt(f);return v.createElement(v.Fragment,null,(e==null?void 0:e.length)>1&&v.createElement(ut,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},v.createElement(Rs,Aa({},g,{id:h,points:e,connectNulls:c,type:l,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&v.createElement(Rs,Aa({},m,{className:"recharts-area-curve",layout:s,type:l,connectNulls:c,fill:"none",points:e})),u!=="none"&&d&&v.createElement(Rs,Aa({},m,{className:"recharts-area-curve",layout:s,type:l,connectNulls:c,fill:"none",points:r}))),v.createElement(TG,{points:e,props:f,clipPathId:i}))}function IG(t){var e,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=t,l=(e=a[0])===null||e===void 0?void 0:e.y,u=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!we(l)||!we(u))return null;var c=n*Math.abs(l-u),d=Math.max(...a.map(h=>h.x||0));return le(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.x||0),d)),le(d)?v.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}function NG(t){var e,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=t,l=(e=a[0])===null||e===void 0?void 0:e.x,u=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!we(l)||!we(u))return null;var c=n*Math.abs(l-u),d=Math.max(...a.map(h=>h.y||0));return le(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.y||0),d)),le(d)?v.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function RG(t){var{alpha:e,layout:r,points:n,baseLine:i,strokeWidth:a}=t;return r==="vertical"?v.createElement(IG,{alpha:e,points:n,baseLine:i,strokeWidth:a}):v.createElement(NG,{alpha:e,points:n,baseLine:i,strokeWidth:a})}function DG(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:l,isAnimationActive:u,animationBegin:c,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:m}=n,g=v.useMemo(()=>({points:s,baseLine:l}),[s,l]),y=uo(g,"recharts-area-"),x=B_(),[_,b]=v.useState(!1),S=!_,k=v.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),p=v.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);if(x==null)return null;var j=i.current,C=a.current;return v.createElement(zG,{showLabels:S,points:s},n.children,v.createElement(lo,{animationId:y,begin:c,duration:d,isActive:u,easing:h,onAnimationEnd:k,onAnimationStart:p,key:y},T=>{if(j){var E=j.length/s.length,z=T===1?s:s.map((O,G)=>{var Y=Math.floor(G*E);if(j[Y]){var W=j[Y];return Ps(Ps({},O),{},{x:Oe(W.x,O.x,T),y:Oe(W.y,O.y,T)})}return O}),B;return le(l)?B=Oe(C,l,T):Be(l)||bn(l)?B=Oe(C,0,T):B=l.map((O,G)=>{var Y=Math.floor(G*E);if(Array.isArray(C)&&C[Y]){var W=C[Y];return Ps(Ps({},O),{},{x:Oe(W.x,O.x,T),y:Oe(W.y,O.y,T)})}return O}),T>0&&(i.current=z,a.current=B),v.createElement(EP,{points:z,baseLine:B,needClip:e,clipPathId:r,props:n})}return T>0&&(i.current=s,a.current=l),v.createElement(ut,null,u&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(r)},v.createElement(RG,{alpha:T,points:s,baseLine:l,layout:x,strokeWidth:n.strokeWidth}))),v.createElement(ut,{clipPath:"url(#animationClipPath-".concat(r,")")},v.createElement(EP,{points:s,baseLine:l,needClip:e,clipPathId:r,props:n})))}),v.createElement(Df,{label:n.label}))}function LG(t){var{needClip:e,clipPathId:r,props:n}=t,i=v.useRef(null),a=v.useRef();return v.createElement(DG,{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class BG extends v.PureComponent{render(){var{hide:e,dot:r,points:n,className:i,top:a,left:s,needClip:l,xAxisId:u,yAxisId:c,width:d,height:h,id:f,baseLine:m,zIndex:g}=this.props;if(e)return null;var y=Re("recharts-area",i),x=f,{r:_,strokeWidth:b}=Fz(r),S=Wx(r),k=_*2+b,p=l?"url(#clipPath-".concat(S?"":"dots-").concat(x,")"):void 0;return v.createElement(Jt,{zIndex:g},v.createElement(ut,{className:y},l&&v.createElement("defs",null,v.createElement(Jf,{clipPathId:x,xAxisId:u,yAxisId:c}),!S&&v.createElement("clipPath",{id:"clipPath-dots-".concat(x)},v.createElement("rect",{x:s-k/2,y:a-k/2,width:d+k,height:h+k}))),v.createElement(LG,{needClip:l,clipPathId:x,props:this.props})),v.createElement(Qg,{points:n,mainColor:vh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:p}),this.props.isRange&&Array.isArray(m)&&v.createElement(Qg,{points:m,mainColor:vh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:p}))}}var Zz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:lt.area};function $G(t){var e,r=bt(t,Zz),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:u,fill:c,fillOpacity:d,hide:h,isAnimationActive:f,legendType:m,stroke:g,xAxisId:y,yAxisId:x}=r,_=qz(r,kG),b=aa(),S=XT(),{needClip:k}=Mu(y,x),p=pt(),{points:j,isRange:C,baseLine:T}=(e=de(Y=>SG(Y,t.id,p)))!==null&&e!==void 0?e:{},E=Qf();if(b!=="horizontal"&&b!=="vertical"||E==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:z,width:B,x:O,y:G}=E;return!j||!j.length?null:v.createElement(BG,Aa({},_,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:T,connectNulls:l,dot:u,fill:c,fillOpacity:d,height:z,hide:h,layout:b,isAnimationActive:f==="auto"?!mu.isSsr:f,isRange:C,legendType:m,needClip:k,points:j,stroke:g,width:B,left:O,top:G,xAxisId:y,yAxisId:x}))}var FG=(t,e,r,n,i)=>{var a=r??e;if(le(a))return a;var s=t==="horizontal"?i:n,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),c=Math.min(l[0],l[1]);return a==="dataMin"?c:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function WG(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:c,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=t,g=i&&i.length,y=FG(a,s,r,l,u),x=a==="horizontal",_=!1,b=c.map((k,p)=>{var j,C,T,E;if(g)E=i[d+p];else{var z=Ge(k,n);Array.isArray(z)?(E=z,_=!0):E=[y,z]}var B=(j=(C=E)===null||C===void 0?void 0:C[1])!==null&&j!==void 0?j:null,O=B==null||g&&!e&&Ge(k,n)==null;if(x){var G;return{x:Zs({axis:l,ticks:h,bandSize:m,entry:k,index:p}),y:O?null:(G=u.scale.map(B))!==null&&G!==void 0?G:null,value:E,payload:k}}return{x:O?null:(T=l.scale.map(B))!==null&&T!==void 0?T:null,y:Zs({axis:u,ticks:f,bandSize:m,entry:k,index:p}),value:E,payload:k}}),S;return g||_?S=b.map(k=>{var p,j=Array.isArray(k.value)?k.value[0]:null;if(x){var C;return{x:k.x,y:j!=null&&k.y!=null&&(C=u.scale.map(j))!==null&&C!==void 0?C:null,payload:k.payload}}return{x:j!=null&&(p=l.scale.map(j))!==null&&p!==void 0?p:null,y:k.y,payload:k.payload}}):S=x?u.scale.map(y):l.scale.map(y),{points:b,baseLine:S??0,isRange:_}}function UG(t){var e=bt(t,Zz),r=pt();return v.createElement(qf,{id:e.id,type:"area"},n=>v.createElement(v.Fragment,null,v.createElement(Xf,{legendPayload:AG(e)}),v.createElement(OG,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),v.createElement(Zf,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:lA(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),v.createElement($G,Aa({},e,{id:n}))))}var qx=v.memo(UG,bo);qx.displayName="Area";var KG="Invariant failed";function VG(t,e){throw new Error(KG)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jg.apply(null,arguments)}function gh(t){return v.createElement(hh,Jg({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var HG=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(le(e))return e;var a=le(n)||Be(n);return a?e(n,i):(a||VG(),r)}},YG=(t,e,r)=>r,GG=(t,e)=>e,Eu=F([mo,GG],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),XG=F([Eu],t=>t==null?void 0:t.maxBarSize),qG=(t,e,r,n)=>n,ZG=F([ze,mo,Un,Kn,YG],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),QG=(t,e,r)=>{var n=ze(t),i=Un(t,e),a=Kn(t,e);if(!(i==null||a==null))return n==="horizontal"?sh(t,"yAxis",a,r):sh(t,"xAxis",i,r)},JG=(t,e)=>{var r=ze(t),n=Un(t,e),i=Kn(t,e);if(!(n==null||i==null))return r==="horizontal"?Sk(t,"xAxis",n):Sk(t,"yAxis",i)},eX=F([ZG,SW,JG],qV),tX=(t,e,r)=>{var n,i,a=Eu(t,e);if(a==null)return 0;var s=Un(t,e),l=Kn(t,e);if(s==null||l==null)return 0;var u=ze(t),c=zO(t),{maxBarSize:d}=a,h=Be(d)?c:d,f,m;return u==="horizontal"?(f=an(t,"xAxis",s,r),m=nn(t,"xAxis",s,r)):(f=an(t,"yAxis",l,r),m=nn(t,"yAxis",l,r)),(n=(i=Qi(f,m,!0))!==null&&i!==void 0?i:h)!==null&&n!==void 0?n:0},Qz=(t,e,r)=>{var n=ze(t),i=Un(t,e),a=Kn(t,e);if(!(i==null||a==null)){var s,l;return n==="horizontal"?(s=an(t,"xAxis",i,r),l=nn(t,"xAxis",i,r)):(s=an(t,"yAxis",a,r),l=nn(t,"yAxis",a,r)),Qi(s,l)}},rX=F([eX,zO,wW,IO,tX,Qz,XG],tH),nX=(t,e,r)=>{var n=Un(t,e);if(n!=null)return an(t,"xAxis",n,r)},iX=(t,e,r)=>{var n=Kn(t,e);if(n!=null)return an(t,"yAxis",n,r)},aX=(t,e,r)=>{var n=Un(t,e);if(n!=null)return nn(t,"xAxis",n,r)},sX=(t,e,r)=>{var n=Kn(t,e);if(n!=null)return nn(t,"yAxis",n,r)},oX=F([rX,Eu],nH),lX=F([QG,Eu],rH),uX=F([zt,R_,nX,iX,aX,sX,oX,ze,bO,Qz,lX,Eu,qG],(t,e,r,n,i,a,s,l,u,c,d,h,f)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=u;if(!(h==null||s==null||e==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:x}=h,_;if(x!=null&&x.length>0?_=x:_=m==null?void 0:m.slice(g,y+1),_!=null)return DX({layout:l,barSettings:h,pos:s,parentViewBox:e,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:_,offset:t,cells:f,dataStartIndex:g})}}),cX=["index"];function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ey.apply(null,arguments)}function dX(t,e){if(t==null)return{};var r,n,i=hX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Jz=v.createContext(void 0),fX=t=>{var e=v.useContext(Jz);if(e!=null)return e.stackId;if(t!=null)return lA(t)},pX=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),mX=t=>{var e=v.useContext(Jz);if(e!=null){var{stackId:r}=e;return"url(#".concat(pX(r,t),")")}},eI=t=>{var{index:e}=t,r=dX(t,cX),n=mX(e);return v.createElement(ut,ey({className:"recharts-bar-stack-layer",clipPath:n},r))},vX=["onMouseEnter","onMouseLeave","onClick"],gX=["value","background","tooltipPosition"],yX=["id"],_X=["onMouseEnter","onClick","onMouseLeave"];function mi(){return mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mi.apply(null,arguments)}function AP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(r),!0).forEach(function(n){xX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xX(t,e,r){return(e=bX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bX(t){var e=wX(t,"string");return typeof e=="symbol"?e:e+""}function wX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yh(t,e){if(t==null)return{};var r,n,i=SX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function SX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jX=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:ia(r,e),payload:t}]},kX=v.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:l,tooltipType:u,id:c}=t,d={dataDefinedOnItem:void 0,getPosition:na,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:ia(a,e),hide:s,type:u,color:i,unit:l,graphicalItemId:c}};return v.createElement(Gf,{tooltipEntrySettings:d})});function PX(t){var e=de(Ji),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:l,onClick:u}=a,c=yh(a,vX),d=Ux(s,n,a.id),h=Kx(l),f=Vx(u,n,a.id);if(!i||r==null)return null;var m=so(i);return v.createElement(Jt,{zIndex:iH(i,lt.barBackground)},r.map((g,y)=>{var{value:x,background:_,tooltipPosition:b}=g,S=yh(g,gX);if(!_)return null;var k=d(g,y),p=h(g,y),j=f(g,y),C=nr(nr(nr(nr(nr({option:i,isActive:String(y)===e},S),{},{fill:"#eee"},_),m),Xh(c,g,y)),{},{onMouseEnter:k,onMouseLeave:p,onClick:j,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return v.createElement(gh,mi({key:"background-bar-".concat(y)},C))}))}function MX(t){var{showLabels:e,children:r,rects:n}=t,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return nr(nr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return v.createElement(Rf,{value:e?i:void 0},r)}function CX(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=t,l=de(Ji),u=de(HT),c=r&&String(a)===l&&(u==null||s===u),d=c?r:e;return c?v.createElement(Jt,{zIndex:lt.activeBar},v.createElement(eI,{index:a},v.createElement(gh,mi({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:s})))):v.createElement(gh,mi({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:s}))}function EX(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return v.createElement(gh,mi({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:i,dataKey:a}))}function AX(t){var e,{data:r,props:n}=t,i=(e=or(n))!==null&&e!==void 0?e:{},{id:a}=i,s=yh(i,yX),{shape:l,dataKey:u,activeBar:c}=n,{onMouseEnter:d,onClick:h,onMouseLeave:f}=n,m=yh(n,_X),g=Ux(d,u,a),y=Kx(f),x=Vx(h,u,a);return r?v.createElement(v.Fragment,null,r.map((_,b)=>v.createElement(eI,mi({index:b,key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(b),className:"recharts-bar-rectangle"},Xh(m,_,b),{onMouseEnter:g(_,b),onMouseLeave:y(_,b),onClick:x(_,b)}),c?v.createElement(CX,{shape:l,activeBar:c,baseProps:s,entry:_,index:b,dataKey:u}):v.createElement(EX,{shape:l,baseProps:s,entry:_,index:b,dataKey:u})))):null}function OX(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:c,onAnimationStart:d}=e,h=r.current,f=uo(e,"recharts-bar-"),[m,g]=v.useState(!1),y=!m,x=v.useCallback(()=>{typeof c=="function"&&c(),g(!1)},[c]),_=v.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return v.createElement(MX,{showLabels:y,rects:n},v.createElement(lo,{animationId:f,begin:s,duration:l,isActive:a,easing:u,onAnimationEnd:x,onAnimationStart:_,key:f},b=>{var S=b===1?n:n==null?void 0:n.map((k,p)=>{var j=h&&h[p];if(j)return nr(nr({},k),{},{x:Oe(j.x,k.x,b),y:Oe(j.y,k.y,b),width:Oe(j.width,k.width,b),height:Oe(j.height,k.height,b)});if(i==="horizontal"){var C=Oe(0,k.height,b),T=Oe(k.stackedBarStart,k.y,b);return nr(nr({},k),{},{y:T,height:C})}var E=Oe(0,k.width,b),z=Oe(k.stackedBarStart,k.x,b);return nr(nr({},k),{},{width:E,x:z})});return b>0&&(r.current=S??null),S==null?null:v.createElement(ut,null,v.createElement(AX,{props:e,data:S}))}),v.createElement(Df,{label:e.label}),e.children)}function TX(t){var e=v.useRef(null);return v.createElement(OX,{previousRectanglesRef:e,props:t})}var tI=0,zX=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Ge(t,e)}};class IX extends v.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:l,background:u,id:c}=this.props;if(e||r==null)return null;var d=Re("recharts-bar",i),h=c;return v.createElement(ut,{className:d,id:c},l&&v.createElement("defs",null,v.createElement(Jf,{clipPathId:h,xAxisId:a,yAxisId:s})),v.createElement(ut,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},v.createElement(PX,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),v.createElement(TX,this.props)))}}var NX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:tI,xAxisId:0,yAxisId:0,zIndex:lt.bar};function RX(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d}=t,{needClip:h}=Mu(e,r),f=aa(),m=pt(),g=kz(t.children,wa),y=de(b=>uX(b,t.id,m,g));if(f!=="vertical"&&f!=="horizontal")return null;var x,_=y==null?void 0:y[0];return _==null||_.height==null||_.width==null?x=0:x=f==="vertical"?_.height/2:_.width/2,v.createElement(Gx,{xAxisId:e,yAxisId:r,data:y,dataPointFormatter:zX,errorBarOffset:x},v.createElement(IX,mi({},t,{layout:f,needClip:h,data:y,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d})))}function DX(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:l,xAxisTicks:u,yAxisTicks:c,stackedData:d,displayedData:h,offset:f,cells:m,parentViewBox:g,dataStartIndex:y}=t,x=e==="horizontal"?l:s,_=d?x.scale.domain():null,b=C6({numericAxis:x}),S=x.scale.map(b);return h.map((k,p)=>{var j,C,T,E,z,B;if(d){var O=d[p+y];if(O==null)return null;j=S6(O,_)}else j=Ge(k,r),Array.isArray(j)||(j=[b,j]);var G=HG(n,tI)(j[1],p);if(e==="horizontal"){var Y,W=l.scale.map(j[0]),re=l.scale.map(j[1]);if(W==null||re==null)return null;C=TS({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:k,index:p}),T=(Y=re??W)!==null&&Y!==void 0?Y:void 0,E=i.size;var H=W-re;if(z=bn(H)?0:H,B={x:C,y:f.top,width:E,height:f.height},Math.abs(G)>0&&Math.abs(z)<Math.abs(G)){var L=gr(z||G)*(Math.abs(G)-Math.abs(z));T-=L,z+=L}}else{var R=s.scale.map(j[0]),M=s.scale.map(j[1]);if(R==null||M==null)return null;if(C=R,T=TS({axis:l,ticks:c,bandSize:a,offset:i.offset,entry:k,index:p}),E=M-R,z=i.size,B={x:f.left,y:T,width:f.width,height:z},Math.abs(G)>0&&Math.abs(E)<Math.abs(G)){var ee=gr(E||G)*(Math.abs(G)-Math.abs(E));E+=ee}}if(C==null||T==null||E==null||z==null)return null;var q=nr(nr({},k),{},{stackedBarStart:S,x:C,y:T,width:E,height:z,value:d?j:j[1],payload:k,background:B,tooltipPosition:{x:C+E/2,y:T+z/2},parentViewBox:g},m&&m[p]&&m[p].props);return q}).filter(Boolean)}function LX(t){var e=bt(t,NX),r=fX(e.stackId),n=pt();return v.createElement(qf,{id:e.id,type:"bar"},i=>v.createElement(v.Fragment,null,v.createElement(Xf,{legendPayload:jX(e)}),v.createElement(kX,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),v.createElement(Zf,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:r,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),v.createElement(Jt,{zIndex:e.zIndex},v.createElement(RX,mi({},e,{id:i})))))}var gl=v.memo(LX,bo);gl.displayName="Bar";var BX=["option","isActive"];function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yl.apply(null,arguments)}function $X(t,e){if(t==null)return{};var r,n,i=FX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function FX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function WX(t){var{option:e,isActive:r}=t,n=$X(t,BX);return typeof e=="string"?v.createElement(hh,yl({option:v.createElement(g_,yl({type:e},n)),isActive:r,shapeType:"symbols"},n)):v.createElement(hh,yl({option:e,isActive:r,shapeType:"symbols"},n))}var UX=(t,e,r,n,i,a,s)=>an(t,"xAxis",e,s),KX=(t,e,r,n,i,a,s)=>nn(t,"xAxis",e,s),VX=(t,e,r,n,i,a,s)=>an(t,"yAxis",r,s),HX=(t,e,r,n,i,a,s)=>nn(t,"yAxis",r,s),YX=(t,e,r,n)=>A7(t,"zAxis",n,!1),GX=(t,e,r,n,i)=>i,XX=(t,e,r,n,i,a)=>a,qX=(t,e,r,n,i,a,s)=>Sf(t,void 0,void 0,s),ZX=F([mo,GX],(t,e)=>t.filter(r=>r.type==="scatter").find(r=>r.id===e)),QX=F([qX,UX,KX,VX,HX,YX,ZX,XX],(t,e,r,n,i,a,s,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=t;if(s!=null){var h;if((s==null?void 0:s.data)!=null&&s.data.length>0?h=s.data:h=u==null?void 0:u.slice(c,d+1),!(h==null||e==null||n==null||r==null||i==null||(r==null?void 0:r.length)===0||(i==null?void 0:i.length)===0))return hq({displayedData:h,xAxis:e,yAxis:n,zAxis:a,scatterSettings:s,xAxisTicks:r,yAxisTicks:i,cells:l})}}),JX=["id"],eq=["onMouseEnter","onClick","onMouseLeave"],tq=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function ty(t,e){if(t==null)return{};var r,n,i=rq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ga.apply(null,arguments)}function OP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(r),!0).forEach(function(n){nq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nq(t,e,r){return(e=iq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iq(t){var e=aq(t,"string");return typeof e=="symbol"?e:e+""}function aq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sq=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:ia(r,e),payload:t}]},oq=v.memo(t=>{var{dataKey:e,points:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:l,tooltipType:u,id:c}=t,d={dataDefinedOnItem:r==null?void 0:r.map(h=>h.tooltipPayload),getPosition:h=>{var f;return r==null||(f=r[Number(h)])===null||f===void 0?void 0:f.tooltipPosition},settings:{stroke:n,strokeWidth:i,fill:a,nameKey:void 0,dataKey:e,name:ia(s,e),hide:l,type:u,color:a,unit:"",graphicalItemId:c}};return v.createElement(Gf,{tooltipEntrySettings:d})});function lq(t){var{points:e,props:r}=t,{line:n,lineType:i,lineJointType:a}=r;if(!n)return null;var s=or(r),l=so(n),u,c;if(i==="joint")u=e.map(x=>{var _,b;return{x:(_=x.cx)!==null&&_!==void 0?_:null,y:(b=x.cy)!==null&&b!==void 0?b:null}});else if(i==="fitting"){var{xmin:d,xmax:h,a:f,b:m}=y4(e),g=x=>f*x+m;u=[{x:d,y:g(d)},{x:h,y:g(h)}]}var y=xr(xr(xr({},s),{},{fill:"none",stroke:s&&s.fill},l),{},{points:u});return v.isValidElement(n)?c=v.cloneElement(n,y):typeof n=="function"?c=n(y):c=v.createElement(Rs,Ga({},y,{type:a})),v.createElement(ut,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function uq(t){var{showLabels:e,points:r,children:n}=t,i=oo(),a=v.useMemo(()=>r==null?void 0:r.map(s=>{var l,u,c={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:s.width,height:s.height,lowerWidth:s.width,upperWidth:s.width};return xr(xr({},c),{},{value:void 0,payload:s.payload,viewBox:c,parentViewBox:i,fill:void 0})}),[i,r]);return v.createElement(Rf,{value:e?a:void 0},n)}function cq(t){var{points:e,allOtherScatterProps:r}=t,{shape:n,activeShape:i,dataKey:a}=r,{id:s}=r,l=ty(r,JX),u=de(Ji),{onMouseEnter:c,onClick:d,onMouseLeave:h}=r,f=ty(r,eq),m=Ux(c,a,s),g=Kx(h),y=Vx(d,a,s);if(!A4(e))return null;var x=or(l);return v.createElement(v.Fragment,null,v.createElement(lq,{points:e,props:l}),e.map((_,b)=>{var S=i!=null&&i!==!1,k=S&&u===String(b),p=S&&k?i:n,j=xr(xr(xr({},x),_),{},{index:b,[cA]:String(s)});return v.createElement(Jt,{key:"symbol-".concat(_==null?void 0:_.cx,"-").concat(_==null?void 0:_.cy,"-").concat(_==null?void 0:_.size,"-").concat(b),zIndex:k?lt.activeDot:void 0},v.createElement(ut,Ga({className:"recharts-scatter-symbol"},Xh(f,_,b),{onMouseEnter:m(_,b),onMouseLeave:g(_,b),onClick:y(_,b)}),v.createElement(WX,Ga({option:p,isActive:k},j))))}))}function dq(t){var{previousPointsRef:e,props:r}=t,{points:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:l}=r,u=e.current,c=uo(r,"recharts-scatter-"),[d,h]=v.useState(!1),f=v.useCallback(()=>{h(!1)},[]),m=v.useCallback(()=>{h(!0)},[]),g=!d;return v.createElement(uq,{showLabels:g,points:n},r.children,v.createElement(lo,{animationId:c,begin:a,duration:s,isActive:i,easing:l,onAnimationEnd:f,onAnimationStart:m,key:c},y=>{var x=y===1?n:n==null?void 0:n.map((_,b)=>{var S=u&&u[b];return S?xr(xr({},_),{},{cx:_.cx==null?void 0:Oe(S.cx,_.cx,y),cy:_.cy==null?void 0:Oe(S.cy,_.cy,y),size:Oe(S.size,_.size,y)}):xr(xr({},_),{},{size:Oe(0,_.size,y)})});return y>0&&(e.current=x),v.createElement(ut,null,v.createElement(cq,{points:x,allOtherScatterProps:r,showLabels:g}))}),v.createElement(Df,{label:r.label}))}function hq(t){var{displayedData:e,xAxis:r,yAxis:n,zAxis:i,scatterSettings:a,xAxisTicks:s,yAxisTicks:l,cells:u}=t,c=Be(r.dataKey)?a.dataKey:r.dataKey,d=Be(n.dataKey)?a.dataKey:n.dataKey,h=i&&i.dataKey,f=i?i.range:VO.range,m=f&&f[0],g=r.scale.bandwidth?r.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0;return e.map((x,_)=>{var b=Ge(x,c),S=Ge(x,d),k=!Be(h)&&Ge(x,h)||"-",p=[{name:Be(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:b,payload:x,dataKey:c,type:a.tooltipType},{name:Be(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:S,payload:x,dataKey:d,type:a.tooltipType}];k!=="-"&&i!=null&&p.push({name:i.name||i.dataKey,unit:i.unit||"",value:k,payload:x,dataKey:h,type:a.tooltipType});var j=Zs({axis:r,ticks:s,bandSize:g,entry:x,index:_,dataKey:c}),C=Zs({axis:n,ticks:l,bandSize:y,entry:x,index:_,dataKey:d}),T=k!=="-"&&i!=null?i.scale.map(k):m,E=T==null?0:Math.sqrt(Math.max(T,0)/Math.PI);return xr(xr({},x),{},{cx:j,cy:C,x:j==null?void 0:j-E,y:C==null?void 0:C-E,width:2*E,height:2*E,size:T,node:{x:b,y:S,z:k},tooltipPayload:p,tooltipPosition:{x:j,y:C},payload:x},u&&u[_]&&u[_].props)})}var fq=(t,e,r)=>({x:t.cx,y:t.cy,value:Number(r==="x"?t.node.x:t.node.y),errorVal:Ge(t,e)});function pq(t){var{hide:e,points:r,className:n,needClip:i,xAxisId:a,yAxisId:s,id:l}=t,u=v.useRef(null);if(e)return null;var c=Re("recharts-scatter",n),d=l;return v.createElement(Jt,{zIndex:t.zIndex},v.createElement(ut,{className:c,clipPath:i?"url(#clipPath-".concat(d,")"):void 0,id:l},i&&v.createElement("defs",null,v.createElement(Jf,{clipPathId:d,xAxisId:a,yAxisId:s})),v.createElement(Gx,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:fq,errorBarOffset:0},v.createElement(ut,{key:"recharts-scatter-symbols"},v.createElement(dq,{props:t,previousPointsRef:u})))))}var rI={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:lt.scatter};function mq(t){var e=bt(t,rI),{animationBegin:r,animationDuration:n,animationEasing:i,hide:a,isAnimationActive:s,legendType:l,lineJointType:u,lineType:c,shape:d,xAxisId:h,yAxisId:f,zAxisId:m}=e,g=ty(e,tq),{needClip:y}=Mu(h,f),x=v.useMemo(()=>kz(t.children,wa),[t.children]),_=pt(),b=de(S=>QX(S,h,f,m,t.id,x,_));return y==null||b==null?null:v.createElement(v.Fragment,null,v.createElement(oq,{dataKey:t.dataKey,points:b,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:t.id}),v.createElement(pq,Ga({},g,{xAxisId:h,yAxisId:f,zAxisId:m,lineType:c,lineJointType:u,legendType:l,shape:d,hide:a,isAnimationActive:s,animationBegin:r,animationDuration:n,animationEasing:i,points:b,needClip:y})))}function vq(t){var e=bt(t,rI),r=pt();return v.createElement(qf,{id:e.id,type:"scatter"},n=>v.createElement(v.Fragment,null,v.createElement(Xf,{legendPayload:sq(e)}),v.createElement(Zf,{type:"scatter",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:r}),v.createElement(mq,Ga({},e,{id:n}))))}var Xc=v.memo(vq,bo);Xc.displayName="Scatter";var gq=["domain","range"],yq=["domain","range"];function TP(t,e){if(t==null)return{};var r,n,i=_q(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _q(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function zP(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function nI(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=TP(t,gq),{domain:a,range:s}=e,l=TP(e,yq);return!zP(r,a)||!zP(n,s)?!1:bo(i,l)}var xq=["type"],bq=["dangerouslySetInnerHTML","ticks","scale"],wq=["id","scale"];function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ry.apply(null,arguments)}function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){Sq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sq(t,e,r){return(e=jq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jq(t){var e=kq(t,"string");return typeof e=="symbol"?e:e+""}function kq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(t,e){if(t==null)return{};var r,n,i=Pq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Pq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Mq(t){var e=ct(),r=v.useRef(null),n=B_(),{type:i}=t,a=ny(t,xq),s=Pf(n,"xAxis",i),l=v.useMemo(()=>{if(s!=null)return NP(NP({},a),{},{type:s})},[a,s]);return v.useLayoutEffect(()=>{l!=null&&(r.current===null?e(NV(l)):r.current!==l&&e(RV({prev:r.current,next:l})),r.current=l)},[l,e]),v.useLayoutEffect(()=>()=>{r.current&&(e(DV(r.current)),r.current=null)},[e]),null}var Cq=t=>{var{xAxisId:e,className:r}=t,n=de(R_),i=pt(),a="xAxis",s=de(_=>kT(_,a,e,i)),l=de(_=>bT(_,e)),u=de(_=>j7(_,e)),c=de(_=>UO(_,e));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:h,scale:f}=t,m=ny(t,bq),{id:g,scale:y}=c,x=ny(c,wq);return v.createElement(Yx,ry({},m,x,{x:u.x,y:u.y,width:l.width,height:l.height,className:Re("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},Eq={allowDataOverflow:Ct.allowDataOverflow,allowDecimals:Ct.allowDecimals,allowDuplicatedCategory:Ct.allowDuplicatedCategory,angle:Ct.angle,axisLine:ii.axisLine,height:Ct.height,hide:!1,includeHidden:Ct.includeHidden,interval:Ct.interval,label:!1,minTickGap:Ct.minTickGap,mirror:Ct.mirror,orientation:Ct.orientation,padding:Ct.padding,reversed:Ct.reversed,scale:Ct.scale,tick:Ct.tick,tickCount:Ct.tickCount,tickLine:ii.tickLine,tickSize:ii.tickSize,type:Ct.type,xAxisId:0},Aq=t=>{var e=bt(t,Eq);return v.createElement(v.Fragment,null,v.createElement(Mq,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),v.createElement(Cq,e))},Er=v.memo(Aq,nI);Er.displayName="XAxis";var Oq=["type"],Tq=["dangerouslySetInnerHTML","ticks","scale"],zq=["id","scale"];function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iy.apply(null,arguments)}function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){Iq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iq(t,e,r){return(e=Nq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nq(t){var e=Rq(t,"string");return typeof e=="symbol"?e:e+""}function Rq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ay(t,e){if(t==null)return{};var r,n,i=Dq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Lq(t){var e=ct(),r=v.useRef(null),n=B_(),{type:i}=t,a=ay(t,Oq),s=Pf(n,"yAxis",i),l=v.useMemo(()=>{if(s!=null)return DP(DP({},a),{},{type:s})},[s,a]);return v.useLayoutEffect(()=>{l!=null&&(r.current===null?e(LV(l)):r.current!==l&&e(BV({prev:r.current,next:l})),r.current=l)},[l,e]),v.useLayoutEffect(()=>()=>{r.current&&(e($V(r.current)),r.current=null)},[e]),null}function Bq(t){var{yAxisId:e,className:r,width:n,label:i}=t,a=v.useRef(null),s=v.useRef(null),l=de(R_),u=pt(),c=ct(),d="yAxis",h=de(j=>wT(j,e)),f=de(j=>P7(j,e)),m=de(j=>kT(j,d,e,u)),g=de(j=>KO(j,e));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Bx(i)||v.isValidElement(i)||g==null)){var j=a.current;if(j){var C=j.getCalculatedWidth();Math.round(h.width)!==Math.round(C)&&c(FV({id:e,width:C}))}}},[m,h,c,i,e,n,g]),h==null||f==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:_}=t,b=ay(t,Tq),{id:S,scale:k}=g,p=ay(g,zq);return v.createElement(Yx,iy({},b,p,{ref:a,labelRef:s,x:f.x,y:f.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Re("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))}var $q={allowDataOverflow:Et.allowDataOverflow,allowDecimals:Et.allowDecimals,allowDuplicatedCategory:Et.allowDuplicatedCategory,angle:Et.angle,axisLine:ii.axisLine,hide:!1,includeHidden:Et.includeHidden,interval:Et.interval,label:!1,minTickGap:Et.minTickGap,mirror:Et.mirror,orientation:Et.orientation,padding:Et.padding,reversed:Et.reversed,scale:Et.scale,tick:Et.tick,tickCount:Et.tickCount,tickLine:ii.tickLine,tickSize:ii.tickSize,type:Et.type,width:Et.width,yAxisId:0},Fq=t=>{var e=bt(t,$q);return v.createElement(v.Fragment,null,v.createElement(Lq,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),v.createElement(Bq,e))},pr=v.memo(Fq,nI);pr.displayName="YAxis";var Wq=(t,e)=>e,Zx=F([Wq,ze,FO,Rt,WT,wi,FU,zt],GU),Qx=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},iI=tn("mouseClick"),aI=du();aI.startListening({actionCreator:iI,effect:(t,e)=>{var r=t.payload,n=Zx(e.getState(),Qx(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(F7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var sy=tn("mouseMove"),sI=du(),kc=null;sI.startListening({actionCreator:sy,effect:(t,e)=>{var r=t.payload;kc!==null&&cancelAnimationFrame(kc);var n=Qx(r);kc=requestAnimationFrame(()=>{var i=e.getState(),a=Cx(i,i.tooltip.settings.shared);if(a==="axis"){var s=Zx(i,n);(s==null?void 0:s.activeIndex)!=null?e.dispatch(zT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(TT())}kc=null})}});function Uq(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var LP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},oI=kr({name:"rootProps",initialState:LP,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:LP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Kq=oI.reducer,{updateOptions:Vq}=oI.actions,Hq=null,Yq={updatePolarOptions:(t,e)=>e.payload},lI=kr({name:"polarOptions",initialState:Hq,reducers:Yq}),{updatePolarOptions:rJ}=lI.actions,Gq=lI.reducer,uI=tn("keyDown"),cI=tn("focus"),Jx=du();Jx.startListening({actionCreator:uI,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Ex(i,xo(r),wu(r),ju(r)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=wi(r);if(a==="Enter"){var c=lh(r,"axis","hover",String(i.index));e.dispatch(Yg({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=O7(r),h=d==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,m=l+f*h;if(!(u==null||m>=u.length||m<0)){var g=lh(r,"axis","hover",String(m));e.dispatch(Yg({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});Jx.startListening({actionCreator:cI,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=lh(r,"axis","hover",String(a));e.dispatch(Yg({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Hr=tn("externalEvent"),dI=du(),av=new Map;dI.startListening({actionCreator:Hr,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,a=av.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:PU(l),activeDataKey:HT(l),activeIndex:Ji(l),activeLabel:VT(l),activeTooltipIndex:Ji(l),isTooltipActive:MU(l)};r(u,n)}finally{av.delete(i)}});av.set(i,s)}}});var Xq=F([yo],t=>t.tooltipItemPayloads),qq=F([Xq,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{if(e!=null){var n=t.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(e)}}}),hI=tn("touchMove"),fI=du();fI.startListening({actionCreator:hI,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=Cx(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=Zx(n,Qx({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(zT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(N6),h=(l=c.getAttribute(cA))!==null&&l!==void 0?l:void 0,f=_o(n).find(y=>y.id===h);if(d==null||f==null||h==null)return;var{dataKey:m}=f,g=qq(n,d,h);e.dispatch(OT({activeDataKey:m,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:h}))}}}});var Zq=O2({brush:sH,cartesianAxis:WV,chartData:j9,errorBars:vY,graphicalItems:bV,layout:y6,legend:wB,options:_9,polarAxis:HK,polarOptions:Gq,referenceElements:pH,rootProps:Kq,tooltip:W7,zIndex:l9}),Qq=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return U8({reducer:Zq,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([aI.middleware,sI.middleware,Jx.middleware,dI.middleware,fI.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(H2({type:"raf"}))},devTools:{serialize:{replacer:Uq},name:"recharts-".concat(r)}})};function Jq(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=pt(),a=v.useRef(null);if(i)return r;a.current==null&&(a.current=Qq(e,n));var s=M_;return v.createElement(GY,{context:s,store:a.current},r)}function eZ(t){var{layout:e,margin:r}=t,n=ct(),i=pt();return v.useEffect(()=>{i||(n(m6(e)),n(p6(r)))},[n,i,e,r]),null}var tZ=v.memo(eZ,bo);function rZ(t){var e=ct();return v.useEffect(()=>{e(Vq(t))},[e,t]),null}function BP(t){var{zIndex:e,isPanorama:r}=t,n=v.useRef(null),i=ct();return v.useLayoutEffect(()=>(n.current&&i(s9({zIndex:e,element:n.current,isPanorama:r})),()=>{i(o9({zIndex:e,isPanorama:r}))}),[i,e,r]),v.createElement("g",{tabIndex:-1,ref:n})}function $P(t){var{children:e,isPanorama:r}=t,n=de(qU);if(!n||n.length===0)return e;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(BP,{key:s,zIndex:s,isPanorama:r})),e,a.map(s=>v.createElement(BP,{key:s,zIndex:s,isPanorama:r})))}var nZ=["children"];function iZ(t,e){if(t==null)return{};var r,n,i=aZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function aZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_h.apply(null,arguments)}var sZ={width:"100%",height:"100%",display:"block"},oZ=v.forwardRef((t,e)=>{var r=yA(),n=_A(),i=CA();if(!Bn(r)||!Bn(n))return null;var{children:a,otherAttributes:s,title:l,desc:u}=t,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),v.createElement(TE,_h({},s,{title:l,desc:u,role:d,tabIndex:c,width:r,height:n,style:sZ,ref:e}),a)}),lZ=t=>{var{children:e}=t,r=de(ff);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return v.createElement(TE,{width:n,height:i,x:s,y:a},e)},FP=v.forwardRef((t,e)=>{var{children:r}=t,n=iZ(t,nZ),i=pt();return i?v.createElement(lZ,null,v.createElement($P,{isPanorama:!0},r)):v.createElement(oZ,_h({ref:e},n),v.createElement($P,{isPanorama:!1},r))});function uZ(){var t=ct(),[e,r]=v.useState(null),n=de(I6);return v.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;we(a)&&a!==n&&t(g6(a))}},[e,t,n]),r}function WP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(r),!0).forEach(function(n){dZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dZ(t,e,r){return(e=hZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hZ(t){var e=fZ(t,"string");return typeof e=="symbol"?e:e+""}function fZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xi.apply(null,arguments)}var pZ=()=>(z9(),null);function xh(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var mZ=v.forwardRef((t,e)=>{var r,n,i=v.useRef(null),[a,s]=v.useState({containerWidth:xh((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:xh((n=t.style)===null||n===void 0?void 0:n.height)}),l=v.useCallback((c,d)=>{s(h=>{var f=Math.round(c),m=Math.round(d);return h.containerWidth===f&&h.containerHeight===m?h:{containerWidth:f,containerHeight:m}})},[]),u=v.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=c.getBoundingClientRect();l(d,h);var f=g=>{var y=g[0];if(y!=null){var{width:x,height:_}=y.contentRect;l(x,_)}},m=new ResizeObserver(f);m.observe(c),i.current=m}},[e,l]);return v.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[l]),v.createElement(v.Fragment,null,v.createElement(fu,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Xi({ref:u},t)))}),vZ=v.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,a]=v.useState({containerWidth:xh(r),containerHeight:xh(n)}),s=v.useCallback((u,c)=>{a(d=>{var h=Math.round(u),f=Math.round(c);return d.containerWidth===h&&d.containerHeight===f?d:{containerWidth:h,containerHeight:f}})},[]),l=v.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:c,height:d}=u.getBoundingClientRect();s(c,d)}},[e,s]);return v.createElement(v.Fragment,null,v.createElement(fu,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Xi({ref:l},t)))}),gZ=v.forwardRef((t,e)=>{var{width:r,height:n}=t;return v.createElement(v.Fragment,null,v.createElement(fu,{width:r,height:n}),v.createElement("div",Xi({ref:e},t)))}),yZ=v.forwardRef((t,e)=>{var{width:r,height:n}=t;return typeof r=="string"||typeof n=="string"?v.createElement(vZ,Xi({},t,{ref:e})):typeof r=="number"&&typeof n=="number"?v.createElement(gZ,Xi({},t,{width:r,height:n,ref:e})):v.createElement(v.Fragment,null,v.createElement(fu,{width:r,height:n}),v.createElement("div",Xi({ref:e},t)))});function _Z(t){return t?mZ:yZ}var xZ=v.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:c,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:x,width:_,responsive:b,dispatchTouchEvents:S=!0}=t,k=v.useRef(null),p=ct(),[j,C]=v.useState(null),[T,E]=v.useState(null),z=uZ(),B=D_(),O=(B==null?void 0:B.width)>0?B.width:_,G=(B==null?void 0:B.height)>0?B.height:i,Y=v.useCallback(K=>{z(K),typeof e=="function"&&e(K),C(K),E(K),K!=null&&(k.current=K)},[z,e,C,E]),W=v.useCallback(K=>{p(iI(K)),p(Hr({handler:a,reactEvent:K}))},[p,a]),re=v.useCallback(K=>{p(sy(K)),p(Hr({handler:c,reactEvent:K}))},[p,c]),H=v.useCallback(K=>{p(TT()),p(Hr({handler:d,reactEvent:K}))},[p,d]),L=v.useCallback(K=>{p(sy(K)),p(Hr({handler:h,reactEvent:K}))},[p,h]),R=v.useCallback(()=>{p(cI())},[p]),M=v.useCallback(K=>{p(uI(K.key))},[p]),ee=v.useCallback(K=>{p(Hr({handler:s,reactEvent:K}))},[p,s]),q=v.useCallback(K=>{p(Hr({handler:l,reactEvent:K}))},[p,l]),Pe=v.useCallback(K=>{p(Hr({handler:u,reactEvent:K}))},[p,u]),_e=v.useCallback(K=>{p(Hr({handler:f,reactEvent:K}))},[p,f]),Ee=v.useCallback(K=>{p(Hr({handler:y,reactEvent:K}))},[p,y]),se=v.useCallback(K=>{S&&p(hI(K)),p(Hr({handler:g,reactEvent:K}))},[p,S,g]),he=v.useCallback(K=>{p(Hr({handler:m,reactEvent:K}))},[p,m]),be=_Z(b);return v.createElement(ez.Provider,{value:j},v.createElement(N5.Provider,{value:T},v.createElement(be,{width:O??(x==null?void 0:x.width),height:G??(x==null?void 0:x.height),className:Re("recharts-wrapper",n),style:cZ({position:"relative",cursor:"default",width:O,height:G},x),onClick:W,onContextMenu:ee,onDoubleClick:q,onFocus:R,onKeyDown:M,onMouseDown:Pe,onMouseEnter:re,onMouseLeave:H,onMouseMove:L,onMouseUp:_e,onTouchEnd:he,onTouchMove:se,onTouchStart:Ee,ref:Y},v.createElement(pZ,null),r)))}),bZ=["width","height","responsive","children","className","style","compact","title","desc"];function wZ(t,e){if(t==null)return{};var r,n,i=SZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function SZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jZ=v.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:l,compact:u,title:c,desc:d}=t,h=wZ(t,bZ),f=or(h);return u?v.createElement(v.Fragment,null,v.createElement(fu,{width:r,height:n}),v.createElement(FP,{otherAttributes:f,title:c,desc:d},a)):v.createElement(xZ,{className:s,style:l,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},v.createElement(FP,{otherAttributes:f,title:c,desc:d,ref:e},v.createElement(mH,null,a)))});function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oy.apply(null,arguments)}var kZ={top:5,right:5,bottom:5,left:5},PZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:kZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Au=v.forwardRef(function(e,r){var n,i=bt(e.categoricalChartProps,PZ),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:c}=e,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return v.createElement(Jq,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:a},v.createElement(aH,{chartData:c.data}),v.createElement(tZ,{layout:i.layout,margin:i.margin}),v.createElement(rZ,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(jZ,oy({},i,{ref:r})))}),MZ=["axis"],Pc=v.forwardRef((t,e)=>v.createElement(Au,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:MZ,tooltipPayloadSearcher:Pu,categoricalChartProps:t,ref:e})),CZ=["axis","item"],sv=v.forwardRef((t,e)=>v.createElement(Au,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:CZ,tooltipPayloadSearcher:Pu,categoricalChartProps:t,ref:e})),EZ=["item"],ov=v.forwardRef((t,e)=>v.createElement(Au,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:EZ,tooltipPayloadSearcher:Pu,categoricalChartProps:t,ref:e})),AZ=["axis"],OZ=v.forwardRef((t,e)=>v.createElement(Au,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:AZ,tooltipPayloadSearcher:Pu,categoricalChartProps:t,ref:e})),TZ=["axis"],zZ=v.forwardRef((t,e)=>v.createElement(Au,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TZ,tooltipPayloadSearcher:Pu,categoricalChartProps:t,ref:e}));const Me="/api";async function Ie(t,e){const r=await fetch(t,e);if(!r.ok){const n=await r.text();throw new Error(`API error: ${r.status} - ${n}`)}return r.json()}async function IZ(){return Ie(`${Me}/profiles`)}async function pI(t){return Ie(`${Me}/profiles/${encodeURIComponent(t)}`)}async function e0(t,e){await Ie(`${Me}/profiles/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_data:e})})}async function NZ(t){return Ie(`${Me}/profiles`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})})}async function RZ(t){return Ie(`${Me}/profiles?path=${encodeURIComponent(t)}`,{method:"DELETE"})}async function DZ(t){return Ie(`${Me}/auth/check?profile_path=${encodeURIComponent(t)}`)}async function LZ(t,e){return Ie(`${Me}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,password:e})})}async function ly(t,e,r){return Ie(`${Me}/auth/set-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,current_password:e,new_password:r})})}async function BZ(t,e){return Ie(`${Me}/auth/remove-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,password:e})})}async function $Z(){return Ie(`${Me}/presets`)}async function FZ(t,e){return Ie(`${Me}/presets/${t}/preview?profile_path=${encodeURIComponent(e)}`)}async function WZ(t,e,r){const n={preset_id:t};return r&&Object.keys(r).length>0&&(n.options=r),Ie(`${Me}/presets/${t}/apply?profile_path=${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}async function UZ(t){return Ie(`${Me}/runtime/${t}`)}async function KZ(t,e,r){await Ie(`${Me}/runtime/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:e,kill_switch:r})})}async function VZ(t){return Ie(`${Me}/runtime/${t}/temp-settings`)}async function HZ(t,e){await Ie(`${Me}/runtime/${t}/temp-settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function YZ(t,e){return Ie(`${Me}/loop/${t}/start?profile_path=${encodeURIComponent(e)}`,{method:"POST"})}async function GZ(t){return Ie(`${Me}/loop/${t}/stop`,{method:"POST"})}async function mI(t,e=50,r,n=!1){const i=new URLSearchParams({limit:String(e)});r&&i.set("profile_path",r),n&&i.set("sync","true");const a=`${Me}/data/${t}/trades?${i}`,s=await Ie(a);return s!=null&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades)?{trades:s.trades,display_currency:s.display_currency}:{trades:Array.isArray(s)?s:[],display_currency:void 0}}async function XZ(t,e,r=90){const n=new URLSearchParams({days_back:String(r)});return e&&n.set("profile_path",e),Ie(`${Me}/data/${t}/trade-history?${n}`)}async function qZ(t,e,r=90){const n=new URLSearchParams({days_back:String(r)});return e&&n.set("profile_path",e),Ie(`${Me}/data/${t}/trade-history-detail?${n}`)}async function ZZ(t,e=50){return Ie(`${Me}/data/${t}/executions?limit=${e}`)}async function QZ(t){return Ie(`${Me}/data/${t}/rejection-breakdown`)}async function JZ(t,e,r=!1){const n=new URLSearchParams;e&&n.set("profile_path",e),r&&n.set("sync","true");const i=n.toString(),a=i?`${Me}/data/${t}/stats?${i}`:`${Me}/data/${t}/stats`;return Ie(a)}async function eQ(t,e){const r=e?`${Me}/data/${t}/stats-by-preset?profile_path=${encodeURIComponent(e)}`:`${Me}/data/${t}/stats-by-preset`;return Ie(r)}async function tQ(t,e){const r=e?`${Me}/data/${t}/mt5-report?profile_path=${encodeURIComponent(e)}`:`${Me}/data/${t}/mt5-report`,n=await fetch(r);if(!n.ok)return null;const i=await n.json();return(i==null?void 0:i.source)==="mt5"?i:null}async function vI(t,e,r){return Ie(`${Me}/trades/${t}/${e}/close?profile_path=${encodeURIComponent(r)}`,{method:"POST"})}async function rQ(t,e,r=!0){const n=new URLSearchParams({profile_path:e});return r&&n.set("force_profit_refresh","true"),Ie(`${Me}/data/${t}/sync-trades?${n}`,{method:"POST"})}async function nQ(t,e){return Ie(`${Me}/data/${t}/technical-analysis?profile_path=${encodeURIComponent(e)}`)}async function gI(t,e,r=!1){const n=new URLSearchParams;e&&n.set("profile_path",e),r&&n.set("sync","true");const i=n.toString();return Ie(`${Me}/data/${t}/open-trades${i?`?${i}`:""}`)}async function iQ(t,e,r=365){return Ie(`${Me}/data/${t}/advanced-analytics?profile_path=${encodeURIComponent(e)}&days_back=${r}`)}async function lv(t,e){const r=e?`?profile_path=${encodeURIComponent(e)}`:"";return Ie(`${Me}/data/${t}/dashboard${r}`)}async function aQ(t,e=50,r){const n=new URLSearchParams({limit:String(e)});return r&&n.set("profile_path",r),Ie(`${Me}/data/${t}/trade-events?${n.toString()}`)}const U={bg:"#0f172a",panel:"#1e293b",panelHover:"#334155",border:"#334155",textPrimary:"#e2e8f0",textSecondary:"#94a3b8",green:"#22c55e",red:"#ef4444",amber:"#f59e0b",blue:"#3b82f6"},He={fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace'};function sQ(){const[t,e]=v.useState(typeof document>"u"?!0:document.visibilityState!=="hidden");return v.useEffect(()=>{const r=()=>e(document.visibilityState!=="hidden");return document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)},[]),t}function oQ({running:t}){return o.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",backgroundColor:t?U.green:U.red,marginRight:6,boxShadow:t?`0 0 6px ${U.green}`:void 0}})}function yI({side:t}){const e=t.toLowerCase()==="buy";return o.jsx("span",{style:{display:"inline-block",padding:"1px 6px",borderRadius:3,fontSize:11,fontWeight:700,backgroundColor:e?U.green+"22":U.red+"22",color:e?U.green:U.red,border:`1px solid ${e?U.green+"44":U.red+"44"}`},children:t.toUpperCase()})}function lQ({type:t}){return t?o.jsx("span",{style:{display:"inline-block",padding:"1px 5px",borderRadius:3,fontSize:10,backgroundColor:U.blue+"22",color:U.blue,border:`1px solid ${U.blue}44`,marginLeft:4},children:t}):null}function _I({pips:t}){const e=t>0?U.green:t<0?U.red:U.textSecondary;return o.jsxs("span",{style:{color:e,...He},children:[t>0?"+":"",t.toFixed(1),"p"]})}function uQ({loopRunning:t,profileName:e,mode:r,tick:n,onToggleLoop:i,presetName:a,onModeChange:s,staleLabel:l}){const[u,c]=v.useState(new Date().toISOString().slice(11,19));return v.useEffect(()=>{const d=setInterval(()=>c(new Date().toISOString().slice(11,19)),1e3);return()=>clearInterval(d)},[]),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"8px 16px",backgroundColor:U.panel,borderBottom:`1px solid ${U.border}`},children:[o.jsx("button",{onClick:i,style:{padding:"4px 14px",borderRadius:4,border:"none",cursor:"pointer",fontWeight:600,fontSize:12,backgroundColor:t?U.red:U.green,color:"#fff"},children:t?"Stop":"Start"}),o.jsx(oQ,{running:t}),o.jsxs("span",{style:{color:U.textSecondary,fontSize:12,...He},children:["UTC ",u]}),o.jsx("span",{style:{color:U.textPrimary,fontSize:13,fontWeight:600},children:a||e}),o.jsxs("label",{style:{color:U.textSecondary,fontSize:12,display:"flex",alignItems:"center",gap:6},children:["Mode",o.jsxs("select",{value:r||"DISARMED",onChange:d=>s(d.target.value),style:{background:U.bg,color:U.textPrimary,border:`1px solid ${U.border}`,borderRadius:4,fontSize:12,padding:"2px 6px"},children:[o.jsx("option",{value:"DISARMED",children:"DISARMED"}),o.jsx("option",{value:"ARMED_MANUAL_CONFIRM",children:"ARMED_MANUAL_CONFIRM"}),o.jsx("option",{value:"ARMED_AUTO_DEMO",children:"ARMED_AUTO_DEMO"})]})]}),l&&o.jsx("span",{style:{color:U.amber,fontSize:12},children:l}),o.jsx("div",{style:{flex:1}}),n&&o.jsxs("div",{style:{display:"flex",gap:12,...He,fontSize:12},children:[o.jsxs("span",{style:{color:U.textSecondary},children:["Bid: ",o.jsx("span",{style:{color:U.textPrimary},children:n.bid.toFixed(3)})]}),o.jsxs("span",{style:{color:U.textSecondary},children:["Ask: ",o.jsx("span",{style:{color:U.textPrimary},children:n.ask.toFixed(3)})]}),o.jsxs("span",{style:{color:U.textSecondary},children:["Spread: ",o.jsxs("span",{style:{color:U.textPrimary},children:[n.spread.toFixed(1),"p"]})]})]})]})}const cQ={m3_trend:"M3 Trend",m1_emas:"M1 EMAs",trend:"Trend",zone_entry:"Zone Entry",ema_zone:"EMA Zone",filters:"Filters",price:"Price"};function dQ({items:t}){const e={};return t.forEach(r=>{e[r.category]||(e[r.category]=[]),e[r.category].push(r)}),o.jsxs("div",{style:{backgroundColor:U.panel,borderRadius:6,padding:14,border:`1px solid ${U.border}`,minHeight:120},children:[o.jsx("div",{style:{fontSize:15,fontWeight:700,color:U.textSecondary,marginBottom:10,textTransform:"uppercase",letterSpacing:1},children:"Context"}),Object.entries(e).map(([r,n])=>o.jsxs("div",{style:{marginBottom:12},children:[o.jsx("div",{style:{fontSize:16,color:U.blue,fontWeight:600,marginBottom:4,textTransform:"uppercase"},children:cQ[r]??r}),n.map(i=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 0"},children:[o.jsx("span",{style:{color:U.textSecondary,fontSize:15},children:i.key}),o.jsx("span",{style:{color:i.valueColor==="green"?U.green:i.valueColor==="red"?U.red:U.textPrimary,fontSize:15,...He},children:i.value})]},i.key))]},r)),t.length===0&&o.jsx("div",{style:{color:U.textSecondary,fontSize:15},children:"No context data (start loop for live context)"})]})}function hQ({trades:t}){const e=t.filter(a=>a.side.toLowerCase()==="buy").length,r=t.filter(a=>a.side.toLowerCase()==="sell").length,[n,i]=v.useState(!0);return v.useEffect(()=>{i(t.length<=3)},[t.length]),o.jsxs("div",{style:{backgroundColor:U.panel,borderRadius:6,padding:14,border:`1px solid ${U.border}`,minHeight:120},children:[o.jsx("div",{style:{fontSize:15,fontWeight:700,color:U.textSecondary,marginBottom:10,textTransform:"uppercase",letterSpacing:1},children:"Open Positions"}),t.length===0?o.jsx("div",{style:{color:U.textSecondary,fontSize:15},children:"No open positions"}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[o.jsxs("span",{style:{color:U.textPrimary,fontSize:15},children:[e," Longs | ",r," Shorts"]}),o.jsx("button",{type:"button",onClick:()=>i(a=>!a),style:{background:"none",border:`1px solid ${U.border}`,borderRadius:4,padding:"4px 8px",color:U.blue,fontSize:13,cursor:"pointer"},children:n?" Hide table":" Show table"})]}),n&&o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,marginTop:10},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{color:U.textSecondary,borderBottom:`1px solid ${U.border}`},children:[o.jsx("th",{style:{textAlign:"left",padding:"4px 6px",fontWeight:500},children:"Side"}),o.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"Entry"}),o.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"Current"}),o.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"P&L"}),o.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"SL"}),o.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"TP"}),o.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"Size"})]})}),o.jsx("tbody",{children:t.map(a=>{const s=Number.isFinite(a.current_price)?a.current_price:a.entry_price,l=a.stop_price!=null?Math.abs(s-a.stop_price)/.01:null,u=a.target_price!=null?Math.abs(a.target_price-s)/.01:null;return o.jsxs("tr",{style:{borderBottom:`1px solid ${U.border}22`},children:[o.jsx("td",{style:{padding:"4px 6px"},children:o.jsx(yI,{side:a.side})}),o.jsx("td",{style:{padding:"4px 6px",textAlign:"right",...He,color:U.textPrimary},children:a.entry_price.toFixed(3)}),o.jsx("td",{style:{padding:"4px 6px",textAlign:"right",...He,color:U.textPrimary},children:s.toFixed(3)}),o.jsx("td",{style:{padding:"4px 6px",textAlign:"right"},children:o.jsx(_I,{pips:Number(a.unrealized_pips??0)})}),o.jsx("td",{style:{padding:"4px 6px",textAlign:"right",color:U.textSecondary,...He},children:a.stop_price!=null?`${a.stop_price.toFixed(3)} (${Math.round(l??0)}p)`:""}),o.jsx("td",{style:{padding:"4px 6px",textAlign:"right",color:U.textSecondary,...He},children:a.target_price!=null?`${a.target_price.toFixed(3)} (${Math.round(u??0)}p)`:""}),o.jsx("td",{style:{padding:"4px 6px",textAlign:"right",color:U.textSecondary,...He},children:a.size_lots!=null?a.size_lots.toFixed(2):""})]},a.trade_id)})})]})]})]})}function xI({filter:t,depth:e=0}){const[r,n]=v.useState(!0);if(!t.enabled)return null;const i=t.sub_filters&&t.sub_filters.length>0;return o.jsxs(o.Fragment,{children:[o.jsxs("tr",{style:{borderBottom:`1px solid ${U.border}22`,cursor:i?"pointer":"default"},onClick:i?()=>n(a=>!a):void 0,children:[o.jsxs("td",{style:{padding:"4px 8px",paddingLeft:8+e*16,borderLeft:`3px solid ${t.is_clear?U.green:U.red}`,color:U.textPrimary,fontSize:12},children:[i&&o.jsx("span",{style:{marginRight:4,fontSize:10},children:r?"":""}),t.display_name]}),o.jsx("td",{style:{padding:"4px 8px",...He,fontSize:12,color:U.textPrimary},children:t.current_value}),o.jsx("td",{style:{padding:"4px 8px",fontSize:11,color:U.textSecondary},children:t.threshold}),o.jsx("td",{style:{padding:"4px 8px",textAlign:"center"},children:t.is_clear?o.jsx("span",{style:{color:U.green,fontSize:14},children:""}):o.jsx("span",{title:t.block_reason||"",style:{color:U.red,fontSize:14,cursor:"help"},children:""})}),o.jsx("td",{style:{padding:"4px 8px",fontSize:11,color:U.red},children:t.block_reason&&!t.is_clear?t.block_reason:""})]}),i&&r&&t.sub_filters.map(a=>o.jsx(xI,{filter:a,depth:e+1},a.filter_id))]})}function fQ({filters:t,candidateSide:e,candidateTrigger:r}){const n=t.filter(d=>d.enabled);if(n.length===0)return o.jsxs("div",{style:{backgroundColor:U.panel,borderRadius:6,padding:12,border:`1px solid ${U.border}`},children:[o.jsx("div",{style:{fontSize:11,fontWeight:700,color:U.textSecondary,marginBottom:8,textTransform:"uppercase",letterSpacing:1},children:"Filter Status"}),o.jsx("div",{style:{color:U.textSecondary,fontSize:12},children:"No active filters (start loop for live filter status)"})]});const i=e!=null&&r!=null,a=d=>{switch(d.filter_id){case"max_trades_buy":return e==="buy";case"max_trades_sell":return e==="sell";case"zone_entry_cap":return r==="zone_entry";case"tiered_pullback_cap":return r==="tiered_pullback";case"ema_zone_slope_filter":return r==="zone_entry";default:return!0}},l=n.filter(a).filter(d=>!d.is_clear).map(d=>d.display_name),u=n.filter(d=>!a(d)&&!d.is_clear).map(d=>d.display_name),c=l.length===0;return o.jsxs("div",{style:{backgroundColor:U.panel,borderRadius:6,padding:12,border:`1px solid ${U.border}`},children:[o.jsx("div",{style:{fontSize:11,fontWeight:700,color:U.textSecondary,marginBottom:8,textTransform:"uppercase",letterSpacing:1},children:"Filter Status"}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{color:U.textSecondary,borderBottom:`1px solid ${U.border}`,fontSize:11},children:[o.jsx("th",{style:{textAlign:"left",padding:"4px 8px",fontWeight:500},children:"Filter"}),o.jsx("th",{style:{textAlign:"left",padding:"4px 8px",fontWeight:500},children:"Current Value"}),o.jsx("th",{style:{textAlign:"left",padding:"4px 8px",fontWeight:500},children:"Threshold"}),o.jsx("th",{style:{textAlign:"center",padding:"4px 8px",fontWeight:500},children:"Status"}),o.jsx("th",{style:{textAlign:"left",padding:"4px 8px",fontWeight:500},children:"Reason"})]})}),o.jsx("tbody",{children:n.map(d=>o.jsx(xI,{filter:d},d.filter_id))})]}),o.jsx("div",{style:{marginTop:8,padding:"4px 8px",fontSize:12,borderRadius:4,backgroundColor:i?c?U.green+"11":U.red+"11":U.amber+"11",color:i?c?U.green:U.red:U.amber,border:`1px solid ${i?c?U.green+"33":U.red+"33":U.amber+"33"}`},children:i?c?"Entry: CLEAR":`Entry: BLOCKED by ${l.join(", ")}`:"Entry: WAITING (no active candidate)"}),u.length>0&&o.jsxs("div",{style:{marginTop:6,fontSize:11,color:U.textSecondary},children:["Other warnings: ",u.join(", ")]}),i&&o.jsxs("div",{style:{marginTop:4,fontSize:11,color:U.textSecondary},children:["Candidate: ",e==null?void 0:e.toUpperCase()," ",r==="zone_entry"?"zone entry":"tiered pullback"]})]})}function pQ({event:t,isNew:e}){var i,a,s;const r=t.event_type==="close",n=((i=t.timestamp_utc)==null?void 0:i.slice(11,19))||"";return o.jsxs("div",{style:{padding:"6px 10px",marginBottom:4,borderRadius:4,backgroundColor:U.panelHover,borderLeft:`3px solid ${r?t.pips&&t.pips>0?U.green:U.red:U.blue}`,animation:e?"dashHighlight 1.5s ease-out":void 0,fontSize:12},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:2},children:[o.jsx("span",{style:{color:U.textSecondary,...He,fontSize:11},children:n}),o.jsx("span",{style:{fontSize:10,fontWeight:700,padding:"0 4px",borderRadius:2,backgroundColor:r?U.amber+"22":U.blue+"22",color:r?U.amber:U.blue},children:r?"CLOSE":"OPEN"}),o.jsx(yI,{side:t.side}),o.jsx(lQ,{type:t.entry_type}),t.trigger_type&&o.jsx("span",{style:{color:U.textSecondary,fontSize:10},children:t.trigger_type}),o.jsx("span",{style:{...He,color:U.textPrimary},children:t.price.toFixed(3)}),!r&&t.spread_at_entry!=null&&o.jsxs("span",{style:{color:U.textSecondary,fontSize:10,...He,marginLeft:4},children:["spread: ",t.spread_at_entry.toFixed(1),"p"]})]}),!r&&((a=t.context_snapshot)==null?void 0:a.trend_strength)!=null&&o.jsxs("div",{style:{display:"flex",gap:8,fontSize:10,marginTop:2,color:U.textSecondary},children:[o.jsxs("span",{children:["Strength: ",o.jsx("span",{style:{color:U.textPrimary},children:String(t.context_snapshot.trend_strength)})]}),t.context_snapshot.sl_distance_pips!=null&&o.jsxs("span",{children:["SL: ",o.jsxs("span",{style:{color:U.red,...He},children:[Number(t.context_snapshot.sl_distance_pips).toFixed(1),"p"]})]}),t.context_snapshot.tp1_pips!=null&&o.jsxs("span",{children:["TP1: ",o.jsxs("span",{style:{color:U.green,...He},children:[Number(t.context_snapshot.tp1_pips).toFixed(1),"p"]})]}),t.context_snapshot.lot_size!=null&&o.jsxs("span",{children:["Lots: ",o.jsx("span",{style:He,children:Number(t.context_snapshot.lot_size).toFixed(2)})]})]}),r&&o.jsxs("div",{style:{display:"flex",gap:10,fontSize:11,marginTop:2},children:[t.pips!=null&&o.jsx(_I,{pips:t.pips}),t.profit!=null&&o.jsxs("span",{style:{color:t.profit>0?U.green:U.red,...He},children:[t.profit>0?"+":"",t.profit.toFixed(2)]}),t.exit_reason&&o.jsx("span",{style:{color:U.textSecondary},children:t.exit_reason}),((s=t.context_snapshot)==null?void 0:s.spread_at_entry)!=null&&o.jsxs("span",{style:{color:U.textSecondary,...He,fontSize:11},children:["entry spread: ",Number(t.context_snapshot.spread_at_entry).toFixed(1),"p"]})]})]})}function UP({title:t,events:e}){const r=v.useRef(e.length),n=e.length-r.current;return v.useEffect(()=>{r.current=e.length},[e.length]),o.jsxs("div",{style:{backgroundColor:U.panel,borderRadius:6,padding:12,border:`1px solid ${U.border}`},children:[o.jsxs("div",{style:{fontSize:11,fontWeight:700,color:U.textSecondary,marginBottom:8,textTransform:"uppercase",letterSpacing:1},children:[t," (",e.length,")"]}),o.jsx("div",{style:{maxHeight:300,overflowY:"auto"},children:e.length===0?o.jsx("div",{style:{color:U.textSecondary,fontSize:12,padding:8},children:"No trade events yet"}):e.map((i,a)=>o.jsx(pQ,{event:i,isNew:a<Math.max(0,n)},i.trade_id+i.event_type+i.timestamp_utc))})]})}function mQ({summary:t}){if(!t||t.trades_today===0)return o.jsx("div",{style:{padding:"6px 16px",backgroundColor:U.panel,borderTop:`1px solid ${U.border}`,display:"flex",gap:16,fontSize:12,color:U.textSecondary},children:"Today: No trades"});const e=t.total_pips>=0;return o.jsxs("div",{style:{padding:"6px 16px",backgroundColor:U.panel,borderTop:`1px solid ${U.border}`,display:"flex",gap:16,fontSize:12,color:e?U.green:U.red},children:[o.jsxs("span",{children:["Trades: ",o.jsx("strong",{children:t.trades_today})]}),o.jsxs("span",{children:["W/L: ",o.jsxs("strong",{children:[t.wins,"/",t.losses]})]}),o.jsxs("span",{children:["Win Rate: ",o.jsxs("strong",{children:[t.win_rate.toFixed(1),"%"]})]}),o.jsxs("span",{style:He,children:["Pips: ",o.jsxs("strong",{children:[t.total_pips>0?"+":"",t.total_pips.toFixed(1)]})]}),o.jsxs("span",{style:He,children:["Profit: ",o.jsxs("strong",{children:[t.total_profit>0?"+":"",t.total_profit.toFixed(2)]})]})]})}function vQ({profileName:t,profilePath:e}){const r=sQ(),[n,i]=v.useState([]),[a,s]=v.useState(null),[l,u]=v.useState(null),[c,d]=v.useState([]),[h,f]=v.useState(!1),m=(a==null?void 0:a.loop_running)??!1,g=a&&Number.isFinite(a.bid)&&Number.isFinite(a.ask)?{bid:a.bid,ask:a.ask,spread:a.spread_pips}:null;v.useEffect(()=>{if(!r)return;let O=!0;const G=()=>{aQ(t,30,e).then(W=>{O&&i(W)}).catch(()=>{})};G();const Y=setInterval(G,1e4);return()=>{O=!1,clearInterval(Y)}},[t,e,r]),v.useEffect(()=>{if(!r)return;let O=!0;const G=()=>{lv(t,e).then(W=>{var ee;if(!O||!W||W.error)return;s(W);const H=(W.filters||[]).filter(q=>q.enabled).filter(q=>!q.is_clear).length,L=((ee=(W.context||[]).find(q=>q.key.toLowerCase().includes("trend")))==null?void 0:ee.value)??"",R=Number(W.spread_pips??0),M=String(W.timestamp_utc||new Date().toISOString()).slice(11,19);d(q=>[...q,{time:M,spread:R,blocked:H,trend:L}].slice(-60))}).catch(()=>{})};G();const Y=setInterval(G,1e4);return()=>{O=!1,clearInterval(Y)}},[t,e,r]),v.useEffect(()=>{d([])},[t]);const y=v.useCallback(async()=>{try{m?await GZ(t):await YZ(t,e);const O=await lv(t,e);O&&!O.error&&s(O)}catch(O){console.error("Loop toggle error:",O)}},[m,t,e]),x=v.useCallback(async O=>{try{const G=await UZ(t);u(G),await KZ(t,O,G.kill_switch);const Y=await lv(t,e);Y&&!Y.error&&s(Y)}catch(G){console.error("Mode change error:",G)}},[t,e]),_=(a==null?void 0:a.context)||[],b=(a==null?void 0:a.filters)||[],S=(a==null?void 0:a.positions)||[],k=(a==null?void 0:a.daily_summary)||null,p=(a==null?void 0:a.preset_name)||"",j=n.filter(O=>O.event_type==="open"),C=n.filter(O=>O.event_type==="close"),T=j.slice(0,30),E=C.slice(0,30),z=c.length>0?c[c.length-1]:null,B=(()=>{if(!(a!=null&&a.stale))return null;const O=a.stale_age_seconds;return O==null?"Stale data":`Stale ${Math.round(O)}s`})();return o.jsxs("div",{style:{backgroundColor:U.bg,color:U.textPrimary,minHeight:"100vh",display:"flex",flexDirection:"column"},children:[o.jsx("style",{children:`
        @keyframes dashHighlight {
          0% { background-color: ${U.blue}33; }
          100% { background-color: ${U.panelHover}; }
        }
      `}),o.jsx(uQ,{loopRunning:m,profileName:t,mode:(a==null?void 0:a.mode)||(l==null?void 0:l.mode)||"DISARMED",tick:g,onToggleLoop:y,presetName:p,onModeChange:x,staleLabel:B}),o.jsxs("div",{style:{flex:1,padding:12,display:"flex",flexDirection:"column",gap:8,overflowY:"auto"},children:[(a==null?void 0:a.data_source)==="none"&&o.jsx("div",{style:{backgroundColor:U.panel,border:`1px solid ${U.border}`,borderRadius:6,padding:12,color:U.textSecondary},children:"No run-loop dashboard data yet. Start the loop to populate dashboard context and filters."}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsx(dQ,{items:_}),o.jsx(UP,{title:"Trade Log (Last 30)",events:T})]}),o.jsx(fQ,{filters:b,candidateSide:(a==null?void 0:a.entry_candidate_side)??null,candidateTrigger:(a==null?void 0:a.entry_candidate_trigger)??null}),o.jsx(hQ,{trades:S}),o.jsx(UP,{title:"Closed Trades (Last 30)",events:E}),o.jsxs("div",{style:{backgroundColor:U.panel,borderRadius:6,padding:12,border:`1px solid ${U.border}`},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10,marginBottom:8},children:[o.jsxs("div",{style:{fontSize:11,fontWeight:700,color:U.textSecondary,textTransform:"uppercase",letterSpacing:1},children:["Recent Dashboard Trail (",c.length,")"]}),o.jsx("button",{type:"button",onClick:()=>f(O=>!O),style:{border:`1px solid ${U.border}`,background:"transparent",color:U.blue,borderRadius:4,fontSize:11,padding:"2px 8px",cursor:"pointer"},children:h?"Minimize":"Expand"})]}),c.length===0?o.jsx("div",{style:{color:U.textSecondary,fontSize:12},children:"No samples yet"}):h?o.jsx("div",{style:{maxHeight:180,overflowY:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{color:U.textSecondary,borderBottom:`1px solid ${U.border}`},children:[o.jsx("th",{style:{textAlign:"left",padding:"3px 4px",fontWeight:500},children:"Time"}),o.jsx("th",{style:{textAlign:"right",padding:"3px 4px",fontWeight:500},children:"Spread"}),o.jsx("th",{style:{textAlign:"right",padding:"3px 4px",fontWeight:500},children:"Blocked"}),o.jsx("th",{style:{textAlign:"left",padding:"3px 4px",fontWeight:500},children:"Trend"})]})}),o.jsx("tbody",{children:[...c].reverse().map((O,G)=>o.jsxs("tr",{style:{borderBottom:`1px solid ${U.border}22`},children:[o.jsx("td",{style:{padding:"3px 4px",color:U.textSecondary,...He},children:O.time}),o.jsxs("td",{style:{padding:"3px 4px",textAlign:"right",...He},children:[O.spread.toFixed(1),"p"]}),o.jsx("td",{style:{padding:"3px 4px",textAlign:"right",...He,color:O.blocked>0?U.red:U.green},children:O.blocked}),o.jsx("td",{style:{padding:"3px 4px"},children:O.trend})]},`${O.time}-${G}`))})]})}):o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,color:U.textSecondary,fontSize:12},children:[o.jsx("span",{style:He,children:z==null?void 0:z.time}),o.jsxs("span",{children:["Spread ",o.jsxs("span",{style:He,children:[z==null?void 0:z.spread.toFixed(1),"p"]})]}),o.jsxs("span",{children:["Blocked ",o.jsx("span",{style:{...He,color:((z==null?void 0:z.blocked)||0)>0?U.red:U.green},children:(z==null?void 0:z.blocked)??0})]}),o.jsxs("span",{children:["Trend ",o.jsx("span",{style:{color:U.textPrimary},children:(z==null?void 0:z.trend)??""})]})]})]})]}),o.jsx(mQ,{summary:k})]})}class tl extends fy.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){var e;return this.state.hasError?this.props.fallback||o.jsxs("div",{className:"card mb-4",style:{padding:24,textAlign:"center"},children:[o.jsx("div",{style:{color:"var(--danger)",fontWeight:600,marginBottom:8},children:"Something went wrong"}),o.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:12},children:((e=this.state.error)==null?void 0:e.message)||"Unknown error"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>this.setState({hasError:!1,error:null}),children:"Try Again"})]}):this.props.children}}const gQ=()=>{try{const t=sessionStorage.getItem("unlockedProfiles");return t?new Set(JSON.parse(t)):new Set}catch{return new Set}},uv=t=>{sessionStorage.setItem("unlockedProfiles",JSON.stringify([...t]))};function bI(){const[t,e]=v.useState(typeof document>"u"?!0:document.visibilityState!=="hidden");return v.useEffect(()=>{const r=()=>e(document.visibilityState!=="hidden");return document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)},[]),t}function yQ(){const[t,e]=v.useState("dashboard"),[r,n]=v.useState([]),[i,a]=v.useState(null),[s,l]=v.useState(null),[u,c]=v.useState(!1),[d,h]=v.useState(""),[f,m]=v.useState(null),[g,y]=v.useState(!1),[x,_]=v.useState(!1),[b,S]=v.useState(""),[k,p]=v.useState(""),[j,C]=v.useState(null),[T,E]=v.useState(!1),[z,B]=v.useState({}),[O,G]=v.useState(gQ),[Y,W]=v.useState(""),[re,H]=v.useState(null),[L,R]=v.useState(!1),M=async()=>{try{const se=await IZ();n(se);const he={};await Promise.all(se.map(async be=>{try{const{has_password:K}=await DZ(be.path);he[be.path]=K}catch{he[be.path]=!1}})),B(he),a(be=>se.length===0?null:be&&se.some(K=>K.path===be.path)?be:se[0])}catch(se){l(se.message)}};v.useEffect(()=>{M()},[]);const ee=i&&z[i.path]&&!O.has(i.path),q=async()=>{if(i){H(null),R(!0);try{const{success:se}=await LZ(i.path,Y);if(se){const he=new Set(O);he.add(i.path),G(he),uv(he),W("")}else H("Incorrect password")}catch(se){H(se.message)}finally{R(!1)}}},Pe=()=>{if(!i)return;const se=new Set(O);se.delete(i.path),G(se),uv(se),W(""),H(null)},_e=async()=>{const se=d.trim();if(!se){m("Enter a name");return}if(x){if(!b||b.length<4){m("Password must be at least 4 characters");return}if(b!==k){m("Passwords do not match");return}}m(null),y(!0);try{const he=await NZ(se);if(x&&b){await ly(he.path,null,b);const be=new Set(O);be.add(he.path),G(be),uv(be)}await M(),a(he),h(""),S(""),p(""),_(!1),c(!1)}catch(he){m(he.message)}finally{y(!1)}},Ee=async()=>{if(j){E(!0);try{await RZ(j.path),M(),C(null)}catch(se){l(se.message)}finally{E(!1)}}};return o.jsxs("div",{className:"app",children:[o.jsxs("aside",{className:"sidebar",children:[o.jsx("h1",{children:"USDJPY Assistant"}),o.jsx("p",{className:"subtitle",children:"Trading Bot Dashboard"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Account"}),o.jsx("select",{value:(i==null?void 0:i.path)||"",onChange:se=>{const he=r.find(be=>be.path===se.target.value);a(he||null),W(""),H(null)},children:r.map(se=>o.jsxs("option",{value:se.path,children:[z[se.path]?" ":"",se.name]},se.path))}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:8,flexWrap:"wrap"},children:[o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:()=>{c(!u),m(null),h(""),S(""),p(""),_(!1)},children:"Add account"}),o.jsx("button",{type:"button",className:"btn btn-danger",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:()=>i&&C(i),disabled:!i||r.length===0,children:"Remove account"}),i&&z[i.path]&&O.has(i.path)&&o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:Pe,children:"Lock"})]})]}),u&&o.jsxs("div",{className:"card",style:{marginTop:12,padding:12},children:[o.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[o.jsx("label",{children:"New account name"}),o.jsx("input",{type:"text",value:d,onChange:se=>h(se.target.value),placeholder:"e.g. uncle_demo"})]}),o.jsx("div",{className:"form-group",style:{marginBottom:8},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:x,onChange:se=>_(se.target.checked),style:{width:"auto"}}),"Set password (recommended)"]})}),x&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[o.jsx("label",{children:"Password"}),o.jsx("input",{type:"password",value:b,onChange:se=>S(se.target.value),placeholder:"Min 4 characters"})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[o.jsx("label",{children:"Confirm password"}),o.jsx("input",{type:"password",value:k,onChange:se=>p(se.target.value),placeholder:"Confirm password"})]}),o.jsx("p",{style:{fontSize:"0.7rem",color:"var(--warning)",marginBottom:8,background:"rgba(234, 179, 8, 0.1)",padding:8,borderRadius:4},children:"Write your password down in a safe location. There is no forgot-password option."})]}),f&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.8rem",marginBottom:8},children:f}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",className:"btn btn-primary",style:{fontSize:"0.8rem"},onClick:_e,disabled:g,children:g?"Creating":"Create"}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem"},onClick:()=>{c(!1),m(null),h(""),S(""),p(""),_(!1)},disabled:g,children:"Cancel"})]})]}),j&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{className:"card",style:{maxWidth:400,margin:16},children:[o.jsx("h3",{className:"card-title",children:"Remove account"}),o.jsxs("p",{style:{marginBottom:16},children:["Remove ",o.jsx("strong",{children:j.name}),"? This will delete the profile file. Logs and trade history for this account are kept."]}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",className:"btn btn-danger",onClick:Ee,disabled:T,children:T?"Removing":"Remove"}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>C(null),disabled:T,children:"Cancel"})]})]})}),o.jsxs("nav",{style:{marginTop:24},children:[o.jsx("button",{className:`nav-item ${t==="dashboard"?"active":""}`,onClick:()=>e("dashboard"),children:"Dashboard"}),o.jsx("button",{className:`nav-item ${t==="analysis"?"active":""}`,onClick:()=>e("analysis"),children:"Analysis"}),o.jsx("button",{className:`nav-item ${t==="presets"?"active":""}`,onClick:()=>e("presets"),children:"Presets"}),o.jsx("button",{className:`nav-item ${t==="profile"?"active":""}`,onClick:()=>e("profile"),children:"Profile Editor"}),o.jsx("button",{className:`nav-item ${t==="logs"?"active":""}`,onClick:()=>e("logs"),children:"Logs & Stats"}),o.jsx("button",{className:`nav-item ${t==="guide"?"active":""}`,onClick:()=>e("guide"),children:"Help / Guide"})]})]}),o.jsxs("main",{className:"main-content",children:[s&&o.jsxs("div",{className:"card",style:{borderColor:"var(--danger)"},children:[o.jsxs("p",{style:{color:"var(--danger)"},children:["Error: ",s]}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>l(null),children:"Dismiss"})]}),i?ee?o.jsxs("div",{className:"card",style:{maxWidth:400,margin:"40px auto",textAlign:"center"},children:[o.jsx("h2",{style:{marginBottom:16},children:"Profile Locked"}),o.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:[o.jsx("strong",{children:i.name})," is password-protected. Enter your password to continue."]}),o.jsxs("div",{className:"form-group",style:{marginBottom:16,textAlign:"left"},children:[o.jsx("label",{children:"Password"}),o.jsx("input",{type:"password",value:Y,onChange:se=>W(se.target.value),onKeyDown:se=>se.key==="Enter"&&q(),placeholder:"Enter password",autoFocus:!0})]}),re&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.85rem",marginBottom:12},children:re}),o.jsx("button",{className:"btn btn-primary",onClick:q,disabled:L||!Y,style:{width:"100%",marginBottom:16},children:L?"Unlocking...":"Unlock"}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"There is no forgot-password option. If you've lost your password, contact the administrator."})]}):o.jsx(o.Fragment,{children:o.jsxs(tl,{children:[t==="dashboard"&&o.jsx(vQ,{profileName:i.name,profilePath:i.path}),t==="analysis"&&o.jsx(bQ,{profile:i}),t==="presets"&&o.jsx(jQ,{profile:i}),t==="profile"&&o.jsx(kQ,{profile:i,authStatus:z,onAuthChange:M}),t==="logs"&&o.jsx(OQ,{profile:i}),t==="guide"&&o.jsx(TQ,{})]})}):o.jsx("div",{className:"card",children:o.jsxs("p",{children:["No accounts yet. Use ",o.jsx("strong",{children:"Add account"})," in the sidebar to create one, or add a profile JSON in the profiles/ folder."]})})]})]})}const KP={master:!0,open:!0,closed:!0,closedFilter:"7d"};function _Q(){try{const t=localStorage.getItem("chart-trade-toggles");if(t)return{...KP,...JSON.parse(t)}}catch{}return{...KP}}function xQ(t){localStorage.setItem("chart-trade-toggles",JSON.stringify(t))}const Mc={lastValueVisible:!1,priceLineVisible:!1},VP={ema5:"#ec4899",ema7:"#f97316",ema9:"#f59e0b",ema11:"#eab308",ema13:"#3b82f6",ema15:"#14b8a6",ema17:"#8b5cf6",ema21:"#6366f1",ema50:"#10b981",ema200:"#a855f7"};function HP({ohlc:t,emaStack:e,bollingerSeries:r,height:n=300,chartTrades:i}){var T;const a=v.useRef(null),s=v.useRef(null),l=v.useRef(null),u=v.useRef({}),c=v.useRef({}),d=v.useRef(!1),h=v.useRef([]),f=v.useRef(null),m=v.useRef(null),[g,y]=v.useState(_Q),[x,_]=v.useState(null),[b,S]=v.useState(null),k=v.useCallback(E=>{y(z=>{const B={...z,...E};return xQ(B),B})},[]);v.useEffect(()=>{if(!a.current)return;const E=n5(a.current,{width:a.current.clientWidth,height:n,layout:{background:{color:"#1a1a2e"},textColor:"#d1d5db"},grid:{vertLines:{color:"#2d2d44"},horzLines:{color:"#2d2d44"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2d2d44"},timeScale:{borderColor:"#2d2d44",timeVisible:!0,secondsVisible:!1}});s.current=E;const z=E.addSeries(p5,{upColor:"#10b981",downColor:"#ef4444",borderUpColor:"#10b981",borderDownColor:"#ef4444",wickUpColor:"#10b981",wickDownColor:"#ef4444"});z.setData([]),l.current=z,f.current=j5(z,[]);const B=()=>{a.current&&s.current&&s.current.applyOptions({width:a.current.clientWidth,height:n})};return window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B),E.remove(),s.current=null,l.current=null,u.current={},c.current={},h.current=[],f.current=null,d.current=!1}},[]),v.useEffect(()=>{var O,G,Y,W,re,H;const E=s.current,z=l.current;if(!a.current||!E||!z)return;E.applyOptions({height:n});const B=t.map(L=>({time:L.time,open:L.open,high:L.high,low:L.low,close:L.close}));if(z.setData(B),e)for(const[L,R]of Object.entries(e)){if(!R)continue;const M=VP[L]||"#94a3b8",ee=R.map(q=>({time:q.time,value:q.value}));if(u.current[L])u.current[L].setData(ee);else{const q=E.addSeries(lc,{color:M,lineWidth:1,title:L.toUpperCase(),...Mc});q.setData(ee),u.current[L]=q}}if(r){const L="#6b7280";c.current.upper||(c.current.upper=E.addSeries(lc,{color:L,lineWidth:1,lineStyle:2,title:"BB Upper",...Mc}),c.current.middle=E.addSeries(lc,{color:L,lineWidth:1,title:"BB Mid",...Mc}),c.current.lower=E.addSeries(lc,{color:L,lineWidth:1,lineStyle:2,title:"BB Lower",...Mc}));const R=(O=r.upper)!=null&&O.length?r.upper.map(q=>({time:q.time,value:q.value})):[],M=(G=r.middle)!=null&&G.length?r.middle.map(q=>({time:q.time,value:q.value})):[],ee=(Y=r.lower)!=null&&Y.length?r.lower.map(q=>({time:q.time,value:q.value})):[];(W=c.current.upper)==null||W.setData(R),(re=c.current.middle)==null||re.setData(M),(H=c.current.lower)==null||H.setData(ee)}t.length>0&&!d.current&&(E.timeScale().fitContent(),d.current=!0)},[t,e,r,n]),v.useEffect(()=>{var L,R;const E=l.current,z=s.current;if(!E||!z)return;for(const M of h.current)try{E.removePriceLine(M)}catch{}if(h.current=[],!i||!g.master){(L=f.current)==null||L.setMarkers([]),p([]);return}const B=Date.now()/1e3,O=i.filter(M=>!M.exit_time&&!M.exit_price),G=i.filter(M=>M.exit_time||M.exit_price),W=B-({"24h":86400,"7d":604800,"30d":2592e3,all:1/0}[g.closedFilter]??604800),re=G.filter(M=>(M.exit_time||0)>=W);if(g.open){const M=t.length>0?t[t.length-1].close:null;for(const ee of O){if(ee.stop_price!=null){const q=M!=null&&Math.abs(ee.stop_price-M)<.05,Pe=E.createPriceLine({price:ee.stop_price,color:"#ef4444",lineWidth:1,lineStyle:dl.Dashed,axisLabelVisible:!q,title:""});h.current.push(Pe)}if(ee.target_price!=null){const q=M!=null&&Math.abs(ee.target_price-M)<.05,Pe=E.createPriceLine({price:ee.target_price,color:"#22c55e",lineWidth:1,lineStyle:dl.Dashed,axisLabelVisible:!q,title:""});h.current.push(Pe)}if(ee.entry_price){const q=E.createPriceLine({price:ee.entry_price,color:ee.side.toLowerCase()==="buy"?"#3b82f6":"#ef4444",lineWidth:1,lineStyle:dl.Dotted,axisLabelVisible:!1,title:""});h.current.push(q)}}}const H=[];if(g.open)for(const M of O){if(!M.entry_time)continue;const ee=M.side.toLowerCase()==="buy";H.push({time:M.entry_time,position:ee?"belowBar":"aboveBar",color:ee?"#22c55e":"#ef4444",shape:ee?"arrowUp":"arrowDown",text:"",id:`open-${M.trade_id}`})}if(g.closed){const M=q=>b===q,ee=re.length>20;for(const q of re){const _e=(q.exit_price!=null?q.side.toLowerCase()==="buy"?q.exit_price-q.entry_price:q.entry_price-q.exit_price:0)>=0,Ee=M(q.trade_id),se=Ee?1:.2,he=_e?[34,197,94]:[239,68,68],be=`rgba(${he[0]},${he[1]},${he[2]},${se})`,K=ee&&!Ee?.5:1;q.entry_time&&H.push({time:q.entry_time,position:"inBar",color:be,shape:"circle",text:"",id:`closed-entry-${q.trade_id}`,size:K}),q.exit_time&&H.push({time:q.exit_time,position:"inBar",color:be,shape:"circle",text:"",id:`closed-exit-${q.trade_id}`,size:K})}}H.sort((M,ee)=>M.time-ee.time),(R=f.current)==null||R.setMarkers(H),g.closed?p(re):p([])},[i,g,t,b]);const p=v.useCallback(E=>{const z=m.current,B=s.current,O=l.current;if(!z||!B||!O)return;const G=z.getContext("2d");if(!G)return;const Y=a.current;Y&&(z.width=Y.clientWidth,z.height=Y.clientHeight),G.clearRect(0,0,z.width,z.height);for(const W of E){if(!W.entry_time||!W.exit_time||W.exit_price==null)continue;const re=B.timeScale().timeToCoordinate(W.entry_time),H=O.priceToCoordinate(W.entry_price),L=B.timeScale().timeToCoordinate(W.exit_time),R=O.priceToCoordinate(W.exit_price);if(re==null||H==null||L==null||R==null)continue;const M=W.side.toLowerCase()==="buy"?W.exit_price-W.entry_price:W.entry_price-W.exit_price,ee=b===W.trade_id,q=ee?.8:.15;G.strokeStyle=M>=0?`rgba(34,197,94,${q})`:`rgba(239,68,68,${q})`,G.lineWidth=ee?2:1,G.setLineDash([4,4]),G.beginPath(),G.moveTo(re,H),G.lineTo(L,R),G.stroke()}},[b]);v.useEffect(()=>{const E=s.current;if(!E||!i)return;let z;const B=i.filter(H=>H.exit_time||H.exit_price),Y=Date.now()/1e3-({"24h":86400,"7d":604800,"30d":2592e3,all:1/0}[g.closedFilter]??604800),W=B.filter(H=>(H.exit_time||0)>=Y),re=()=>{clearTimeout(z),z=setTimeout(()=>{g.master&&g.closed&&p(W)},100)};return E.timeScale().subscribeVisibleTimeRangeChange(re),()=>{clearTimeout(z),E.timeScale().unsubscribeVisibleTimeRangeChange(re)}},[i,g,p]),v.useEffect(()=>{const E=s.current,z=l.current;if(!E||!z||!i)return;const B=O=>{if(!O.time||!O.point){_(null),S(null);return}const G=O.time,Y=O.point.y;let W=null,re=1/0;for(const H of i)if(H.entry_time){if(Math.abs(H.entry_time-G)<=180){const L=z.priceToCoordinate(H.entry_price);if(L!=null){const R=Math.abs(L-Y);R<30&&R<re&&(W=H,re=R)}}if(H.exit_time&&H.exit_price!=null&&Math.abs(H.exit_time-G)<=180){const L=z.priceToCoordinate(H.exit_price);if(L!=null){const R=Math.abs(L-Y);R<30&&R<re&&(W=H,re=R)}}}if(W){const H=W.side.toLowerCase()==="buy",L=!W.exit_time&&W.exit_price==null;let R=`#${W.trade_id} ${W.side.toUpperCase()} @ ${W.entry_price.toFixed(3)}`;if(!L&&W.exit_price!=null){const M=H?W.exit_price-W.entry_price:W.entry_price-W.exit_price,ee=(M*100).toFixed(1);R+=`  ${W.exit_price.toFixed(3)} (${M>=0?"+":""}${ee}p)`}L&&(R+=" [OPEN]"),W.stop_price!=null&&(R+=` SL:${W.stop_price.toFixed(3)}`),W.target_price!=null&&(R+=` TP:${W.target_price.toFixed(3)}`),_({x:O.point.x,y:O.point.y,text:R}),S(W.trade_id)}else _(null),S(null)};return E.subscribeCrosshairMove(B),()=>{E.unsubscribeCrosshairMove(B)}},[i]);const j=e?Object.entries(e).filter(([,E])=>E&&E.length>0).map(([E,z])=>{var B;return{key:E,color:VP[E]||"#94a3b8",value:(B=z[z.length-1])==null?void 0:B.value}}):[],C=E=>({background:E?"rgba(99,102,241,0.6)":"rgba(55,65,81,0.6)",color:E?"#fff":"#9ca3af",border:"none",borderRadius:10,padding:"1px 7px",fontSize:"0.6rem",fontWeight:600,cursor:"pointer",lineHeight:"16px"});return o.jsxs("div",{style:{position:"relative",width:"100%",height:n,borderRadius:6,overflow:"hidden"},children:[o.jsx("div",{ref:a,style:{width:"100%",height:n,borderRadius:6,overflow:"hidden"}}),o.jsx("canvas",{ref:m,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:5}}),j.length>0&&o.jsx("div",{style:{position:"absolute",top:6,left:6,zIndex:10,background:"rgba(13,17,28,0.85)",borderRadius:4,padding:"3px 7px",display:"flex",flexWrap:"wrap",gap:6,maxWidth:"50%"},children:j.map(E=>{var z;return o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3,fontSize:"0.6rem",color:"#d1d5db"},children:[o.jsx("span",{style:{width:7,height:7,borderRadius:"50%",background:E.color,display:"inline-block",flexShrink:0}}),o.jsx("span",{style:{color:E.color,fontWeight:600},children:E.key.toUpperCase()}),o.jsx("span",{children:((z=E.value)==null?void 0:z.toFixed(3))??"-"})]},E.key)})}),i&&i.length>0&&o.jsxs("div",{style:{position:"absolute",top:6,right:60,zIndex:10,background:"rgba(13,17,28,0.85)",borderRadius:4,padding:"3px 7px",display:"flex",alignItems:"center",gap:4},children:[o.jsx("button",{type:"button",style:C(g.master),onClick:()=>k({master:!g.master}),children:"Trades"}),g.master&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",style:C(g.open),onClick:()=>k({open:!g.open}),children:"Open"}),o.jsx("button",{type:"button",style:C(g.closed),onClick:()=>k({closed:!g.closed}),children:"Closed"}),g.closed&&o.jsx("span",{style:{display:"flex",gap:2},children:["24h","7d","30d","all"].map(E=>o.jsx("button",{type:"button",style:{...C(g.closedFilter===E),fontSize:"0.55rem",padding:"1px 5px"},onClick:()=>k({closedFilter:E}),children:E},E))})]})]}),x&&o.jsx("div",{style:{position:"absolute",left:Math.min(x.x+12,(((T=a.current)==null?void 0:T.clientWidth)||400)-220),top:Math.max(x.y-30,4),zIndex:20,background:"rgba(13,17,28,0.95)",border:"1px solid rgba(99,102,241,0.4)",borderRadius:4,padding:"4px 8px",fontSize:"0.65rem",color:"#d1d5db",whiteSpace:"nowrap",pointerEvents:"none"},children:x.text}),t.length===0&&o.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-tertiary)",borderRadius:6,color:"var(--text-secondary)"},children:"No chart data available"})]})}function bQ({profile:t}){const e=bI(),[r,n]=v.useState(null),[i,a]=v.useState(!1),[s,l]=v.useState(null),[u,c]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState(null),[g,y]=v.useState(null),[x,_]=v.useState(null),[b,S]=v.useState([]),[k,p]=v.useState(null),[j,C]=v.useState(null),[T,E]=v.useState(!1),[z,B]=v.useState({}),[O,G]=v.useState(!1),[Y,W]=v.useState(!1),[re,H]=v.useState(()=>localStorage.getItem("ta_score_visible")==="true"),[L,R]=v.useState(null),[M,ee]=v.useState({}),q=[5,7,9,11,13,15,17,21,50,200],Pe={ema5:"#ec4899",ema7:"#f97316",ema9:"#f59e0b",ema11:"#eab308",ema13:"#3b82f6",ema15:"#14b8a6",ema17:"#8b5cf6",ema21:"#6366f1",ema50:"#10b981",ema200:"#a855f7"},_e=A=>{if(!A)return;const P={};for(const[V,$]of Object.entries(A))z[V]&&$&&$.length>0&&(P[V]=$);return Object.keys(P).length>0?P:void 0},Ee=v.useCallback(async()=>{try{const[A,P,V]=await Promise.all([nQ(t.name,t.path),mI(t.name,250).then(X=>X.trades).catch(()=>[]),gI(t.name,t.path).catch(()=>[])]);n(A),A!=null&&A.timeframes&&ee(X=>{var ne;const ie={...X};for(const ge of["M1","M3","M5"]){const ve=(ne=A.timeframes[ge])==null?void 0:ne.scalp_score;if(ve&&ve.finalScore!=null){const me=[...ie[ge]||[],ve.finalScore];ie[ge]=me.slice(-50)}}return ie});const $=V.map(X=>{const ie=X.timestamp_utc?Math.floor(new Date(X.timestamp_utc).getTime()/1e3):void 0;return{trade_id:String(X.trade_id),entry_price:Number(X.entry_price),stop_price:X.stop_price!=null?Number(X.stop_price):null,target_price:X.target_price!=null?Number(X.target_price):null,side:String(X.side||"buy"),entry_time:ie,exit_time:void 0,exit_price:void 0}}),Z=new Set(V.map(X=>String(X.trade_id))),ae=P.filter(X=>X.trade_id&&X.entry_price&&!Z.has(String(X.trade_id))).map(X=>{const ie=X.timestamp_utc,ne=X.exit_timestamp_utc,ge=ie?Math.floor(new Date(ie).getTime()/1e3):void 0,ve=ne?Math.floor(new Date(ne).getTime()/1e3):void 0;return{trade_id:String(X.trade_id),entry_price:Number(X.entry_price),stop_price:X.stop_price!=null?Number(X.stop_price):null,target_price:X.target_price!=null?Number(X.target_price):null,side:String(X.side||"buy"),entry_time:ge,exit_time:ve,exit_price:X.exit_price!=null?Number(X.exit_price):void 0}});S([...$,...ae]),l(null),_(new Date)}catch(A){l(A.message)}finally{a(!1)}},[t.name,t.path]);v.useEffect(()=>{n(null),S([]),l(null),_(null),c(!1),h(!1),a(!1),m(null),y(null),p(null)},[t.name,t.path]),v.useEffect(()=>{if(!e||!u||!d)return;const A=setInterval(Ee,1e4);return()=>clearInterval(A)},[u,d,e,Ee]),v.useEffect(()=>{const A=P=>{P.key==="Escape"&&k&&p(null)};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[k]);const se=async A=>{E(!0);try{await vI(t.name,A.trade_id,t.path),C(null),Ee()}catch(P){alert(`Failed to close trade: ${P.message}`)}finally{E(!1)}},he=A=>{m(f===A?null:A)},be=A=>{const P={bull:{bg:"rgba(16, 185, 129, 0.2)",color:"var(--success)"},bear:{bg:"rgba(239, 68, 68, 0.2)",color:"var(--danger)"},sideways:{bg:"rgba(156, 163, 175, 0.2)",color:"var(--text-secondary)"},unknown:{bg:"rgba(156, 163, 175, 0.2)",color:"var(--text-secondary)"}},V=P[A]||P.unknown;return o.jsx("span",{style:{padding:"4px 10px",borderRadius:4,background:V.bg,color:V.color,fontWeight:600,fontSize:"0.85rem",textTransform:"uppercase"},children:A})},K=A=>{const P={oversold:"var(--success)",overbought:"var(--danger)",neutral:"var(--text-secondary)"};return o.jsxs("span",{children:[o.jsx("span",{style:{color:P[A.zone]||"inherit"},children:A.zone.charAt(0).toUpperCase()+A.zone.slice(1)}),A.value!==null&&o.jsxs("span",{style:{color:"var(--text-secondary)",marginLeft:4},children:["(",A.value.toFixed(1),")"]})]})},pe=A=>{const P={positive:"var(--success)",negative:"var(--danger)",neutral:"var(--text-secondary)"};return o.jsx("span",{style:{color:P[A.direction]||"inherit"},children:A.direction.charAt(0).toUpperCase()+A.direction.slice(1)})},xe=A=>{const P={elevated:"var(--warning)",low:"var(--accent)",normal:"var(--text-secondary)"};return o.jsxs("span",{children:[o.jsx("span",{style:{color:P[A.state]||"inherit"},children:A.state.charAt(0).toUpperCase()+A.state.slice(1)}),A.value_pips!==null&&o.jsxs("span",{style:{color:"var(--text-secondary)",marginLeft:4},children:["(",A.value_pips," pips)"]})]})},D=["H4","H1","M30","M15","M5","M3","M1"],te={H4:"4H",H1:"1H",M30:"30m",M15:"15m",M5:"5m",M3:"3m",M1:"1m"},fe=()=>{const A=q.filter(V=>z[`ema${V}`]),P=[];return A.length>0&&P.push(`EMA ${A.join("/")}`),O&&P.push("BB"),P.length>0?P.join("  "):""};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex-between mb-4",children:[o.jsx("h2",{className:"page-title",style:{marginBottom:0,borderBottom:"none",paddingBottom:0},children:"Technical Analysis"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[u&&x&&o.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:["Updated: ",x.toLocaleTimeString()]}),u&&o.jsxs(o.Fragment,{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,color:"var(--text-secondary)",fontSize:"0.8rem"},children:[o.jsx("input",{type:"checkbox",checked:d,onChange:A=>h(A.target.checked)}),"Auto-refresh (10s)"]}),o.jsx("button",{className:"btn btn-secondary",style:{fontSize:"0.8rem"},onClick:()=>{const A=!re;H(A),localStorage.setItem("ta_score_visible",String(A))},children:re?"Score ON":"Score OFF"})]}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>{u||c(!0),a(!0),Ee()},disabled:i,children:i?"Loading...":u?"Refresh":"Load Analysis"})]})]}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16,fontSize:"0.9rem"},children:"Manual-load mode is enabled to reduce runtime cost. Use Load Analysis/Refresh on demand, or enable optional 10s auto-refresh."}),!u&&o.jsxs("div",{className:"card mb-4",style:{textAlign:"center"},children:[o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12},children:"Analysis data is paused by default."}),o.jsx("button",{className:"btn",onClick:()=>{c(!0),a(!0),Ee()},disabled:i,children:i?"Loading...":"Load Analysis"})]}),s&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--danger)"},children:o.jsxs("p",{style:{color:"var(--danger)"},children:["Error: ",s]})}),(r==null?void 0:r.current_tick)&&o.jsx("div",{className:"card mb-4",children:o.jsxs("div",{className:"grid-3",children:[o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:r.current_tick.bid.toFixed(3)}),o.jsx("div",{className:"stat-label",children:"Bid"})]}),o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:r.current_tick.ask.toFixed(3)}),o.jsx("div",{className:"stat-label",children:"Ask"})]}),o.jsxs("div",{className:"stat-box",children:[o.jsxs("div",{className:"stat-value",style:{color:r.current_tick.spread_pips>1?"var(--warning)":"var(--success)"},children:[r.current_tick.spread_pips," pips"]}),o.jsx("div",{className:"stat-label",children:"Spread"})]})]})}),r&&D.map(A=>{var $,Z,ae,X,ie,ne,ge,ve;const P=r.timeframes[A];if(!P)return null;const V=f===A;return o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{className:"flex-between",style:{marginBottom:V?16:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{margin:0,fontSize:"1.1rem",minWidth:40},children:A}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:te[A]||A})]}),be(P.regime)]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:24},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"RSI:"}),K(P.rsi)]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"MACD:"}),pe(P.macd)]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"ATR:"}),xe(P.atr)]}),o.jsx("button",{type:"button",onClick:()=>he(A),style:{background:"none",border:"none",padding:4,cursor:"pointer",color:"var(--accent)",fontSize:"0.9rem"},"aria-label":V?"Collapse chart":"Expand chart",children:V?"":""})]})]}),!V&&o.jsx("p",{style:{margin:"12px 0 0 0",color:"var(--text-secondary)",fontSize:"0.85rem",fontStyle:"italic"},children:P.summary}),re&&P.scalp_score&&(()=>{const me=P.scalp_score,ye=me.killSwitch,mt=ye?"#1a1a2e":me.direction==="LONG"?"rgba(16,185,129,0.15)":me.direction==="SHORT"?"rgba(239,68,68,0.15)":"rgba(107,114,128,0.15)",dt=ye?"#ef4444":me.direction==="LONG"?"#10b981":me.direction==="SHORT"?"#ef4444":"#9ca3af",hr=ye?"":me.direction==="LONG"?"":me.direction==="SHORT"?"":"",Pr=ye?"NO TRADE":`${me.finalScore>0?"+":""}${me.finalScore.toFixed(1)} ${me.confidence}`,Fe=L===A,wt=M[A]||[];return o.jsxs("div",{style:{marginTop:8},children:[o.jsxs("div",{onClick:()=>R(Fe?null:A),style:{display:"inline-flex",alignItems:"center",gap:6,background:mt,border:`1px solid ${dt}33`,borderRadius:6,padding:"4px 12px",cursor:"pointer",userSelect:"none",transition:"all 0.2s"},children:[o.jsx("span",{style:{color:dt,fontWeight:700,fontSize:"0.95rem"},children:hr}),o.jsx("span",{style:{color:dt,fontWeight:600,fontSize:"0.85rem",letterSpacing:.5},children:Pr}),ye&&me.killReason&&o.jsxs("span",{style:{color:"#9ca3af",fontSize:"0.7rem",marginLeft:4},children:["(",me.killReason,")"]}),o.jsx("span",{style:{color:"#6b7280",fontSize:"0.6rem",marginLeft:4},children:Fe?"":""})]}),wt.length>1&&o.jsx("svg",{width:100,height:20,style:{marginLeft:8,verticalAlign:"middle"},children:(()=>{const Ce=Math.min(...wt,-10),Ne=Math.max(...wt,10)-Ce||1,er=wt.map((De,Fr)=>`${Fr/(wt.length-1)*96+2},${18-(De-Ce)/Ne*16}`).join(" ");return o.jsxs(o.Fragment,{children:[o.jsx("line",{x1:"2",y1:"10",x2:"98",y2:"10",stroke:"#374151",strokeWidth:"0.5"}),o.jsx("polyline",{points:er,fill:"none",stroke:dt,strokeWidth:"1.5"})]})})()}),Fe&&o.jsx("div",{style:{marginTop:8,padding:10,background:"var(--bg-tertiary)",borderRadius:6,fontSize:"0.8rem"},children:me.layers.map(Ce=>{const Se=Ce.score/Ce.max*100,Ne=Ce.score>0?"#10b981":Ce.score<0?"#ef4444":"#6b7280";return o.jsxs("div",{style:{marginBottom:6},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:2},children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:Ce.name}),o.jsxs("span",{style:{color:Ne,fontWeight:600},children:[Ce.score>0?"+":"",Ce.score.toFixed(2)," / ",Ce.max]})]}),o.jsx("div",{style:{height:6,background:"#1f2937",borderRadius:3,overflow:"hidden",position:"relative"},children:o.jsx("div",{style:{position:"absolute",left:Se>=0?"50%":`${50+Se/2}%`,width:`${Math.abs(Se)/2}%`,height:"100%",background:Ne,borderRadius:3}})}),o.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",marginTop:2},children:Object.entries(Ce.components).filter(([er])=>er!=="total").map(([er,De])=>`${er}: ${typeof De=="number"?De.toFixed(2):De}`).join(" | ")})]},Ce.name)})})]})})(),V&&o.jsxs("div",{style:{borderTop:"1px solid var(--border)",paddingTop:16},onClick:me=>me.stopPropagation(),children:[o.jsxs("div",{style:{marginBottom:16},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:8,marginBottom:8},children:[o.jsxs("h4",{style:{margin:0,color:"var(--accent)",fontSize:"0.9rem"},children:[A," Chart (",te[A]||A,")"]}),fe()&&o.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:fe()}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.75rem",marginLeft:"auto"},onClick:()=>y(g===A?null:A),children:g===A?"Shrink":"Enlarge"}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.75rem"},onClick:()=>p(A),children:"Fullscreen"})]}),o.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginBottom:8},children:[q.map(me=>{const ye=`ema${me}`,mt=!!z[ye];return o.jsx("button",{type:"button",onClick:()=>B(dt=>({...dt,[ye]:!dt[ye]})),style:{background:mt?Pe[ye]:"#374151",color:mt?"#fff":"#9ca3af",border:"none",borderRadius:12,padding:"2px 8px",fontSize:"0.65rem",fontWeight:600,cursor:"pointer"},children:me},ye)}),o.jsx("button",{type:"button",onClick:()=>G(me=>!me),style:{background:O?"#6b7280":"#374151",color:O?"#fff":"#9ca3af",border:"none",borderRadius:12,padding:"2px 8px",fontSize:"0.65rem",fontWeight:600,cursor:"pointer"},children:"BB"})]}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(HP,{ohlc:P.ohlc||[],emaStack:_e(P.all_emas),bollingerSeries:O?P.bollinger_series:void 0,height:g===A?520:280,chartTrades:b}),(()=>{const me=b.filter(ye=>!ye.exit_time&&!ye.exit_price);return me.length===0?null:o.jsxs("div",{style:{position:"absolute",top:8,right:8,background:"rgba(26, 26, 46, 0.9)",border:"1px solid var(--border)",borderRadius:6,padding:8,fontSize:"0.75rem",maxWidth:200,zIndex:10},children:[o.jsxs("div",{style:{fontWeight:600,color:"var(--text-secondary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between"},onClick:()=>W(ye=>!ye),children:[o.jsxs("span",{children:["Active Trades (",me.length,")"]}),o.jsx("span",{style:{fontSize:"0.6rem",marginLeft:6},children:Y?"":""})]}),!Y&&me.map(ye=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,padding:"4px 0",borderTop:"1px solid var(--border)"},children:[o.jsxs("span",{style:{color:ye.side.toLowerCase()==="buy"?"#3b82f6":"#ef4444",fontWeight:500},children:[ye.side.toUpperCase()," @ ",ye.entry_price.toFixed(3)]}),o.jsx("button",{onClick:()=>C(ye),style:{background:"var(--danger)",border:"none",borderRadius:3,color:"white",padding:"2px 6px",fontSize:"0.65rem",cursor:"pointer"},children:"Close"})]},ye.trade_id))]})})()]})]}),o.jsx("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,marginBottom:16,borderLeft:"4px solid var(--accent)"},children:o.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:P.summary})}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"RSI (14)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:(($=P.rsi.value)==null?void 0:$.toFixed(2))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Zone:"}),o.jsx("span",{style:{marginLeft:8},children:K(P.rsi)})]})]}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[P.rsi.zone==="oversold"&&"Price may be undervalued. Potential buy opportunity if trend supports.",P.rsi.zone==="overbought"&&"Price may be overextended. Consider caution with longs.",P.rsi.zone==="neutral"&&"Momentum is balanced. Follow the trend direction."]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"MACD (12,26,9)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Line:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((Z=P.macd.line)==null?void 0:Z.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Signal:"}),o.jsx("span",{style:{marginLeft:8},children:((ae=P.macd.signal)==null?void 0:ae.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Histogram:"}),o.jsx("span",{style:{marginLeft:8,color:P.macd.histogram&&P.macd.histogram>0?"var(--success)":"var(--danger)"},children:((X=P.macd.histogram)==null?void 0:X.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Direction:"}),o.jsx("span",{style:{marginLeft:8},children:pe(P.macd)})]})]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"ATR (14)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((ie=P.atr.value)==null?void 0:ie.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Pips:"}),o.jsx("span",{style:{marginLeft:8},children:P.atr.value_pips??"-"})]})]}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[P.atr.state==="elevated"&&"Volatility is high. Consider wider stops and smaller position sizes.",P.atr.state==="low"&&"Volatility is low. Smaller moves expected, watch for breakouts.",P.atr.state==="normal"&&"Volatility is within normal range."]})]}),(()=>{const me=P.bollinger;return!me||typeof me!="object"?null:o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"Bollinger Bands (20, 2)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Upper:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:me.upper!=null?Number(me.upper).toFixed(5):"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Middle:"}),o.jsx("span",{style:{marginLeft:8},children:me.middle!=null?Number(me.middle).toFixed(5):"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Lower:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:me.lower!=null?Number(me.lower).toFixed(5):"-"})]})]}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Price relative to bands indicates volatility and potential mean reversion. For display only; not used in automation."})]})})(),typeof P.vwap=="number"&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"VWAP"}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:Number(P.vwap).toFixed(5)})]}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Volume-weighted average price (uses tick volume when available). For display only; not used in automation."})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"Price Levels (500-bar)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Current:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((ne=P.price.current)==null?void 0:ne.toFixed(3))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Recent High:"}),o.jsx("span",{style:{marginLeft:8,color:"var(--success)"},children:((ge=P.price.recent_high)==null?void 0:ge.toFixed(3))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Recent Low:"}),o.jsx("span",{style:{marginLeft:8,color:"var(--danger)"},children:((ve=P.price.recent_low)==null?void 0:ve.toFixed(3))??"-"})]})]}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:P.price.current&&P.price.recent_high&&P.price.recent_low&&o.jsxs(o.Fragment,{children:["Price is ",((P.price.current-P.price.recent_low)/(P.price.recent_high-P.price.recent_low)*100).toFixed(0),"% of the way from recent low to high."]})})]})]})]})]},A)}),i&&!r&&o.jsx("div",{className:"card",children:o.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center"},children:"Loading technical analysis..."})}),k&&r&&r.timeframes[k]&&(()=>{const A=r.timeframes[k],P=typeof window<"u"?window.innerHeight-200:500;return o.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"var(--bg-primary)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 20px",borderBottom:"1px solid var(--border)",background:"var(--bg-secondary)"},children:[o.jsxs("h2",{style:{margin:0,fontSize:"1.2rem"},children:[k," Chart (",te[k]||k,")"]}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>p(null),children:"Close (ESC)"})]}),o.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:4,padding:"0 16px"},children:[q.map(V=>{const $=`ema${V}`,Z=!!z[$];return o.jsx("button",{type:"button",onClick:()=>B(ae=>({...ae,[$]:!ae[$]})),style:{background:Z?Pe[$]:"#374151",color:Z?"#fff":"#9ca3af",border:"none",borderRadius:12,padding:"2px 8px",fontSize:"0.65rem",fontWeight:600,cursor:"pointer"},children:V},$)}),o.jsx("button",{type:"button",onClick:()=>G(V=>!V),style:{background:O?"#6b7280":"#374151",color:O?"#fff":"#9ca3af",border:"none",borderRadius:12,padding:"2px 8px",fontSize:"0.65rem",fontWeight:600,cursor:"pointer"},children:"BB"})]}),o.jsx("div",{style:{flex:1,padding:16,overflow:"hidden"},children:o.jsx(HP,{ohlc:A.ohlc||[],emaStack:_e(A.all_emas),bollingerSeries:O?A.bollinger_series:void 0,height:P,chartTrades:b})}),o.jsxs("div",{style:{padding:"12px 20px",borderTop:"1px solid var(--border)",background:"var(--bg-secondary)",display:"flex",flexWrap:"wrap",gap:20,alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"Regime:"}),be(A.regime)]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"RSI:"}),K(A.rsi)]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"MACD:"}),pe(A.macd)]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"ATR:"}),xe(A.atr)]}),o.jsx("div",{style:{flex:1,minWidth:200},children:o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",fontStyle:"italic"},children:A.summary})})]})]})})(),j&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",zIndex:1100,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:8,padding:24,maxWidth:400,width:"90%",border:"1px solid var(--border)"},children:[o.jsx("h3",{style:{margin:"0 0 16px 0"},children:"Close Trade?"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:8},children:"Are you sure you want to close this trade?"}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,marginBottom:20},children:[o.jsxs("div",{style:{color:j.side.toLowerCase()==="buy"?"#3b82f6":"#ef4444",fontWeight:600,fontSize:"1rem"},children:[j.side.toUpperCase()," @ ",j.entry_price.toFixed(3)]}),j.stop_price&&o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginTop:4},children:["SL: ",j.stop_price.toFixed(3)]}),j.target_price&&o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:["TP: ",j.target_price.toFixed(3)]})]}),o.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>C(null),disabled:T,children:"Cancel"}),o.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>se(j),disabled:T,style:{background:"var(--danger)"},children:T?"Closing...":"Close Trade"})]})]})})]})}const cv={scalper:{default:{label:"Default (5, 9, 13)",values:[5,9,13]},alt1:{label:"Ultra-fast (3, 5, 8)",values:[3,5,8]},alt2:{label:"Standard (8, 13, 21)",values:[8,13,21]}},day_trader:{default:{label:"Default (13, 21, 34)",values:[13,21,34]},alt1:{label:"Faster (8, 13, 21)",values:[8,13,21]},alt2:{label:"Slower (21, 34, 55)",values:[21,34,55]}},swing_trader:{default:{label:"Default (21, 50, 100)",values:[21,50,100]},alt1:{label:"Classic (20, 50, 200)",values:[20,50,200]},alt2:{label:"Medium (34, 89, 144)",values:[34,89,144]}}};function Gt({label:t,value:e,onAdjust:r,onChange:n,step:i=1,min:a,max:s}){if(e==null)return null;const l=u=>{const c=parseFloat(u.target.value);if(!isNaN(c)&&n){let d=c;a!==void 0&&(d=Math.max(a,d)),s!==void 0&&(d=Math.min(s,d)),n(d)}};return o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"var(--bg-secondary)",borderRadius:6,border:"1px solid var(--border)"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:t}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("button",{onClick:()=>r(-1),style:{width:28,height:28,borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"-"}),o.jsx("input",{type:"number",value:i<1?e.toFixed(2):e,onChange:l,step:i,min:a,max:s,style:{width:60,textAlign:"center",fontWeight:600,fontFamily:"monospace",padding:"4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"0.85rem"}}),o.jsx("button",{onClick:()=>r(1),style:{width:28,height:28,borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"+"})]})]})}function wQ({profile:t,currentProfile:e,onComplete:r}){var W,re,H,L,R,M,ee,q,Pe,_e,Ee,se,he,be,K,pe,xe,D,te,fe,A;const[n,i]=v.useState(1),[a,s]=v.useState({tradingStyle:null,riskTolerance:null,entryStyle:null,emaStack:"default",multipleStrategyA:null,multipleStrategyB:null}),[l,u]=v.useState(!1),[c,d]=v.useState(!1),[h,f]=v.useState(!1),[m,g]=v.useState(null),[y,x]=v.useState(null),_=a.entryStyle==="multiple"?[{num:1,title:"Trading Style",description:"How do you want to trade?"},{num:2,title:"Risk Tolerance",description:"How much risk per trade?"},{num:3,title:"Entry Style",description:"How should the bot enter trades?"},{num:4,title:"Choose Strategies",description:"Pick two strategies to combine"},{num:5,title:"Review",description:"Review your configuration"},{num:6,title:"Fine-Tune",description:"Adjust individual settings"}]:[{num:1,title:"Trading Style",description:"How do you want to trade?"},{num:2,title:"Risk Tolerance",description:"How much risk per trade?"},{num:3,title:"Entry Style",description:"How should the bot enter trades?"},{num:4,title:"Review",description:"Review your configuration"},{num:5,title:"Fine-Tune",description:"Adjust individual settings"}],[b,S]=v.useState(null),k=a.entryStyle==="multiple"?6:5;v.useEffect(()=>{a.entryStyle!=="multiple"&&n>5&&i(5)},[a.entryStyle,n]);const p=()=>{switch(n){case 1:return a.tradingStyle!==null;case 2:return a.riskTolerance!==null;case 3:return a.entryStyle!==null;case 4:return a.entryStyle==="multiple"?a.multipleStrategyA!==null&&a.multipleStrategyB!==null&&a.multipleStrategyA!==a.multipleStrategyB:!0;default:return!0}},j=()=>{const P=e,V={schema_version:1,profile_name:t.name,symbol:(P==null?void 0:P.symbol)??"USDJPY",pip_size:.01,broker_type:(P==null?void 0:P.broker_type)??"mt5",oanda_token:(P==null?void 0:P.oanda_token)??null,oanda_account_id:(P==null?void 0:P.oanda_account_id)??null,oanda_environment:(P==null?void 0:P.oanda_environment)??"practice",display_currency:(P==null?void 0:P.display_currency)??"USD",deposit_amount:(P==null?void 0:P.deposit_amount)??null,leverage_ratio:(P==null?void 0:P.leverage_ratio)??null,created_utc:(P==null?void 0:P.created_utc)??new Date().toISOString().slice(0,19).replace("T"," ")+"Z",risk:{},strategy:{timeframes:{},setups:{},filters:{alignment:{enabled:!1,method:"score",weights:{H4:1,M15:1,M1:1},min_score_to_trade:-3},ema_stack_filter:{enabled:!1,timeframe:"M1",periods:[8,13,21],min_separation_pips:0},atr_filter:{enabled:!1,timeframe:"M1",atr_period:14,min_atr_pips:0,max_atr_pips:null}}},trade_management:{target:{}},execution:{policies:[],loop_poll_seconds:5,loop_poll_seconds_fast:2}},$=V.risk,Z=V.strategy,ae=Z.timeframes,X=Z.setups,ie=V.trade_management.target,ne=V.execution,ve=(()=>{var vt;if(!a.tradingStyle)return[8,13,21];const ln=cv[a.tradingStyle],tr=a.emaStack||"default";return((vt=ln[tr])==null?void 0:vt.values)||ln.default.values})();switch(a.tradingStyle){case"scalper":ae.M1={ema_fast:9,sma_slow:21,ema_stack:ve},ae.M15={ema_fast:9,sma_slow:21,ema_stack:ve},ae.H4={ema_fast:13,sma_slow:30,ema_stack:ve},X.m1_cross_entry={enabled:!0,timeframe:"M1",ema:ve[0],sma:ve[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:3}},ie.mode="fixed_pips",ie.pips_default=8,ie.rr_default=1,ne.loop_poll_seconds=3,ne.loop_poll_seconds_fast=1;break;case"day_trader":ae.M1={ema_fast:13,sma_slow:30,ema_stack:ve},ae.M15={ema_fast:13,sma_slow:30,ema_stack:ve},ae.H4={ema_fast:13,sma_slow:30,ema_stack:ve},X.m15_cross_entry={enabled:!0,timeframe:"M15",ema:ve[0],sma:ve[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:5}},ie.mode="fixed_pips",ie.pips_default=15,ie.rr_default=1.5,ne.loop_poll_seconds=10,ne.loop_poll_seconds_fast=5;break;case"swing_trader":ae.M1={ema_fast:21,sma_slow:50,ema_stack:ve},ae.M15={ema_fast:21,sma_slow:50,ema_stack:ve},ae.H4={ema_fast:21,sma_slow:50,ema_stack:ve},X.h4_cross_entry={enabled:!0,timeframe:"H4",ema:ve[0],sma:ve[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:2}},ie.mode="fixed_pips",ie.pips_default=30,ie.rr_default=2,ne.loop_poll_seconds=60,ne.loop_poll_seconds_fast=30;break}const me=(e==null?void 0:e.risk)||{},ye=me.max_lots??.1,mt=me.max_spread_pips??2,dt=me.max_trades_per_day??10,hr=me.min_stop_pips,Pr=typeof hr=="number"&&hr>=0?Math.max(1,Math.min(100,hr)):10;switch(a.riskTolerance){case"conservative":$.max_lots=Math.round(ye*.35*100)/100||.05,$.max_spread_pips=Math.round(mt*.25*10)/10||.5,$.min_stop_pips=Pr,$.max_trades_per_day=Math.max(1,Math.round(dt*.5)),$.max_open_trades=1,$.cooldown_minutes_after_loss=15,$.require_stop=!0,$.risk_per_trade_pct=.5,$.max_daily_loss_pct=2;break;case"moderate":$.max_lots=Math.round(ye*.67*100)/100||.1,$.max_spread_pips=Math.round(mt*.5*10)/10||.8,$.min_stop_pips=Pr,$.max_trades_per_day=Math.max(1,Math.round(dt*1)),$.max_open_trades=2,$.cooldown_minutes_after_loss=5,$.require_stop=!0,$.risk_per_trade_pct=1,$.max_daily_loss_pct=4;break;case"aggressive":$.max_lots=Math.round(ye*1*100)/100||.15,$.max_spread_pips=Math.round(mt*.6*10)/10||1.2,$.min_stop_pips=Pr,$.max_trades_per_day=Math.max(1,Math.round(dt*1)),$.max_open_trades=3,$.cooldown_minutes_after_loss=0,$.require_stop=!0,$.risk_per_trade_pct=2,$.max_daily_loss_pct=6;break}const Fe=[],wt=Object.keys(X)[0]||"m1_cross_entry",Ce=a.tradingStyle==="swing_trader"?"H4":a.tradingStyle==="day_trader"?"M15":"M1",Se=ie.pips_default,Ne=$.min_stop_pips;switch(a.entryStyle){case"ema_cross":Fe.push({type:"confirmed_cross",id:"custom_confirmed_cross",enabled:!0,setup_id:wt});break;case"rsi_dips":Fe.push({type:"indicator_based",id:"custom_rsi_buy",enabled:!0,timeframe:Ce,regime:"bull",side:"buy",rsi_period:14,rsi_oversold:30,rsi_overbought:70,rsi_zone:"oversold",use_macd_cross:!0,macd_fast:12,macd_slow:26,macd_signal:9,tp_pips:Se,sl_pips:Ne}),Fe.push({type:"indicator_based",id:"custom_rsi_sell",enabled:!0,timeframe:Ce,regime:"bear",side:"sell",rsi_period:14,rsi_oversold:30,rsi_overbought:70,rsi_zone:"overbought",use_macd_cross:!0,macd_fast:12,macd_slow:26,macd_signal:9,tp_pips:Se,sl_pips:Ne});break;case"price_levels":Z.filters.alignment={enabled:!0,method:"score",weights:{H4:2,M15:1,M1:1},min_score_to_trade:1},Fe.push({type:"confirmed_cross",id:"custom_confirmed_cross",enabled:!0,setup_id:wt});break;case"bollinger_bands":Fe.push({type:"bollinger_bands",id:"custom_bb_buy",enabled:!0,timeframe:Ce,period:20,std_dev:2,trigger:"lower_band_buy",regime:"bull",side:"buy",tp_pips:Se,sl_pips:Ne}),Fe.push({type:"bollinger_bands",id:"custom_bb_sell",enabled:!0,timeframe:Ce,period:20,std_dev:2,trigger:"upper_band_sell",regime:"bear",side:"sell",tp_pips:Se,sl_pips:Ne});break;case"vwap":Fe.push({type:"vwap",id:"custom_vwap_buy",enabled:!0,timeframe:Ce,trigger:"cross_above",side:"buy",tp_pips:Se,sl_pips:Ne}),Fe.push({type:"vwap",id:"custom_vwap_sell",enabled:!0,timeframe:Ce,trigger:"cross_below",side:"sell",tp_pips:Se,sl_pips:Ne});break;case"multiple":{const ln=(tr,vt)=>{if(tr==="ema_cross"){Fe.push({type:"confirmed_cross",id:`${vt}_ema_cross`,enabled:!0,setup_id:wt});return}if(tr==="price_levels"){Z.filters.alignment={enabled:!0,method:"score",weights:{H4:2,M15:1,M1:1},min_score_to_trade:1},Fe.push({type:"confirmed_cross",id:`${vt}_confirmed_cross`,enabled:!0,setup_id:wt});return}if(tr==="bollinger_bands"){Fe.push({type:"bollinger_bands",id:`${vt}_bb_buy`,enabled:!0,timeframe:Ce,period:20,std_dev:2,trigger:"lower_band_buy",regime:"bull",side:"buy",tp_pips:Se,sl_pips:Ne}),Fe.push({type:"bollinger_bands",id:`${vt}_bb_sell`,enabled:!0,timeframe:Ce,period:20,std_dev:2,trigger:"upper_band_sell",regime:"bear",side:"sell",tp_pips:Se,sl_pips:Ne});return}tr==="vwap"&&(Fe.push({type:"vwap",id:`${vt}_vwap_buy`,enabled:!0,timeframe:Ce,trigger:"cross_above",side:"buy",tp_pips:Se,sl_pips:Ne}),Fe.push({type:"vwap",id:`${vt}_vwap_sell`,enabled:!0,timeframe:Ce,trigger:"cross_below",side:"sell",tp_pips:Se,sl_pips:Ne}))};a.multipleStrategyA&&ln(a.multipleStrategyA,"custom_ms_a"),a.multipleStrategyB&&ln(a.multipleStrategyB,"custom_ms_b");break}}ne.policies=Fe;const er=a.tradingStyle==="scalper"?"Scalp":a.tradingStyle==="day_trader"?"DayT":"Swing",De=a.riskTolerance==="conservative"?"Cons":a.riskTolerance==="moderate"?"Mod":"Agg",Fr=a.entryStyle==="ema_cross"?"EMAC":a.entryStyle==="rsi_dips"?"RSI":a.entryStyle==="price_levels"?"PL":a.entryStyle==="bollinger_bands"?"BB":a.entryStyle==="vwap"?"VWAP":"MS";return V.active_preset_name=`Custom: ${er}/${De}/${Fr}`,V},C=()=>{if(n<k&&i(n+1),n===3&&a.entryStyle!=="multiple"||n===4&&a.entryStyle==="multiple"){const P=j();x(P),S(JSON.parse(JSON.stringify(P)))}},T=()=>{n>1&&i(n-1)},E=async()=>{f(!0),g(null);try{const P=JSON.parse(JSON.stringify(b||y||j())),V=(e==null?void 0:e.risk)||{},$=P.risk||{};P.risk=V;const Z=(ae,X)=>typeof ae=="number"&&typeof X=="number"?Math.min(ae,X):ae;P.effective_risk={...$,max_lots:Z($.max_lots??.1,V.max_lots??1),max_spread_pips:Z($.max_spread_pips??2,V.max_spread_pips??5),max_trades_per_day:Z($.max_trades_per_day??10,V.max_trades_per_day??100),max_open_trades:Z($.max_open_trades??2,V.max_open_trades??10)},P.broker_type=(e==null?void 0:e.broker_type)??"mt5",P.oanda_token=(e==null?void 0:e.oanda_token)??null,P.oanda_account_id=(e==null?void 0:e.oanda_account_id)??null,P.oanda_environment=(e==null?void 0:e.oanda_environment)??"practice",P.display_currency=(e==null?void 0:e.display_currency)??"USD",P.deposit_amount=(e==null?void 0:e.deposit_amount)??null,P.leverage_ratio=(e==null?void 0:e.leverage_ratio)??null,e!=null&&e.created_utc&&(P.created_utc=e.created_utc),await e0(t.path,P),r()}catch(P){g(P.message)}finally{f(!1)}},z=()=>{y&&S(JSON.parse(JSON.stringify(y)))},B=(P,V)=>{if(!b)return;const $=JSON.parse(JSON.stringify(b));let Z=$;for(let ae=0;ae<P.length-1;ae++)Z[P[ae]]===void 0&&(Z[P[ae]]={}),Z=Z[P[ae]];Z[P[P.length-1]]=V,S($)},O=(P,V,$,Z,ae)=>{if(!b)return;let X=b;for(let ge=0;ge<P.length-1;ge++)if(X=X[P[ge]],!X)return;const ie=X[P[P.length-1]];if(typeof ie!="number")return;let ne=ie+V*(ae||1);$!==void 0&&(ne=Math.max($,ne)),Z!==void 0&&(ne=Math.min(Z,ne)),B(P,Number(ne.toFixed(4)))},G=(()=>{if(n!==5||!b||!e)return!1;const P=e.risk||{},V=P.max_lots,$=P.max_spread_pips,Z=P.max_trades_per_day,ae=b.risk||{},X=ae.max_lots,ie=ae.max_spread_pips,ne=ae.max_trades_per_day,ge=V!=null&&X!=null&&X>V,ve=$!=null&&ie!=null&&ie>$,me=Z!=null&&ne!=null&&ne>Z;return ge||ve||me})(),Y=({selected:P,onClick:V,title:$,description:Z,icon:ae,details:X})=>o.jsxs("div",{onClick:V,style:{padding:20,borderRadius:8,border:`2px solid ${P?"var(--accent)":"var(--border)"}`,background:P?"rgba(59, 130, 246, 0.1)":"var(--bg-secondary)",cursor:"pointer",transition:"all 0.2s ease"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[o.jsx("span",{style:{fontSize:"1.5rem"},children:ae}),o.jsx("h4",{style:{margin:0,color:P?"var(--accent)":"var(--text-primary)"},children:$})]}),o.jsx("p",{style:{margin:"0 0 8px 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:Z}),X&&o.jsx("ul",{style:{margin:0,paddingLeft:20,fontSize:"0.8rem",color:"var(--text-secondary)"},children:X.map((ie,ne)=>o.jsx("li",{children:ie},ne))})]});return o.jsxs("div",{children:[o.jsx("div",{className:"card mb-4",children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:_.map(P=>o.jsxs("div",{style:{flex:1,textAlign:"center",opacity:P.num<=n?1:.5},children:[o.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:P.num<n?"var(--success)":P.num===n?"var(--accent)":"var(--bg-tertiary)",color:P.num<=n?"white":"var(--text-secondary)",display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:600,marginBottom:8},children:P.num<n?"":P.num}),o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:P.num===n?600:400},children:P.title})]},P.num))})}),n===1&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 1: Trading Style"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How do you want to trade? This determines the timeframe focus and trade duration."}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsx(Y,{selected:a.tradingStyle==="scalper",onClick:()=>s({...a,tradingStyle:"scalper"}),title:"Scalper",icon:"",description:"Quick trades (1-5 minutes), small profits, many opportunities",details:["Focuses on M1 (1-minute) chart","8 pip profit targets","Fast polling (1-3 seconds)","Best for active monitoring"]}),o.jsx(Y,{selected:a.tradingStyle==="day_trader",onClick:()=>s({...a,tradingStyle:"day_trader"}),title:"Day Trader",icon:"",description:"Trades within the day (5-60 minutes), moderate targets",details:["Focuses on M15 (15-minute) chart","15 pip profit targets","Moderate polling (5-10 seconds)","Good balance of activity and patience"]}),o.jsx(Y,{selected:a.tradingStyle==="swing_trader",onClick:()=>s({...a,tradingStyle:"swing_trader"}),title:"Swing Trader",icon:"",description:"Hold for hours or days, larger moves, fewer trades",details:["Focuses on H4 (4-hour) chart","30+ pip profit targets","Slow polling (30-60 seconds)","Minimal monitoring needed"]})]}),a.tradingStyle&&o.jsxs("div",{style:{marginTop:20},children:[o.jsxs("button",{type:"button",onClick:()=>d(!c),style:{background:"transparent",border:"none",color:"var(--accent)",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:8,padding:0},children:[o.jsx("span",{style:{transform:c?"rotate(90deg)":"rotate(0)",transition:"transform 0.2s"},children:""}),"Advanced: EMA Stack (optional)"]}),c&&o.jsxs("div",{style:{marginTop:12,padding:16,background:"var(--bg-tertiary)",borderRadius:8,borderLeft:"3px solid var(--accent)"},children:[o.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.85rem",color:"var(--text-secondary)"},children:"The EMA Stack defines the moving average periods used for trend detection. Leave as default unless you have a specific preference."}),o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsxs("label",{children:["EMA Stack for ",a.tradingStyle==="scalper"?"Scalping":a.tradingStyle==="day_trader"?"Day Trading":"Swing Trading"]}),o.jsx("select",{value:a.emaStack||"default",onChange:P=>s({...a,emaStack:P.target.value}),children:a.tradingStyle&&Object.entries(cv[a.tradingStyle]).map(([P,V])=>o.jsx("option",{value:P,children:V.label},P))})]}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Current selection: ",a.tradingStyle&&a.emaStack&&((W=cv[a.tradingStyle][a.emaStack])==null?void 0:W.values.join(", "))," EMA periods"]})]})]})]}),n===2&&(()=>{const P=(e==null?void 0:e.risk)||{},V=P.max_lots??.1,$=P.max_spread_pips??2,Z=P.max_trades_per_day??10,ae=Math.round(V*.35*100)/100||.05,X=Math.max(1,Math.round(Z*.5)),ie=Math.round($*.25*10)/10||.5,ne=Math.round(V*.67*100)/100||.1,ge=Math.max(1,Math.round(Z*1)),ve=Math.round($*.5*10)/10||.8,me=Math.round(V*1*100)/100||.15,ye=Math.max(1,Math.round(Z*1)),mt=Math.round($*.6*10)/10||1.2;return o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 2: Risk Tolerance"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How much risk are you comfortable with per trade? Values scale from your Profile Editor limits."}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsx(Y,{selected:a.riskTolerance==="conservative",onClick:()=>s({...a,riskTolerance:"conservative"}),title:"Conservative",icon:"",description:"Lower risk, smaller positions, strict filters",details:[`${ae} lots per trade`,`Max ${X} trades per day`,`${ie} pip max spread`,"15 min cooldown after loss","2% max daily loss"]}),o.jsx(Y,{selected:a.riskTolerance==="moderate",onClick:()=>s({...a,riskTolerance:"moderate"}),title:"Moderate",icon:"",description:"Balanced risk and reward",details:[`${ne} lots per trade`,`Max ${ge} trades per day`,`${ve} pip max spread`,"5 min cooldown after loss","4% max daily loss"]}),o.jsx(Y,{selected:a.riskTolerance==="aggressive",onClick:()=>s({...a,riskTolerance:"aggressive"}),title:"Aggressive",icon:"",description:"Higher risk for potentially higher returns",details:[`${me} lots per trade`,`Max ${ye} trades per day`,`${mt} pip max spread`,"No cooldown after loss","6% max daily loss"]})]})]})})(),n===3&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 3: Entry Style"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How should the bot decide when to enter a trade?"}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsx(Y,{selected:a.entryStyle==="ema_cross",onClick:()=>s({...a,entryStyle:"ema_cross",multipleStrategyA:null,multipleStrategyB:null}),title:"EMA Cross",icon:"",description:"Buy or sell based on EMA/SMA cross direction",details:["BUY: EMA crosses above SMA","SELL: EMA crosses below SMA","Waits for confirmation bar","Works in both trends"]}),o.jsx(Y,{selected:a.entryStyle==="rsi_dips",onClick:()=>s({...a,entryStyle:"rsi_dips",multipleStrategyA:null,multipleStrategyB:null}),title:"RSI Dips",icon:"",description:"Buy oversold dips, sell overbought rallies",details:["BUY: RSI < 30 in uptrend","SELL: RSI > 70 in downtrend","Mean-reversion style","MACD confirmation included"]}),o.jsx(Y,{selected:a.entryStyle==="price_levels",onClick:()=>s({...a,entryStyle:"price_levels",multipleStrategyA:null,multipleStrategyB:null}),title:"Price Levels",icon:"",description:"EMA cross with multi-timeframe alignment filter",details:["Bi-directional EMA cross","Requires H4/M15/M1 agreement","Higher quality signals","Fewer but better trades"]}),o.jsx(Y,{selected:a.entryStyle==="bollinger_bands",onClick:()=>s({...a,entryStyle:"bollinger_bands",multipleStrategyA:null,multipleStrategyB:null}),title:"Bollinger Bands",icon:"",description:"Mean reversion at lower/upper band",details:["BUY: price at/below lower band in uptrend","SELL: price at/above upper band in downtrend","M15, 20-period, 2 std dev","Clear levels for entry"]}),o.jsx(Y,{selected:a.entryStyle==="vwap",onClick:()=>s({...a,entryStyle:"vwap",multipleStrategyA:null,multipleStrategyB:null}),title:"VWAP",icon:"",description:"Entries on price vs VWAP",details:["BUY: price crosses above VWAP","SELL: price crosses below VWAP","Volume-weighted average price","Good for intraday trend"]}),o.jsx(Y,{selected:a.entryStyle==="multiple",onClick:()=>s({...a,entryStyle:"multiple"}),title:"Multiple Strategies",icon:"",description:"Combine two strategies of your choice (EMA Cross, Price Levels, Bollinger Bands, or VWAP)",details:["Pick Strategy A and Strategy B in the next step","EMA Cross, Price Levels, Bollinger Bands, VWAP","Maximum flexibility","Good for active traders"]})]})]}),n===4&&a.entryStyle==="multiple"&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 4: Choose two strategies to combine"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Select Strategy A and Strategy B. They must be different. RSI is not available in combinations."}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24,marginBottom:16},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Strategy A"}),o.jsxs("select",{value:a.multipleStrategyA??"",onChange:P=>s({...a,multipleStrategyA:P.target.value||null}),style:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.95rem"},children:[o.jsx("option",{value:"",children:" Select "}),o.jsx("option",{value:"ema_cross",children:"EMA Cross"}),o.jsx("option",{value:"price_levels",children:"Price Levels"}),o.jsx("option",{value:"bollinger_bands",children:"Bollinger Bands"}),o.jsx("option",{value:"vwap",children:"VWAP"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Strategy B"}),o.jsxs("select",{value:a.multipleStrategyB??"",onChange:P=>s({...a,multipleStrategyB:P.target.value||null}),style:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.95rem"},children:[o.jsx("option",{value:"",children:" Select "}),o.jsx("option",{value:"ema_cross",children:"EMA Cross"}),o.jsx("option",{value:"price_levels",children:"Price Levels"}),o.jsx("option",{value:"bollinger_bands",children:"Bollinger Bands"}),o.jsx("option",{value:"vwap",children:"VWAP"})]})]})]}),a.multipleStrategyA&&a.multipleStrategyB&&a.multipleStrategyA===a.multipleStrategyB&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.9rem",marginTop:8},children:"Please choose two different strategies."})]}),(n===4&&a.entryStyle!=="multiple"||n===5&&a.entryStyle==="multiple")&&o.jsx("div",{children:o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",children:a.entryStyle==="multiple"?"Step 5: Review & Save":"Step 4: Review & Save"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Review your custom configuration before saving."}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8,borderLeft:"4px solid var(--accent)",marginBottom:20},children:[o.jsx("h4",{style:{margin:"0 0 12px 0"},children:"Your Configuration Summary"}),o.jsxs("div",{className:"grid-3",children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Style:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[a.tradingStyle==="scalper"&&" Scalper",a.tradingStyle==="day_trader"&&" Day Trader",a.tradingStyle==="swing_trader"&&" Swing Trader"]})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Risk:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[a.riskTolerance==="conservative"&&" Conservative",a.riskTolerance==="moderate"&&" Moderate",a.riskTolerance==="aggressive"&&" Aggressive"]})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Entry:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[a.entryStyle==="ema_cross"&&" EMA Cross",a.entryStyle==="rsi_dips"&&" RSI Dips",a.entryStyle==="price_levels"&&" Price Levels",a.entryStyle==="bollinger_bands"&&" Bollinger Bands",a.entryStyle==="vwap"&&" VWAP",a.entryStyle==="multiple"&&a.multipleStrategyA&&a.multipleStrategyB&&o.jsxs(o.Fragment,{children:[" Multiple (",a.multipleStrategyA.replace("_"," "),"+",a.multipleStrategyB.replace("_"," "),")"]}),a.entryStyle==="multiple"&&(!a.multipleStrategyA||!a.multipleStrategyB)&&" Multiple"]})]})]})]}),y&&o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{marginBottom:12},children:"What this means:"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"var(--text-secondary)",lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Position Size:"})," ",String(((re=y.risk)==null?void 0:re.max_lots)??"-")," lots per trade"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Profit Target:"})," ",String(((L=(H=y.trade_management)==null?void 0:H.target)==null?void 0:L.pips_default)??"-")," pips"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Max Trades/Day:"})," ",String(((R=y.risk)==null?void 0:R.max_trades_per_day)??"-")]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Polling Speed:"})," Every ",String(((M=y.execution)==null?void 0:M.loop_poll_seconds)??"-")," seconds"]})]})]}),o.jsx("div",{style:{marginBottom:20},children:o.jsxs("button",{className:"btn btn-secondary",style:{fontSize:"0.85rem"},onClick:()=>u(!l),children:[l?"Hide":"Show"," Advanced Settings"]})}),l&&y&&o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{marginBottom:12},children:"Full Configuration (JSON):"}),o.jsx("pre",{style:{background:"var(--bg-primary)",padding:12,borderRadius:6,fontSize:"0.75rem",overflow:"auto",maxHeight:300},children:JSON.stringify(y,null,2)}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:8},children:"For advanced customization, edit the profile directly in the Profile Editor after saving."})]}),m&&o.jsx("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.1)",borderRadius:6,marginBottom:16},children:o.jsxs("p",{style:{color:"var(--danger)",margin:0},children:["Error: ",m]})})]})}),(n===5&&a.entryStyle!=="multiple"||n===6&&a.entryStyle==="multiple")&&b&&o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:a.entryStyle==="multiple"?"Step 6: Fine-Tune Settings":"Step 5: Fine-Tune Settings"}),o.jsx("button",{className:"btn btn-secondary",onClick:z,style:{fontSize:"0.8rem"},children:"Reset to Wizard Defaults"})]}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Adjust any settings using the +/- buttons or type directly. These values come from your wizard choices."}),G&&o.jsxs("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.15)",border:"1px solid var(--danger)",borderRadius:8,marginBottom:20},children:[o.jsx("strong",{style:{color:"var(--danger)"},children:"Profile limit exceeded"}),o.jsx("p",{style:{margin:"8px 0 0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"You have violated your Profile Editor risk settings. This change cannot be made until you update your risk settings in the Profile Editor."})]}),o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Risk Settings"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[o.jsx(Gt,{label:"Max Lots",value:(ee=b.risk)==null?void 0:ee.max_lots,onAdjust:P=>O(["risk","max_lots"],P,.01,10,.01),onChange:P=>B(["risk","max_lots"],P),step:.01,min:.01,max:10}),o.jsx(Gt,{label:"Min Stop Pips",value:(q=b.risk)==null?void 0:q.min_stop_pips,onAdjust:P=>O(["risk","min_stop_pips"],P,1,100,1),onChange:P=>B(["risk","min_stop_pips"],P),step:1,min:1,max:100}),o.jsx(Gt,{label:"Max Spread Pips",value:(Pe=b.risk)==null?void 0:Pe.max_spread_pips,onAdjust:P=>O(["risk","max_spread_pips"],P,.1,5,.1),onChange:P=>B(["risk","max_spread_pips"],P),step:.1,min:.1,max:5}),o.jsx(Gt,{label:"Max Trades/Day",value:(_e=b.risk)==null?void 0:_e.max_trades_per_day,onAdjust:P=>O(["risk","max_trades_per_day"],P,1,100,1),onChange:P=>B(["risk","max_trades_per_day"],P),step:1,min:1,max:100}),o.jsx(Gt,{label:"Max Open Trades",value:(Ee=b.risk)==null?void 0:Ee.max_open_trades,onAdjust:P=>O(["risk","max_open_trades"],P,1,10,1),onChange:P=>B(["risk","max_open_trades"],P),step:1,min:1,max:10}),o.jsx(Gt,{label:"Loss Cooldown (min)",value:(se=b.risk)==null?void 0:se.cooldown_minutes_after_loss,onAdjust:P=>O(["risk","cooldown_minutes_after_loss"],P,0,60,1),onChange:P=>B(["risk","cooldown_minutes_after_loss"],P),step:1,min:0,max:60}),o.jsx(Gt,{label:"Max Daily Loss %",value:(he=b.risk)==null?void 0:he.max_daily_loss_pct,onAdjust:P=>O(["risk","max_daily_loss_pct"],P,.5,20,.5),onChange:P=>B(["risk","max_daily_loss_pct"],P),step:.5,min:.5,max:20})]})]}),o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Profit Target"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[o.jsx(Gt,{label:"Target Pips",value:(K=(be=b.trade_management)==null?void 0:be.target)==null?void 0:K.pips_default,onAdjust:P=>O(["trade_management","target","pips_default"],P,1,100,1),onChange:P=>B(["trade_management","target","pips_default"],P),step:1,min:1,max:100}),o.jsx(Gt,{label:"R:R Ratio",value:(xe=(pe=b.trade_management)==null?void 0:pe.target)==null?void 0:xe.rr_default,onAdjust:P=>O(["trade_management","target","rr_default"],P,.5,5,.1),onChange:P=>B(["trade_management","target","rr_default"],P),step:.1,min:.5,max:5})]})]}),o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Execution"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[o.jsx(Gt,{label:"Poll Interval (sec)",value:(D=b.execution)==null?void 0:D.loop_poll_seconds,onAdjust:P=>O(["execution","loop_poll_seconds"],P,1,120,1),onChange:P=>B(["execution","loop_poll_seconds"],P),step:1,min:1,max:120}),o.jsx(Gt,{label:"Fast Poll (sec)",value:(te=b.execution)==null?void 0:te.loop_poll_seconds_fast,onAdjust:P=>O(["execution","loop_poll_seconds_fast"],P,1,60,1),onChange:P=>B(["execution","loop_poll_seconds_fast"],P),step:1,min:1,max:60})]})]}),(A=(fe=b.execution)==null?void 0:fe.policies)==null?void 0:A.map((P,V)=>o.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsxs("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.9rem"},children:["Policy: ",P.id," (",P.type,")"]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:10},children:[P.type==="indicator_based"&&o.jsxs(o.Fragment,{children:[o.jsx(Gt,{label:"RSI Period",value:P.rsi_period,onAdjust:$=>{const Z=b.execution.policies;Z[V].rsi_period=Math.max(2,Math.min(50,P.rsi_period+$)),B(["execution","policies"],Z)},onChange:$=>{const Z=b.execution.policies;Z[V].rsi_period=Math.max(2,Math.min(50,$)),B(["execution","policies"],Z)},step:1,min:2,max:50}),o.jsx(Gt,{label:"RSI Oversold",value:P.rsi_oversold,onAdjust:$=>{const Z=b.execution.policies;Z[V].rsi_oversold=Math.max(10,Math.min(50,P.rsi_oversold+$)),B(["execution","policies"],Z)},onChange:$=>{const Z=b.execution.policies;Z[V].rsi_oversold=Math.max(10,Math.min(50,$)),B(["execution","policies"],Z)},step:1,min:10,max:50}),o.jsx(Gt,{label:"RSI Overbought",value:P.rsi_overbought,onAdjust:$=>{const Z=b.execution.policies;Z[V].rsi_overbought=Math.max(50,Math.min(90,P.rsi_overbought+$)),B(["execution","policies"],Z)},onChange:$=>{const Z=b.execution.policies;Z[V].rsi_overbought=Math.max(50,Math.min(90,$)),B(["execution","policies"],Z)},step:1,min:50,max:90}),o.jsx(Gt,{label:"TP Pips",value:P.tp_pips,onAdjust:$=>{const Z=b.execution.policies;Z[V].tp_pips=Math.max(1,Math.min(100,P.tp_pips+$)),B(["execution","policies"],Z)},onChange:$=>{const Z=b.execution.policies;Z[V].tp_pips=Math.max(1,Math.min(100,$)),B(["execution","policies"],Z)},step:1,min:1,max:100}),o.jsx(Gt,{label:"SL Pips",value:P.sl_pips,onAdjust:$=>{const Z=b.execution.policies;Z[V].sl_pips=Math.max(1,Math.min(100,P.sl_pips+$)),B(["execution","policies"],Z)},onChange:$=>{const Z=b.execution.policies;Z[V].sl_pips=Math.max(1,Math.min(100,$)),B(["execution","policies"],Z)},step:1,min:1,max:100}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Side:"}),o.jsx("span",{style:{fontWeight:600,color:P.side==="buy"?"var(--success)":"var(--danger)"},children:P.side.toUpperCase()})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Regime:"}),o.jsx("span",{style:{fontWeight:600},children:P.regime})]})]}),P.type==="confirmed_cross"&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Setup:"}),o.jsx("span",{style:{fontWeight:600},children:P.setup_id}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"(bi-directional)"})]})]})]},V)),m&&o.jsx("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.1)",borderRadius:6,marginTop:16},children:o.jsxs("p",{style:{color:"var(--danger)",margin:0},children:["Error: ",m]})})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20},children:[o.jsx("button",{className:"btn btn-secondary",onClick:T,disabled:n===1,children:" Back"}),o.jsxs("div",{style:{display:"flex",gap:12},children:[n<k&&o.jsx("button",{className:"btn btn-primary",onClick:C,disabled:!p(),children:n===4&&a.entryStyle!=="multiple"||n===5&&a.entryStyle==="multiple"?"Fine-Tune Settings ":"Next "}),(n>=4&&a.entryStyle!=="multiple"||n>=5&&a.entryStyle==="multiple")&&o.jsx("button",{className:"btn btn-success",onClick:E,disabled:h||G,style:{minWidth:160},children:h?"Saving...":" Save Configuration"})]})]})]})}const ru=[9,...Array.from({length:24},(t,e)=>e+11)],SQ=new Set(ru),yt={p80_global:12.03,p90_global:17.02,p80_tokyo:12.67,p90_tokyo:17.63,p80_london:11.06,p90_london:14.41,p80_ny:12.66,p90_ny:18.83,p80_bull_tokyo:11.85,p90_bull_tokyo:15.52,p80_bull_london:10.21,p90_bull_london:12.97,p80_bull_ny:11.21,p90_bull_ny:15.84,p80_bear_tokyo:13.44,p90_bear_tokyo:19.73,p80_bear_london:12.01,p90_bear_london:17.44,p80_bear_ny:13.97,p90_bear_ny:21.51};function Cc(t){if(!Array.isArray(t))return[...ru];const e=Array.from(new Set(t.map(r=>Math.trunc(Number(r))).filter(r=>SQ.has(r)))).sort((r,n)=>r-n);return e.length>0?e:[...ru]}function jQ({profile:t}){var ee,q,Pe,_e,Ee,se,he,be,K,pe,xe,D,te,fe,A,P,V,$,Z,ae,X,ie,ne,ge,ve,me,ye,mt,dt,hr,Pr,Fe,wt,Ce,Se,Ne,er,De,Fr,ln,tr,vt,un,Si,wo,t0,r0,n0,i0,a0,s0,o0,l0,u0,c0,d0,h0,f0,p0,m0,v0,g0,y0,_0,x0,b0,w0,S0,j0,k0,P0,M0,C0,E0;const[e,r]=v.useState([]),[n,i]=v.useState(null),[a,s]=v.useState(null),[l,u]=v.useState(null),[c,d]=v.useState(!1),[h,f]=v.useState(null),[m,g]=v.useState(null),[y,x]=v.useState(!1),[_,b]=v.useState(!0),[S,k]=v.useState(null),[p,j]=v.useState(null),[C,T]=v.useState(!1),[E,z]=v.useState(!1),B=()=>{pI(t.path).then(g).catch(console.error),VZ(t.name).then(k).catch(console.error)};v.useEffect(()=>{$Z().then(w=>{r(w)}).catch(console.error),B()},[t.path,t.name]),v.useEffect(()=>{n&&n!=="custom"?FZ(n,t.path).then(w=>u(w)).catch(console.error):u(null)},[n,t.path]),v.useEffect(()=>{if(y&&m){const w=m.effective_risk,oe=m.risk,gt=m.execution,Qe=m.trade_management,fr=Qe==null?void 0:Qe.target,Ou=gt==null?void 0:gt.policies,So=m.strategy,jo=So==null?void 0:So.filters,ji=jo==null?void 0:jo.session_boundary_block,ep=(ji==null?void 0:ji.enabled)??!1,tp=(ji==null?void 0:ji.buffer_minutes)??15;let ko=0,Mr=20,Tu=!1,ki=.15,zu=5,la=100,Iu=!1,Nu=100,Po=.15,Mo=!1,Co=14,Eo=50,je=5,I=!0,A0=3,O0=.35,T0=.1,z0=.08,I0=.05,N0=.45,R0=.4,D0=.15,L0=0,B0=4,$0=-1,F0=3,W0=-3,U0=3,K0=!0,V0=2,H0=3.5,Y0=5,G0=12,rp=!1,np="session_and_side",ip=!0,ap=.5,sp=12.03,op=17.02,lp=12.67,up=17.63,cp=11.06,dp=14.41,hp=12.66,fp=18.83,pp=11.85,mp=15.52,vp=10.21,gp=12.97,yp=11.21,_p=15.84,xp=13.44,bp=19.73,wp=12.01,Sp=17.44,jp=13.97,kp=21.51,Pp=!0,Mp=!0,Cp=21,Ep=29,Ap=!0,Op=.5,Tp=1,zp=!1,Ip=1,Np=2,Rp=.5,X0=!1,q0=58,Z0=65,Q0=71,J0=.75,eb=.5,tb=.25,rb="high",nb="high",ib=55,ab=20,sb=15,ob=10,lb=!1,ub=3,cb=2,Dp=5,db=3,hb=8,Lp=9,Bp=21,$p=1,es="ema_cross",fb=!0,pb=4,mb=12,vb=15,gb=!1,yb=5,Fp=!1,Wp="fixed_pips",Up=5,Kp=1,_b=!0,xb=!0,bb=!0,Ru=[9,11,12,13,14,15,16,17],wb=!0,Sb=7,jb=2.5,kb=!0,Pb=!0,Mb=2.2,Cb=2.5,Eb=2.8,Ab=!0,Ob=14,Tb=4.5,zb=11,Ib=!0,Nb=11,Rb=8,Db=10,Lb=11,Bb=2,$b=20,Fb=2,Wb=20,Ub=2,Kb=!0,Vb=[9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34],Hb=7,Yb=!0,Gb=21,Xb=2,qb=!0;if(Ou)for(const N of Ou){if(N.type==="kt_cg_trial_6"&&(Bb=N.m3_slope_lookback??2,$b=N.m3_bb_period??20,Fb=N.m3_bb_std??2,Wb=N.m1_bb_period??20,Ub=N.m1_bb_std??2,Kb=N.ema_tier_enabled??!0,Vb=N.tier_ema_periods??[9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34],Hb=N.ema_tier_tp_pips??7,Yb=N.dead_zone_enabled??!0,Gb=N.dead_zone_start_hour_utc??21,Xb=N.dead_zone_end_hour_utc??2,qb=N.spread_aware_be_apply_to_ema_tier??!0,"sl_pips"in N&&(Mr=N.sl_pips),"spread_aware_be_enabled"in N&&(Fp=N.spread_aware_be_enabled,Wp="spread_relative",Up=N.spread_aware_be_fixed_trigger_pips??7,Kp=N.spread_aware_be_spread_buffer_pips??1.5),"max_open_trades_per_side"in N&&(Dp=N.max_open_trades_per_side??15)),"cooldown_minutes"in N&&(ko=N.cooldown_minutes),"sl_pips"in N&&(Mr=N.sl_pips),"swing_level_filter_enabled"in N&&(Tu=N.swing_level_filter_enabled,ki=N.swing_danger_zone_pct??.15,zu=N.swing_confirmation_bars??5,la=N.swing_lookback_bars??100),"rolling_danger_zone_enabled"in N&&(Iu=N.rolling_danger_zone_enabled,Nu=N.rolling_danger_lookback_bars??100,Po=N.rolling_danger_zone_pct??.15),"rsi_divergence_enabled"in N&&(Mo=N.rsi_divergence_enabled,Co=N.rsi_divergence_period??14,Eo=N.rsi_divergence_lookback_bars??50,je=N.rsi_divergence_block_minutes??5),"ema_zone_filter_enabled"in N&&(I=N.ema_zone_filter_enabled,A0=N.ema_zone_filter_lookback_bars??3,O0=N.ema_zone_filter_block_threshold??.35),"ema_zone_filter_ema5_min_slope_pips_per_bar"in N&&(T0=N.ema_zone_filter_ema5_min_slope_pips_per_bar??.1,z0=N.ema_zone_filter_ema9_min_slope_pips_per_bar??.08,I0=N.ema_zone_filter_ema21_min_slope_pips_per_bar??.05),"tiered_atr_filter_enabled"in N&&(fb=N.tiered_atr_filter_enabled,pb=N.tiered_atr_block_below_pips??4,mb=N.tiered_atr_allow_all_max_pips??12,vb=N.tiered_atr_pullback_only_max_pips??15),"daily_hl_filter_enabled"in N&&(gb=N.daily_hl_filter_enabled,yb=N.daily_hl_buffer_pips??5),"spread_aware_be_enabled"in N&&(Fp=N.spread_aware_be_enabled,Wp=N.spread_aware_be_trigger_mode??"fixed_pips",Up=N.spread_aware_be_fixed_trigger_pips??5,Kp=N.spread_aware_be_spread_buffer_pips??1,_b=N.spread_aware_be_apply_to_zone_entry??!0,xb=N.spread_aware_be_apply_to_tiered_pullback??!0),"zone_entry_enabled"in N&&(bb=N.zone_entry_enabled??!0),"tier_ema_periods"in N&&(Ru=N.tier_ema_periods??[9,11,12,13,14,15,16,17]),"m1_atr_filter_enabled"in N&&(wb=N.m1_atr_filter_enabled??!0),"m1_atr_period"in N&&(Sb=N.m1_atr_period??7,jb=N.m1_atr_min_pips??2.5,kb=N.session_dynamic_atr_enabled??!0,Pb=N.auto_session_detection_enabled??!0,Mb=N.m1_atr_tokyo_min_pips??2.2,Cb=N.m1_atr_london_min_pips??2.5,Eb=N.m1_atr_ny_min_pips??2.8),"m3_atr_filter_enabled"in N&&(Ab=N.m3_atr_filter_enabled??!0,Ob=N.m3_atr_period??14,Tb=N.m3_atr_min_pips??4.5,zb=N.m3_atr_max_pips??11),"daily_reset_block_enabled"in N&&(Ib=N.daily_reset_block_enabled??!0),"m1_atr_max_pips"in N&&(Nb=N.m1_atr_max_pips??11,Rb=N.m1_atr_tokyo_max_pips??8,Db=N.m1_atr_london_max_pips??10,Lb=N.m1_atr_ny_max_pips??11),"ema_zone_filter_spread_weight"in N&&(N0=N.ema_zone_filter_spread_weight??.45,R0=N.ema_zone_filter_slope_weight??.4,D0=N.ema_zone_filter_direction_weight??.15,L0=N.ema_zone_filter_spread_min_pips??0,B0=N.ema_zone_filter_spread_max_pips??4,$0=N.ema_zone_filter_slope_min_pips??-1,F0=N.ema_zone_filter_slope_max_pips??3,W0=N.ema_zone_filter_dir_min_pips??-3,U0=N.ema_zone_filter_dir_max_pips??3),"trend_exhaustion_enabled"in N&&(K0=N.trend_exhaustion_enabled??!0,V0=N.trend_exhaustion_fresh_max??2,H0=N.trend_exhaustion_mature_max??3.5,Y0=N.trend_exhaustion_extended_max??5,G0=N.trend_exhaustion_ramp_minutes??12),"max_open_trades_per_side"in N&&(Dp=N.max_open_trades_per_side??5),"max_zone_entry_open"in N&&(db=N.max_zone_entry_open??3),"max_tiered_pullback_open"in N&&(hb=N.max_tiered_pullback_open??8),N.type==="kt_cg_trial_7"){if(Lp=N.m5_trend_ema_fast??9,Bp=N.m5_trend_ema_slow??21,$p=N.m5_min_ema_distance_pips??1,es=N.zone_entry_mode??"ema_cross",es!=="ema_cross"&&es!=="price_vs_ema5"&&(es="ema_cross"),Ru=Cc(N.tier_ema_periods),Mr=N.sl_pips??20,rp=N.trend_exhaustion_enabled??!1,np=N.trend_exhaustion_mode??"session_and_side",ip=N.trend_exhaustion_use_current_price??!0,ap=N.trend_exhaustion_hysteresis_pips??.5,sp=N.trend_exhaustion_p80_global??12.03,op=N.trend_exhaustion_p90_global??17.02,lp=N.trend_exhaustion_p80_tokyo??12.67,up=N.trend_exhaustion_p90_tokyo??17.63,cp=N.trend_exhaustion_p80_london??11.06,dp=N.trend_exhaustion_p90_london??14.41,hp=N.trend_exhaustion_p80_ny??12.66,fp=N.trend_exhaustion_p90_ny??18.83,pp=N.trend_exhaustion_p80_bull_tokyo??11.85,mp=N.trend_exhaustion_p90_bull_tokyo??15.52,vp=N.trend_exhaustion_p80_bull_london??10.21,gp=N.trend_exhaustion_p90_bull_london??12.97,yp=N.trend_exhaustion_p80_bull_ny??11.21,_p=N.trend_exhaustion_p90_bull_ny??15.84,xp=N.trend_exhaustion_p80_bear_tokyo??13.44,bp=N.trend_exhaustion_p90_bear_tokyo??19.73,wp=N.trend_exhaustion_p80_bear_london??12.01,Sp=N.trend_exhaustion_p90_bear_london??17.44,jp=N.trend_exhaustion_p80_bear_ny??13.97,kp=N.trend_exhaustion_p90_bear_ny??21.51,Pp=N.trend_exhaustion_extended_disable_zone_entry??!0,Mp=N.trend_exhaustion_very_extended_disable_zone_entry??!0,Cp=N.trend_exhaustion_extended_min_tier_period??21,Ep=N.trend_exhaustion_very_extended_min_tier_period??29,Ap=N.trend_exhaustion_very_extended_tighten_caps??!0,Op=N.trend_exhaustion_very_extended_cap_multiplier??.5,Tp=N.trend_exhaustion_very_extended_cap_min??1,zp=N.trend_exhaustion_adaptive_tp_enabled??!1,Ip=N.trend_exhaustion_tp_extended_offset_pips??1,Np=N.trend_exhaustion_tp_very_extended_offset_pips??2,Rp=N.trend_exhaustion_tp_min_pips??.5,"use_reversal_risk_score"in N&&(X0=N.use_reversal_risk_score??!1),"rr_tier_medium"in N&&(q0=N.rr_tier_medium??58),"rr_tier_high"in N&&(Z0=N.rr_tier_high??65),"rr_tier_critical"in N&&(Q0=N.rr_tier_critical??71),"rr_medium_lot_multiplier"in N&&(J0=N.rr_medium_lot_multiplier??.75),"rr_high_lot_multiplier"in N&&(eb=N.rr_high_lot_multiplier??.5),"rr_critical_lot_multiplier"in N&&(tb=N.rr_critical_lot_multiplier??.25),"rr_block_zone_entry_above_tier"in N){const Vn=N.rr_block_zone_entry_above_tier??"high";rb=Vn==="medium"||Vn==="high"||Vn==="critical"?Vn:"high"}if("rr_use_managed_exit_at"in N){const Vn=N.rr_use_managed_exit_at??"high";nb=Vn==="medium"||Vn==="high"||Vn==="critical"?Vn:"high"}"rr_weight_rsi_divergence"in N&&(ib=N.rr_weight_rsi_divergence??55),"rr_weight_adr_exhaustion"in N&&(ab=N.rr_weight_adr_exhaustion??20),"rr_weight_htf_proximity"in N&&(sb=N.rr_weight_htf_proximity??15),"rr_weight_ema_spread"in N&&(ob=N.rr_weight_ema_spread??10)}if(N.type==="kt_cg_trial_8"&&(Lp=N.m5_trend_ema_fast??9,Bp=N.m5_trend_ema_slow??21,$p=N.m5_min_ema_distance_pips??1,es="price_vs_ema5",Ru=Cc(N.tier_ema_periods),Mr=N.sl_pips??20,rp=N.trend_exhaustion_enabled??!1,np=N.trend_exhaustion_mode??"session_and_side",ip=N.trend_exhaustion_use_current_price??!0,ap=N.trend_exhaustion_hysteresis_pips??.5,sp=N.trend_exhaustion_p80_global??12.03,op=N.trend_exhaustion_p90_global??17.02,lp=N.trend_exhaustion_p80_tokyo??12.67,up=N.trend_exhaustion_p90_tokyo??17.63,cp=N.trend_exhaustion_p80_london??11.06,dp=N.trend_exhaustion_p90_london??14.41,hp=N.trend_exhaustion_p80_ny??12.66,fp=N.trend_exhaustion_p90_ny??18.83,pp=N.trend_exhaustion_p80_bull_tokyo??11.85,mp=N.trend_exhaustion_p90_bull_tokyo??15.52,vp=N.trend_exhaustion_p80_bull_london??10.21,gp=N.trend_exhaustion_p90_bull_london??12.97,yp=N.trend_exhaustion_p80_bull_ny??11.21,_p=N.trend_exhaustion_p90_bull_ny??15.84,xp=N.trend_exhaustion_p80_bear_tokyo??13.44,bp=N.trend_exhaustion_p90_bear_tokyo??19.73,wp=N.trend_exhaustion_p80_bear_london??12.01,Sp=N.trend_exhaustion_p90_bear_london??17.44,jp=N.trend_exhaustion_p80_bear_ny??13.97,kp=N.trend_exhaustion_p90_bear_ny??21.51,Pp=N.trend_exhaustion_extended_disable_zone_entry??!0,Mp=N.trend_exhaustion_very_extended_disable_zone_entry??!0,Cp=N.trend_exhaustion_extended_min_tier_period??21,Ep=N.trend_exhaustion_very_extended_min_tier_period??29,Ap=N.trend_exhaustion_very_extended_tighten_caps??!0,Op=N.trend_exhaustion_very_extended_cap_multiplier??.5,Tp=N.trend_exhaustion_very_extended_cap_min??1,zp=N.trend_exhaustion_adaptive_tp_enabled??!1,Ip=N.trend_exhaustion_tp_extended_offset_pips??1,Np=N.trend_exhaustion_tp_very_extended_offset_pips??2,Rp=N.trend_exhaustion_tp_min_pips??.5,lb=N.use_daily_level_filter??!1,ub=N.daily_level_buffer_pips??3,cb=N.daily_level_breakout_candles_required??2),ko>0||Mr!==20)break}j({max_lots:(w==null?void 0:w.max_lots)??(oe==null?void 0:oe.max_lots)??.01,min_stop_pips:(w==null?void 0:w.min_stop_pips)??(oe==null?void 0:oe.min_stop_pips)??5,max_spread_pips:(w==null?void 0:w.max_spread_pips)??(oe==null?void 0:oe.max_spread_pips)??2,max_trades_per_day:(w==null?void 0:w.max_trades_per_day)??(oe==null?void 0:oe.max_trades_per_day)??10,max_open_trades:(w==null?void 0:w.max_open_trades)??(oe==null?void 0:oe.max_open_trades)??5,cooldown_minutes_after_loss:(w==null?void 0:w.cooldown_minutes_after_loss)??(oe==null?void 0:oe.cooldown_minutes_after_loss)??0,target_pips:(fr==null?void 0:fr.pips_default)??.5,loop_poll_seconds:(gt==null?void 0:gt.loop_poll_seconds)??5,policy_cooldown_minutes:ko,policy_sl_pips:Mr,swing_level_filter_enabled:Tu,swing_danger_zone_pct:ki,swing_confirmation_bars:zu,swing_lookback_bars:la,rolling_danger_zone_enabled:Iu,rolling_danger_lookback_bars:Nu,rolling_danger_zone_pct:Po,rsi_divergence_enabled:Mo,rsi_divergence_period:Co,rsi_divergence_lookback_bars:Eo,rsi_divergence_block_minutes:je,ema_zone_filter_enabled:I,ema_zone_filter_lookback_bars:A0,ema_zone_filter_block_threshold:O0,ema_zone_filter_ema5_min_slope_pips_per_bar:T0,ema_zone_filter_ema9_min_slope_pips_per_bar:z0,ema_zone_filter_ema21_min_slope_pips_per_bar:I0,ema_zone_filter_spread_weight:N0,ema_zone_filter_slope_weight:R0,ema_zone_filter_direction_weight:D0,ema_zone_filter_spread_min_pips:L0,ema_zone_filter_spread_max_pips:B0,ema_zone_filter_slope_min_pips:$0,ema_zone_filter_slope_max_pips:F0,ema_zone_filter_dir_min_pips:W0,ema_zone_filter_dir_max_pips:U0,trend_exhaustion_enabled:K0,trend_exhaustion_fresh_max:V0,trend_exhaustion_mature_max:H0,trend_exhaustion_extended_max:Y0,trend_exhaustion_ramp_minutes:G0,t7_trend_exhaustion_enabled:rp,t7_trend_exhaustion_mode:np,t7_trend_exhaustion_use_current_price:ip,t7_trend_exhaustion_hysteresis_pips:ap,t7_trend_exhaustion_p80_global:sp,t7_trend_exhaustion_p90_global:op,t7_trend_exhaustion_p80_tokyo:lp,t7_trend_exhaustion_p90_tokyo:up,t7_trend_exhaustion_p80_london:cp,t7_trend_exhaustion_p90_london:dp,t7_trend_exhaustion_p80_ny:hp,t7_trend_exhaustion_p90_ny:fp,t7_trend_exhaustion_p80_bull_tokyo:pp,t7_trend_exhaustion_p90_bull_tokyo:mp,t7_trend_exhaustion_p80_bull_london:vp,t7_trend_exhaustion_p90_bull_london:gp,t7_trend_exhaustion_p80_bull_ny:yp,t7_trend_exhaustion_p90_bull_ny:_p,t7_trend_exhaustion_p80_bear_tokyo:xp,t7_trend_exhaustion_p90_bear_tokyo:bp,t7_trend_exhaustion_p80_bear_london:wp,t7_trend_exhaustion_p90_bear_london:Sp,t7_trend_exhaustion_p80_bear_ny:jp,t7_trend_exhaustion_p90_bear_ny:kp,t7_trend_exhaustion_extended_disable_zone_entry:Pp,t7_trend_exhaustion_very_extended_disable_zone_entry:Mp,t7_trend_exhaustion_extended_min_tier_period:Cp,t7_trend_exhaustion_very_extended_min_tier_period:Ep,t7_trend_exhaustion_very_extended_tighten_caps:Ap,t7_trend_exhaustion_very_extended_cap_multiplier:Op,t7_trend_exhaustion_very_extended_cap_min:Tp,t7_trend_exhaustion_adaptive_tp_enabled:zp,t7_trend_exhaustion_tp_extended_offset_pips:Ip,t7_trend_exhaustion_tp_very_extended_offset_pips:Np,t7_trend_exhaustion_tp_min_pips:Rp,max_open_trades_per_side:Dp,max_zone_entry_open:db,max_tiered_pullback_open:hb,t7_m5_trend_ema_fast:Lp,t7_m5_trend_ema_slow:Bp,t7_m5_min_ema_distance_pips:$p,t7_zone_entry_mode:es,tiered_atr_filter_enabled:fb,tiered_atr_block_below_pips:pb,tiered_atr_allow_all_max_pips:mb,tiered_atr_pullback_only_max_pips:vb,daily_reset_block_enabled:Ib,m1_atr_max_pips:Nb,m1_atr_tokyo_max_pips:Rb,m1_atr_london_max_pips:Db,m1_atr_ny_max_pips:Lb,daily_hl_filter_enabled:gb,daily_hl_buffer_pips:yb,spread_aware_be_enabled:Fp,spread_aware_be_trigger_mode:Wp,spread_aware_be_fixed_trigger_pips:Up,spread_aware_be_spread_buffer_pips:Kp,spread_aware_be_apply_to_zone_entry:_b,spread_aware_be_apply_to_tiered_pullback:xb,zone_entry_enabled:bb,tier_ema_periods:Ru,m5_trend_ema_fast:(S==null?void 0:S.m5_trend_ema_fast)??null,m5_trend_ema_slow:(S==null?void 0:S.m5_trend_ema_slow)??null,m1_zone_entry_ema_slow:(S==null?void 0:S.m1_zone_entry_ema_slow)??null,m1_pullback_cross_ema_slow:(S==null?void 0:S.m1_pullback_cross_ema_slow)??null,m3_trend_ema_fast:(S==null?void 0:S.m3_trend_ema_fast)??null,m3_trend_ema_slow:(S==null?void 0:S.m3_trend_ema_slow)??null,m1_t4_zone_entry_ema_fast:(S==null?void 0:S.m1_t4_zone_entry_ema_fast)??null,m1_t4_zone_entry_ema_slow:(S==null?void 0:S.m1_t4_zone_entry_ema_slow)??null,m1_atr_filter_enabled:wb,m1_atr_period:Sb,m1_atr_min_pips:jb,session_dynamic_atr_enabled:kb,auto_session_detection_enabled:Pb,m1_atr_tokyo_min_pips:Mb,m1_atr_london_min_pips:Cb,m1_atr_ny_min_pips:Eb,m3_atr_filter_enabled:Ab,m3_atr_period:Ob,m3_atr_min_pips:Tb,m3_atr_max_pips:zb,t6_m3_slope_lookback:Bb,t6_m3_bb_period:$b,t6_m3_bb_std:Fb,t6_m1_bb_period:Wb,t6_m1_bb_std:Ub,t6_ema_tier_enabled:Kb,t6_tier_ema_periods:Vb,t6_ema_tier_tp_pips:Hb,t6_dead_zone_enabled:Yb,t6_dead_zone_start_hour_utc:Gb,t6_dead_zone_end_hour_utc:Xb,t6_spread_aware_be_apply_to_ema_tier:qb,session_boundary_block_enabled:ep,session_boundary_block_buffer_minutes:tp,t7_use_reversal_risk_score:X0,t7_rr_tier_medium:q0,t7_rr_tier_high:Z0,t7_rr_tier_critical:Q0,t7_rr_medium_lot_multiplier:J0,t7_rr_high_lot_multiplier:eb,t7_rr_critical_lot_multiplier:tb,t7_rr_block_zone_entry_above_tier:rb,t7_rr_use_managed_exit_at:nb,t7_rr_weight_rsi_divergence:ib,t7_rr_weight_adr_exhaustion:ab,t7_rr_weight_htf_proximity:sb,t7_rr_weight_ema_spread:ob,t8_use_daily_level_filter:lb,t8_daily_level_buffer_pips:ub,t8_daily_level_breakout_candles_required:cb,up_m5_ema_fast:(S==null?void 0:S.up_m5_ema_fast)??null,up_m5_ema_slow:(S==null?void 0:S.up_m5_ema_slow)??null,up_m1_ema_fast:(S==null?void 0:S.up_m1_ema_fast)??null,up_m1_ema_mid:(S==null?void 0:S.up_m1_ema_mid)??null,up_m1_ema_slow:(S==null?void 0:S.up_m1_ema_slow)??null,up_m1_ema_veto:(S==null?void 0:S.up_m1_ema_veto)??null})}},[y,m,S]);const O=async()=>{var w;if(!(!p||!m)){T(!0);try{const oe=m.risk,gt=m.effective_risk,Qe=m.execution,fr=m.trade_management,Ou=Math.min(p.max_lots,(oe==null?void 0:oe.max_lots)??p.max_lots),So=Math.min(p.max_spread_pips,(oe==null?void 0:oe.max_spread_pips)??p.max_spread_pips),jo=Math.min(p.max_trades_per_day,(oe==null?void 0:oe.max_trades_per_day)??p.max_trades_per_day),ji=Math.min(p.max_open_trades,(oe==null?void 0:oe.max_open_trades)??p.max_open_trades),ep=Math.max(p.min_stop_pips,(oe==null?void 0:oe.min_stop_pips)??0),tp={...gt||{},max_lots:Ou,min_stop_pips:ep,max_spread_pips:So,max_trades_per_day:jo,max_open_trades:ji,cooldown_minutes_after_loss:Math.max(0,p.cooldown_minutes_after_loss)},ko={...fr||{},target:{...(fr==null?void 0:fr.target)||{},pips_default:p.target_pips}},Mr=((w=Qe==null?void 0:Qe.policies)==null?void 0:w.map(je=>{const I={};return"cooldown_minutes"in je&&(I.cooldown_minutes=Math.max(0,p.policy_cooldown_minutes)),"sl_pips"in je&&(I.sl_pips=Math.max(1,p.policy_sl_pips)),"tp_pips"in je&&(I.tp_pips=Math.max(.1,p.target_pips)),(je.type==="kt_cg_hybrid"||je.type==="kt_cg_counter_trend_pullback")&&(I.swing_level_filter_enabled=p.swing_level_filter_enabled,I.swing_danger_zone_pct=Math.max(.05,Math.min(.5,p.swing_danger_zone_pct)),I.swing_confirmation_bars=Math.max(2,Math.min(20,p.swing_confirmation_bars)),I.swing_lookback_bars=Math.max(20,Math.min(500,p.swing_lookback_bars))),je.type==="kt_cg_trial_4"&&(I.rolling_danger_zone_enabled=p.rolling_danger_zone_enabled,I.rolling_danger_lookback_bars=Math.max(20,Math.min(1500,p.rolling_danger_lookback_bars)),I.rolling_danger_zone_pct=Math.max(.05,Math.min(.5,p.rolling_danger_zone_pct)),I.rsi_divergence_enabled=p.rsi_divergence_enabled,I.rsi_divergence_period=Math.max(5,Math.min(50,p.rsi_divergence_period)),I.rsi_divergence_lookback_bars=Math.max(20,Math.min(1500,p.rsi_divergence_lookback_bars)),I.rsi_divergence_block_minutes=Math.max(1,Math.min(30,p.rsi_divergence_block_minutes)),I.ema_zone_filter_enabled=p.ema_zone_filter_enabled,I.ema_zone_filter_lookback_bars=Math.max(2,Math.min(10,p.ema_zone_filter_lookback_bars)),I.ema_zone_filter_block_threshold=Math.max(.1,Math.min(.8,p.ema_zone_filter_block_threshold)),I.tiered_atr_filter_enabled=p.tiered_atr_filter_enabled,I.tiered_atr_block_below_pips=p.tiered_atr_block_below_pips,I.tiered_atr_allow_all_max_pips=p.tiered_atr_allow_all_max_pips,I.tiered_atr_pullback_only_max_pips=p.tiered_atr_pullback_only_max_pips,I.daily_hl_filter_enabled=p.daily_hl_filter_enabled,I.daily_hl_buffer_pips=p.daily_hl_buffer_pips,I.spread_aware_be_enabled=p.spread_aware_be_enabled,I.spread_aware_be_trigger_mode=p.spread_aware_be_trigger_mode,I.spread_aware_be_fixed_trigger_pips=p.spread_aware_be_fixed_trigger_pips,I.spread_aware_be_spread_buffer_pips=p.spread_aware_be_spread_buffer_pips,I.spread_aware_be_apply_to_zone_entry=p.spread_aware_be_apply_to_zone_entry,I.spread_aware_be_apply_to_tiered_pullback=p.spread_aware_be_apply_to_tiered_pullback,I.zone_entry_enabled=p.zone_entry_enabled,I.tier_ema_periods=p.tier_ema_periods),je.type==="kt_cg_trial_5"&&(I.ema_zone_filter_enabled=p.ema_zone_filter_enabled,I.ema_zone_filter_lookback_bars=Math.max(2,Math.min(10,p.ema_zone_filter_lookback_bars)),I.ema_zone_filter_block_threshold=Math.max(.1,Math.min(.8,p.ema_zone_filter_block_threshold)),I.daily_reset_block_enabled=p.daily_reset_block_enabled,I.m1_atr_max_pips=Math.max(0,p.m1_atr_max_pips),I.m1_atr_tokyo_max_pips=Math.max(0,p.m1_atr_tokyo_max_pips),I.m1_atr_london_max_pips=Math.max(0,p.m1_atr_london_max_pips),I.m1_atr_ny_max_pips=Math.max(0,p.m1_atr_ny_max_pips),I.daily_hl_filter_enabled=p.daily_hl_filter_enabled,I.daily_hl_buffer_pips=p.daily_hl_buffer_pips,I.spread_aware_be_enabled=p.spread_aware_be_enabled,I.spread_aware_be_trigger_mode=p.spread_aware_be_trigger_mode,I.spread_aware_be_fixed_trigger_pips=p.spread_aware_be_fixed_trigger_pips,I.spread_aware_be_spread_buffer_pips=p.spread_aware_be_spread_buffer_pips,I.spread_aware_be_apply_to_zone_entry=p.spread_aware_be_apply_to_zone_entry,I.spread_aware_be_apply_to_tiered_pullback=p.spread_aware_be_apply_to_tiered_pullback,I.zone_entry_enabled=p.zone_entry_enabled,I.tier_ema_periods=p.tier_ema_periods,I.m1_atr_filter_enabled=p.m1_atr_filter_enabled,I.m1_atr_period=Math.max(1,Math.min(50,p.m1_atr_period)),I.m1_atr_min_pips=Math.max(0,p.m1_atr_min_pips),I.session_dynamic_atr_enabled=p.session_dynamic_atr_enabled,I.auto_session_detection_enabled=p.auto_session_detection_enabled,I.m1_atr_tokyo_min_pips=Math.max(0,p.m1_atr_tokyo_min_pips),I.m1_atr_london_min_pips=Math.max(0,p.m1_atr_london_min_pips),I.m1_atr_ny_min_pips=Math.max(0,p.m1_atr_ny_min_pips),I.m3_atr_filter_enabled=p.m3_atr_filter_enabled,I.m3_atr_period=Math.max(1,Math.min(50,p.m3_atr_period)),I.m3_atr_min_pips=Math.max(0,p.m3_atr_min_pips),I.m3_atr_max_pips=Math.max(0,p.m3_atr_max_pips),I.ema_zone_filter_spread_weight=p.ema_zone_filter_spread_weight,I.ema_zone_filter_slope_weight=p.ema_zone_filter_slope_weight,I.ema_zone_filter_direction_weight=p.ema_zone_filter_direction_weight,I.ema_zone_filter_spread_min_pips=p.ema_zone_filter_spread_min_pips,I.ema_zone_filter_spread_max_pips=p.ema_zone_filter_spread_max_pips,I.ema_zone_filter_slope_min_pips=p.ema_zone_filter_slope_min_pips,I.ema_zone_filter_slope_max_pips=p.ema_zone_filter_slope_max_pips,I.ema_zone_filter_dir_min_pips=p.ema_zone_filter_dir_min_pips,I.ema_zone_filter_dir_max_pips=p.ema_zone_filter_dir_max_pips,I.trend_exhaustion_enabled=p.trend_exhaustion_enabled,I.trend_exhaustion_fresh_max=p.trend_exhaustion_fresh_max,I.trend_exhaustion_mature_max=p.trend_exhaustion_mature_max,I.trend_exhaustion_extended_max=p.trend_exhaustion_extended_max,I.trend_exhaustion_ramp_minutes=Math.max(1,Math.min(60,p.trend_exhaustion_ramp_minutes??12)),I.max_open_trades_per_side=Math.max(1,Math.min(20,p.max_open_trades_per_side))),je.type==="kt_cg_trial_7"&&(I.m5_trend_ema_fast=Math.max(2,p.t7_m5_trend_ema_fast),I.m5_trend_ema_slow=Math.max(3,p.t7_m5_trend_ema_slow),I.m5_min_ema_distance_pips=Math.max(0,p.t7_m5_min_ema_distance_pips),I.zone_entry_mode=p.t7_zone_entry_mode,I.zone_entry_enabled=p.zone_entry_enabled,I.tier_ema_periods=Cc(p.tier_ema_periods),I.ema_zone_filter_enabled=p.ema_zone_filter_enabled,I.ema_zone_filter_lookback_bars=Math.max(1,p.ema_zone_filter_lookback_bars),I.ema_zone_filter_ema5_min_slope_pips_per_bar=Math.max(0,p.ema_zone_filter_ema5_min_slope_pips_per_bar),I.ema_zone_filter_ema9_min_slope_pips_per_bar=Math.max(0,p.ema_zone_filter_ema9_min_slope_pips_per_bar),I.ema_zone_filter_ema21_min_slope_pips_per_bar=Math.max(0,p.ema_zone_filter_ema21_min_slope_pips_per_bar),I.spread_aware_be_enabled=p.spread_aware_be_enabled,I.spread_aware_be_trigger_mode=p.spread_aware_be_trigger_mode,I.spread_aware_be_fixed_trigger_pips=p.spread_aware_be_fixed_trigger_pips,I.spread_aware_be_spread_buffer_pips=p.spread_aware_be_spread_buffer_pips,I.spread_aware_be_apply_to_zone_entry=p.spread_aware_be_apply_to_zone_entry,I.spread_aware_be_apply_to_tiered_pullback=p.spread_aware_be_apply_to_tiered_pullback,I.max_open_trades_per_side=Math.max(1,p.max_open_trades_per_side),I.max_zone_entry_open=Math.max(1,p.max_zone_entry_open),I.max_tiered_pullback_open=Math.max(1,p.max_tiered_pullback_open),I.sl_pips=Math.max(.1,p.policy_sl_pips),I.cooldown_minutes=Math.max(0,p.policy_cooldown_minutes),I.tp_pips=Math.max(.1,p.target_pips),I.trend_exhaustion_enabled=p.t7_trend_exhaustion_enabled,I.trend_exhaustion_mode=p.t7_trend_exhaustion_mode,I.trend_exhaustion_use_current_price=p.t7_trend_exhaustion_use_current_price,I.trend_exhaustion_hysteresis_pips=Math.max(0,p.t7_trend_exhaustion_hysteresis_pips),I.trend_exhaustion_p80_global=Math.max(.1,p.t7_trend_exhaustion_p80_global),I.trend_exhaustion_p90_global=Math.max(.1,p.t7_trend_exhaustion_p90_global),I.trend_exhaustion_p80_tokyo=Math.max(.1,p.t7_trend_exhaustion_p80_tokyo),I.trend_exhaustion_p90_tokyo=Math.max(.1,p.t7_trend_exhaustion_p90_tokyo),I.trend_exhaustion_p80_london=Math.max(.1,p.t7_trend_exhaustion_p80_london),I.trend_exhaustion_p90_london=Math.max(.1,p.t7_trend_exhaustion_p90_london),I.trend_exhaustion_p80_ny=Math.max(.1,p.t7_trend_exhaustion_p80_ny),I.trend_exhaustion_p90_ny=Math.max(.1,p.t7_trend_exhaustion_p90_ny),I.trend_exhaustion_p80_bull_tokyo=Math.max(.1,p.t7_trend_exhaustion_p80_bull_tokyo),I.trend_exhaustion_p90_bull_tokyo=Math.max(.1,p.t7_trend_exhaustion_p90_bull_tokyo),I.trend_exhaustion_p80_bull_london=Math.max(.1,p.t7_trend_exhaustion_p80_bull_london),I.trend_exhaustion_p90_bull_london=Math.max(.1,p.t7_trend_exhaustion_p90_bull_london),I.trend_exhaustion_p80_bull_ny=Math.max(.1,p.t7_trend_exhaustion_p80_bull_ny),I.trend_exhaustion_p90_bull_ny=Math.max(.1,p.t7_trend_exhaustion_p90_bull_ny),I.trend_exhaustion_p80_bear_tokyo=Math.max(.1,p.t7_trend_exhaustion_p80_bear_tokyo),I.trend_exhaustion_p90_bear_tokyo=Math.max(.1,p.t7_trend_exhaustion_p90_bear_tokyo),I.trend_exhaustion_p80_bear_london=Math.max(.1,p.t7_trend_exhaustion_p80_bear_london),I.trend_exhaustion_p90_bear_london=Math.max(.1,p.t7_trend_exhaustion_p90_bear_london),I.trend_exhaustion_p80_bear_ny=Math.max(.1,p.t7_trend_exhaustion_p80_bear_ny),I.trend_exhaustion_p90_bear_ny=Math.max(.1,p.t7_trend_exhaustion_p90_bear_ny),I.trend_exhaustion_extended_disable_zone_entry=p.t7_trend_exhaustion_extended_disable_zone_entry,I.trend_exhaustion_very_extended_disable_zone_entry=p.t7_trend_exhaustion_very_extended_disable_zone_entry,I.trend_exhaustion_extended_min_tier_period=Math.max(1,p.t7_trend_exhaustion_extended_min_tier_period),I.trend_exhaustion_very_extended_min_tier_period=Math.max(1,p.t7_trend_exhaustion_very_extended_min_tier_period),I.trend_exhaustion_very_extended_tighten_caps=p.t7_trend_exhaustion_very_extended_tighten_caps,I.trend_exhaustion_very_extended_cap_multiplier=Math.max(.05,p.t7_trend_exhaustion_very_extended_cap_multiplier),I.trend_exhaustion_very_extended_cap_min=Math.max(1,p.t7_trend_exhaustion_very_extended_cap_min),I.trend_exhaustion_adaptive_tp_enabled=p.t7_trend_exhaustion_adaptive_tp_enabled,I.trend_exhaustion_tp_extended_offset_pips=Math.max(0,p.t7_trend_exhaustion_tp_extended_offset_pips),I.trend_exhaustion_tp_very_extended_offset_pips=Math.max(0,p.t7_trend_exhaustion_tp_very_extended_offset_pips),I.trend_exhaustion_tp_min_pips=Math.max(.1,p.t7_trend_exhaustion_tp_min_pips),I.use_reversal_risk_score=p.t7_use_reversal_risk_score,I.rr_tier_medium=Math.max(0,Math.min(100,p.t7_rr_tier_medium)),I.rr_tier_high=Math.max(0,Math.min(100,p.t7_rr_tier_high)),I.rr_tier_critical=Math.max(0,Math.min(100,p.t7_rr_tier_critical)),I.rr_medium_lot_multiplier=Math.max(.01,Math.min(1,p.t7_rr_medium_lot_multiplier)),I.rr_high_lot_multiplier=Math.max(.01,Math.min(1,p.t7_rr_high_lot_multiplier)),I.rr_critical_lot_multiplier=Math.max(.01,Math.min(1,p.t7_rr_critical_lot_multiplier)),I.rr_block_zone_entry_above_tier=p.t7_rr_block_zone_entry_above_tier,I.rr_use_managed_exit_at=p.t7_rr_use_managed_exit_at,I.rr_weight_rsi_divergence=Math.max(0,Math.min(100,p.t7_rr_weight_rsi_divergence)),I.rr_weight_adr_exhaustion=Math.max(0,Math.min(100,p.t7_rr_weight_adr_exhaustion)),I.rr_weight_htf_proximity=Math.max(0,Math.min(100,p.t7_rr_weight_htf_proximity)),I.rr_weight_ema_spread=Math.max(0,Math.min(100,p.t7_rr_weight_ema_spread))),je.type==="kt_cg_trial_8"&&(I.m5_trend_ema_fast=Math.max(1,p.t7_m5_trend_ema_fast),I.m5_trend_ema_slow=Math.max(1,p.t7_m5_trend_ema_slow),I.m5_min_ema_distance_pips=Math.max(0,p.t7_m5_min_ema_distance_pips),I.zone_entry_mode="price_vs_ema5",I.zone_entry_enabled=p.zone_entry_enabled,I.tier_ema_periods=Cc(p.tier_ema_periods),I.spread_aware_be_enabled=p.spread_aware_be_enabled,I.spread_aware_be_trigger_mode="spread_relative",I.spread_aware_be_spread_buffer_pips=Math.max(0,p.spread_aware_be_spread_buffer_pips),I.spread_aware_be_apply_to_zone_entry=p.spread_aware_be_apply_to_zone_entry,I.spread_aware_be_apply_to_tiered_pullback=p.spread_aware_be_apply_to_tiered_pullback,I.max_open_trades_per_side=Math.max(1,p.max_open_trades_per_side),I.max_zone_entry_open=Math.max(1,p.max_zone_entry_open),I.max_tiered_pullback_open=Math.max(1,p.max_tiered_pullback_open),I.sl_pips=Math.max(.1,p.policy_sl_pips),I.cooldown_minutes=Math.max(0,p.policy_cooldown_minutes),I.tp_pips=Math.max(.1,p.target_pips),I.trend_exhaustion_enabled=p.t7_trend_exhaustion_enabled,I.trend_exhaustion_mode=p.t7_trend_exhaustion_mode,I.trend_exhaustion_use_current_price=p.t7_trend_exhaustion_use_current_price,I.trend_exhaustion_hysteresis_pips=Math.max(0,p.t7_trend_exhaustion_hysteresis_pips),I.trend_exhaustion_p80_global=Math.max(.1,p.t7_trend_exhaustion_p80_global),I.trend_exhaustion_p90_global=Math.max(.1,p.t7_trend_exhaustion_p90_global),I.trend_exhaustion_p80_tokyo=Math.max(.1,p.t7_trend_exhaustion_p80_tokyo),I.trend_exhaustion_p90_tokyo=Math.max(.1,p.t7_trend_exhaustion_p90_tokyo),I.trend_exhaustion_p80_london=Math.max(.1,p.t7_trend_exhaustion_p80_london),I.trend_exhaustion_p90_london=Math.max(.1,p.t7_trend_exhaustion_p90_london),I.trend_exhaustion_p80_ny=Math.max(.1,p.t7_trend_exhaustion_p80_ny),I.trend_exhaustion_p90_ny=Math.max(.1,p.t7_trend_exhaustion_p90_ny),I.trend_exhaustion_p80_bull_tokyo=Math.max(.1,p.t7_trend_exhaustion_p80_bull_tokyo),I.trend_exhaustion_p90_bull_tokyo=Math.max(.1,p.t7_trend_exhaustion_p90_bull_tokyo),I.trend_exhaustion_p80_bull_london=Math.max(.1,p.t7_trend_exhaustion_p80_bull_london),I.trend_exhaustion_p90_bull_london=Math.max(.1,p.t7_trend_exhaustion_p90_bull_london),I.trend_exhaustion_p80_bull_ny=Math.max(.1,p.t7_trend_exhaustion_p80_bull_ny),I.trend_exhaustion_p90_bull_ny=Math.max(.1,p.t7_trend_exhaustion_p90_bull_ny),I.trend_exhaustion_p80_bear_tokyo=Math.max(.1,p.t7_trend_exhaustion_p80_bear_tokyo),I.trend_exhaustion_p90_bear_tokyo=Math.max(.1,p.t7_trend_exhaustion_p90_bear_tokyo),I.trend_exhaustion_p80_bear_london=Math.max(.1,p.t7_trend_exhaustion_p80_bear_london),I.trend_exhaustion_p90_bear_london=Math.max(.1,p.t7_trend_exhaustion_p90_bear_london),I.trend_exhaustion_p80_bear_ny=Math.max(.1,p.t7_trend_exhaustion_p80_bear_ny),I.trend_exhaustion_p90_bear_ny=Math.max(.1,p.t7_trend_exhaustion_p90_bear_ny),I.trend_exhaustion_extended_disable_zone_entry=p.t7_trend_exhaustion_extended_disable_zone_entry,I.trend_exhaustion_very_extended_disable_zone_entry=p.t7_trend_exhaustion_very_extended_disable_zone_entry,I.trend_exhaustion_extended_min_tier_period=Math.max(1,p.t7_trend_exhaustion_extended_min_tier_period),I.trend_exhaustion_very_extended_min_tier_period=Math.max(1,p.t7_trend_exhaustion_very_extended_min_tier_period),I.trend_exhaustion_very_extended_tighten_caps=p.t7_trend_exhaustion_very_extended_tighten_caps,I.trend_exhaustion_very_extended_cap_multiplier=Math.max(.05,p.t7_trend_exhaustion_very_extended_cap_multiplier),I.trend_exhaustion_very_extended_cap_min=Math.max(1,p.t7_trend_exhaustion_very_extended_cap_min),I.trend_exhaustion_adaptive_tp_enabled=p.t7_trend_exhaustion_adaptive_tp_enabled,I.trend_exhaustion_tp_extended_offset_pips=Math.max(0,p.t7_trend_exhaustion_tp_extended_offset_pips),I.trend_exhaustion_tp_very_extended_offset_pips=Math.max(0,p.t7_trend_exhaustion_tp_very_extended_offset_pips),I.trend_exhaustion_tp_min_pips=Math.max(.1,p.t7_trend_exhaustion_tp_min_pips),I.use_daily_level_filter=p.t8_use_daily_level_filter,I.daily_level_buffer_pips=Math.max(0,p.t8_daily_level_buffer_pips),I.daily_level_breakout_candles_required=Math.max(1,p.t8_daily_level_breakout_candles_required)),je.type==="kt_cg_trial_6"&&(I.m3_slope_lookback=Math.max(1,Math.min(10,p.t6_m3_slope_lookback)),I.m3_bb_period=Math.max(5,Math.min(50,p.t6_m3_bb_period)),I.m3_bb_std=Math.max(.5,Math.min(4,p.t6_m3_bb_std)),I.m1_bb_period=Math.max(5,Math.min(50,p.t6_m1_bb_period)),I.m1_bb_std=Math.max(.5,Math.min(4,p.t6_m1_bb_std)),I.ema_tier_enabled=p.t6_ema_tier_enabled,I.tier_ema_periods=p.t6_tier_ema_periods,I.ema_tier_tp_pips=Math.max(.1,p.t6_ema_tier_tp_pips),I.dead_zone_enabled=p.t6_dead_zone_enabled,I.dead_zone_start_hour_utc=Math.max(0,Math.min(23,p.t6_dead_zone_start_hour_utc)),I.dead_zone_end_hour_utc=Math.max(0,Math.min(23,p.t6_dead_zone_end_hour_utc)),I.spread_aware_be_enabled=p.spread_aware_be_enabled,I.spread_aware_be_trigger_mode="spread_relative",I.spread_aware_be_fixed_trigger_pips=p.spread_aware_be_fixed_trigger_pips,I.spread_aware_be_spread_buffer_pips=p.spread_aware_be_spread_buffer_pips,I.spread_aware_be_apply_to_ema_tier=p.t6_spread_aware_be_apply_to_ema_tier,I.max_open_trades_per_side=Math.max(1,p.max_open_trades_per_side)),Object.keys(I).length>0?{...je,...I}:je}))||[],Tu={...Qe||{},loop_poll_seconds:Math.max(.25,p.loop_poll_seconds),policies:Mr};let ki=m.active_preset_name||"";ki.includes("(customized)")||(ki=ki?`${ki} (customized)`:"custom (customized)");const zu=Mr.some(je=>je.type==="kt_cg_trial_7"||je.type==="kt_cg_trial_8"),la=m.strategy,Iu=la==null?void 0:la.filters,Nu={...m,active_preset_name:ki,effective_risk:tp,trade_management:ko,execution:Tu,...zu?{strategy:{...la||{},filters:{...Iu||{},session_boundary_block:{enabled:p.session_boundary_block_enabled,buffer_minutes:Math.max(1,Math.min(60,p.session_boundary_block_buffer_minutes))}}}}:{}};await e0(t.path,Nu);const Po=Mr.some(je=>je.type==="kt_cg_counter_trend_pullback"),Mo=Mr.some(je=>je.type==="kt_cg_trial_4"),Co=Mr.some(je=>je.type==="kt_cg_trial_5"),Eo=Mr.some(je=>je.type==="uncle_parsh_h1_breakout");if(Po||Mo||Co||Eo){const je={};Po&&(je.m5_trend_ema_fast=p.m5_trend_ema_fast,je.m5_trend_ema_slow=p.m5_trend_ema_slow,je.m1_zone_entry_ema_slow=p.m1_zone_entry_ema_slow,je.m1_pullback_cross_ema_slow=p.m1_pullback_cross_ema_slow),(Mo||Co)&&(je.m3_trend_ema_fast=p.m3_trend_ema_fast,je.m3_trend_ema_slow=p.m3_trend_ema_slow,je.m1_t4_zone_entry_ema_fast=p.m1_t4_zone_entry_ema_fast,je.m1_t4_zone_entry_ema_slow=p.m1_t4_zone_entry_ema_slow),Eo&&(je.up_m5_ema_fast=p.up_m5_ema_fast,je.up_m5_ema_slow=p.up_m5_ema_slow,je.up_m1_ema_fast=p.up_m1_ema_fast,je.up_m1_ema_mid=p.up_m1_ema_mid,je.up_m1_ema_slow=p.up_m1_ema_slow,je.up_m1_ema_veto=p.up_m1_ema_veto),await HZ(t.name,je)}f("Temporary settings applied successfully!"),await B(),setTimeout(()=>f(null),3e3)}catch(oe){f(`Error: ${oe.message}`)}finally{T(!1)}}},G=async()=>{if(!(!n||n==="custom")){d(!0);try{const w=n==="vwap_trend"?{vwap_session_filter_enabled:_}:void 0;await WZ(n,t.path,w),f(`Preset "${n}" applied successfully!`),B(),setTimeout(()=>f(null),3e3)}catch(w){f(`Error: ${w.message}`)}finally{d(!1)}}},Y=(w,oe)=>{oe.stopPropagation(),s(a===w?null:w)},W=e.find(w=>w.id===n),re=m==null?void 0:m.active_preset_name,H=m==null?void 0:m.risk,L=m==null?void 0:m.effective_risk,R=w=>{if(!p)return;const oe=w==="conservative"?1.15:w==="aggressive"?.9:1;j({...p,t7_trend_exhaustion_p80_global:Number((yt.p80_global*oe).toFixed(2)),t7_trend_exhaustion_p90_global:Number((yt.p90_global*oe).toFixed(2)),t7_trend_exhaustion_p80_tokyo:Number((yt.p80_tokyo*oe).toFixed(2)),t7_trend_exhaustion_p90_tokyo:Number((yt.p90_tokyo*oe).toFixed(2)),t7_trend_exhaustion_p80_london:Number((yt.p80_london*oe).toFixed(2)),t7_trend_exhaustion_p90_london:Number((yt.p90_london*oe).toFixed(2)),t7_trend_exhaustion_p80_ny:Number((yt.p80_ny*oe).toFixed(2)),t7_trend_exhaustion_p90_ny:Number((yt.p90_ny*oe).toFixed(2)),t7_trend_exhaustion_p80_bull_tokyo:Number((yt.p80_bull_tokyo*oe).toFixed(2)),t7_trend_exhaustion_p90_bull_tokyo:Number((yt.p90_bull_tokyo*oe).toFixed(2)),t7_trend_exhaustion_p80_bull_london:Number((yt.p80_bull_london*oe).toFixed(2)),t7_trend_exhaustion_p90_bull_london:Number((yt.p90_bull_london*oe).toFixed(2)),t7_trend_exhaustion_p80_bull_ny:Number((yt.p80_bull_ny*oe).toFixed(2)),t7_trend_exhaustion_p90_bull_ny:Number((yt.p90_bull_ny*oe).toFixed(2)),t7_trend_exhaustion_p80_bear_tokyo:Number((yt.p80_bear_tokyo*oe).toFixed(2)),t7_trend_exhaustion_p90_bear_tokyo:Number((yt.p90_bear_tokyo*oe).toFixed(2)),t7_trend_exhaustion_p80_bear_london:Number((yt.p80_bear_london*oe).toFixed(2)),t7_trend_exhaustion_p90_bear_london:Number((yt.p90_bear_london*oe).toFixed(2)),t7_trend_exhaustion_p80_bear_ny:Number((yt.p80_bear_ny*oe).toFixed(2)),t7_trend_exhaustion_p90_bear_ny:Number((yt.p90_bear_ny*oe).toFixed(2))})},M=m==null?void 0:m.execution;return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Presets"}),o.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:'Select a preset to preview changes, then apply to your profile. Click "Pros & Cons" to see details.'}),re&&o.jsxs("div",{className:"card mb-4",style:{borderColor:"var(--accent)",borderWidth:2,background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, var(--bg-secondary) 100%)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:4},children:"ACTIVE PRESET"}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--accent)"},children:re})]}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>x(!y),style:{fontSize:"0.8rem"},children:y?"Hide Settings":"View Settings"}),y&&o.jsx("button",{className:"btn btn-primary",onClick:O,disabled:C||!p,style:{fontSize:"0.8rem"},children:C?"Applying...":"Apply Temporary Settings"})]})]}),y&&H&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[L&&o.jsx("div",{style:{marginBottom:12,fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Effective (used when running): preset risk capped by Profile Editor limits."}),S&&o.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--bg-tertiary)",borderRadius:6,border:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--success)",marginBottom:8,fontWeight:600},children:" Current Temporary Overrides Saved:"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:8,fontSize:"0.75rem"},children:[S.m5_trend_ema_fast&&o.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #3: M5 Trend EMA: ",S.m5_trend_ema_fast,"/",S.m5_trend_ema_slow]}),S.m1_zone_entry_ema_slow&&o.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #3: M1 Zone EMA: 9/",S.m1_zone_entry_ema_slow]}),S.m1_pullback_cross_ema_slow&&o.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #3: M1 Pullback EMA: 9/",S.m1_pullback_cross_ema_slow]}),S.m3_trend_ema_fast&&o.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #4: M3 Trend EMA: ",S.m3_trend_ema_fast,"/",S.m3_trend_ema_slow]}),S.m1_t4_zone_entry_ema_fast&&o.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #4: M1 Zone EMA: ",S.m1_t4_zone_entry_ema_fast,"/",S.m1_t4_zone_entry_ema_slow]})]}),!S.m5_trend_ema_fast&&!S.m3_trend_ema_fast&&o.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"(No temp overrides currently saved)"})]}),p&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Lots (effective)"}),o.jsx("input",{type:"number",step:"0.01",min:"0.01",value:p.max_lots,onChange:w=>j({...p,max_lots:parseFloat(w.target.value)||.01}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Max: ",H.max_lots]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Min Stop Pips"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:p.min_stop_pips,onChange:w=>j({...p,min_stop_pips:parseFloat(w.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Floor: ",H.min_stop_pips]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Spread (pips)"}),o.jsx("input",{type:"number",step:"0.1",min:"0.1",value:p.max_spread_pips,onChange:w=>j({...p,max_spread_pips:parseFloat(w.target.value)||.1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Max: ",H.max_spread_pips]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Trades/Day"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.max_trades_per_day,onChange:w=>j({...p,max_trades_per_day:parseInt(w.target.value)||1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Max: ",H.max_trades_per_day]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Open Trades"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.max_open_trades,onChange:w=>j({...p,max_open_trades:parseInt(w.target.value)||1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Max: ",H.max_open_trades]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Cooldown After Loss (min)"}),o.jsx("input",{type:"number",step:"1",min:"0",value:p.cooldown_minutes_after_loss,onChange:w=>j({...p,cooldown_minutes_after_loss:parseInt(w.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Target Pips"}),o.jsx("input",{type:"number",step:"0.1",min:"0.1",value:p.target_pips,onChange:w=>j({...p,target_pips:parseFloat(w.target.value)||.1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Stop Loss Pips"}),o.jsx("input",{type:"number",step:"1",min:"1",max:"500",value:p.policy_sl_pips,onChange:w=>j({...p,policy_sl_pips:parseFloat(w.target.value)||20}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Must be  Min Stop Pips (",p.min_stop_pips,")"]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Poll Interval (s)"}),o.jsx("input",{type:"number",step:"0.25",min:"0.25",value:p.loop_poll_seconds,onChange:w=>j({...p,loop_poll_seconds:parseFloat(w.target.value)||.25}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),!((ee=M==null?void 0:M.policies)!=null&&ee.some(w=>w.type==="kt_cg_trial_5"))&&o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Cooldown After Trade (min)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:p.policy_cooldown_minutes,onChange:w=>j({...p,policy_cooldown_minutes:parseFloat(w.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),p&&((q=M==null?void 0:M.policies)==null?void 0:q.some(w=>w.type==="kt_cg_hybrid"||w.type==="kt_cg_counter_trend_pullback"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:"Swing Level Filter (blocks trades near M15 swing highs/lows)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Swing Filter Enabled"}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.swing_level_filter_enabled,onChange:w=>j({...p,swing_level_filter_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.swing_level_filter_enabled?"var(--success)":"var(--text-secondary)"},children:p.swing_level_filter_enabled?"ON":"OFF"})]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Danger Zone %"}),o.jsx("input",{type:"number",step:"0.01",min:"0.05",max:"0.50",value:p.swing_danger_zone_pct,onChange:w=>j({...p,swing_danger_zone_pct:parseFloat(w.target.value)||.15}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"0.15 = 15% of range"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Confirmation Bars"}),o.jsx("input",{type:"number",step:"1",min:"2",max:"20",value:p.swing_confirmation_bars,onChange:w=>j({...p,swing_confirmation_bars:parseInt(w.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Bars before/after swing"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Lookback Bars"}),o.jsx("input",{type:"number",step:"10",min:"20",max:"500",value:p.swing_lookback_bars,onChange:w=>j({...p,swing_lookback_bars:parseInt(w.target.value)||100}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"M15 bars to scan"})]})]})]}),p&&((Pe=M==null?void 0:M.policies)==null?void 0:Pe.some(w=>w.type==="kt_cg_trial_4"||w.type==="kt_cg_trial_5"||w.type==="kt_cg_trial_7"||w.type==="kt_cg_trial_8"))&&o.jsxs(o.Fragment,{children:[((_e=M==null?void 0:M.policies)==null?void 0:_e.some(w=>w.type==="kt_cg_trial_4"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:"Rolling Danger Zone (blocks trades near M1 rolling high/low extremes)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Danger Zone Enabled"}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.rolling_danger_zone_enabled,onChange:w=>j({...p,rolling_danger_zone_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.rolling_danger_zone_enabled?"var(--success)":"var(--text-secondary)"},children:p.rolling_danger_zone_enabled?"ON":"OFF"})]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Danger Zone %"}),o.jsx("input",{type:"number",step:"0.01",min:"0.05",max:"0.50",value:p.rolling_danger_zone_pct,onChange:w=>j({...p,rolling_danger_zone_pct:parseFloat(w.target.value)||.15}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"0.15 = top/bottom 15%"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Lookback Bars"}),o.jsx("input",{type:"number",step:"10",min:"20",max:"1500",value:p.rolling_danger_lookback_bars,onChange:w=>j({...p,rolling_danger_lookback_bars:parseInt(w.target.value)||100}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"M1 bars for high/low"})]})]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["Upper zone (top ",(p.rolling_danger_zone_pct*100).toFixed(0),"%) blocks BUY  Lower zone (bottom ",(p.rolling_danger_zone_pct*100).toFixed(0),"%) blocks SELL"]}),o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"RSI Divergence Detection (M5, rolling window)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Divergence Enabled"}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.rsi_divergence_enabled,onChange:w=>j({...p,rsi_divergence_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.rsi_divergence_enabled?"var(--success)":"var(--text-secondary)"},children:p.rsi_divergence_enabled?"ON":"OFF"})]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"RSI Period"}),o.jsx("input",{type:"number",step:"1",min:"5",max:"50",value:p.rsi_divergence_period,onChange:w=>j({...p,rsi_divergence_period:parseInt(w.target.value)||14}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Default: 14"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Lookback Bars"}),o.jsx("input",{type:"number",step:"10",min:"20",max:"1500",value:p.rsi_divergence_lookback_bars,onChange:w=>j({...p,rsi_divergence_lookback_bars:parseInt(w.target.value)||50}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"M5 bars (split into ref/recent halves)"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Block Minutes"}),o.jsx("input",{type:"number",step:"0.5",min:"1",max:"30",value:p.rsi_divergence_block_minutes,onChange:w=>j({...p,rsi_divergence_block_minutes:parseFloat(w.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Duration of entry block"})]})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:"BULL + bearish divergence  blocks BUY  BEAR + bullish divergence  blocks SELL"})]})]}),((Ee=M==null?void 0:M.policies)==null?void 0:Ee.some(w=>w.type==="kt_cg_trial_7"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"EMA Zone Entry Filter (Slope-Only Gate)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.ema_zone_filter_enabled,onChange:w=>j({...p,ema_zone_filter_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.ema_zone_filter_enabled?"var(--success)":"var(--text-secondary)"},children:p.ema_zone_filter_enabled?"ON":"OFF"})]})}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Lookback Bars"}),o.jsx("input",{type:"number",step:"1",min:"1",max:"10",value:p.ema_zone_filter_lookback_bars,onChange:w=>j({...p,ema_zone_filter_lookback_bars:parseInt(w.target.value)||3}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Bars for slope calculation"})]}),!((se=M==null?void 0:M.policies)!=null&&se.some(w=>w.type==="kt_cg_trial_7"))&&o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Block Threshold"}),o.jsx("input",{type:"number",step:"0.05",min:"0.1",max:"0.8",value:p.ema_zone_filter_block_threshold,onChange:w=>j({...p,ema_zone_filter_block_threshold:parseFloat(w.target.value)||.35}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Block if score below"})]}),((he=M==null?void 0:M.policies)==null?void 0:he.some(w=>w.type==="kt_cg_trial_7"))&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"EMA5 Min Slope (p/b)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:p.ema_zone_filter_ema5_min_slope_pips_per_bar,onChange:w=>j({...p,ema_zone_filter_ema5_min_slope_pips_per_bar:parseFloat(w.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"EMA9 Min Slope (p/b)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:p.ema_zone_filter_ema9_min_slope_pips_per_bar,onChange:w=>j({...p,ema_zone_filter_ema9_min_slope_pips_per_bar:parseFloat(w.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"EMA21 Min Slope (p/b)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:p.ema_zone_filter_ema21_min_slope_pips_per_bar,onChange:w=>j({...p,ema_zone_filter_ema21_min_slope_pips_per_bar:parseFloat(w.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:(be=M==null?void 0:M.policies)!=null&&be.some(w=>w.type==="kt_cg_trial_7")?"BUY requires EMA5/EMA9/EMA21 slopes above mins. SELL requires slopes below negative mins. Tiered pullback unaffected.":"Blocks zone entries during EMA compression. Tiered pullback unaffected."}),((K=M==null?void 0:M.policies)==null?void 0:K.some(w=>w.type==="kt_cg_trial_5"))&&p.ema_zone_filter_enabled&&o.jsxs("div",{style:{marginTop:12},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Weights (auto-normalize to 1.0)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:[o.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Spread"}),o.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:p.ema_zone_filter_spread_weight??.45,onChange:w=>j({...p,ema_zone_filter_spread_weight:parseFloat(w.target.value)||.45}),style:{width:"100%",padding:"3px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.8rem"}}),o.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:1},children:"EMA9-EMA17 gap"})]}),o.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Slope"}),o.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:p.ema_zone_filter_slope_weight??.4,onChange:w=>j({...p,ema_zone_filter_slope_weight:parseFloat(w.target.value)||.4}),style:{width:"100%",padding:"3px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.8rem"}}),o.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:1},children:"EMA9 direction"})]}),o.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Direction"}),o.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:p.ema_zone_filter_direction_weight??.15,onChange:w=>j({...p,ema_zone_filter_direction_weight:parseFloat(w.target.value)||.15}),style:{width:"100%",padding:"3px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.8rem"}}),o.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:1},children:"Spread change"})]})]}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,marginTop:12},children:"Interpolation Ranges (min/max pips)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:[o.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Spread Range"}),o.jsxs("div",{style:{display:"flex",gap:4},children:[o.jsx("input",{type:"number",step:"0.5",value:p.ema_zone_filter_spread_min_pips??0,onChange:w=>j({...p,ema_zone_filter_spread_min_pips:parseFloat(w.target.value)??0}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}}),o.jsx("input",{type:"number",step:"0.5",value:p.ema_zone_filter_spread_max_pips??4,onChange:w=>j({...p,ema_zone_filter_spread_max_pips:parseFloat(w.target.value)??4}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}})]})]}),o.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Slope Range"}),o.jsxs("div",{style:{display:"flex",gap:4},children:[o.jsx("input",{type:"number",step:"0.5",value:p.ema_zone_filter_slope_min_pips??-1,onChange:w=>j({...p,ema_zone_filter_slope_min_pips:parseFloat(w.target.value)??-1}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}}),o.jsx("input",{type:"number",step:"0.5",value:p.ema_zone_filter_slope_max_pips??3,onChange:w=>j({...p,ema_zone_filter_slope_max_pips:parseFloat(w.target.value)??3}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}})]})]}),o.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Direction Range"}),o.jsxs("div",{style:{display:"flex",gap:4},children:[o.jsx("input",{type:"number",step:"0.5",value:p.ema_zone_filter_dir_min_pips??-3,onChange:w=>j({...p,ema_zone_filter_dir_min_pips:parseFloat(w.target.value)??-3}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}}),o.jsx("input",{type:"number",step:"0.5",value:p.ema_zone_filter_dir_max_pips??3,onChange:w=>j({...p,ema_zone_filter_dir_max_pips:parseFloat(w.target.value)??3}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}})]})]})]})]})]}),((pe=M==null?void 0:M.policies)==null?void 0:pe.some(w=>w.type==="kt_cg_trial_8"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Daily Level Filter (block trades near yesterday/today high/low until breakout confirmed)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.t8_use_daily_level_filter,onChange:w=>j({...p,t8_use_daily_level_filter:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.t8_use_daily_level_filter?"var(--success)":"var(--text-secondary)"},children:p.t8_use_daily_level_filter?"ON":"OFF"})]})}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Buffer (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:p.t8_daily_level_buffer_pips,onChange:w=>j({...p,t8_daily_level_buffer_pips:parseFloat(w.target.value)||3}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Block within N pips of level"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Breakout candles"}),o.jsx("input",{type:"number",step:"1",min:"1",max:"5",value:p.t8_daily_level_breakout_candles_required,onChange:w=>j({...p,t8_daily_level_breakout_candles_required:parseInt(w.target.value)||2}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Closed M5 candles beyond level"})]})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:"Blocks longs near watched high and shorts near watched low; allows after 2 consecutive closed M5 beyond level. Levels roll to today's high/low after breakout."})]}),((xe=M==null?void 0:M.policies)==null?void 0:xe.some(w=>w.type==="kt_cg_trial_5"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Trend Extension Exhaustion (M3 EMA9/EMA21)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.trend_exhaustion_enabled??!0,onChange:w=>j({...p,trend_exhaustion_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.trend_exhaustion_enabled??!0?"var(--success)":"var(--text-secondary)"},children:p.trend_exhaustion_enabled??!0?"ON":"OFF"})]})}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Fresh Max (ATR)"}),o.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"10",value:p.trend_exhaustion_fresh_max??2,onChange:w=>j({...p,trend_exhaustion_fresh_max:parseFloat(w.target.value)||2}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"All entries allowed"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Mature Max (ATR)"}),o.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"15",value:p.trend_exhaustion_mature_max??3.5,onChange:w=>j({...p,trend_exhaustion_mature_max:parseFloat(w.target.value)||3.5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Shallowest tier + zone blocked"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Extended Max (ATR)"}),o.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"20",value:p.trend_exhaustion_extended_max??5,onChange:w=>j({...p,trend_exhaustion_extended_max:parseFloat(w.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Only deep tiers (29,34)"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Ramp Minutes"}),o.jsx("input",{type:"number",step:"1",min:"1",max:"60",value:p.trend_exhaustion_ramp_minutes??12,onChange:w=>j({...p,trend_exhaustion_ramp_minutes:parseFloat(w.target.value)||12}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Mins to full exhaustion sensitivity after flip"})]})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:"Measures extension from M3 EMA9/21 flip as ratio of M3 ATR(14). FRESH: all entries. MATURE: blocks zone entry + shallowest tier. EXTENDED: only tiers 29,34. EXHAUSTED: blocks ALL."})]}),((D=M==null?void 0:M.policies)==null?void 0:D.some(w=>w.type==="kt_cg_trial_7"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Trial #7 Trend Exhaustion (M5 stretch from EMA21)"}),o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6,marginBottom:10},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.t7_trend_exhaustion_enabled,onChange:w=>j({...p,t7_trend_exhaustion_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.t7_trend_exhaustion_enabled?"var(--success)":"var(--text-secondary)"},children:p.t7_trend_exhaustion_enabled?"ON":"OFF"})]})}),p.t7_trend_exhaustion_enabled&&o.jsxs("div",{style:{background:"var(--bg-tertiary)",borderRadius:8,padding:10},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--text-primary)",marginBottom:8},children:"Step 1: Detection Method"}),o.jsxs("div",{style:{marginTop:10,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:10},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-secondary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-secondary)",marginBottom:4},children:"Threshold Mode"}),o.jsxs("select",{value:p.t7_trend_exhaustion_mode,onChange:w=>j({...p,t7_trend_exhaustion_mode:w.target.value}),style:{width:"100%",padding:"5px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontWeight:600},children:[o.jsx("option",{value:"global",children:"Simple (Global)"}),o.jsx("option",{value:"session",children:"Session-Aware"}),o.jsx("option",{value:"session_and_side",children:"Advanced (Session + Side)"})]}),o.jsx("div",{style:{marginTop:4,fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Choose one threshold set; hidden sets are ignored."})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-secondary)",borderRadius:6},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("input",{type:"checkbox",checked:p.t7_trend_exhaustion_use_current_price,onChange:w=>j({...p,t7_trend_exhaustion_use_current_price:w.target.checked})}),o.jsx("span",{style:{fontSize:"0.75rem"},children:"Use live poll price"})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"If off, uses last completed M5 close."})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-secondary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-secondary)",marginBottom:4},children:"Buffer to avoid rapid switching (pips)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",value:p.t7_trend_exhaustion_hysteresis_pips,onChange:w=>j({...p,t7_trend_exhaustion_hysteresis_pips:parseFloat(w.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontWeight:600}})]})]}),o.jsx("div",{style:{fontWeight:700,color:"var(--text-primary)",marginTop:14,marginBottom:8},children:"Step 2: Extension Thresholds"}),o.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,alignItems:"center",marginBottom:8},children:[o.jsx("button",{type:"button",onClick:()=>R("conservative"),style:{padding:"4px 10px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.72rem",cursor:"pointer"},children:"Conservative"}),o.jsx("button",{type:"button",onClick:()=>R("balanced"),style:{padding:"4px 10px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.72rem",cursor:"pointer"},children:"Balanced"}),o.jsx("button",{type:"button",onClick:()=>R("aggressive"),style:{padding:"4px 10px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.72rem",cursor:"pointer"},children:"Aggressive"}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:"0.72rem",color:"var(--text-secondary)",marginLeft:4},children:[o.jsx("input",{type:"checkbox",checked:E,onChange:w=>z(w.target.checked)}),"Manual threshold editing"]})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:8},children:'Labels: "Extended starts at" = P80, "Very extended starts at" = P90.'}),p.t7_trend_exhaustion_mode==="global"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(150px, 1fr))",gap:8},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)",marginBottom:3},children:"Extended starts at (pips)"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_global,onChange:w=>j({...p,t7_trend_exhaustion_p80_global:parseFloat(w.target.value)||12.03}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:E?1:.6}})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)",marginBottom:3},children:"Very extended starts at (pips)"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_global,onChange:w=>j({...p,t7_trend_exhaustion_p90_global:parseFloat(w.target.value)||17.02}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:E?1:.6}})]})]}),p.t7_trend_exhaustion_mode==="session"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"130px repeat(2, minmax(120px, 1fr))",gap:8,alignItems:"center"},children:[o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)"}}),o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)"},children:"Extended starts at"}),o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)"},children:"Very extended starts at"}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-primary)"},children:"Tokyo"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_tokyo,onChange:w=>j({...p,t7_trend_exhaustion_p80_tokyo:parseFloat(w.target.value)||12.67}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_tokyo,onChange:w=>j({...p,t7_trend_exhaustion_p90_tokyo:parseFloat(w.target.value)||17.63}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-primary)"},children:"London"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_london,onChange:w=>j({...p,t7_trend_exhaustion_p80_london:parseFloat(w.target.value)||11.06}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_london,onChange:w=>j({...p,t7_trend_exhaustion_p90_london:parseFloat(w.target.value)||14.41}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-primary)"},children:"New York"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_ny,onChange:w=>j({...p,t7_trend_exhaustion_p80_ny:parseFloat(w.target.value)||12.66}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_ny,onChange:w=>j({...p,t7_trend_exhaustion_p90_ny:parseFloat(w.target.value)||18.83}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}})]}),p.t7_trend_exhaustion_mode==="session_and_side"&&o.jsxs("div",{style:{display:"grid",gap:10},children:[o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-secondary)"},children:"Bull Trend Thresholds"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"130px repeat(2, minmax(120px, 1fr))",gap:8,alignItems:"center"},children:[o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)"}}),o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)"},children:"Extended starts at"}),o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)"},children:"Very extended starts at"}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-primary)"},children:"Tokyo"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_bull_tokyo,onChange:w=>j({...p,t7_trend_exhaustion_p80_bull_tokyo:parseFloat(w.target.value)||11.85}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_bull_tokyo,onChange:w=>j({...p,t7_trend_exhaustion_p90_bull_tokyo:parseFloat(w.target.value)||15.52}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-primary)"},children:"London"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_bull_london,onChange:w=>j({...p,t7_trend_exhaustion_p80_bull_london:parseFloat(w.target.value)||10.21}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_bull_london,onChange:w=>j({...p,t7_trend_exhaustion_p90_bull_london:parseFloat(w.target.value)||12.97}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-primary)"},children:"New York"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_bull_ny,onChange:w=>j({...p,t7_trend_exhaustion_p80_bull_ny:parseFloat(w.target.value)||11.21}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_bull_ny,onChange:w=>j({...p,t7_trend_exhaustion_p90_bull_ny:parseFloat(w.target.value)||15.84}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}})]}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-secondary)"},children:"Bear Trend Thresholds"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"130px repeat(2, minmax(120px, 1fr))",gap:8,alignItems:"center"},children:[o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)"}}),o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)"},children:"Extended starts at"}),o.jsx("div",{style:{fontSize:"0.68rem",color:"var(--text-secondary)"},children:"Very extended starts at"}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-primary)"},children:"Tokyo"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_bear_tokyo,onChange:w=>j({...p,t7_trend_exhaustion_p80_bear_tokyo:parseFloat(w.target.value)||13.44}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_bear_tokyo,onChange:w=>j({...p,t7_trend_exhaustion_p90_bear_tokyo:parseFloat(w.target.value)||19.73}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-primary)"},children:"London"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_bear_london,onChange:w=>j({...p,t7_trend_exhaustion_p80_bear_london:parseFloat(w.target.value)||12.01}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_bear_london,onChange:w=>j({...p,t7_trend_exhaustion_p90_bear_london:parseFloat(w.target.value)||17.44}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-primary)"},children:"New York"}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p80_bear_ny,onChange:w=>j({...p,t7_trend_exhaustion_p80_bear_ny:parseFloat(w.target.value)||13.97}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}}),o.jsx("input",{disabled:!E,type:"number",step:"0.1",value:p.t7_trend_exhaustion_p90_bear_ny,onChange:w=>j({...p,t7_trend_exhaustion_p90_bear_ny:parseFloat(w.target.value)||21.51}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",opacity:E?1:.6}})]})]}),o.jsx("div",{style:{fontWeight:700,color:"var(--text-primary)",marginTop:14,marginBottom:8},children:"Step 3: Entry Behavior By Regime"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:10},children:[o.jsxs("div",{style:{padding:10,background:"var(--bg-secondary)",borderRadius:8},children:[o.jsx("div",{style:{fontSize:"0.78rem",color:"var(--text-primary)",fontWeight:700,marginBottom:8},children:"Extended Regime"}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Block zone entries"}),o.jsx("input",{type:"checkbox",checked:p.t7_trend_exhaustion_extended_disable_zone_entry,onChange:w=>j({...p,t7_trend_exhaustion_extended_disable_zone_entry:w.target.checked})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Minimum tier allowed"}),o.jsx("select",{value:p.t7_trend_exhaustion_extended_min_tier_period,onChange:w=>j({...p,t7_trend_exhaustion_extended_min_tier_period:parseInt(w.target.value)||24}),style:{width:120,padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)"},children:ru.map(w=>o.jsx("option",{value:w,children:w},`ext-tier-${w}`))})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"When extended, only tiers at or above this value can enter."})]})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-secondary)",borderRadius:8},children:[o.jsx("div",{style:{fontSize:"0.78rem",color:"var(--text-primary)",fontWeight:700,marginBottom:8},children:"Very Extended Regime"}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Block zone entries"}),o.jsx("input",{type:"checkbox",checked:p.t7_trend_exhaustion_very_extended_disable_zone_entry,onChange:w=>j({...p,t7_trend_exhaustion_very_extended_disable_zone_entry:w.target.checked})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Minimum tier allowed"}),o.jsx("select",{value:p.t7_trend_exhaustion_very_extended_min_tier_period,onChange:w=>j({...p,t7_trend_exhaustion_very_extended_min_tier_period:parseInt(w.target.value)||34}),style:{width:120,padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)"},children:ru.map(w=>o.jsx("option",{value:w,children:w},`very-ext-tier-${w}`))})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Tighten trade caps"}),o.jsx("input",{type:"checkbox",checked:p.t7_trend_exhaustion_very_extended_tighten_caps,onChange:w=>j({...p,t7_trend_exhaustion_very_extended_tighten_caps:w.target.checked})})]}),p.t7_trend_exhaustion_very_extended_tighten_caps&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Cap multiplier"}),o.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"1.0",value:p.t7_trend_exhaustion_very_extended_cap_multiplier,onChange:w=>j({...p,t7_trend_exhaustion_very_extended_cap_multiplier:parseFloat(w.target.value)||.5}),style:{width:120,padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)"}})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Minimum cap floor"}),o.jsx("input",{type:"number",min:"1",value:p.t7_trend_exhaustion_very_extended_cap_min,onChange:w=>j({...p,t7_trend_exhaustion_very_extended_cap_min:parseInt(w.target.value)||1}),style:{width:120,padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)"}})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Example: base 8, multiplier 0.5, floor 1 gives cap 4."})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Final cap = round(base cap x multiplier), never below floor."})]})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-secondary)",borderRadius:8},children:[o.jsx("div",{style:{fontSize:"0.78rem",color:"var(--text-primary)",fontWeight:700,marginBottom:8},children:"Adaptive TP"}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Enable adaptive TP"}),o.jsx("input",{type:"checkbox",checked:p.t7_trend_exhaustion_adaptive_tp_enabled,onChange:w=>j({...p,t7_trend_exhaustion_adaptive_tp_enabled:w.target.checked})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Extended offset (pips)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",value:p.t7_trend_exhaustion_tp_extended_offset_pips,onChange:w=>j({...p,t7_trend_exhaustion_tp_extended_offset_pips:parseFloat(w.target.value)||0}),style:{width:120,padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)"}})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Very extended offset (pips)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",value:p.t7_trend_exhaustion_tp_very_extended_offset_pips,onChange:w=>j({...p,t7_trend_exhaustion_tp_very_extended_offset_pips:parseFloat(w.target.value)||0}),style:{width:120,padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)"}})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Minimum TP (pips)"}),o.jsx("input",{type:"number",step:"0.1",min:"0.1",value:p.t7_trend_exhaustion_tp_min_pips,onChange:w=>j({...p,t7_trend_exhaustion_tp_min_pips:parseFloat(w.target.value)||.1}),style:{width:120,padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)"}})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Uses base TP from Target Pips. In extended/very-extended zones, TP is reduced by these offsets, but never below Minimum TP."})]})]})]})]})]}),((te=M==null?void 0:M.policies)==null?void 0:te.some(w=>w.type==="kt_cg_trial_7"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Reversal Risk (Trial #7)"}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6,marginBottom:10},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.t7_use_reversal_risk_score,onChange:w=>j({...p,t7_use_reversal_risk_score:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.t7_use_reversal_risk_score?"var(--success)":"var(--text-secondary)"},children:p.t7_use_reversal_risk_score?"ON":"OFF"})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"Score: RSI divergence, ADR exhaustion, HTF proximity, EMA spread. Reduces size / blocks at medium/high/critical. Turn ON to show options."})]}),p.t7_use_reversal_risk_score&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Tier medium"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"100",value:p.t7_rr_tier_medium,onChange:w=>j({...p,t7_rr_tier_medium:parseFloat(w.target.value)||58}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Tier high"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"100",value:p.t7_rr_tier_high,onChange:w=>j({...p,t7_rr_tier_high:parseFloat(w.target.value)||65}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Tier critical"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"100",value:p.t7_rr_tier_critical,onChange:w=>j({...p,t7_rr_tier_critical:parseFloat(w.target.value)||71}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Lot mult medium"}),o.jsx("input",{type:"number",step:"0.05",min:"0.01",max:"1",value:p.t7_rr_medium_lot_multiplier,onChange:w=>j({...p,t7_rr_medium_lot_multiplier:parseFloat(w.target.value)||.75}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Lot mult high"}),o.jsx("input",{type:"number",step:"0.05",min:"0.01",max:"1",value:p.t7_rr_high_lot_multiplier,onChange:w=>j({...p,t7_rr_high_lot_multiplier:parseFloat(w.target.value)||.5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Lot mult critical"}),o.jsx("input",{type:"number",step:"0.05",min:"0.01",max:"1",value:p.t7_rr_critical_lot_multiplier,onChange:w=>j({...p,t7_rr_critical_lot_multiplier:parseFloat(w.target.value)||.25}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Block zone entry above"}),o.jsxs("select",{value:p.t7_rr_block_zone_entry_above_tier,onChange:w=>j({...p,t7_rr_block_zone_entry_above_tier:w.target.value}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600},children:[o.jsx("option",{value:"medium",children:"medium"}),o.jsx("option",{value:"high",children:"high"}),o.jsx("option",{value:"critical",children:"critical"})]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Managed exit at"}),o.jsxs("select",{value:p.t7_rr_use_managed_exit_at,onChange:w=>j({...p,t7_rr_use_managed_exit_at:w.target.value}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600},children:[o.jsx("option",{value:"medium",children:"medium"}),o.jsx("option",{value:"high",children:"high"}),o.jsx("option",{value:"critical",children:"critical"})]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Weight RSI"}),o.jsx("input",{type:"number",step:"1",min:"0",max:"100",value:p.t7_rr_weight_rsi_divergence,onChange:w=>j({...p,t7_rr_weight_rsi_divergence:parseInt(w.target.value)||55}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Weight ADR"}),o.jsx("input",{type:"number",step:"1",min:"0",max:"100",value:p.t7_rr_weight_adr_exhaustion,onChange:w=>j({...p,t7_rr_weight_adr_exhaustion:parseInt(w.target.value)||20}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Weight HTF"}),o.jsx("input",{type:"number",step:"1",min:"0",max:"100",value:p.t7_rr_weight_htf_proximity,onChange:w=>j({...p,t7_rr_weight_htf_proximity:parseInt(w.target.value)||15}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:4},children:"Weight EMA spread"}),o.jsx("input",{type:"number",step:"1",min:"0",max:"100",value:p.t7_rr_weight_ema_spread,onChange:w=>j({...p,t7_rr_weight_ema_spread:parseInt(w.target.value)||10}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]})]}),((fe=M==null?void 0:M.policies)==null?void 0:fe.some(w=>w.type==="kt_cg_trial_4"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Tiered ATR(14) Filter"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.tiered_atr_filter_enabled,onChange:w=>j({...p,tiered_atr_filter_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.tiered_atr_filter_enabled?"var(--success)":"var(--text-secondary)"},children:p.tiered_atr_filter_enabled?"ON":"OFF"})]})}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Block Below (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"20",value:p.tiered_atr_block_below_pips,onChange:w=>j({...p,tiered_atr_block_below_pips:parseFloat(w.target.value)||4}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"< this: ALL blocked"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Allow All Max (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:p.tiered_atr_allow_all_max_pips,onChange:w=>j({...p,tiered_atr_allow_all_max_pips:parseFloat(w.target.value)||12}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"< this: allow ALL"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Pullback Only Max (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"40",value:p.tiered_atr_pullback_only_max_pips,onChange:w=>j({...p,tiered_atr_pullback_only_max_pips:parseFloat(w.target.value)||15}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"< this: pullback only"})]})]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["< ",p.tiered_atr_block_below_pips,"p: block ALL ",p.tiered_atr_block_below_pips,"-",p.tiered_atr_allow_all_max_pips,"p: allow ALL ",p.tiered_atr_allow_all_max_pips,"-",p.tiered_atr_pullback_only_max_pips,"p: pullback only ","> ",p.tiered_atr_pullback_only_max_pips,"p: block ALL"]})]}),((A=M==null?void 0:M.policies)==null?void 0:A.some(w=>w.type==="kt_cg_trial_5"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Dead Zone (21:00-02:00 UTC)"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.daily_reset_block_enabled,onChange:w=>j({...p,daily_reset_block_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.daily_reset_block_enabled?"var(--success)":"var(--text-secondary)"},children:p.daily_reset_block_enabled?"ON":"OFF"})]}),o.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Blocks ALL trades 21:00-02:00 UTC. Daily H/L tracked live from ticks after 02:00."})]})]}),((P=M==null?void 0:M.policies)==null?void 0:P.some(w=>w.type==="kt_cg_trial_5"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 ATR Session-Dynamic Filter (Trial #5)"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.m1_atr_filter_enabled,onChange:w=>j({...p,m1_atr_filter_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,fontSize:"0.85rem",color:p.m1_atr_filter_enabled?"var(--success)":"var(--text-secondary)"},children:p.m1_atr_filter_enabled?"ON":"OFF"})]}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"When OFF, M1 ATR min and tiered logic are skipped; only M3 ATR range (if enabled) applies."})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.session_dynamic_atr_enabled,onChange:w=>j({...p,session_dynamic_atr_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,fontSize:"0.75rem",color:p.session_dynamic_atr_enabled?"var(--success)":"var(--text-secondary)"},children:"Session Dynamic"})]})}),o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.auto_session_detection_enabled,onChange:w=>j({...p,auto_session_detection_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,fontSize:"0.75rem",color:p.auto_session_detection_enabled?"var(--success)":"var(--text-secondary)"},children:"Auto Detect"})]})})]}),p.session_dynamic_atr_enabled&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12,marginTop:12},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Tokyo Min (pips)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",value:p.m1_atr_tokyo_min_pips,onChange:w=>j({...p,m1_atr_tokyo_min_pips:parseFloat(w.target.value)||2.2}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:2},children:"00:00-09:00 UTC"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"London Min (pips)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",value:p.m1_atr_london_min_pips,onChange:w=>j({...p,m1_atr_london_min_pips:parseFloat(w.target.value)||2.5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:2},children:"07:00-16:00 UTC"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"NY Min (pips)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",value:p.m1_atr_ny_min_pips,onChange:w=>j({...p,m1_atr_ny_min_pips:parseFloat(w.target.value)||2.8}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:2},children:"12:00-21:00 UTC"})]})]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["M1 ATR(",p.m1_atr_period,") must be >= min threshold (overlaps: highest) and <= max threshold (overlaps: lowest/conservative)."]}),o.jsxs("div",{style:{marginTop:12},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 ATR Max Thresholds (per session)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Tokyo Max (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:p.m1_atr_tokyo_max_pips,onChange:w=>j({...p,m1_atr_tokyo_max_pips:parseFloat(w.target.value)||8}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"London Max (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:p.m1_atr_london_max_pips,onChange:w=>j({...p,m1_atr_london_max_pips:parseFloat(w.target.value)||10}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"NY Max (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:p.m1_atr_ny_max_pips,onChange:w=>j({...p,m1_atr_ny_max_pips:parseFloat(w.target.value)||11}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]})]}),o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"M3 ATR Range Filter (Trial #5)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.m3_atr_filter_enabled,onChange:w=>j({...p,m3_atr_filter_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.m3_atr_filter_enabled?"var(--success)":"var(--text-secondary)"},children:p.m3_atr_filter_enabled?"ON":"OFF"})]})}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Min (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:p.m3_atr_min_pips,onChange:w=>j({...p,m3_atr_min_pips:parseFloat(w.target.value)||4.5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:p.m3_atr_max_pips,onChange:w=>j({...p,m3_atr_max_pips:parseFloat(w.target.value)||11}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["M3 ATR(",p.m3_atr_period,") must be between ",p.m3_atr_min_pips,"p and ",p.m3_atr_max_pips,"p. Outside range: block ALL."]})]})]}),((V=M==null?void 0:M.policies)==null?void 0:V.some(w=>w.type==="kt_cg_trial_4"||w.type==="kt_cg_trial_5"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Daily High/Low Filter (zone entry + pullback for Trial #5)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.daily_hl_filter_enabled,onChange:w=>j({...p,daily_hl_filter_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.daily_hl_filter_enabled?"var(--success)":"var(--text-secondary)"},children:p.daily_hl_filter_enabled?"ON":"OFF"})]})}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Buffer (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"1",max:"20",value:p.daily_hl_buffer_pips,onChange:w=>j({...p,daily_hl_buffer_pips:parseFloat(w.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Distance from daily H/L"})]})]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["Blocks BUY within ",p.daily_hl_buffer_pips,"p of daily high  Blocks SELL within ",p.daily_hl_buffer_pips,"p of daily low"]})]}),o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Spread-Aware Breakeven Stop Loss"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.spread_aware_be_enabled,onChange:w=>j({...p,spread_aware_be_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.spread_aware_be_enabled?"var(--success)":"var(--text-secondary)"},children:p.spread_aware_be_enabled?"ON":"OFF"})]})}),!(($=M==null?void 0:M.policies)!=null&&$.some(w=>w.type==="kt_cg_trial_5"))&&o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Trigger Mode"}),o.jsxs("select",{value:p.spread_aware_be_trigger_mode,onChange:w=>j({...p,spread_aware_be_trigger_mode:w.target.value}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600},children:[o.jsx("option",{value:"fixed_pips",children:"Fixed Pips"}),o.jsx("option",{value:"spread_relative",children:"Spread + Buffer"})]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Fixed Trigger (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"1",max:"30",value:p.spread_aware_be_fixed_trigger_pips,onChange:w=>j({...p,spread_aware_be_fixed_trigger_pips:parseFloat(w.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Spread Buffer (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"10",value:p.spread_aware_be_spread_buffer_pips,onChange:w=>j({...p,spread_aware_be_spread_buffer_pips:parseFloat(w.target.value)||1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),!((Z=M==null?void 0:M.policies)!=null&&Z.some(w=>w.type==="kt_cg_trial_5"))&&o.jsxs("div",{style:{display:"flex",gap:16,marginTop:8},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",fontSize:"0.7rem"},children:[o.jsx("input",{type:"checkbox",checked:p.spread_aware_be_apply_to_zone_entry,onChange:w=>j({...p,spread_aware_be_apply_to_zone_entry:w.target.checked}),style:{width:14,height:14,cursor:"pointer"}}),"Apply to Zone Entry"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",fontSize:"0.7rem"},children:[o.jsx("input",{type:"checkbox",checked:p.spread_aware_be_apply_to_tiered_pullback,onChange:w=>j({...p,spread_aware_be_apply_to_tiered_pullback:w.target.checked}),style:{width:14,height:14,cursor:"pointer"}}),"Apply to Tiered Pullback"]})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"SL = entry  current spread. Ratchets favorably (never moves back toward entry)."})]})]}),p&&((ae=M==null?void 0:M.policies)==null?void 0:ae.some(w=>w.type==="kt_cg_counter_trend_pullback"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:"EMA Override Settings (Trial #3)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M5 Trend  fast / slow EMAs (default 9 / 21)"}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[o.jsx("input",{type:"number",step:"1",min:"1",placeholder:"9",value:p.m5_trend_ema_fast??"",onChange:w=>j({...p,m5_trend_ema_fast:w.target.value?parseInt(w.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:600},children:"/"}),o.jsx("input",{type:"number",step:"1",min:"1",placeholder:"21",value:p.m5_trend_ema_slow??"",onChange:w=>j({...p,m5_trend_ema_slow:w.target.value?parseInt(w.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:["Determines trend: fast ",">"," slow = BULL"]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 Zone Entry  slow EMA (default 13)"}),o.jsx("input",{type:"number",step:"1",min:"1",placeholder:"13",value:p.m1_zone_entry_ema_slow??"",onChange:w=>j({...p,m1_zone_entry_ema_slow:w.target.value?parseInt(w.target.value):null}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:["BUY zone when M1 EMA 9 ",">"," this EMA"]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 Pullback Cross  slow EMA (default 15)"}),o.jsx("input",{type:"number",step:"1",min:"1",placeholder:"15",value:p.m1_pullback_cross_ema_slow??"",onChange:w=>j({...p,m1_pullback_cross_ema_slow:w.target.value?parseInt(w.target.value):null}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"Trigger when M1 EMA 9 crosses this EMA"})]})]}),o.jsx("button",{className:"btn btn-secondary mt-3",onClick:()=>j({...p,m5_trend_ema_fast:null,m5_trend_ema_slow:null,m1_zone_entry_ema_slow:null,m1_pullback_cross_ema_slow:null}),style:{fontSize:"0.8rem"},children:"Reset EMAs to Defaults"})]}),p&&((X=M==null?void 0:M.policies)==null?void 0:X.some(w=>w.type==="kt_cg_trial_4"||w.type==="kt_cg_trial_5"||w.type==="kt_cg_trial_7"||w.type==="kt_cg_trial_8"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:(ie=M==null?void 0:M.policies)!=null&&ie.some(w=>w.type==="kt_cg_trial_7")?"View Settings (Trial #7)":(ne=M==null?void 0:M.policies)!=null&&ne.some(w=>w.type==="kt_cg_trial_8")?"View Settings (Trial #8)":(ge=M==null?void 0:M.policies)!=null&&ge.some(w=>w.type==="kt_cg_trial_5")?"View Settings (Trial #5)":"EMA Override Settings (Trial #4)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:12},children:[!((ve=M==null?void 0:M.policies)!=null&&ve.some(w=>w.type==="kt_cg_trial_7"||w.type==="kt_cg_trial_8"))&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M3 Trend  fast / slow EMAs (default 5 / 9)"}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[o.jsx("input",{type:"number",step:"1",min:"1",placeholder:"5",value:p.m3_trend_ema_fast??"",onChange:w=>j({...p,m3_trend_ema_fast:w.target.value?parseInt(w.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:600},children:"/"}),o.jsx("input",{type:"number",step:"1",min:"1",placeholder:"9",value:p.m3_trend_ema_slow??"",onChange:w=>j({...p,m3_trend_ema_slow:w.target.value?parseInt(w.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:["M3 Trend: fast ",">"," slow = BULL"]})]}),((me=M==null?void 0:M.policies)==null?void 0:me.some(w=>w.type==="kt_cg_trial_4"))&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 Zone Entry  fast / slow EMAs (default 5 / 9)"}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[o.jsx("input",{type:"number",step:"1",min:"1",placeholder:"5",value:p.m1_t4_zone_entry_ema_fast??"",onChange:w=>j({...p,m1_t4_zone_entry_ema_fast:w.target.value?parseInt(w.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:600},children:"/"}),o.jsx("input",{type:"number",step:"1",min:"1",placeholder:"9",value:p.m1_t4_zone_entry_ema_slow??"",onChange:w=>j({...p,m1_t4_zone_entry_ema_slow:w.target.value?parseInt(w.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:["Zone Entry: fast ",">"," slow = BUY"]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",marginBottom:8},children:[o.jsx("input",{type:"checkbox",checked:p.zone_entry_enabled,onChange:w=>j({...p,zone_entry_enabled:w.target.checked}),style:{width:16,height:16,cursor:"pointer"}}),o.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600},children:"Zone Entry Enabled"})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"When OFF, only tiered pullback entries are active (zone entry trades are blocked)."}),((ye=M==null?void 0:M.policies)==null?void 0:ye.some(w=>w.type==="kt_cg_trial_7"))&&o.jsxs("div",{style:{marginTop:10},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:6},children:"Zone Entry Type"}),o.jsxs("select",{value:p.t7_zone_entry_mode,onChange:w=>j({...p,t7_zone_entry_mode:w.target.value}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600},children:[o.jsx("option",{value:"ema_cross",children:"EMA Cross (M1 EMA fast vs slow)"}),o.jsx("option",{value:"price_vs_ema5",children:"Price vs M1 EMA5"})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:6},children:p.t7_zone_entry_mode==="ema_cross"?"EMA Cross: Uses M1 EMA fast/slow relationship in M5 trend direction.":"Price vs EMA5: Uses live poll price relative to M1 EMA5 in M5 trend direction."}),!p.zone_entry_enabled&&o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--warning)",marginTop:4},children:"Inactive while Zone Entry Enabled is OFF."})]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Tiered Pullback  Tiers 917"}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[9,11,12,13,14,15,16,17].map(w=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",padding:"2px 6px",background:p.tier_ema_periods.includes(w)?"var(--success)":"var(--bg-secondary)",borderRadius:4,fontSize:"0.7rem",fontWeight:600,color:p.tier_ema_periods.includes(w)?"#fff":"var(--text-secondary)"},children:[o.jsx("input",{type:"checkbox",checked:p.tier_ema_periods.includes(w),onChange:oe=>{const gt=oe.target.checked?[...p.tier_ema_periods,w].sort((Qe,fr)=>Qe-fr):p.tier_ema_periods.filter(Qe=>Qe!==w);j({...p,tier_ema_periods:gt})},style:{width:14,height:14,cursor:"pointer"}}),"EMA ",w]},w))}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,marginTop:12},children:"Tiered Pullback  Tiers 1834"}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34].map(w=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",padding:"2px 6px",background:p.tier_ema_periods.includes(w)?"var(--success)":"var(--bg-secondary)",borderRadius:4,fontSize:"0.7rem",fontWeight:600,color:p.tier_ema_periods.includes(w)?"#fff":"var(--text-secondary)"},children:[o.jsx("input",{type:"checkbox",checked:p.tier_ema_periods.includes(w),onChange:oe=>{const gt=oe.target.checked?[...p.tier_ema_periods,w].sort((Qe,fr)=>Qe-fr):p.tier_ema_periods.filter(Qe=>Qe!==w);j({...p,tier_ema_periods:gt})},style:{width:14,height:14,cursor:"pointer"}}),"EMA ",w]},w))}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"When price touches M1 EMA tiers, triggers entry. Each tier fires once per touch and resets when price moves away."})]}),((mt=M==null?void 0:M.policies)==null?void 0:mt.some(w=>w.type==="kt_cg_trial_5"||w.type==="kt_cg_trial_7"||w.type==="kt_cg_trial_8"))&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Max Open Trades Per Side"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.max_open_trades_per_side,onChange:w=>j({...p,max_open_trades_per_side:parseInt(w.target.value)||5}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"Max simultaneous open trades per direction (BUY/SELL independently). Recommended: 5."})]}),((dt=M==null?void 0:M.policies)==null?void 0:dt.some(w=>w.type==="kt_cg_trial_7"||w.type==="kt_cg_trial_8"))&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Max Zone Entries Open"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.max_zone_entry_open,onChange:w=>j({...p,max_zone_entry_open:parseInt(w.target.value)||3}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),((hr=M==null?void 0:M.policies)==null?void 0:hr.some(w=>w.type==="kt_cg_trial_7"||w.type==="kt_cg_trial_8"))&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Max Tiered Pullback Open"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.max_tiered_pullback_open,onChange:w=>j({...p,max_tiered_pullback_open:parseInt(w.target.value)||8}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),((Pr=M==null?void 0:M.policies)==null?void 0:Pr.some(w=>w.type==="kt_cg_trial_7"||w.type==="kt_cg_trial_8"))&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M5 Trend EMAs (fast/slow)"}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[o.jsx("input",{type:"number",step:"1",min:"2",value:p.t7_m5_trend_ema_fast,onChange:w=>j({...p,t7_m5_trend_ema_fast:parseInt(w.target.value)||9}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:600},children:"/"}),o.jsx("input",{type:"number",step:"1",min:"3",value:p.t7_m5_trend_ema_slow,onChange:w=>j({...p,t7_m5_trend_ema_slow:parseInt(w.target.value)||21}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),((Fe=M==null?void 0:M.policies)==null?void 0:Fe.some(w=>w.type==="kt_cg_trial_7"||w.type==="kt_cg_trial_8"))&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M5 EMA9/21 Min Distance (pips)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",value:p.t7_m5_min_ema_distance_pips,onChange:w=>j({...p,t7_m5_min_ema_distance_pips:parseFloat(w.target.value)||0}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"Blocks all Trial #7/8 entries while |EMA9-EMA21| on M5 is below this threshold."})]}),((wt=M==null?void 0:M.policies)==null?void 0:wt.some(w=>w.type==="kt_cg_trial_7"||w.type==="kt_cg_trial_8"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Session boundary block (Trial #7/8)"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.session_boundary_block_enabled,onChange:w=>j({...p,session_boundary_block_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.session_boundary_block_enabled?"var(--success)":"var(--text-secondary)"},children:p.session_boundary_block_enabled?"ON":"OFF"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Buffer (min):"}),o.jsx("input",{type:"number",step:"1",min:"1",max:"60",value:p.session_boundary_block_buffer_minutes,onChange:w=>j({...p,session_boundary_block_buffer_minutes:Math.max(1,Math.min(60,parseInt(w.target.value)||15))}),style:{width:56,padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:"When ON, blocks all entries for this many minutes before and after Tokyo/London/NY open and close."})]})]}),!((Ce=M==null?void 0:M.policies)!=null&&Ce.some(w=>w.type==="kt_cg_trial_7"))&&o.jsx("button",{className:"btn btn-secondary mt-3",onClick:()=>j({...p,m3_trend_ema_fast:null,m3_trend_ema_slow:null,m1_t4_zone_entry_ema_fast:null,m1_t4_zone_entry_ema_slow:null}),style:{fontSize:"0.8rem"},children:"Reset EMAs to Defaults"})]}),p&&((Se=M==null?void 0:M.policies)==null?void 0:Se.some(w=>w.type==="kt_cg_trial_6"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:"View Settings (Trial #6)"}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,fontWeight:600},children:"M3 Slope Trend Engine"}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:16},children:["BULL = M3 EMA9 ",">"," EMA21. BEAR = M3 EMA9 ","<"," EMA21. NONE blocks all entries."]}),o.jsxs("div",{style:{marginTop:8,paddingTop:12,borderTop:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",fontWeight:600},children:"System A: EMA Tier Pullback"}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.t6_ema_tier_enabled,onChange:w=>j({...p,t6_ema_tier_enabled:w.target.checked}),style:{width:16,height:16,cursor:"pointer"}}),o.jsx("span",{style:{fontSize:"0.7rem",fontWeight:600,color:p.t6_ema_tier_enabled?"var(--success)":"var(--text-secondary)"},children:p.t6_ema_tier_enabled?"ON":"OFF"})]})]}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:8},children:[9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34].map(w=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",padding:"2px 6px",background:p.t6_tier_ema_periods.includes(w)?"var(--success)":"var(--bg-secondary)",borderRadius:4,fontSize:"0.7rem",fontWeight:600,color:p.t6_tier_ema_periods.includes(w)?"#fff":"var(--text-secondary)"},children:[o.jsx("input",{type:"checkbox",checked:p.t6_tier_ema_periods.includes(w),onChange:oe=>{const gt=oe.target.checked?[...p.t6_tier_ema_periods,w].sort((Qe,fr)=>Qe-fr):p.t6_tier_ema_periods.filter(Qe=>Qe!==w);j({...p,t6_tier_ema_periods:gt})},style:{width:14,height:14,cursor:"pointer"}}),"EMA ",w]},w))}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12,marginBottom:8},children:o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"TP (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0.1",max:"50",value:p.t6_ema_tier_tp_pips,onChange:w=>j({...p,t6_ema_tier_tp_pips:parseFloat(w.target.value)||7}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Tiers reset when price moves away by buffer."})]}),o.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",fontWeight:600},children:"Dead Zone"}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.t6_dead_zone_enabled,onChange:w=>j({...p,t6_dead_zone_enabled:w.target.checked}),style:{width:16,height:16,cursor:"pointer"}}),o.jsx("span",{style:{fontSize:"0.7rem",fontWeight:600,color:p.t6_dead_zone_enabled?"var(--success)":"var(--text-secondary)"},children:p.t6_dead_zone_enabled?"ON":"OFF"})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12,marginBottom:8},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Start Hour (UTC)"}),o.jsx("input",{type:"number",step:"1",min:"0",max:"23",value:p.t6_dead_zone_start_hour_utc,onChange:w=>j({...p,t6_dead_zone_start_hour_utc:parseInt(w.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"End Hour (UTC)"}),o.jsx("input",{type:"number",step:"1",min:"0",max:"23",value:p.t6_dead_zone_end_hour_utc,onChange:w=>j({...p,t6_dead_zone_end_hour_utc:parseInt(w.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Blocks all entries between start and end hours UTC. Handles midnight wrap."})]}),o.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,fontWeight:600},children:"Spread-Aware Breakeven"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12,marginBottom:8},children:[o.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:p.spread_aware_be_enabled,onChange:w=>j({...p,spread_aware_be_enabled:w.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),o.jsx("span",{style:{fontWeight:600,color:p.spread_aware_be_enabled?"var(--success)":"var(--text-secondary)"},children:p.spread_aware_be_enabled?"ON":"OFF"})]})}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Buffer (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:"10",value:p.spread_aware_be_spread_buffer_pips,onChange:w=>j({...p,spread_aware_be_spread_buffer_pips:parseFloat(w.target.value)||1.5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),o.jsx("div",{style:{display:"flex",gap:16,marginBottom:8},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",fontSize:"0.7rem"},children:[o.jsx("input",{type:"checkbox",checked:p.t6_spread_aware_be_apply_to_ema_tier,onChange:w=>j({...p,t6_spread_aware_be_apply_to_ema_tier:w.target.checked}),style:{width:14,height:14,cursor:"pointer"}}),"Apply to EMA Tier"]})}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Open Trades Per Side"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.max_open_trades_per_side,onChange:w=>j({...p,max_open_trades_per_side:parseInt(w.target.value)||15}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})})]})]}),p&&((Ne=M==null?void 0:M.policies)==null?void 0:Ne.some(w=>w.type==="uncle_parsh_h1_breakout"))&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:"View Settings (Uncle Parsh H1 Breakout)"}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,fontWeight:600},children:"H1 Level Detection"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:12,marginBottom:16},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Lookback (hours)"}),o.jsx("input",{type:"number",step:"1",min:"12",max:"168",value:((De=(er=M==null?void 0:M.policies)==null?void 0:er.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:De.h1_lookback_hours)??48,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Swing Strength"}),o.jsx("input",{type:"number",step:"1",min:"1",max:"10",value:((ln=(Fr=M==null?void 0:M.policies)==null?void 0:Fr.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:ln.h1_swing_strength)??3,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Cluster Tolerance (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"1",max:"20",value:((vt=(tr=M==null?void 0:M.policies)==null?void 0:tr.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:vt.h1_cluster_tolerance_pips)??5,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Min Touches"}),o.jsx("input",{type:"number",step:"1",min:"1",max:"10",value:((Si=(un=M==null?void 0:M.policies)==null?void 0:un.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:Si.h1_min_touches_for_major)??2,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]})]}),o.jsxs("div",{style:{marginTop:8,paddingTop:12,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,fontWeight:600},children:"M5 Momentum Catalyst"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:12,marginBottom:8},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"M5 EMA Fast"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.up_m5_ema_fast??((t0=(wo=M==null?void 0:M.policies)==null?void 0:wo.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:t0.m5_trend_ema_fast)??9,onChange:w=>j({...p,up_m5_ema_fast:w.target.value?parseInt(w.target.value):null}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"M5 EMA Slow"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.up_m5_ema_slow??((n0=(r0=M==null?void 0:M.policies)==null?void 0:r0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:n0.m5_trend_ema_slow)??21,onChange:w=>j({...p,up_m5_ema_slow:w.target.value?parseInt(w.target.value):null}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Power Close Body %"}),o.jsx("input",{type:"number",step:"0.05",min:"0.1",max:"1.0",value:((a0=(i0=M==null?void 0:M.policies)==null?void 0:i0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:a0.power_close_body_pct)??.25,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Velocity (pips)"}),o.jsx("input",{type:"number",step:"0.5",min:"1",max:"20",value:((o0=(s0=M==null?void 0:M.policies)==null?void 0:s0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:o0.velocity_pips)??5,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]})]})]}),o.jsxs("div",{style:{marginTop:8,paddingTop:12,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,fontWeight:600},children:"M1 Entry EMAs"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12,marginBottom:8},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"M1 EMA Fast"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.up_m1_ema_fast??((u0=(l0=M==null?void 0:M.policies)==null?void 0:l0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:u0.m1_ema_fast)??5,onChange:w=>j({...p,up_m1_ema_fast:w.target.value?parseInt(w.target.value):null}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"M1 EMA Mid"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.up_m1_ema_mid??((d0=(c0=M==null?void 0:M.policies)==null?void 0:c0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:d0.m1_ema_mid)??9,onChange:w=>j({...p,up_m1_ema_mid:w.target.value?parseInt(w.target.value):null}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"M1 EMA Slow"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.up_m1_ema_slow??((f0=(h0=M==null?void 0:M.policies)==null?void 0:h0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:f0.m1_ema_slow)??21,onChange:w=>j({...p,up_m1_ema_slow:w.target.value?parseInt(w.target.value):null}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"M1 EMA Veto"}),o.jsx("input",{type:"number",step:"1",min:"1",value:p.up_m1_ema_veto??((m0=(p0=M==null?void 0:M.policies)==null?void 0:p0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:m0.m1_ema_veto)??35,onChange:w=>j({...p,up_m1_ema_veto:w.target.value?parseInt(w.target.value):null}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:["Power Break: EMA stack 5",">"," 9",">"," 21 + close past 21. Sniper: pullback past 21, close back past 9. Veto: close past 35 EMA voids setup."]})]}),o.jsxs("div",{style:{marginTop:8,paddingTop:12,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,fontWeight:600},children:"Exit Strategy"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:12,marginBottom:8},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"SL: Spread + pips"}),o.jsx("input",{type:"number",step:"0.5",value:((g0=(v0=M==null?void 0:M.policies)==null?void 0:v0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:g0.initial_sl_spread_plus_pips)??2,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"TP1 (pips)"}),o.jsx("input",{type:"number",step:"0.5",value:((_0=(y0=M==null?void 0:M.policies)==null?void 0:y0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:_0.tp1_pips)??6,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"TP1 Close %"}),o.jsx("input",{type:"number",step:"5",value:((b0=(x0=M==null?void 0:M.policies)==null?void 0:x0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:b0.tp1_close_pct)??50,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"BE: Spread + pips"}),o.jsx("input",{type:"number",step:"0.5",value:((S0=(w0=M==null?void 0:M.policies)==null?void 0:w0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:S0.be_spread_plus_pips)??2,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Trail EMA Period"}),o.jsx("input",{type:"number",step:"1",value:((k0=(j0=M==null?void 0:M.policies)==null?void 0:j0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:k0.trail_ema_period)??21,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]})]}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"TP1: Close 50% at +6p. BE: Move SL to entry + spread + 2p. Runner trails M1 21 EMA, closes on bar close wrong side."})]}),o.jsxs("div",{style:{marginTop:8,paddingTop:12,borderTop:"1px solid var(--border)"},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,fontWeight:600},children:"Discipline"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:12},children:o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Spread (pips)"}),o.jsx("input",{type:"number",step:"0.5",value:((M0=(P0=M==null?void 0:M.policies)==null?void 0:P0.find(w=>w.type==="uncle_parsh_h1_breakout"))==null?void 0:M0.max_spread_pips)??3,readOnly:!0,style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,opacity:.7}})]})})]})]}),((C0=M==null?void 0:M.policies)==null?void 0:C0.length)>0&&o.jsxs("div",{style:{marginTop:12},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Active Policies:"}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:(E0=M==null?void 0:M.policies)==null?void 0:E0.map((w,oe)=>o.jsxs("span",{style:{padding:"4px 8px",background:"var(--bg-tertiary)",borderRadius:4,fontSize:"0.75rem",fontWeight:600},children:[w.type,": ",w.id]},oe))})]})]})]}),h&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--success)"},children:o.jsx("p",{children:h})}),o.jsxs("div",{className:"grid-3 mb-4",children:[e.map(w=>{const oe=re===w.id;return o.jsxs("div",{className:`preset-card ${n===w.id?"selected":""}`,onClick:()=>i(w.id),style:oe?{borderColor:"var(--success)",borderWidth:2}:{},children:[oe&&o.jsx("div",{style:{position:"absolute",top:-10,right:10,background:"var(--success)",color:"white",fontSize:"0.65rem",fontWeight:700,padding:"2px 8px",borderRadius:4},children:"ACTIVE"}),o.jsx("div",{className:"preset-name",children:w.name}),o.jsx("div",{className:"preset-description",children:w.description}),o.jsx("button",{className:"btn btn-secondary",style:{marginTop:8,fontSize:"0.75rem",padding:"4px 8px"},onClick:gt=>Y(w.id,gt),children:a===w.id?"Hide":"Pros & Cons"}),a===w.id&&o.jsxs("div",{className:"proscons-dropdown",style:{marginTop:12,textAlign:"left"},children:[w.pros.length>0&&o.jsxs("div",{style:{marginBottom:8},children:[o.jsx("div",{style:{fontWeight:600,color:"var(--success)",fontSize:"0.8rem",marginBottom:4},children:"Pros"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.75rem",color:"var(--text-secondary)"},children:w.pros.map((gt,Qe)=>o.jsx("li",{style:{marginBottom:2},children:gt},Qe))})]}),w.cons.length>0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600,color:"var(--warning)",fontSize:"0.8rem",marginBottom:4},children:"Cons"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.75rem",color:"var(--text-secondary)"},children:w.cons.map((gt,Qe)=>o.jsx("li",{style:{marginBottom:2},children:gt},Qe))})]})]})]},w.id)}),(()=>{const w=re==null?void 0:re.startsWith("Custom:");return o.jsxs("div",{className:`preset-card ${n==="custom"?"selected":""}`,onClick:()=>i("custom"),style:{borderStyle:"dashed",...w?{borderColor:"var(--success)",borderWidth:2}:{}},children:[w&&o.jsx("div",{style:{position:"absolute",top:-10,right:10,background:"var(--success)",color:"white",fontSize:"0.65rem",fontWeight:700,padding:"2px 8px",borderRadius:4},children:"ACTIVE"}),o.jsx("div",{className:"preset-name",children:"Custom"}),o.jsx("div",{className:"preset-description",children:w?`Currently running: ${re}`:"Use the wizard to create a custom configuration."})]})})()]}),n&&n!=="custom"&&l&&o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex-between mb-4",children:[o.jsxs("h3",{className:"card-title",style:{margin:0},children:["Preview: ",(W==null?void 0:W.name)||n]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[n==="vwap_trend"&&o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,fontSize:"0.9rem"},children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Optional: Session Filter (London + NY)"}),o.jsxs("select",{value:_?"on":"off",onChange:w=>b(w.target.value==="on"),title:"Turn On to only allow trades during London (816 UTC) or NY (1321 UTC) sessions; Off to trade any time.",style:{padding:"6px 10px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"},children:[o.jsx("option",{value:"on",children:"On"}),o.jsx("option",{value:"off",children:"Off"})]})]}),o.jsx("button",{className:"btn btn-primary",onClick:G,disabled:c,children:c?"Applying...":"Apply Preset"})]})]}),W&&(W.pros.length>0||W.cons.length>0)&&o.jsxs("div",{className:"grid-2 mb-4",children:[W.pros.length>0&&o.jsxs("div",{style:{padding:12,background:"rgba(16, 185, 129, 0.1)",borderRadius:6,border:"1px solid var(--success)"},children:[o.jsx("div",{style:{fontWeight:600,color:"var(--success)",marginBottom:8,fontSize:"0.85rem"},children:"Pros"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.8rem"},children:W.pros.map((w,oe)=>o.jsx("li",{style:{marginBottom:4},children:w},oe))})]}),W.cons.length>0&&o.jsxs("div",{style:{padding:12,background:"rgba(245, 158, 11, 0.1)",borderRadius:6,border:"1px solid var(--warning)"},children:[o.jsx("div",{style:{fontWeight:600,color:"var(--warning)",marginBottom:8,fontSize:"0.85rem"},children:"Cons"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.8rem"},children:W.cons.map((w,oe)=>o.jsx("li",{style:{marginBottom:4},children:w},oe))})]})]}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12,fontSize:"0.8rem"},children:"These settings will be changed when you apply:"}),o.jsx("pre",{style:{background:"var(--bg-primary)",padding:12,borderRadius:6,fontSize:"0.75rem",overflow:"auto",maxHeight:300},children:JSON.stringify(l.changes||l,null,2)})]}),n==="custom"&&o.jsx(wQ,{profile:t,currentProfile:m,onComplete:()=>{f("Custom configuration saved!"),setTimeout(()=>f(null),3e3)}})]})}function kQ({profile:t,authStatus:e,onAuthChange:r}){const[n,i]=v.useState(null),[a,s]=v.useState(!1),[l,u]=v.useState(null),[c,d]=v.useState(null),[h,f]=v.useState(0),[m,g]=v.useState(null),[y,x]=v.useState(""),[_,b]=v.useState(""),[S,k]=v.useState(""),[p,j]=v.useState(null),[C,T]=v.useState(!1),E=e[t.path]||!1,z=()=>{g(null),x(""),b(""),k(""),j(null)},B=async()=>{if(!_||_.length<4){j("Password must be at least 4 characters");return}if(_!==S){j("Passwords do not match");return}T(!0),j(null);try{await ly(t.path,null,_),r(),z(),u("Password set successfully!"),setTimeout(()=>u(null),3e3)}catch(R){j(R.message)}finally{T(!1)}},O=async()=>{if(!y){j("Enter current password");return}if(!_||_.length<4){j("New password must be at least 4 characters");return}if(_!==S){j("New passwords do not match");return}T(!0),j(null);try{await ly(t.path,y,_),r(),z(),u("Password changed successfully!"),setTimeout(()=>u(null),3e3)}catch(R){j(R.message)}finally{T(!1)}},G=async()=>{if(!y){j("Enter current password");return}T(!0),j(null);try{await BZ(t.path,y),r(),z(),u("Password removed. Profile is now non-secure."),setTimeout(()=>u(null),3e3)}catch(R){j(R.message)}finally{T(!1)}};v.useEffect(()=>{i(null),d(null),pI(t.path).then(R=>{i(R),d(null)}).catch(R=>{d(R.message),i(null)})},[t.path,h]);const Y=async()=>{if(n){s(!0),u(null);try{await e0(t.path,n),u("Profile saved!"),setTimeout(()=>u(null),2e3)}catch(R){u(`Error: ${R.message}`)}finally{s(!1)}}};if(!n)return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Profile Editor"}),c?o.jsxs("div",{className:"card",style:{borderColor:"var(--danger)"},children:[o.jsxs("p",{style:{color:"var(--danger)"},children:["Failed to load profile: ",c]}),o.jsx("button",{className:"btn btn-primary",onClick:()=>f(R=>R+1),children:"Retry"})]}):o.jsx("div",{className:"card",children:"Loading profile..."})]});const W=n.risk||{},re=n.execution||{},H=(R,M,ee)=>{i({...n,[R]:{...n[R]||{},[M]:ee}})},L=(R,M)=>{i({...n,[R]:M})};return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Profile Editor"}),l&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--success)"},children:o.jsx("p",{children:l})}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Basic Settings"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Symbol"}),o.jsx("input",{value:n.symbol||"",onChange:R=>i({...n,symbol:R.target.value})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Pip Size"}),o.jsx("input",{type:"number",step:"0.001",value:n.pip_size||.01,onChange:R=>i({...n,pip_size:parseFloat(R.target.value)})})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Account Settings"}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Deposit amount and leverage ratio for your reference."}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Deposit Amount ($)"}),o.jsx("input",{type:"number",placeholder:"e.g., 100000",value:n.deposit_amount||"",onChange:R=>L("deposit_amount",R.target.value?parseFloat(R.target.value):null)})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Leverage Ratio"}),o.jsxs("select",{value:n.leverage_ratio||"",onChange:R=>L("leverage_ratio",R.target.value?parseInt(R.target.value):null),children:[o.jsx("option",{value:"",children:"Select leverage..."}),o.jsx("option",{value:"50",children:"1:50"}),o.jsx("option",{value:"100",children:"1:100"}),o.jsx("option",{value:"200",children:"1:200"}),o.jsx("option",{value:"400",children:"1:400"}),o.jsx("option",{value:"500",children:"1:500"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Display Currency (Stats & Logs)"}),o.jsxs("select",{value:n.display_currency||"USD",onChange:R=>L("display_currency",R.target.value),children:[o.jsx("option",{value:"USD",children:"USD"}),o.jsx("option",{value:"JPY",children:"JPY"})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Profits and balances will be shown in this currency. JPY uses current rate from your symbol."})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Broker Connection"}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Choose MetaTrader 5 (Windows) or OANDA (works on Mac/Linux and PaaS like Railway). OANDA is available in Japan and Canada."}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Broker Type"}),o.jsxs("select",{value:n.broker_type||"mt5",onChange:R=>L("broker_type",R.target.value),children:[o.jsx("option",{value:"mt5",children:"MetaTrader 5 (MT5)"}),o.jsx("option",{value:"oanda",children:"OANDA"})]})]}),n.broker_type==="oanda"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"OANDA API Key"}),o.jsx("input",{type:"password",autoComplete:"off",placeholder:"Paste your OANDA API token",value:n.oanda_token||"",onChange:R=>L("oanda_token",R.target.value||null)}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Create a token in OANDA Practice or Live account: Account  Manage API Access."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"OANDA Account ID (optional)"}),o.jsx("input",{type:"text",placeholder:"Leave blank to use first account",value:n.oanda_account_id||"",onChange:R=>L("oanda_account_id",R.target.value||null)})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"OANDA Environment"}),o.jsxs("select",{value:n.oanda_environment||"practice",onChange:R=>L("oanda_environment",R.target.value),children:[o.jsx("option",{value:"practice",children:"Practice (demo)"}),o.jsx("option",{value:"live",children:"Live"})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Risk Settings"}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16,marginTop:-8},children:"These limits are final and cannot be overridden by presets or the custom wizard."}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Lots"}),o.jsx("input",{type:"number",step:"0.01",value:W.max_lots||.1,onChange:R=>H("risk","max_lots",parseFloat(R.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Spread (pips)"}),o.jsx("input",{type:"number",step:"0.1",value:W.max_spread_pips||2,onChange:R=>H("risk","max_spread_pips",parseFloat(R.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Trades/Day"}),o.jsx("input",{type:"number",value:W.max_trades_per_day||10,onChange:R=>H("risk","max_trades_per_day",parseInt(R.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Open Trades"}),o.jsx("input",{type:"number",min:1,max:20,value:W.max_open_trades??2,onChange:R=>H("risk","max_open_trades",parseInt(R.target.value)||1)})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Cooldown After Loss (minutes)"}),o.jsx("input",{type:"number",min:0,max:120,value:W.cooldown_minutes_after_loss??0,onChange:R=>H("risk","cooldown_minutes_after_loss",parseInt(R.target.value)||0)})]}),o.jsx("div",{className:"form-group",children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("input",{type:"checkbox",checked:W.require_stop||!1,onChange:R=>H("risk","require_stop",R.target.checked),style:{width:"auto"}}),"Require Stop Loss"]})}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Min Stop Pips"}),o.jsx("input",{type:"number",step:"1",min:1,max:500,value:W.min_stop_pips??10,onChange:R=>H("risk","min_stop_pips",parseFloat(R.target.value)||10)}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Minimum stop loss distance in pips. Default is 10."})]})]})]}),o.jsxs("div",{className:"card mt-4",children:[o.jsx("h3",{className:"card-title",children:"Profile Security"}),E?o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16},children:"This profile is protected by a password."}),o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>g("change"),children:"Change Password"}),o.jsx("button",{className:"btn btn-danger",onClick:()=>g("remove"),children:"Remove Password"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16},children:"This profile has no password. Anyone with access to this computer can open it."}),o.jsx("button",{className:"btn btn-primary",onClick:()=>g("add"),children:"Add Password"})]})]}),m&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{className:"card",style:{maxWidth:400,margin:16},children:[o.jsxs("h3",{className:"card-title",children:[m==="add"&&"Add Password",m==="change"&&"Change Password",m==="remove"&&"Remove Password"]}),(m==="change"||m==="remove")&&o.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[o.jsx("label",{children:"Current Password"}),o.jsx("input",{type:"password",value:y,onChange:R=>x(R.target.value),placeholder:"Enter current password"})]}),(m==="add"||m==="change")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[o.jsx("label",{children:m==="change"?"New Password":"Password"}),o.jsx("input",{type:"password",value:_,onChange:R=>b(R.target.value),placeholder:"Min 4 characters"})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[o.jsxs("label",{children:["Confirm ",m==="change"?"New ":"","Password"]}),o.jsx("input",{type:"password",value:S,onChange:R=>k(R.target.value),placeholder:"Confirm password"})]})]}),m==="remove"&&o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12},children:"This will remove password protection. Anyone with access to this computer will be able to open this profile."}),(m==="add"||m==="change")&&o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--warning)",marginBottom:12,background:"rgba(234, 179, 8, 0.1)",padding:8,borderRadius:4},children:"Write your password down in a safe location. There is no forgot-password option."}),p&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.85rem",marginBottom:12},children:p}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:m==="remove"?"btn btn-danger":"btn btn-primary",onClick:m==="add"?B:m==="change"?O:G,disabled:C,children:C?"Processing...":m==="add"?"Set Password":m==="change"?"Change Password":"Remove Password"}),o.jsx("button",{className:"btn btn-secondary",onClick:z,disabled:C,children:"Cancel"})]})]})}),o.jsxs("div",{className:"card mt-4",children:[o.jsx("h3",{className:"card-title",children:"Execution Settings"}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Loop Poll Seconds"}),o.jsx("input",{type:"number",step:"0.5",value:re.loop_poll_seconds||5,onChange:R=>H("execution","loop_poll_seconds",parseFloat(R.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Fast Poll Seconds"}),o.jsx("input",{type:"number",step:"0.5",value:re.loop_poll_seconds_fast||2,onChange:R=>H("execution","loop_poll_seconds_fast",parseFloat(R.target.value))})]})]}),o.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:8},children:["Policies: ",(re.policies||[]).length," configured. Use the Streamlit UI or edit JSON directly for full policy management."]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{className:"btn btn-primary",onClick:Y,disabled:a,children:a?"Saving...":"Save Profile"})})]})}function PQ({profileName:t,profilePath:e}){const[r,n]=v.useState([]),[i,a]=v.useState("USD"),[s,l]=v.useState(!0);if(v.useEffect(()=>{l(!0),XZ(t,e,365).then(d=>{a(d.display_currency||"USD"),n(d.days.map(h=>({date:`${h.date.slice(5,7)}/${h.date.slice(8,10)}`,dailyProfit:h.daily_profit,cumProfit:h.cum_profit,tradeCount:h.trade_count})))}).catch(console.error).finally(()=>l(!1))},[t,e]),s)return o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Equity Curve"}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Loading chart data from broker..."})]});if(r.length<2)return o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Equity Curve"}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Chart will appear after 2+ trading days with closed trades."})]});const u=i,c=({active:d,payload:h,label:f})=>{if(!d||!h||!h.length)return null;const m=h.find(x=>x.dataKey==="cumProfit"),g=h.find(x=>x.dataKey==="dailyProfit"),y=h.find(x=>x.dataKey==="tradeCount");return o.jsxs("div",{style:{background:"#1a1d24",border:"1px solid #3a3d45",borderRadius:6,padding:"10px 14px",fontSize:"0.8rem",lineHeight:1.6},children:[o.jsx("div",{style:{fontWeight:600,marginBottom:4,color:"#e0e0e0"},children:f}),m&&o.jsxs("div",{style:{color:m.value>=0?"#28a745":"#dc3545"},children:["Cumulative: ",m.value>=0?"+":"",m.value.toFixed(2)," ",u]}),g&&o.jsxs("div",{style:{color:g.value>=0?"#28a745":"#dc3545"},children:["Daily P/L: ",g.value>=0?"+":"",g.value.toFixed(2)," ",u]}),y&&o.jsxs("div",{style:{color:"#4a90d9"},children:["Trades: ",y.value]})]})};return o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:16},children:"Equity Curve"}),o.jsx("div",{style:{width:"100%",height:300},children:o.jsx(Kr,{width:"100%",height:"100%",children:o.jsxs(zZ,{data:r,margin:{top:5,right:10,left:10,bottom:5},children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"profitGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"#28a745",stopOpacity:.3}),o.jsx("stop",{offset:"100%",stopColor:"#28a745",stopOpacity:.02})]})}),o.jsx(Cr,{strokeDasharray:"3 3",stroke:"#3a3d45",vertical:!1}),o.jsx(Er,{dataKey:"date",tick:{fontSize:11,fill:"#a0a0a0"},tickLine:!1,axisLine:{stroke:"#3a3d45"}}),o.jsx(pr,{yAxisId:"left",tick:{fontSize:11,fill:"#a0a0a0"},tickLine:!1,axisLine:!1,tickFormatter:d=>`${d>=0?"+":""}${d}`}),o.jsx(pr,{yAxisId:"right",orientation:"right",tick:{fontSize:11,fill:"#4a90d9"},tickLine:!1,axisLine:!1,allowDecimals:!1}),o.jsx(Vr,{content:o.jsx(c,{})}),o.jsx(Ti,{yAxisId:"left",y:0,stroke:"#3a3d45",strokeDasharray:"3 3"}),o.jsx(qx,{yAxisId:"left",type:"monotone",dataKey:"cumProfit",stroke:"#28a745",strokeWidth:2,fill:"url(#profitGradient)"}),o.jsx(gl,{yAxisId:"left",dataKey:"dailyProfit",barSize:r.length>60?4:r.length>30?8:14,fill:"#28a745",shape:d=>{const{x:h,y:f,width:m,height:g,payload:y}=d;return o.jsx("rect",{x:h,y:g<0?f+g:f,width:m,height:Math.abs(g),fill:y.dailyProfit>=0?"#28a745":"#dc3545",opacity:.7,rx:1})}}),o.jsx(ks,{yAxisId:"right",type:"monotone",dataKey:"tradeCount",stroke:"#4a90d9",strokeWidth:1.5,dot:!1,opacity:.7})]})})}),o.jsxs("div",{style:{display:"flex",gap:16,marginTop:8,fontSize:"0.7rem",color:"#a0a0a0",justifyContent:"center"},children:[o.jsxs("span",{children:[o.jsx("span",{style:{display:"inline-block",width:12,height:3,background:"#28a745",marginRight:4,verticalAlign:"middle"}}),"Cumulative P/L"]}),o.jsxs("span",{children:[o.jsx("span",{style:{display:"inline-block",width:8,height:8,background:"#28a745",marginRight:4,verticalAlign:"middle",opacity:.7}}),"Daily P/L"]}),o.jsxs("span",{children:[o.jsx("span",{style:{display:"inline-block",width:12,height:3,background:"#4a90d9",marginRight:4,verticalAlign:"middle"}}),"Trades/Day"]})]})]})}function MQ({trades:t}){if(t.length===0)return o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Session Performance"}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"No closed trades yet."})]});const r=[{name:"Tokyo",startHour:0,endHour:9},{name:"London",startHour:7,endHour:16},{name:"New York",startHour:12,endHour:21}].map(n=>{const i=t.filter(u=>{const c=new Date(u.entry_time_utc).getUTCHours();return c>=n.startHour&&c<n.endHour}),a=i.filter(u=>u.pips!==null&&u.pips>0).length,s=i.reduce((u,c)=>u+(c.pips||0),0),l=i.length>0?s/i.length:0;return{...n,count:i.length,winRate:i.length>0?a/i.length:0,totalPips:s,avgPips:l}});return o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:16},children:"Session Performance"}),o.jsx("div",{className:"grid-3",children:r.map(n=>o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{style:{fontWeight:700,fontSize:"1rem",marginBottom:4},children:n.name}),o.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:8},children:[String(n.startHour).padStart(2,"0"),":00",String(n.endHour).padStart(2,"0"),":00 UTC"]}),o.jsxs("div",{style:{fontSize:"0.85rem"},children:[n.count," trades"]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:n.winRate>=.5?"var(--success)":"var(--warning)"},children:[(n.winRate*100).toFixed(0),"% win rate"]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:n.totalPips>=0?"var(--success)":"var(--danger)"},children:[n.totalPips>=0?"+":"",n.totalPips.toFixed(1)," pips"]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Avg: ",n.avgPips>=0?"+":"",n.avgPips.toFixed(2)," pips"]})]},n.name))})]})}function CQ({trades:t,displayCurrency:e="USD"}){if(t.length===0)return o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Long vs Short"}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"No closed trades yet."})]});const r=s=>{const l=t.filter(f=>f.side===s),u=l.filter(f=>f.pips!==null&&f.pips>0).length,c=l.reduce((f,m)=>f+(m.pips||0),0),d=l.reduce((f,m)=>f+(m.profit||0),0),h=l.length>0?c/l.length:0;return{count:l.length,winRate:l.length>0?u/l.length:0,totalPips:c,totalProfit:d,avgPips:h}},n=r("buy"),i=r("sell"),a=({label:s,stats:l,color:u})=>o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{style:{fontWeight:700,fontSize:"1rem",marginBottom:8,color:u},children:s}),o.jsxs("div",{style:{fontSize:"0.85rem"},children:[l.count," trades"]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:l.winRate>=.5?"var(--success)":"var(--warning)"},children:[(l.winRate*100).toFixed(0),"% win rate"]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:l.totalPips>=0?"var(--success)":"var(--danger)"},children:[l.totalPips>=0?"+":"",l.totalPips.toFixed(1)," pips"]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:l.totalProfit>=0?"var(--success)":"var(--danger)"},children:[l.totalProfit>=0?"+":"",l.totalProfit.toFixed(2)," ",e]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Avg: ",l.avgPips>=0?"+":"",l.avgPips.toFixed(2)," pips"]})]});return o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:16},children:"Long vs Short"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[o.jsx(a,{label:"Long (Buy)",stats:n,color:"var(--success)"}),o.jsx(a,{label:"Short (Sell)",stats:i,color:"var(--danger)"})]})]})}function EQ({trades:t}){const e=t.filter(i=>i.spread_pips!==null&&i.spread_pips!==void 0);if(e.length===0)return o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Spread Analysis"}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Spread analysis available after bot-placed trades accumulate."})]});const n=[{name:"Tight",label:"< 1.0 pip",filter:i=>i<1},{name:"Normal",label:"1.02.0 pips",filter:i=>i>=1&&i<=2},{name:"Wide",label:"> 2.0 pips",filter:i=>i>2}].map(i=>{const a=e.filter(c=>i.filter(c.spread_pips)),s=a.filter(c=>c.pips!==null&&c.pips>0).length,l=a.reduce((c,d)=>c+(d.pips||0),0),u=a.length>0?l/a.length:0;return{...i,count:a.length,winRate:a.length>0?s/a.length:0,avgPips:u}});return o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:16},children:"Spread Analysis"}),o.jsx("div",{className:"grid-3",children:n.map(i=>o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{style:{fontWeight:700,fontSize:"1rem",marginBottom:4},children:i.name}),o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:8},children:i.label}),o.jsxs("div",{style:{fontSize:"0.85rem"},children:[i.count," trades"]}),i.count>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{fontSize:"0.85rem",color:i.winRate>=.5?"var(--success)":"var(--warning)"},children:[(i.winRate*100).toFixed(0),"% win rate"]}),o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Avg: ",i.avgPips>=0?"+":"",i.avgPips.toFixed(2)," pips"]})]})]},i.name))})]})}function AQ({profileName:t,profilePath:e}){const[r,n]=v.useState([]),[,i]=v.useState("USD"),[a,s]=v.useState(null),[l,u]=v.useState(null),[c,d]=v.useState(!0),[h,f]=v.useState("all"),[m,g]=v.useState({mae_mfe:!1,rolling:!1,r_dist:!1,drawdown:!1,duration:!1,breakdown:!1}),[y,x]=v.useState(20),[_,b]=v.useState("trades"),[S,k]=v.useState(7);v.useEffect(()=>{d(!0),iQ(t,e,365).then(A=>{const V=(Array.isArray(A==null?void 0:A.trades)?A.trades:[]).map($=>({...$,exit_time_utc:typeof $.exit_time_utc=="string"?$.exit_time_utc:String($.exit_time_utc??"")}));n(V),i((A==null?void 0:A.display_currency)||"USD"),s((A==null?void 0:A.starting_balance)??null),u((A==null?void 0:A.total_profit_currency)??null)}).catch(console.error).finally(()=>d(!1))},[t,e]);const p=A=>{g(P=>({...P,[A]:!P[A]}))},j=Array.isArray(r)?r:[],C=Array.from(new Set(j.map(A=>A.preset_name).filter(Boolean))),T=h==="all"?j:j.filter(A=>A.preset_name===h),E=v.useMemo(()=>T.filter(A=>A.max_adverse_pips!=null&&A.pips!=null),[T]),z=v.useMemo(()=>T.filter(A=>A.max_favorable_pips!=null&&A.pips!=null),[T]),B=v.useMemo(()=>T.filter(A=>A.r_multiple!=null),[T]),O=v.useMemo(()=>T.filter(A=>A.duration_minutes!=null&&A.pips!=null),[T]),{rValues:G,avgWinR:Y,avgLossR:W,winRateR:re,expectancy:H}=v.useMemo(()=>{const A=B.map(ie=>ie.r_multiple),P=A.filter(ie=>ie>0),V=A.filter(ie=>ie<=0),$=P.length>0?P.reduce((ie,ne)=>ie+ne,0)/P.length:0,Z=V.length>0?Math.abs(V.reduce((ie,ne)=>ie+ne,0)/V.length):0,ae=B.length>0?P.length/B.length:0,X=B.length>0?ae*$-(1-ae)*Z:null;return{rValues:A,avgWinR:$,avgLossR:Z,winRateR:ae,expectancy:X}},[B]),L=v.useMemo(()=>m.drawdown?te(T,{startingBalance:a??void 0,totalProfitCurrency:l??void 0}):{series:[],maxDdPips:0,maxDdPct:null,maxDdPctNote:null,currentDd:0,longestTrades:0,longestTime:"",recoveryFactor:null,recoveryFactorNote:null,maxDdUsd:null},[m.drawdown,T,a,l]),{avgDurWin:R,avgDurLoss:M,durRatio:ee,pipsPerHour:q}=v.useMemo(()=>{const A=O.filter(ne=>(ne.pips??0)>0),P=O.filter(ne=>(ne.pips??0)<=0),V=A.length>0?A.reduce((ne,ge)=>ne+ge.duration_minutes,0)/A.length:0,$=P.length>0?P.reduce((ne,ge)=>ne+ge.duration_minutes,0)/P.length:0,Z=$>0?V/$:0,ae=O.reduce((ne,ge)=>ne+(ge.pips??0),0),X=O.reduce((ne,ge)=>ne+ge.duration_minutes,0)/60,ie=X>0?ae/X:0;return{durWinners:A,durLosers:P,avgDurWin:V,avgDurLoss:$,durRatio:Z,totalPips:ae,totalHours:X,pipsPerHour:ie}},[O]),Pe=v.useMemo(()=>m.rolling?D(T,y,_,S):[],[m.rolling,T,y,_,S]);function _e(A,P,V){const $={};for(const ae of A){const X=P(ae)??"Unknown";$[X]||($[X]=[]),$[X].push(ae)}return(V?V.filter(ae=>$[ae]):Object.keys($).sort()).map(ae=>{const X=$[ae]||[],ie=X.filter(ge=>(ge.pips??0)>0).length,ne=X.map(ge=>ge.profit).filter(ge=>ge!=null);return{label:ae,trades:X.length,wins:ie,winRate:X.length>0?ie/X.length:0,avgPnl:ne.length>0?ne.reduce((ge,ve)=>ge+ve,0)/ne.length:null}})}function Ee(A){try{const P=new Date(A.entry_time_utc).getUTCHours();return P>=23||P<7?"Tokyo":P>=7&&P<13?"London":"New York"}catch{return"Unknown"}}const se=v.useMemo(()=>{if(!m.breakdown)return null;const A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return{entryType:_e(T,P=>P.entry_type,["zone_entry","tiered_pullback"]),tier:_e(T,P=>P.tier_number!=null?`EMA ${P.tier_number}`:null),session:_e(T,Ee,["Tokyo","London","New York"]),riskTier:_e(T,P=>P.reversal_risk_tier,["low","medium","high","critical"]),dayOfWeek:_e(T,P=>{try{return A[new Date(P.entry_time_utc).getUTCDay()]}catch{return null}},A),hourOfDay:_e(T,P=>{try{return`${new Date(P.entry_time_utc).getUTCHours().toString().padStart(2,"0")}:00`}catch{return null}})}},[m.breakdown,T]),he={display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"12px 16px",background:"var(--bg-tertiary)",borderRadius:6,border:"1px solid var(--border)",marginBottom:4},be={textAlign:"center",padding:12,background:"var(--bg-tertiary)",borderRadius:6,border:"1px solid var(--border)"},K={green:"#22c55e",red:"#ef4444",blue:"#3b82f6",orange:"#f59e0b",purple:"#a855f7"},pe=A=>A<60?`${Math.round(A)}m`:A<1440?`${(A/60).toFixed(1)}h`:`${(A/1440).toFixed(1)}d`;function xe(A){let P=0;const V=$=>$.exit_time_utc!=null?String($.exit_time_utc):"";return A.filter($=>$.pips!=null).sort(($,Z)=>V($).localeCompare(V(Z))).map(($,Z)=>(P+=$.pips,{idx:Z+1,cumPips:Math.round(P*100)/100,date:V($).slice(0,10),pips:$.pips}))}function D(A,P,V,$){const Z=X=>X.exit_time_utc!=null?String(X.exit_time_utc):"",ae=A.filter(X=>X.pips!=null).sort((X,ie)=>Z(X).localeCompare(Z(ie)));return ae.length===0?[]:ae.map((X,ie)=>{let ne;if(V==="trades"){const Se=Math.max(0,ie-P+1);ne=ae.slice(Se,ie+1)}else{const Se=new Date(Z(ae[ie])||0),Ne=new Date(Se.getTime()-$*864e5);ne=ae.filter(er=>{const De=Z(er);return De&&new Date(De)>=Ne&&new Date(De)<=Se})}if(ne.length===0)return null;const ge=ne.filter(Se=>(Se.pips??0)>0).length,ve=Math.round(ge/ne.length*1e3)/10,me=Math.round(ne.reduce((Se,Ne)=>Se+(Ne.pips??0),0)/ne.length*100)/100,ye=ne.filter(Se=>Se.r_multiple!=null),mt=ye.length>0?Math.round(ye.reduce((Se,Ne)=>Se+Ne.r_multiple,0)/ye.length*100)/100:null,dt=ye.filter(Se=>Se.r_multiple>0),hr=ye.filter(Se=>Se.r_multiple<=0),Pr=dt.length>0?dt.reduce((Se,Ne)=>Se+Ne.r_multiple,0)/dt.length:0,Fe=hr.length>0?Math.abs(hr.reduce((Se,Ne)=>Se+Ne.r_multiple,0)/hr.length):0,wt=ye.length>0?dt.length/ye.length:0,Ce=ye.length>0?Math.round((wt*Pr-(1-wt)*Fe)*100)/100:null;return{idx:ie+1,winRate:ve,avgPips:me,avgR:mt,expectancy:Ce,date:Z(ae[ie]).slice(0,10)}}).filter(Boolean)}function te(A,P={}){const{startingBalance:V=null,totalProfitCurrency:$=null}=P,Z=A.some(De=>De.profit!=null),ae=V!=null&&V>0&&Z,X=xe(A);if(X.length===0)return{series:[],maxDdPips:0,maxDdPct:null,maxDdPctNote:"Requires starting balance (set in Profile or broker connection)",currentDd:0,longestTrades:0,longestTime:"",recoveryFactor:null,recoveryFactorNote:null,maxDdUsd:null};let ie=0,ne=0,ge=0,ve="",me="",ye=0,mt="";const dt=X.map(De=>{De.cumPips>ie?(ye>ge&&(ge=ye,ve=mt,me=De.date),ie=De.cumPips,ye=0,mt=De.date):(ye++,ye===1&&(mt=De.date));const Fr=ie-De.cumPips;return Fr>ne&&(ne=Fr),{idx:De.idx,dd:-Fr,date:De.date}});ye>ge&&(ge=ye,ve=mt,me=X[X.length-1].date);const hr=ie-X[X.length-1].cumPips,Pr=X[X.length-1].cumPips;let Fe=null,wt=null,Ce=null,Se=null,Ne=null;if(ae&&$!=null){const De=un=>un.exit_time_utc!=null?String(un.exit_time_utc):"",Fr=A.filter(un=>un.profit!=null).sort((un,Si)=>De(un).localeCompare(De(Si)));let ln=0,tr=V,vt=0;for(const un of Fr){ln+=un.profit;const Si=V+ln;Si>tr&&(tr=Si);const wo=tr-Si;wo>vt&&(vt=wo)}Ne=Math.round(vt*100)/100,Fe=tr>0?Math.round(vt/tr*1e3)/10:null,Ce=vt>0&&$>0?Math.round($/vt*100)/100:null,Ce==null&&$!=null&&vt>0&&$<=0&&(Se="Requires profit data (sync from broker)")}else wt="Requires starting balance (set in Profile or broker connection)",Pr<0||ne<=0?Se="N/A (net pips negative or no drawdown; use profit-based view when broker connected)":Ce=ne>0?Math.round(Pr/ne*100)/100:null;let er="";return ve&&me&&(er=`${Math.round((new Date(me).getTime()-new Date(ve).getTime())/864e5)}d`),{series:dt,maxDdPips:Math.round(ne*100)/100,maxDdPct:Fe,maxDdPctNote:wt,currentDd:Math.round(hr*100)/100,longestTrades:ge,longestTime:er,recoveryFactor:Ce,recoveryFactorNote:Se,maxDdUsd:Ne}}function fe(A,P=8){if(A.length===0)return[];const V=Math.min(...A),$=Math.max(...A);if(V===$)return[{bin:V.toFixed(1),count:A.length,midValue:V}];const Z=($-V)/P,ae=[];for(let X=0;X<P;X++){const ie=V+X*Z,ne=ie+Z,ge=A.filter(ve=>ve>=ie&&(X===P-1?ve<=ne:ve<ne)).length;ae.push({bin:`${ie.toFixed(1)}`,count:ge,midValue:ie+Z/2})}return ae}if(c)return o.jsx("div",{className:"card mb-4",style:{textAlign:"center",padding:24},children:o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Loading advanced analytics..."})});if(j.length===0)return null;for(const A of j)for(const[P,V]of Object.entries(A))if(V!==null&&typeof V=="object")return console.error(`AdvancedAnalytics: trade field "${P}" is an object:`,V),o.jsxs("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:[o.jsx("strong",{children:"Debug:"}),' Trade field "',P,'" is an object instead of a primitive value.',o.jsx("pre",{style:{fontSize:"0.7rem",marginTop:8,overflow:"auto"},children:JSON.stringify(V,null,2)})]});return o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12,flexWrap:"wrap"},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"Advanced Analytics"}),C.length>1&&o.jsxs("select",{value:h,onChange:A=>f(A.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border)",borderRadius:4,padding:"4px 8px",fontSize:"0.8rem"},children:[o.jsx("option",{value:"all",children:"All Presets"}),C.map(A=>o.jsx("option",{value:A,children:A},A))]})]}),o.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:[T.length," closed trade",T.length!==1?"s":""," analyzed"]}),o.jsxs("div",{style:he,onClick:()=>p("mae_mfe"),children:[o.jsx("strong",{children:"MAE / MFE Analysis"}),o.jsx("span",{children:m.mae_mfe?"":""})]}),m.mae_mfe&&o.jsx("div",{style:{padding:"12px 0"},children:E.length===0?o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",padding:"0 16px"},children:"MAE/MFE tracking starts automatically for new trades. Historical trades will show N/A."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"MAE vs P&L (pips)"}),o.jsx("div",{style:{minHeight:250,width:"100%"},children:o.jsx(Kr,{width:"100%",height:250,children:o.jsxs(ov,{margin:{top:5,right:20,bottom:20,left:10},children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{type:"number",dataKey:"mae",name:"MAE",label:{value:"Adverse Excursion (pips)",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:11}}),o.jsx(pr,{type:"number",dataKey:"pips",name:"P&L",label:{value:"P&L (pips)",angle:-90,position:"insideLeft",style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:11}}),o.jsx(Vr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"},formatter:(A,P)=>[Number(A).toFixed(2),P]}),o.jsx(Xc,{data:E.map(A=>({mae:Math.abs(A.max_adverse_pips),pips:A.pips,isWin:A.pips>0})),children:E.map((A,P)=>o.jsx(wa,{fill:A.pips>0?K.green:K.red,opacity:.7},P))})]})})})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"MFE vs P&L (pips)"}),o.jsx("div",{style:{minHeight:250,width:"100%"},children:o.jsx(Kr,{width:"100%",height:250,children:o.jsxs(ov,{margin:{top:5,right:20,bottom:20,left:10},children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{type:"number",dataKey:"mfe",name:"MFE",label:{value:"Favorable Excursion (pips)",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:11}}),o.jsx(pr,{type:"number",dataKey:"pips",name:"P&L",label:{value:"P&L (pips)",angle:-90,position:"insideLeft",style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:11}}),o.jsx(Vr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"},formatter:(A,P)=>[Number(A).toFixed(2),P]}),o.jsx(Xc,{data:z.map(A=>({mfe:A.max_favorable_pips,pips:A.pips,isWin:A.pips>0})),children:z.map((A,P)=>o.jsx(wa,{fill:A.pips>0?K.green:K.red,opacity:.7},P))})]})})})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16,marginTop:16},children:[o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Capture Ratio (Winners)"}),o.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--accent)"},children:(()=>{const A=z.filter(V=>V.pips>0&&V.max_favorable_pips>0);return A.length===0?"N/A":`${(A.reduce((V,$)=>V+$.pips/$.max_favorable_pips,0)/A.length*100).toFixed(0)}%`})()}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Avg % of MFE captured on winning trades"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"MAE Distribution (Winners)"}),(()=>{const A=E.filter(V=>V.pips>0).map(V=>Math.abs(V.max_adverse_pips)),P=fe(A,8);return P.length===0?o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"No data"}):o.jsx("div",{style:{minHeight:200,width:"100%"},children:o.jsx(Kr,{width:"100%",height:200,children:o.jsxs(sv,{data:P,margin:{top:5,right:20,bottom:20,left:10},children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{dataKey:"bin",tick:{fill:"var(--text-secondary)",fontSize:10},label:{value:"Adverse pips",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}}}),o.jsx(pr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(Vr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"}}),o.jsx(gl,{dataKey:"count",fill:K.blue,radius:[4,4,0,0]})]})})})})()]})]})]})}),o.jsxs("div",{style:he,onClick:()=>p("rolling"),children:[o.jsx("strong",{children:"Rolling Performance"}),o.jsx("span",{children:m.rolling?"":""})]}),m.rolling&&o.jsxs("div",{style:{padding:"12px 0"},children:[o.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Window:"}),["trades","time"].map(A=>o.jsx("button",{onClick:()=>b(A),style:{padding:"4px 10px",fontSize:"0.75rem",borderRadius:4,cursor:"pointer",background:_===A?"var(--accent)":"var(--bg-tertiary)",color:_===A?"white":"var(--text-secondary)",border:"1px solid var(--border)"},children:A==="trades"?"By Trades":"By Time"},A)),_==="trades"?[20,50,100].map(A=>o.jsxs("button",{onClick:()=>x(A),style:{padding:"4px 10px",fontSize:"0.75rem",borderRadius:4,cursor:"pointer",background:y===A?"var(--accent)":"var(--bg-tertiary)",color:y===A?"white":"var(--text-secondary)",border:"1px solid var(--border)"},children:["Last ",A]},A)):[1,7,30].map(A=>o.jsxs("button",{onClick:()=>k(A),style:{padding:"4px 10px",fontSize:"0.75rem",borderRadius:4,cursor:"pointer",background:S===A?"var(--accent)":"var(--bg-tertiary)",color:S===A?"white":"var(--text-secondary)",border:"1px solid var(--border)"},children:[A,"d"]},A))]}),(()=>{const A=Pe,P=_==="trades"?y:3;if(A.length<P)return o.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:["Need at least ",P," trades for rolling metrics."]});const V=T.filter(ie=>ie.pips!=null),$=V.length>0?V.filter(ie=>ie.pips>0).length/V.length*100:50,Z=V.length>0?V.reduce((ie,ne)=>ie+ne.pips,0)/V.length:0,ae={top:5,right:20,bottom:5,left:10},X={background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"};return o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16,minHeight:220},children:[o.jsxs("div",{style:{minHeight:200},children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Rolling Win Rate (%)"}),o.jsx(Kr,{width:"100%",height:200,children:o.jsxs(Pc,{data:A,margin:ae,children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(pr,{domain:[0,100],tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(Vr,{contentStyle:X}),o.jsx(Ti,{y:$,stroke:"var(--text-secondary)",strokeDasharray:"5 5"}),o.jsx(ks,{type:"monotone",dataKey:"winRate",stroke:K.blue,dot:!1,strokeWidth:2})]})})]}),o.jsxs("div",{style:{minHeight:200},children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Rolling Avg Pips"}),o.jsx(Kr,{width:"100%",height:200,children:o.jsxs(Pc,{data:A,margin:ae,children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(pr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(Vr,{contentStyle:X}),o.jsx(Ti,{y:Z,stroke:"var(--text-secondary)",strokeDasharray:"5 5"}),o.jsx(Ti,{y:0,stroke:"var(--border)"}),o.jsx(ks,{type:"monotone",dataKey:"avgPips",stroke:K.green,dot:!1,strokeWidth:2})]})})]}),o.jsxs("div",{style:{minHeight:200},children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Rolling Expectancy (R)"}),o.jsx(Kr,{width:"100%",height:200,children:o.jsxs(Pc,{data:A.filter(ie=>ie.expectancy!=null),margin:ae,children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(pr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(Vr,{contentStyle:X}),o.jsx(Ti,{y:0,stroke:"var(--border)"}),o.jsx(ks,{type:"monotone",dataKey:"expectancy",stroke:K.orange,dot:!1,strokeWidth:2})]})})]}),o.jsxs("div",{style:{minHeight:200},children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Rolling Avg R"}),o.jsx(Kr,{width:"100%",height:200,children:o.jsxs(Pc,{data:A.filter(ie=>ie.avgR!=null),margin:ae,children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(pr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(Vr,{contentStyle:X}),o.jsx(Ti,{y:0,stroke:"var(--border)"}),o.jsx(ks,{type:"monotone",dataKey:"avgR",stroke:K.purple,dot:!1,strokeWidth:2})]})})]})]})})()]}),o.jsxs("div",{style:he,onClick:()=>p("r_dist"),children:[o.jsx("strong",{children:"R-Multiple Distribution"}),o.jsx("span",{children:m.r_dist?"":""})]}),m.r_dist&&o.jsx("div",{style:{padding:"12px 0"},children:B.length===0?o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"No trades with R-multiple data. Ensure trades have stop loss for R calculation."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",gap:16,marginBottom:16,flexWrap:"wrap"},children:[o.jsxs("div",{style:{...be,flex:"1 1 200px"},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"System Expectancy"}),o.jsx("div",{style:{fontSize:"2rem",fontWeight:700,color:H!=null&&H>0?"var(--success)":H!=null&&H<0?"var(--danger)":"var(--text-secondary)"},children:H!=null?`${H>=0?"+":""}${H.toFixed(2)}R`:"N/A"}),o.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:4},children:[(re*100).toFixed(0),"% x ",Y.toFixed(2),"R - ",((1-re)*100).toFixed(0),"% x ",W.toFixed(2),"R"]}),o.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:6},children:["Based on trades with stop loss (",B.length," of ",T.length," total)."]})]}),o.jsxs("div",{style:{...be,flex:"0 1 120px"},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Skew"}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:600,color:H!=null&&H>0?"var(--success)":"var(--warning)"},children:H!=null&&H>0&&Y>W?"Robust":"Fragile"})]})]}),o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"R-Multiple Distribution"}),(()=>{const A=fe(G,10);return o.jsx("div",{style:{minHeight:250,width:"100%"},children:o.jsx(Kr,{width:"100%",height:250,children:o.jsxs(sv,{data:A,margin:{top:5,right:20,bottom:20,left:10},children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{dataKey:"bin",tick:{fill:"var(--text-secondary)",fontSize:10},label:{value:"R-Multiple",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}}}),o.jsx(pr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(Vr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"}}),o.jsx(gl,{dataKey:"count",radius:[4,4,0,0],children:A.map((P,V)=>o.jsx(wa,{fill:P.midValue>=0?K.green:K.red},V))})]})})})})()]})}),o.jsxs("div",{style:he,onClick:()=>p("drawdown"),children:[o.jsx("strong",{children:"Drawdown Analysis"}),o.jsx("span",{children:m.drawdown?"":""})]}),m.drawdown&&o.jsx("div",{style:{padding:"12px 0"},children:T.filter(A=>A.pips!=null).length<2?o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Need at least 2 trades for drawdown analysis."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12,marginBottom:16},children:[o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max DD (pips)"}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--danger)"},children:L.maxDdPips})]}),L.maxDdUsd!=null&&o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max DD (USD)"}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--danger)"},children:L.maxDdUsd})]}),o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max DD (%)"}),L.maxDdPct!=null?o.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--danger)"},children:[L.maxDdPct,"%"]}):o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:L.maxDdPctNote??""})]}),o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Current DD"}),o.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:700,color:L.currentDd>0?"var(--danger)":"var(--success)"},children:[L.currentDd," pips"]})]}),o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Longest DD"}),o.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--warning)"},children:[L.longestTrades," trades"]}),L.longestTime&&o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:L.longestTime})]}),o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Recovery Factor"}),L.recoveryFactor!=null?o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:L.recoveryFactor>1?"var(--success)":"var(--warning)"},children:L.recoveryFactor}):o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:L.recoveryFactorNote??"N/A"})]})]}),o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Underwater Equity Curve"}),o.jsx("div",{style:{minHeight:200,width:"100%"},children:o.jsx(Kr,{width:"100%",height:200,children:o.jsxs(OZ,{data:L.series,margin:{top:5,right:20,bottom:5,left:10},children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(pr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(Vr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"},formatter:A=>[`${Number(A).toFixed(2)} pips`,"Drawdown"]}),o.jsx(Ti,{y:0,stroke:"var(--border)"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"ddGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:K.red,stopOpacity:.1}),o.jsx("stop",{offset:"100%",stopColor:K.red,stopOpacity:.6})]})}),o.jsx(qx,{type:"monotone",dataKey:"dd",stroke:K.red,fill:"url(#ddGradient)",strokeWidth:1.5})]})})})]})}),o.jsxs("div",{style:he,onClick:()=>p("duration"),children:[o.jsx("strong",{children:"Trade Duration Analysis"}),o.jsx("span",{children:m.duration?"":""})]}),m.duration&&o.jsx("div",{style:{padding:"12px 0"},children:O.length===0?o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"No trades with duration data."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12,marginBottom:16},children:[o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Duration (W)"}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--success)"},children:pe(R)})]}),o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Duration (L)"}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--danger)"},children:pe(M)})]}),o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Duration Ratio (W/L)"}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:ee<1?"var(--success)":"var(--warning)"},children:ee.toFixed(2)})]}),o.jsxs("div",{style:be,children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Pips/Hour"}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--accent)"},children:q.toFixed(2)})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Duration vs P&L"}),o.jsx("div",{style:{minHeight:250,width:"100%"},children:o.jsx(Kr,{width:"100%",height:250,children:o.jsxs(ov,{margin:{top:5,right:20,bottom:20,left:10},children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{type:"number",dataKey:"dur",name:"Duration",label:{value:"Duration (min)",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(pr,{type:"number",dataKey:"pips",name:"P&L",label:{value:"P&L (pips)",angle:-90,position:"insideLeft",style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(Vr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"},formatter:(A,P)=>[P==="Duration"?pe(Number(A)):Number(A).toFixed(2),P]}),o.jsx(Xc,{data:O.map(A=>({dur:A.duration_minutes,pips:A.pips})),children:O.map((A,P)=>o.jsx(wa,{fill:A.pips>0?K.green:K.red,opacity:.7},P))})]})})})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Duration Distribution"}),(()=>{const A=fe(O.map(P=>P.duration_minutes),8);return o.jsx("div",{style:{minHeight:250,width:"100%"},children:o.jsx(Kr,{width:"100%",height:250,children:o.jsxs(sv,{data:A,margin:{top:5,right:20,bottom:20,left:10},children:[o.jsx(Cr,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Er,{dataKey:"bin",tick:{fill:"var(--text-secondary)",fontSize:10},label:{value:"Duration (min)",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}}}),o.jsx(pr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),o.jsx(Vr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"}}),o.jsx(gl,{dataKey:"count",fill:K.blue,radius:[4,4,0,0]})]})})})})()]})]})]})}),o.jsxs("div",{style:he,onClick:()=>p("breakdown"),children:[o.jsx("strong",{children:"Breakdown Analysis"}),o.jsx("span",{children:m.breakdown?"":""})]}),m.breakdown&&o.jsx("div",{style:{padding:"12px 0"},children:se==null?o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",padding:"0 16px"},children:"Loading..."}):(()=>{const A={width:"100%",borderCollapse:"collapse",fontSize:"0.82rem"},P={padding:"6px 10px",textAlign:"left",borderBottom:"1px solid var(--border)",color:"var(--text-secondary)",fontWeight:600},V={padding:"5px 10px",borderBottom:"1px solid var(--border)"},$={...V,textAlign:"right"},Z=ne=>ne>=.55?"var(--success)":ne>=.4?"var(--warning)":"var(--danger)",ae=ne=>ne==null?"var(--text-secondary)":ne>0?"var(--success)":ne<0?"var(--danger)":"var(--text-secondary)",X=ne=>ne==null?"":(ne>=0?"+":"")+ne.toFixed(2);function ie({title:ne,rows:ge}){return ge.length===0?o.jsxs("div",{style:{marginBottom:24},children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:ne}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"No data"})]}):o.jsxs("div",{style:{marginBottom:24},children:[o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:ne}),o.jsxs("table",{style:A,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:P,children:ne.split(" ")[0]}),o.jsx("th",{style:{...P,textAlign:"right"},children:"Trades"}),o.jsx("th",{style:{...P,textAlign:"right"},children:"Win Rate"}),o.jsx("th",{style:{...P,textAlign:"right"},children:"Avg PnL"})]})}),o.jsx("tbody",{children:ge.map(ve=>o.jsxs("tr",{children:[o.jsx("td",{style:V,children:ve.label}),o.jsx("td",{style:$,children:ve.trades}),o.jsxs("td",{style:{...$,color:Z(ve.winRate),fontWeight:600},children:[(ve.winRate*100).toFixed(1),"%"]}),o.jsx("td",{style:{...$,color:ae(ve.avgPnl)},children:X(ve.avgPnl)})]},ve.label))})]})]})}return o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:24,padding:"4px 0"},children:[o.jsx(ie,{title:"Entry Type",rows:se.entryType}),o.jsx(ie,{title:"Tier Number",rows:se.tier}),o.jsx(ie,{title:"Session",rows:se.session}),o.jsx(ie,{title:"Risk Tier",rows:se.riskTier}),o.jsx(ie,{title:"Day of Week",rows:se.dayOfWeek}),o.jsx(ie,{title:"Hour of Day (UTC)",rows:se.hourOfDay})]})})()})]})}function OQ({profile:t}){const e=bI(),[r,n]=v.useState(!1),[i,a]=v.useState(null),[s,l]=v.useState({}),[u,c]=v.useState([]),[d,h]=v.useState(void 0),[f,m]=v.useState([]),[g,y]=v.useState(!1),[x,_]=v.useState(null),[b,S]=v.useState(null),[k,p]=v.useState(null),[j,C]=v.useState(null),[T,E]=v.useState(null),[z,B]=v.useState(null),[O,G]=v.useState("summary"),[Y,W]=v.useState(!1),[re,H]=v.useState(null),[L,R]=v.useState(!1),[M,ee]=v.useState(50),[q,Pe]=v.useState({}),[_e,Ee]=v.useState(!1),se=v.useCallback(()=>{JZ(t.name,t.path).then(a).catch(console.error),QZ(t.name).then(l).catch(console.error),mI(t.name,250,t.path).then(D=>{c(D.trades),h(D.display_currency)}).catch(console.error),ZZ(t.name,20).then(m).catch(console.error),eQ(t.name,t.path).then(C).catch(console.error),tQ(t.name,t.path).then(D=>B(D??null)).catch(()=>B(null)),gI(t.name,t.path).then(D=>{const te={};for(const fe of D)te[String(fe.trade_id)]=fe;Pe(te)}).catch(console.error)},[t.name,t.path]);v.useEffect(()=>{if(!e||!r||!_e)return;const D=setInterval(se,1e4);return()=>clearInterval(D)},[_e,se,r,e]),v.useEffect(()=>{n(!1),Ee(!1),W(!1),H(null),R(!1),ee(50),_(null),p(null)},[t.name,t.path]);const he=async()=>{y(!0),_(null);try{const D=await rQ(t.name,t.path),te=[];D.trades_updated>0&&te.push(`${D.trades_updated} trade(s) synced`),D.trades_imported&&D.trades_imported>0&&te.push(`${D.trades_imported} trade(s) imported from broker history`),D.position_ids_backfilled&&D.position_ids_backfilled>0&&te.push(`${D.position_ids_backfilled} position ID(s) backfilled`),D.profit_backfilled&&D.profit_backfilled>0&&te.push(`${D.profit_backfilled} profit(s) updated from broker`),te.length>0?(_(te.join(", ")),se()):_("All trades up to date"),setTimeout(()=>_(null),4e3)}catch(D){_(`Sync error: ${D.message}`)}finally{y(!1)}},be=async D=>{const te=String(D.trade_id||"");if(te){S(te);try{const fe=await vI(t.name,te,t.path);_(`Closed trade: ${fe.pips>=0?"+":""}${fe.pips.toFixed(2)} pips`),se(),setTimeout(()=>_(null),3e3)}catch(fe){_(`Close error: ${fe.message}`)}finally{S(null),p(null)}}};v.useEffect(()=>{Y&&!re&&!L&&(R(!0),qZ(t.name,t.path,365).then(D=>H({trades:D.trades,displayCurrency:D.display_currency||"USD"})).catch(console.error).finally(()=>R(!1)))},[Y,t.name,t.path]);const K=Object.values(s).reduce((D,te)=>D+te,0),pe=D=>D.exit_price===null||D.exit_price===void 0,xe=v.useCallback(()=>{r||n(!0),se()},[se,r]);return o.jsxs("div",{children:[o.jsxs("div",{className:"flex-between mb-4",children:[o.jsx("h2",{className:"page-title",style:{marginBottom:0,borderBottom:"none",paddingBottom:0},children:"Logs & Stats"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn btn-secondary",onClick:xe,children:r?"Refresh data":"Load Logs & Stats"}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,color:"var(--text-secondary)",fontSize:"0.8rem"},children:[o.jsx("input",{type:"checkbox",checked:_e,onChange:D=>Ee(D.target.checked),disabled:!r}),"Auto-refresh history (10s)"]}),o.jsx("button",{className:"btn btn-secondary",onClick:he,disabled:g,children:g?"Syncing...":"Sync from broker"})]})]}),x&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--accent)"},children:o.jsx("p",{children:x})}),r?o.jsxs(o.Fragment,{children:[k&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{className:"card",style:{maxWidth:400,margin:0},children:[o.jsx("h3",{className:"card-title",children:"Confirm Close Trade"}),o.jsx("p",{style:{marginBottom:16},children:"Are you sure you want to close this trade?"}),o.jsx("div",{style:{background:"var(--bg-tertiary)",padding:12,borderRadius:6,marginBottom:16},children:o.jsxs("p",{style:{margin:0,fontSize:"0.9rem"},children:[o.jsx("strong",{children:"Side:"})," ",String(k.side||"").toUpperCase(),o.jsx("br",{}),o.jsx("strong",{children:"Entry:"})," ",typeof k.entry_price=="number"?k.entry_price.toFixed(3):"-",o.jsx("br",{}),o.jsx("strong",{children:"Size:"})," ",typeof k.size_lots=="number"?k.size_lots:"-"," lots"]})}),o.jsx("p",{style:{color:"var(--warning)",fontSize:"0.85rem",marginBottom:16},children:"This will send a close order to your broker immediately."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"btn btn-danger",onClick:()=>be(k),disabled:b!==null,children:b?"Closing...":"Close Trade"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>p(null),disabled:b!==null,children:"Cancel"})]})]})}),o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:8},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"Quick Stats"}),i&&i.source==="mt5"&&o.jsx("span",{style:{fontSize:"0.7rem",background:"var(--success)",color:"white",padding:"4px 8px",borderRadius:4,fontWeight:600},children:"FROM BROKER"})]}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:4,marginBottom:16},children:i&&i.source==="mt5"?"Stats from broker deal history (same as View  Reports in MT5)":"Stats from local records. Use a broker connection (MT5 or OANDA) to see live report data."}),o.jsxs("div",{className:"grid-3",children:[o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:(i==null?void 0:i.closed_trades)||0}),o.jsx("div",{className:"stat-label",children:"Closed Trades"}),i&&i.wins!=null&&i.losses!=null&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:[o.jsxs("span",{style:{color:"var(--success)"},children:[i.wins," W"]})," / ",o.jsxs("span",{style:{color:"var(--danger)"},children:[i.losses," L"]})]})]}),o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:(i==null?void 0:i.win_rate)!=null?`${(i.win_rate*100).toFixed(1)}%`:"-"}),o.jsx("div",{className:"stat-label",children:"Win Rate"})]}),o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:(i==null?void 0:i.avg_pips)!=null?i.avg_pips.toFixed(3):"-"}),o.jsx("div",{className:"stat-label",children:"Avg Pips"})]})]}),i&&i.total_profit!=null||i&&(i.total_commission!=null||i.total_swap!=null)?o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)",display:"flex",flexWrap:"wrap",gap:24},children:[i&&i.total_profit!=null&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Total Profit"}),o.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:700,color:i.total_profit>=0?"var(--success)":"var(--danger)"},children:[i.total_profit>=0?"+":"",i.total_profit.toFixed(2)," ",i.display_currency||"USD"]})]}),i&&i.total_commission!=null&&i.total_commission!==0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Commission"}),o.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--text-secondary)"},children:[i.total_commission.toFixed(2)," ",i.display_currency||"USD"]})]}),i&&i.total_swap!=null&&i.total_swap!==0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Swap"}),o.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--text-secondary)"},children:[i.total_swap.toFixed(2)," ",i.display_currency||"USD"]})]})]}):null,i&&i.source==="database"&&i.trades_without_profit!=null&&i.trades_without_profit>0&&o.jsx("p",{style:{marginTop:12,marginBottom:0,fontSize:"0.85rem",color:"var(--warning)"},children:"Some trades lack profit data. Sync from broker and refresh to see stats from broker report."})]}),o.jsx(PQ,{profileName:t.name,profilePath:t.path}),Y?L?o.jsx("div",{className:"card mb-4",children:o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Loading analytics..."})}):re?o.jsxs(o.Fragment,{children:[o.jsx(tl,{fallback:o.jsx("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:"SessionPerformance crashed"}),children:o.jsx(MQ,{trades:re.trades})}),o.jsx(tl,{fallback:o.jsx("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:"LongShortPerformance crashed"}),children:o.jsx(CQ,{trades:re.trades,displayCurrency:re.displayCurrency})}),o.jsx(tl,{fallback:o.jsx("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:"SpreadPerformance crashed"}),children:o.jsx(EQ,{trades:re.trades})}),o.jsx(tl,{fallback:o.jsx("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:"AdvancedAnalytics crashed"}),children:o.jsx(AQ,{profileName:t.name,profilePath:t.path})})]}):null:o.jsxs("div",{className:"card mb-4",style:{textAlign:"center"},children:[o.jsx("button",{className:"btn",onClick:()=>W(!0),style:{padding:"10px 24px",fontSize:"0.9rem"},children:"Load Analytics"}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginTop:8,marginBottom:0},children:"Session, Long/Short, Spread, and Advanced Analytics"})]}),z&&o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"Account Report"}),o.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"3px 6px",borderRadius:4,fontWeight:600},children:"FROM BROKER"})]}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Balance, equity, and closed P/L from your broker (MT5 or OANDA)"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[o.jsxs("div",{onClick:()=>G(O==="summary"?null:"summary"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("strong",{children:"Summary"}),o.jsx("span",{children:O==="summary"?"":""})]}),O==="summary"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Balance"}),o.jsx("br",{}),z.summary.balance.toFixed(2)," ",z.display_currency||"USD"]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Equity"}),o.jsx("br",{}),z.summary.equity.toFixed(2)," ",z.display_currency||"USD"]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Margin"}),o.jsx("br",{}),z.summary.margin.toFixed(2)," ",z.display_currency||"USD"]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Free Margin"}),o.jsx("br",{}),z.summary.free_margin.toFixed(2)," ",z.display_currency||"USD"]})]})]}),o.jsxs("div",{onClick:()=>G(O==="closed"?null:"closed"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("strong",{children:"Closed P/L"}),o.jsx("span",{children:O==="closed"?"":""})]}),O==="closed"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12,fontSize:"0.9rem"},children:[o.jsxs("div",{children:["Total Profit: ",o.jsxs("span",{style:{color:z.closed_pl.total_profit>=0?"var(--success)":"var(--danger)",fontWeight:600},children:[z.closed_pl.total_profit>=0?"+":"",z.closed_pl.total_profit.toFixed(2)," ",z.display_currency||"USD"]})]}),o.jsxs("div",{children:["Commission: ",z.closed_pl.total_commission.toFixed(2)," ",z.display_currency||"USD"]}),o.jsxs("div",{children:["Swap: ",z.closed_pl.total_swap.toFixed(2)," ",z.display_currency||"USD"]}),o.jsxs("div",{children:["Gross Profit: ",o.jsxs("span",{style:{color:"var(--success)"},children:[z.closed_pl.gross_profit.toFixed(2)," ",z.display_currency||"USD"]})]}),o.jsxs("div",{children:["Gross Loss: ",o.jsxs("span",{style:{color:"var(--danger)"},children:[z.closed_pl.gross_loss.toFixed(2)," ",z.display_currency||"USD"]})]}),o.jsxs("div",{children:["Profit Factor: ",z.closed_pl.profit_factor.toFixed(2)]}),o.jsxs("div",{children:["Largest Win: ",o.jsxs("span",{style:{color:"var(--success)"},children:[z.closed_pl.largest_profit_trade.toFixed(2)," ",z.display_currency||"USD"]})]}),o.jsxs("div",{children:["Largest Loss: ",o.jsxs("span",{style:{color:"var(--danger)"},children:[z.closed_pl.largest_loss_trade.toFixed(2)," ",z.display_currency||"USD"]})]}),o.jsxs("div",{children:["Expected Payoff: ",z.closed_pl.expected_payoff.toFixed(2)," ",z.display_currency||"USD"]})]})]}),o.jsxs("div",{onClick:()=>G(O==="longshort"?null:"longshort"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("strong",{children:"Long / Short"}),o.jsx("span",{children:O==="longshort"?"":""})]}),O==="longshort"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12},children:[o.jsxs("div",{children:["Long: ",z.long_short.long_wins,"W / ",z.long_short.long_trades-z.long_short.long_wins,"L (",(z.long_short.long_win_pct*100).toFixed(0),"% win)"]}),o.jsxs("div",{children:["Short: ",z.long_short.short_wins,"W / ",z.long_short.short_trades-z.long_short.short_wins,"L (",(z.long_short.short_win_pct*100).toFixed(0),"% win)"]})]})]})]})]}),j&&Object.keys(j.presets).length>0&&o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"Performance by Preset"}),j.source==="mt5"&&o.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"3px 6px",borderRadius:4,fontWeight:600},children:"FROM BROKER"})]}),o.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:16,marginTop:8,fontSize:"0.85rem"},children:["Preset names come from your local DB; win/loss and profit use broker history when available. For best accuracy, run ",o.jsx("strong",{children:"Sync from broker"})," so closed trades have position IDs, then refresh."]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:Object.entries(j.presets).sort(([,D],[,te])=>(te.total_pips||0)-(D.total_pips||0)).map(([D,te])=>{var P,V,$,Z,ae,X,ie;const fe=T===D,A=((P=Object.entries(j.presets).sort(([,ne],[,ge])=>(ge.total_pips||0)-(ne.total_pips||0))[0])==null?void 0:P[0])===D;return o.jsxs("div",{style:{border:`1px solid ${A?"var(--success)":"var(--border)"}`,borderRadius:8,overflow:"hidden",background:A?"rgba(34, 197, 94, 0.05)":"var(--bg-secondary)"},children:[o.jsxs("div",{onClick:()=>E(fe?null:D),style:{padding:16,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("span",{style:{fontWeight:600},children:D}),A&&o.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"2px 6px",borderRadius:4,fontWeight:700},children:"BEST"})]}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:4},children:[te.total_trades," trades | Win: ",te.win_rate!=null?`${(te.win_rate*100).toFixed(0)}%`:"-"," | Total: ",o.jsxs("span",{style:{color:(te.total_pips||0)>=0?"var(--success)":"var(--danger)"},children:[te.total_pips>=0?"+":"",((V=te.total_pips)==null?void 0:V.toFixed(1))||0," pips"]}),te.total_profit!=null&&o.jsxs(o.Fragment,{children:[" | Profit: ",o.jsxs("span",{style:{color:te.total_profit>=0?"var(--success)":"var(--danger)"},children:[te.total_profit>=0?"+":"",te.total_profit.toFixed(2)," ",j.display_currency||"USD"]})]}),te.total_commission!=null&&te.total_commission!==0&&o.jsxs(o.Fragment,{children:[" | Commission: ",te.total_commission.toFixed(2)," ",j.display_currency||"USD"]})]})]}),o.jsx("span",{style:{fontSize:"1.2rem"},children:fe?"":""})]}),fe&&o.jsx("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid var(--border)",paddingTop:16},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Trades"}),o.jsx("div",{style:{fontWeight:700},children:te.total_trades})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win / Loss"}),o.jsxs("div",{style:{fontWeight:700},children:[o.jsx("span",{style:{color:"var(--success)"},children:te.wins})," /",o.jsx("span",{style:{color:"var(--danger)"},children:te.losses})]})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win Rate"}),o.jsx("div",{style:{fontWeight:700,color:(te.win_rate||0)>=.5?"var(--success)":"var(--warning)"},children:te.win_rate!=null?`${(te.win_rate*100).toFixed(1)}%`:"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Pips"}),o.jsxs("div",{style:{fontWeight:700,color:(te.total_pips||0)>=0?"var(--success)":"var(--danger)"},children:[te.total_pips>=0?"+":"",(($=te.total_pips)==null?void 0:$.toFixed(2))||0]})]}),te.total_profit!=null&&o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Profit"}),o.jsxs("div",{style:{fontWeight:700,color:te.total_profit>=0?"var(--success)":"var(--danger)"},children:[te.total_profit>=0?"+":"",te.total_profit.toFixed(2)," ",j.display_currency||"USD"]})]}),te.total_commission!=null&&te.total_commission!==0&&o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Commission"}),o.jsxs("div",{style:{fontWeight:700},children:[te.total_commission.toFixed(2)," ",j.display_currency||"USD"]})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Pips"}),o.jsx("div",{style:{fontWeight:700},children:((Z=te.avg_pips)==null?void 0:Z.toFixed(2))||"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg R:R"}),o.jsx("div",{style:{fontWeight:700},children:((ae=te.avg_rr)==null?void 0:ae.toFixed(2))||"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Best Trade"}),o.jsx("div",{style:{fontWeight:700,color:"var(--success)"},children:te.best_trade!=null?`+${te.best_trade.toFixed(1)} pips`:"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Worst Trade"}),o.jsx("div",{style:{fontWeight:700,color:"var(--danger)"},children:te.worst_trade!=null?`${te.worst_trade.toFixed(1)} pips`:"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win Streak"}),o.jsx("div",{style:{fontWeight:700},children:te.win_streak})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Loss Streak"}),o.jsx("div",{style:{fontWeight:700},children:te.loss_streak})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Profit Factor"}),o.jsx("div",{style:{fontWeight:700,color:(te.profit_factor||0)>=1?"var(--success)":"var(--danger)"},children:((X=te.profit_factor)==null?void 0:X.toFixed(2))||"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max Drawdown"}),o.jsxs("div",{style:{fontWeight:700,color:"var(--warning)"},children:[((ie=te.max_drawdown)==null?void 0:ie.toFixed(1))||0," pips"]})]})]})})]},D)})})]}),o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",children:"Rejection Breakdown"}),Object.entries(s).length===0?o.jsx("p",{style:{color:"var(--text-secondary)"},children:"No executions yet."}):Object.entries(s).map(([D,te])=>o.jsxs("div",{className:"breakdown-bar",children:[o.jsx("span",{className:"breakdown-label",children:D}),o.jsxs("div",{className:"breakdown-value",children:[o.jsx("div",{className:"breakdown-fill",style:{width:`${te/K*100}%`}}),o.jsx("span",{className:"breakdown-count",children:te})]})]},D))]}),o.jsxs("div",{className:"card mb-4",children:[o.jsxs("h3",{className:"card-title",children:["Recent Trades ",u.length>0&&o.jsxs("span",{style:{fontWeight:400,fontSize:"0.8rem",color:"var(--text-secondary)"},children:["(",Math.min(M,u.length),"/",u.length,")"]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Time"}),o.jsx("th",{children:"Side"}),o.jsx("th",{children:"Entry"}),o.jsx("th",{children:"Exit"}),o.jsx("th",{children:"Pips"}),o.jsx("th",{children:"R"}),o.jsx("th",{children:"Profit"}),o.jsx("th",{children:"Source"}),o.jsx("th",{children:"Exit Reason"}),o.jsx("th",{children:"MFE"}),o.jsx("th",{children:"Recovery"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:u.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:10,style:{textAlign:"center",color:"var(--text-secondary)"},children:"No trades yet."})}):u.slice(0,M).map((D,te)=>{const fe=String(D.opened_by||""),A=String(D.exit_reason||""),V=($=>{if(!$)return{text:"-",color:"inherit"};switch($){case"hit_take_profit":return{text:"TP",color:"var(--success)"};case"hit_stop_loss":return{text:"SL",color:"var(--danger)"};case"hit_breakeven":return{text:"BE",color:"#f59e0b"};case"user_closed_early":return{text:"User",color:"var(--warning)"};case"UI_manual_close":return{text:"UI",color:"var(--accent)"};case"mt5_history_import":return{text:"Imported",color:"var(--text-secondary)"};default:return{text:$.replace(/_/g," "),color:"var(--text-secondary)"}}})(A);return o.jsxs("tr",{children:[o.jsx("td",{children:String(D.timestamp_utc||"").slice(0,19)}),o.jsx("td",{children:String(D.side||"")}),o.jsx("td",{children:typeof D.entry_price=="number"?D.entry_price.toFixed(3):"-"}),o.jsx("td",{children:typeof D.exit_price=="number"?D.exit_price.toFixed(3):"-"}),o.jsx("td",{style:{color:typeof D.pips=="number"?D.pips>=0?"var(--success)":"var(--danger)":"inherit"},children:typeof D.pips=="number"?D.pips.toFixed(2):"-"}),o.jsx("td",{children:typeof D.r_multiple=="number"?D.r_multiple.toFixed(2):"-"}),o.jsx("td",{children:pe(D)?(()=>{const $=q[String(D.trade_id)],Z=d||(i==null?void 0:i.display_currency)||"USD";if(($==null?void 0:$.unrealized_pl)!=null){const ae=$.unrealized_pl,X=$.financing;return o.jsxs(o.Fragment,{children:[o.jsxs("span",{style:{color:ae>=0?"var(--success)":"var(--danger)"},children:["~",ae>=0?"+":"",ae.toFixed(2)," ",Z]}),X!=null&&X!==0&&o.jsxs("span",{style:{display:"block",fontSize:"0.7rem",color:"var(--text-secondary)"},children:["fin: ",X>=0?"+":"",X.toFixed(2)]})]})}return o.jsx("span",{children:"-"})})():o.jsx("span",{style:{color:typeof D.profit_display=="number"?D.profit_display>=0?"var(--success)":"var(--danger)":"inherit"},children:typeof D.profit_display=="number"?`${D.profit_display>=0?"+":""}${D.profit_display.toFixed(2)} ${d||(i==null?void 0:i.display_currency)||"USD"}`:"-"})}),o.jsx("td",{children:o.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 6px",borderRadius:4,background:fe==="program"?"rgba(59, 130, 246, 0.2)":"rgba(156, 163, 175, 0.2)",color:fe==="program"?"var(--accent)":"var(--text-secondary)"},children:fe==="program"?"Bot":fe==="manual"?"Manual":"-"})}),o.jsx("td",{children:o.jsx("span",{style:{fontSize:"0.75rem",color:V.color},children:V.text})}),o.jsx("td",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:typeof D.max_favorable_pips=="number"?D.max_favorable_pips.toFixed(1):""}),o.jsx("td",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:typeof D.post_sl_recovery_pips=="number"?D.post_sl_recovery_pips.toFixed(1):""}),o.jsx("td",{children:pe(D)&&(D.mt5_order_id||D.mt5_position_id)?o.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"0.75rem"},onClick:()=>p(D),disabled:b===String(D.trade_id),children:"Close"}):pe(D)?o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"No position ID"}):o.jsx("span",{style:{color:"var(--success)",fontSize:"0.75rem"},children:"Closed"})})]},te)})})]})}),u.length>M&&o.jsx("div",{style:{textAlign:"center",marginTop:12},children:o.jsxs("button",{className:"btn",onClick:()=>ee(D=>D+50),style:{padding:"6px 16px",fontSize:"0.8rem"},children:["Load more (",u.length-M," remaining)"]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Recent Executions"}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Time"}),o.jsx("th",{children:"Mode"}),o.jsx("th",{children:"Placed"}),o.jsx("th",{children:"Reason"})]})}),o.jsx("tbody",{children:f.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,style:{textAlign:"center",color:"var(--text-secondary)"},children:"No executions yet."})}):f.map((D,te)=>o.jsxs("tr",{children:[o.jsx("td",{children:String(D.timestamp_utc||"").slice(0,19)}),o.jsx("td",{children:String(D.mode||"")}),o.jsx("td",{children:D.placed?"Yes":"No"}),o.jsx("td",{style:{maxWidth:300,overflow:"hidden",textOverflow:"ellipsis"},children:String(D.reason||"")})]},te))})]})})]})]}):o.jsxs("div",{className:"card mb-4",style:{textAlign:"center"},children:[o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12},children:"Logs and stats are manual-load to reduce CPU/network usage."}),o.jsx("button",{className:"btn",onClick:xe,disabled:g,children:"Load Logs & Stats"})]})]})}function TQ(){const[t,e]=v.useState("quickstart"),r=i=>{e(t===i?null:i)},n=({id:i,title:a,icon:s,children:l})=>o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>r(i),children:[o.jsxs("h3",{className:"card-title",style:{margin:0,display:"flex",alignItems:"center",gap:12},children:[o.jsx("span",{style:{fontSize:"1.3rem"},children:s}),a]}),o.jsx("span",{style:{color:"var(--accent)",fontSize:"1.2rem"},children:t===i?"":"+"})]}),t===i&&o.jsx("div",{style:{marginTop:16},children:l})]});return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Help / Guide"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:24},children:"Welcome to the USDJPY Trading Assistant! This guide will help you get started and understand how to use the bot effectively."}),o.jsxs(n,{id:"quickstart",title:"Quick Start (5 Steps)",icon:"",children:[o.jsx("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8,marginBottom:16},children:o.jsxs("ol",{style:{margin:0,paddingLeft:24,lineHeight:2.2},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Select or create an account"})," using the sidebar dropdown. Each account has its own settings and trade history."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Go to Presets"})," and pick a preset that matches your style (start with ",o.jsx("em",{children:"Conservative Scalping"})," if unsure), then click ",o.jsx("strong",{children:"Apply Preset"}),"."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Go to Dashboard"}),", set the mode to ",o.jsx("strong",{children:"ARMED_AUTO_DEMO"}),", then click ",o.jsx("strong",{children:"Start"}),"."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Watch Trade Events and Filter Status"})," on Dashboard to see loop decisions and entries."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Check Logs & Stats"})," to see your trades, win rate, and performance metrics."]})]})}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:[o.jsx("strong",{children:"Tip:"})," The bot only trades on demo accounts for safety. For MT5, have the terminal running and connected; for OANDA, set your API key in Profile Editor."]})]}),o.jsxs(n,{id:"presets",title:"Understanding Presets",icon:"",children:[o.jsx("p",{style:{marginBottom:16},children:"Presets are pre-configured trading strategies. Each preset has different characteristics:"}),o.jsx("div",{className:"table-container",style:{marginBottom:16},children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Preset"}),o.jsx("th",{children:"Style"}),o.jsx("th",{children:"Trades/Day"}),o.jsx("th",{children:"Target"}),o.jsx("th",{children:"Risk Level"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Conservative Scalping"})}),o.jsx("td",{children:"Quick trades"}),o.jsx("td",{children:"5-10"}),o.jsx("td",{children:"8 pips"}),o.jsx("td",{style:{color:"var(--success)"},children:"Low"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Aggressive Scalping"})}),o.jsx("td",{children:"Quick trades"}),o.jsx("td",{children:"15-25"}),o.jsx("td",{children:"8 pips"}),o.jsx("td",{style:{color:"var(--danger)"},children:"High"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Moderate Swing"})}),o.jsx("td",{children:"Longer holds"}),o.jsx("td",{children:"2-5"}),o.jsx("td",{children:"20 pips"}),o.jsx("td",{style:{color:"var(--warning)"},children:"Medium"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"RSI Mean Reversion"})}),o.jsx("td",{children:"Counter-trend"}),o.jsx("td",{children:"5-10"}),o.jsx("td",{children:"10 pips"}),o.jsx("td",{style:{color:"var(--warning)"},children:"Medium"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Custom"})}),o.jsx("td",{children:"Your choice"}),o.jsx("td",{children:"Variable"}),o.jsx("td",{children:"Variable"}),o.jsx("td",{children:"Configurable"})]})]})]})}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:[o.jsx("strong",{children:"Recommendation:"})," Start with ",o.jsx("em",{children:"Conservative Scalping"})," to see how the bot works with minimal risk. Once comfortable, try other presets or create a custom configuration."]})]}),o.jsx(n,{id:"dashboard",title:"Reading the Dashboard",icon:"",children:o.jsxs("div",{className:"grid-2",style:{gap:16},children:[o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)"},children:"Dashboard Controls"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Loop Status:"})," Shows if the trading loop is running or stopped"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Mode:"})," DISARMED (no trades), ARMED_MANUAL_CONFIRM (prompts before trading), ARMED_AUTO_DEMO (fully automated)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Start/Stop:"})," Single control to run or pause the loop"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Context + Filters:"})," Snapshot of current trend and block/clear reasons"]})]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)"},children:"Logs & Stats Page"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Quick Stats:"})," Closed trades, win rate, average pips"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Rejection Breakdown:"})," Why trades weren't taken (spread, filters, etc.)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Recent Trades:"})," Your trade history with P/L"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Sync from broker:"})," Updates trade data from your broker (MT5 or OANDA)"]})]})]})]})}),o.jsxs(n,{id:"analysis",title:"Technical Analysis Page",icon:"",children:[o.jsx("p",{style:{marginBottom:16},children:"The Analysis page provides real-time technical analysis across three timeframes (H4, M15, M1):"}),o.jsxs("ul",{style:{margin:"0 0 16px 0",paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Regime:"})," Current market trend - BULL (uptrend), BEAR (downtrend), or SIDEWAYS"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"RSI:"})," Relative Strength Index - Oversold (below 30, potential buy), Overbought (above 70, potential sell), Neutral"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"MACD:"})," Momentum indicator - Positive (bullish momentum), Negative (bearish momentum)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"ATR:"})," Average True Range - Elevated (high volatility), Normal, Low (quiet market)"]})]}),o.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Click on any timeframe card to expand and see detailed indicator values. This page uses manual load by default, with optional 10s auto-refresh."})]}),o.jsx(n,{id:"faq",title:"Common Questions",icon:"",children:o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"Why isn't the bot trading?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Check these common reasons:",o.jsx("br",{})," ",o.jsx("strong",{children:"Spread too wide:"})," The bot waits for good spreads to avoid slippage",o.jsx("br",{})," ",o.jsx("strong",{children:"Alignment filters:"})," Multi-timeframe conditions must match",o.jsx("br",{})," ",o.jsx("strong",{children:"Max trades reached:"})," Daily trade limit hit",o.jsx("br",{})," ",o.jsx("strong",{children:"Mode is DISARMED:"})," Set mode to an armed state on Dashboard",o.jsx("br",{})," ",o.jsx("strong",{children:"Market closed:"})," Forex markets close on weekends"]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"How do I close a trade?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Go to ",o.jsx("strong",{children:"Logs & Stats"}),", find your open trade in the Recent Trades table, and click the ",o.jsx("strong",{children:"Close"})," button. You'll be asked to confirm before the close order is sent."]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"What does the kill switch do?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["The kill switch ",o.jsx("strong",{children:"immediately stops all new trades"})," from being placed. It does not close existing positions - use the Close button for that. Toggle it on if you need to pause the bot quickly."]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"My trade history is missing?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Click ",o.jsx("strong",{children:"Sync from broker"})," on the Logs & Stats page. This will import any trades that were opened or closed in your broker platform, including trades closed by hitting TP/SL."]})]})]})}),o.jsx(n,{id:"glossary",title:"Glossary",icon:"",children:o.jsx("div",{className:"grid-2",style:{gap:12},children:[{term:"Pip",def:"Smallest price move. For USDJPY, 1 pip = 0.01 (e.g., 154.50 to 154.51)"},{term:"Lot",def:"Trade size. 0.01 = micro lot (1,000 units), 0.1 = mini lot (10,000 units), 1.0 = standard lot (100,000 units)"},{term:"Spread",def:"Difference between buy (ask) and sell (bid) price. Lower = better."},{term:"EMA",def:"Exponential Moving Average - weighted average of recent prices, responds quickly to changes"},{term:"SMA",def:"Simple Moving Average - equal-weighted average of prices over a period"},{term:"RSI",def:"Relative Strength Index (0-100). Below 30 = oversold, above 70 = overbought"},{term:"MACD",def:"Moving Average Convergence Divergence - momentum indicator showing trend direction"},{term:"ATR",def:"Average True Range - measures market volatility"},{term:"Regime",def:"Current market trend: bullish (up), bearish (down), or sideways"},{term:"Stop Loss (SL)",def:"Price level where trade closes to limit losses"},{term:"Take Profit (TP)",def:"Price level where trade closes to lock in profits"},{term:"R-Multiple",def:"Risk-adjusted return. R of 2 means you made 2x your risked amount"}].map((i,a)=>o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsxs("strong",{style:{color:"var(--accent)"},children:[i.term,":"]}),o.jsx("span",{style:{marginLeft:8,color:"var(--text-secondary)",fontSize:"0.9rem"},children:i.def})]},a))})}),o.jsxs("div",{className:"card",style:{borderColor:"var(--warning)",background:"rgba(245, 158, 11, 0.1)"},children:[o.jsx("h3",{style:{margin:"0 0 12px 0",color:"var(--warning)",display:"flex",alignItems:"center",gap:8},children:" Important Safety Notice"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:["This bot is designed for ",o.jsx("strong",{children:"demo trading only"}),". It will refuse to trade on live accounts."]}),o.jsx("li",{children:"Trading carries risk. Past performance does not guarantee future results."}),o.jsx("li",{children:"Always monitor the bot and understand what it's doing before trusting it with larger positions."}),o.jsx("li",{children:"Start with conservative settings and small position sizes while you learn."})]})]})]})}dv.createRoot(document.getElementById("root")).render(o.jsx(fy.StrictMode,{children:o.jsx(yQ,{})}));
