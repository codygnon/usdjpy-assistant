var lz=Object.defineProperty;var uz=(t,e,r)=>e in t?lz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $f=(t,e,r)=>uz(t,typeof e!="symbol"?e+"":e,r);function cz(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function oi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ik={exports:{}},Jd={},Rk={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=Symbol.for("react.element"),dz=Symbol.for("react.portal"),hz=Symbol.for("react.fragment"),fz=Symbol.for("react.strict_mode"),pz=Symbol.for("react.profiler"),mz=Symbol.for("react.provider"),vz=Symbol.for("react.context"),gz=Symbol.for("react.forward_ref"),yz=Symbol.for("react.suspense"),xz=Symbol.for("react.memo"),_z=Symbol.for("react.lazy"),D_=Symbol.iterator;function bz(t){return t===null||typeof t!="object"?null:(t=D_&&t[D_]||t["@@iterator"],typeof t=="function"?t:null)}var Dk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lk=Object.assign,$k={};function Va(t,e,r){this.props=t,this.context=e,this.refs=$k,this.updater=r||Dk}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bk(){}Bk.prototype=Va.prototype;function ig(t,e,r){this.props=t,this.context=e,this.refs=$k,this.updater=r||Dk}var sg=ig.prototype=new Bk;sg.constructor=ig;Lk(sg,Va.prototype);sg.isPureReactComponent=!0;var L_=Array.isArray,Fk=Object.prototype.hasOwnProperty,ag={current:null},Wk={key:!0,ref:!0,__self:!0,__source:!0};function Uk(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Fk.call(e,n)&&!Wk.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Bl,type:t,key:s,ref:a,props:i,_owner:ag.current}}function wz(t,e){return{$$typeof:Bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function og(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bl}function Sz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $_=/\/+/g;function Bf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sz(""+t.key):e.toString(36)}function oc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Bl:case dz:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Bf(a,0):n,L_(i)?(r="",t!=null&&(r=t.replace($_,"$&/")+"/"),oc(i,e,r,"",function(c){return c})):i!=null&&(og(i)&&(i=wz(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace($_,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",L_(t))for(var o=0;o<t.length;o++){s=t[o];var u=n+Bf(s,o);a+=oc(s,e,r,u,i)}else if(u=bz(t),typeof u=="function")for(t=u.call(t),o=0;!(s=t.next()).done;)s=s.value,u=n+Bf(s,o++),a+=oc(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function vu(t,e,r){if(t==null)return t;var n=[],i=0;return oc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function jz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ar={current:null},lc={transition:null},kz={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:lc,ReactCurrentOwner:ag};function Kk(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:vu,forEach:function(t,e,r){vu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return vu(t,function(){e++}),e},toArray:function(t){return vu(t,function(e){return e})||[]},only:function(t){if(!og(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Va;je.Fragment=hz;je.Profiler=pz;je.PureComponent=ig;je.StrictMode=fz;je.Suspense=yz;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kz;je.act=Kk;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Lk({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ag.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)Fk.call(e,u)&&!Wk.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Bl,type:t.type,key:i,ref:s,props:n,_owner:a}};je.createContext=function(t){return t={$$typeof:vz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mz,_context:t},t.Consumer=t};je.createElement=Uk;je.createFactory=function(t){var e=Uk.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:gz,render:t}};je.isValidElement=og;je.lazy=function(t){return{$$typeof:_z,_payload:{_status:-1,_result:t},_init:jz}};je.memo=function(t,e){return{$$typeof:xz,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=lc.transition;lc.transition={};try{t()}finally{lc.transition=e}};je.unstable_act=Kk;je.useCallback=function(t,e){return ar.current.useCallback(t,e)};je.useContext=function(t){return ar.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return ar.current.useDeferredValue(t)};je.useEffect=function(t,e){return ar.current.useEffect(t,e)};je.useId=function(){return ar.current.useId()};je.useImperativeHandle=function(t,e,r){return ar.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return ar.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return ar.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return ar.current.useMemo(t,e)};je.useReducer=function(t,e,r){return ar.current.useReducer(t,e,r)};je.useRef=function(t){return ar.current.useRef(t)};je.useState=function(t){return ar.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return ar.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return ar.current.useTransition()};je.version="18.3.1";Rk.exports=je;var v=Rk.exports;const lg=oi(v),Pz=cz({__proto__:null,default:lg},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mz=v,Cz=Symbol.for("react.element"),Ez=Symbol.for("react.fragment"),Az=Object.prototype.hasOwnProperty,Oz=Mz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tz={key:!0,ref:!0,__self:!0,__source:!0};function Vk(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Az.call(e,n)&&!Tz.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Cz,type:t,key:s,ref:a,props:i,_owner:Oz.current}}Jd.Fragment=Ez;Jd.jsx=Vk;Jd.jsxs=Vk;Ik.exports=Jd;var l=Ik.exports,im={},Hk={exports:{}},zr={},Yk={exports:{}},Gk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,N){var L=R.length;R.push(N);e:for(;0<L;){var Q=L-1>>>1,G=R[Q];if(0<i(G,N))R[Q]=N,R[L]=G,L=Q;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var N=R[0],L=R.pop();if(L!==N){R[0]=L;e:for(var Q=0,G=R.length,ye=G>>>1;Q<ye;){var pe=2*(Q+1)-1,ve=R[pe],T=pe+1,B=R[T];if(0>i(ve,L))T<G&&0>i(B,ve)?(R[Q]=B,R[T]=L,Q=T):(R[Q]=ve,R[pe]=L,Q=pe);else if(T<G&&0>i(B,L))R[Q]=B,R[T]=L,Q=T;else break e}}return N}function i(R,N){var L=R.sortIndex-N.sortIndex;return L!==0?L:R.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(R){for(var N=r(c);N!==null;){if(N.callback===null)n(c);else if(N.startTime<=R)n(c),N.sortIndex=N.expirationTime,e(u,N);else break;N=r(c)}}function k(R){if(y=!1,S(R),!g)if(r(u)!==null)g=!0,oe(m);else{var N=r(c);N!==null&&O(k,N.startTime-R)}}function m(R,N){g=!1,y&&(y=!1,x(C),C=-1),p=!0;var L=f;try{for(S(N),h=r(u);h!==null&&(!(h.expirationTime>N)||R&&!D());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var G=Q(h.expirationTime<=N);N=t.unstable_now(),typeof G=="function"?h.callback=G:h===r(u)&&n(u),S(N)}else n(u);h=r(u)}if(h!==null)var ye=!0;else{var pe=r(c);pe!==null&&O(k,pe.startTime-N),ye=!1}return ye}finally{h=null,f=L,p=!1}}var w=!1,P=null,C=-1,E=5,I=-1;function D(){return!(t.unstable_now()-I<E)}function z(){if(P!==null){var R=t.unstable_now();I=R;var N=!0;try{N=P(!0,R)}finally{N?X():(w=!1,P=null)}}else w=!1}var X;if(typeof b=="function")X=function(){b(z)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,H=Z.port2;Z.port1.onmessage=z,X=function(){H.postMessage(null)}}else X=function(){_(z,0)};function oe(R){P=R,w||(w=!0,X())}function O(R,N){C=_(function(){R(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,oe(m))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var L=f;f=N;try{return R()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,N){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=f;f=R;try{return N()}finally{f=L}},t.unstable_scheduleCallback=function(R,N,L){var Q=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Q+L:Q):L=Q,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=L+G,R={id:d++,callback:N,priorityLevel:R,startTime:L,expirationTime:G,sortIndex:-1},L>Q?(R.sortIndex=L,e(c,R),r(u)===null&&R===r(c)&&(y?(x(C),C=-1):y=!0,O(k,L-Q))):(R.sortIndex=G,e(u,R),g||p||(g=!0,oe(m))),R},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(R){var N=f;return function(){var L=f;f=N;try{return R.apply(this,arguments)}finally{f=L}}}})(Gk);Yk.exports=Gk;var zz=Yk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nz=v,Or=zz;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xk=new Set,nl={};function Ls(t,e){Pa(t,e),Pa(t+"Capture",e)}function Pa(t,e){for(nl[t]=e,t=0;t<e.length;t++)Xk.add(e[t])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=Object.prototype.hasOwnProperty,Iz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B_={},F_={};function Rz(t){return sm.call(F_,t)?!0:sm.call(B_,t)?!1:Iz.test(t)?F_[t]=!0:(B_[t]=!0,!1)}function Dz(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lz(t,e,r,n){if(e===null||typeof e>"u"||Dz(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function or(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new or(t,5,!1,t.toLowerCase(),null,!1,!1)});var ug=/[\-:]([a-z])/g;function cg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ug,cg);Wt[e]=new or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ug,cg);Wt[e]=new or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ug,cg);Wt[e]=new or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new or(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new or(t,1,!1,t.toLowerCase(),null,!0,!0)});function dg(t,e,r,n){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lz(e,r,i,n)&&(r=null),n||i===null?Rz(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var li=Nz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),hg=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),qk=Symbol.for("react.provider"),Zk=Symbol.for("react.context"),fg=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),pg=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),Qk=Symbol.for("react.offscreen"),W_=Symbol.iterator;function po(t){return t===null||typeof t!="object"?null:(t=W_&&t[W_]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Ff;function To(t){if(Ff===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ff=e&&e[1]||""}return`
`+Ff+t}var Wf=!1;function Uf(t,e){if(!t||Wf)return"";Wf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=o);break}}}finally{Wf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?To(t):""}function $z(t){switch(t.tag){case 5:return To(t.type);case 16:return To("Lazy");case 13:return To("Suspense");case 19:return To("SuspenseList");case 0:case 2:case 15:return t=Uf(t.type,!1),t;case 11:return t=Uf(t.type.render,!1),t;case 1:return t=Uf(t.type,!0),t;default:return""}}function um(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qs:return"Fragment";case Zs:return"Portal";case am:return"Profiler";case hg:return"StrictMode";case om:return"Suspense";case lm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zk:return(t.displayName||"Context")+".Consumer";case qk:return(t._context.displayName||"Context")+".Provider";case fg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pg:return e=t.displayName||null,e!==null?e:um(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return um(t(e))}catch{}}return null}function Bz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return um(e);case 8:return e===hg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fz(t){var e=Jk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yu(t){t._valueTracker||(t._valueTracker=Fz(t))}function eP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Jk(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cm(t,e){var r=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function U_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=$i(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tP(t,e){e=e.checked,e!=null&&dg(t,"checked",e,!1)}function dm(t,e){tP(t,e);var r=$i(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hm(t,e.type,r):e.hasOwnProperty("defaultValue")&&hm(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function K_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function hm(t,e,r){(e!=="number"||Cc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var zo=Array.isArray;function ma(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+$i(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function V_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ie(92));if(zo(r)){if(1<r.length)throw Error(ie(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:$i(r)}}function rP(t,e){var r=$i(e.value),n=$i(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function H_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xu,iP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function il(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wz=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(t){Wz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bo[e]=Bo[t]})});function sP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Bo.hasOwnProperty(t)&&Bo[t]?(""+e).trim():e+"px"}function aP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=sP(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Uz=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mm(t,e){if(e){if(Uz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=null;function mg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ym=null,va=null,ga=null;function Y_(t){if(t=Ul(t)){if(typeof ym!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=ih(e),ym(t.stateNode,t.type,e))}}function oP(t){va?ga?ga.push(t):ga=[t]:va=t}function lP(){if(va){var t=va,e=ga;if(ga=va=null,Y_(t),e)for(t=0;t<e.length;t++)Y_(e[t])}}function uP(t,e){return t(e)}function cP(){}var Kf=!1;function dP(t,e,r){if(Kf)return t(e,r);Kf=!0;try{return uP(t,e,r)}finally{Kf=!1,(va!==null||ga!==null)&&(cP(),lP())}}function sl(t,e){var r=t.stateNode;if(r===null)return null;var n=ih(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ie(231,e,typeof r));return r}var xm=!1;if(qn)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){xm=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{xm=!1}function Kz(t,e,r,n,i,s,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Fo=!1,Ec=null,Ac=!1,_m=null,Vz={onError:function(t){Fo=!0,Ec=t}};function Hz(t,e,r,n,i,s,a,o,u){Fo=!1,Ec=null,Kz.apply(Vz,arguments)}function Yz(t,e,r,n,i,s,a,o,u){if(Hz.apply(this,arguments),Fo){if(Fo){var c=Ec;Fo=!1,Ec=null}else throw Error(ie(198));Ac||(Ac=!0,_m=c)}}function $s(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function hP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function G_(t){if($s(t)!==t)throw Error(ie(188))}function Gz(t){var e=t.alternate;if(!e){if(e=$s(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return G_(i),t;if(s===n)return G_(i),e;s=s.sibling}throw Error(ie(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(ie(189))}}if(r.alternate!==n)throw Error(ie(190))}if(r.tag!==3)throw Error(ie(188));return r.stateNode.current===r?t:e}function fP(t){return t=Gz(t),t!==null?pP(t):null}function pP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pP(t);if(e!==null)return e;t=t.sibling}return null}var mP=Or.unstable_scheduleCallback,X_=Or.unstable_cancelCallback,Xz=Or.unstable_shouldYield,qz=Or.unstable_requestPaint,ot=Or.unstable_now,Zz=Or.unstable_getCurrentPriorityLevel,vg=Or.unstable_ImmediatePriority,vP=Or.unstable_UserBlockingPriority,Oc=Or.unstable_NormalPriority,Qz=Or.unstable_LowPriority,gP=Or.unstable_IdlePriority,eh=null,Cn=null;function Jz(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(eh,t,void 0,(t.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:rN,eN=Math.log,tN=Math.LN2;function rN(t){return t>>>=0,t===0?32:31-(eN(t)/tN|0)|0}var _u=64,bu=4194304;function No(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=No(o):(s&=a,s!==0&&(n=No(s)))}else a=r&~i,a!==0?n=No(a):s!==0&&(n=No(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ln(e),i=1<<r,n|=t[r],e&=~i;return n}function nN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iN(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ln(s),o=1<<a,u=i[a];u===-1?(!(o&r)||o&n)&&(i[a]=nN(o,e)):u<=e&&(t.expiredLanes|=o),s&=~o}}function bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yP(){var t=_u;return _u<<=1,!(_u&4194240)&&(_u=64),t}function Vf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Fl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ln(e),t[e]=r}function sN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ln(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function gg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ln(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var De=0;function xP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _P,yg,bP,wP,SP,wm=!1,wu=[],Ei=null,Ai=null,Oi=null,al=new Map,ol=new Map,wi=[],aN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q_(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(e.pointerId)}}function vo(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ul(e),e!==null&&yg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oN(t,e,r,n,i){switch(e){case"focusin":return Ei=vo(Ei,t,e,r,n,i),!0;case"dragenter":return Ai=vo(Ai,t,e,r,n,i),!0;case"mouseover":return Oi=vo(Oi,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return al.set(s,vo(al.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ol.set(s,vo(ol.get(s)||null,t,e,r,n,i)),!0}return!1}function jP(t){var e=ss(t.target);if(e!==null){var r=$s(e);if(r!==null){if(e=r.tag,e===13){if(e=hP(r),e!==null){t.blockedOn=e,SP(t.priority,function(){bP(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Sm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);gm=n,r.target.dispatchEvent(n),gm=null}else return e=Ul(r),e!==null&&yg(e),t.blockedOn=r,!1;e.shift()}return!0}function Z_(t,e,r){uc(t)&&r.delete(e)}function lN(){wm=!1,Ei!==null&&uc(Ei)&&(Ei=null),Ai!==null&&uc(Ai)&&(Ai=null),Oi!==null&&uc(Oi)&&(Oi=null),al.forEach(Z_),ol.forEach(Z_)}function go(t,e){t.blockedOn===e&&(t.blockedOn=null,wm||(wm=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,lN)))}function ll(t){function e(i){return go(i,t)}if(0<wu.length){go(wu[0],t);for(var r=1;r<wu.length;r++){var n=wu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ei!==null&&go(Ei,t),Ai!==null&&go(Ai,t),Oi!==null&&go(Oi,t),al.forEach(e),ol.forEach(e),r=0;r<wi.length;r++)n=wi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<wi.length&&(r=wi[0],r.blockedOn===null);)jP(r),r.blockedOn===null&&wi.shift()}var ya=li.ReactCurrentBatchConfig,zc=!0;function uN(t,e,r,n){var i=De,s=ya.transition;ya.transition=null;try{De=1,xg(t,e,r,n)}finally{De=i,ya.transition=s}}function cN(t,e,r,n){var i=De,s=ya.transition;ya.transition=null;try{De=4,xg(t,e,r,n)}finally{De=i,ya.transition=s}}function xg(t,e,r,n){if(zc){var i=Sm(t,e,r,n);if(i===null)tp(t,e,n,Nc,r),q_(t,n);else if(oN(i,t,e,r,n))n.stopPropagation();else if(q_(t,n),e&4&&-1<aN.indexOf(t)){for(;i!==null;){var s=Ul(i);if(s!==null&&_P(s),s=Sm(t,e,r,n),s===null&&tp(t,e,n,Nc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else tp(t,e,n,null,r)}}var Nc=null;function Sm(t,e,r,n){if(Nc=null,t=mg(n),t=ss(t),t!==null)if(e=$s(t),e===null)t=null;else if(r=e.tag,r===13){if(t=hP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nc=t,null}function kP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zz()){case vg:return 1;case vP:return 4;case Oc:case Qz:return 16;case gP:return 536870912;default:return 16}default:return 16}}var ki=null,_g=null,cc=null;function PP(){if(cc)return cc;var t,e=_g,r=e.length,n,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return cc=i.slice(t,1<n?1-n:void 0)}function dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function Q_(){return!1}function Nr(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Su:Q_,this.isPropagationStopped=Q_,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bg=Nr(Ha),Wl=Je({},Ha,{view:0,detail:0}),dN=Nr(Wl),Hf,Yf,yo,th=Je({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yo&&(yo&&t.type==="mousemove"?(Hf=t.screenX-yo.screenX,Yf=t.screenY-yo.screenY):Yf=Hf=0,yo=t),Hf)},movementY:function(t){return"movementY"in t?t.movementY:Yf}}),J_=Nr(th),hN=Je({},th,{dataTransfer:0}),fN=Nr(hN),pN=Je({},Wl,{relatedTarget:0}),Gf=Nr(pN),mN=Je({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),vN=Nr(mN),gN=Je({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yN=Nr(gN),xN=Je({},Ha,{data:0}),eb=Nr(xN),_N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wN[t])?!!e[t]:!1}function wg(){return SN}var jN=Je({},Wl,{key:function(t){if(t.key){var e=_N[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wg,charCode:function(t){return t.type==="keypress"?dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kN=Nr(jN),PN=Je({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tb=Nr(PN),MN=Je({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wg}),CN=Nr(MN),EN=Je({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),AN=Nr(EN),ON=Je({},th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TN=Nr(ON),zN=[9,13,27,32],Sg=qn&&"CompositionEvent"in window,Wo=null;qn&&"documentMode"in document&&(Wo=document.documentMode);var NN=qn&&"TextEvent"in window&&!Wo,MP=qn&&(!Sg||Wo&&8<Wo&&11>=Wo),rb=" ",nb=!1;function CP(t,e){switch(t){case"keyup":return zN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Js=!1;function IN(t,e){switch(t){case"compositionend":return EP(e);case"keypress":return e.which!==32?null:(nb=!0,rb);case"textInput":return t=e.data,t===rb&&nb?null:t;default:return null}}function RN(t,e){if(Js)return t==="compositionend"||!Sg&&CP(t,e)?(t=PP(),cc=_g=ki=null,Js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MP&&e.locale!=="ko"?null:e.data;default:return null}}var DN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DN[t.type]:e==="textarea"}function AP(t,e,r,n){oP(n),e=Ic(e,"onChange"),0<e.length&&(r=new bg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Uo=null,ul=null;function LN(t){FP(t,0)}function rh(t){var e=ra(t);if(eP(e))return t}function $N(t,e){if(t==="change")return e}var OP=!1;if(qn){var Xf;if(qn){var qf="oninput"in document;if(!qf){var sb=document.createElement("div");sb.setAttribute("oninput","return;"),qf=typeof sb.oninput=="function"}Xf=qf}else Xf=!1;OP=Xf&&(!document.documentMode||9<document.documentMode)}function ab(){Uo&&(Uo.detachEvent("onpropertychange",TP),ul=Uo=null)}function TP(t){if(t.propertyName==="value"&&rh(ul)){var e=[];AP(e,ul,t,mg(t)),dP(LN,e)}}function BN(t,e,r){t==="focusin"?(ab(),Uo=e,ul=r,Uo.attachEvent("onpropertychange",TP)):t==="focusout"&&ab()}function FN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rh(ul)}function WN(t,e){if(t==="click")return rh(e)}function UN(t,e){if(t==="input"||t==="change")return rh(e)}function KN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:KN;function cl(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!sm.call(e,i)||!dn(t[i],e[i]))return!1}return!0}function ob(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lb(t,e){var r=ob(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ob(r)}}function zP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NP(){for(var t=window,e=Cc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Cc(t.document)}return e}function jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VN(t){var e=NP(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zP(r.ownerDocument.documentElement,r)){if(n!==null&&jg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=lb(r,s);var a=lb(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HN=qn&&"documentMode"in document&&11>=document.documentMode,ea=null,jm=null,Ko=null,km=!1;function ub(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;km||ea==null||ea!==Cc(n)||(n=ea,"selectionStart"in n&&jg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ko&&cl(Ko,n)||(Ko=n,n=Ic(jm,"onSelect"),0<n.length&&(e=new bg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ea)))}function ju(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ta={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},Zf={},IP={};qn&&(IP=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function nh(t){if(Zf[t])return Zf[t];if(!ta[t])return t;var e=ta[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in IP)return Zf[t]=e[r];return t}var RP=nh("animationend"),DP=nh("animationiteration"),LP=nh("animationstart"),$P=nh("transitionend"),BP=new Map,cb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){BP.set(t,e),Ls(e,[t])}for(var Qf=0;Qf<cb.length;Qf++){var Jf=cb[Qf],YN=Jf.toLowerCase(),GN=Jf[0].toUpperCase()+Jf.slice(1);Ui(YN,"on"+GN)}Ui(RP,"onAnimationEnd");Ui(DP,"onAnimationIteration");Ui(LP,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui($P,"onTransitionEnd");Pa("onMouseEnter",["mouseout","mouseover"]);Pa("onMouseLeave",["mouseout","mouseover"]);Pa("onPointerEnter",["pointerout","pointerover"]);Pa("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function db(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Yz(n,e,void 0,t),t.currentTarget=null}function FP(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;db(i,o,c),s=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;db(i,o,c),s=u}}}if(Ac)throw t=_m,Ac=!1,_m=null,t}function Ve(t,e){var r=e[Am];r===void 0&&(r=e[Am]=new Set);var n=t+"__bubble";r.has(n)||(WP(e,t,2,!1),r.add(n))}function ep(t,e,r){var n=0;e&&(n|=4),WP(r,t,n,e)}var ku="_reactListening"+Math.random().toString(36).slice(2);function dl(t){if(!t[ku]){t[ku]=!0,Xk.forEach(function(r){r!=="selectionchange"&&(XN.has(r)||ep(r,!1,t),ep(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ku]||(e[ku]=!0,ep("selectionchange",!1,e))}}function WP(t,e,r,n){switch(kP(e)){case 1:var i=uN;break;case 4:i=cN;break;default:i=xg}r=i.bind(null,e,r,t),i=void 0,!xm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function tp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ss(o),a===null)return;if(u=a.tag,u===5||u===6){n=s=a;continue e}o=o.parentNode}}n=n.return}dP(function(){var c=s,d=mg(r),h=[];e:{var f=BP.get(t);if(f!==void 0){var p=bg,g=t;switch(t){case"keypress":if(dc(r)===0)break e;case"keydown":case"keyup":p=kN;break;case"focusin":g="focus",p=Gf;break;case"focusout":g="blur",p=Gf;break;case"beforeblur":case"afterblur":p=Gf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=J_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CN;break;case RP:case DP:case LP:p=vN;break;case $P:p=AN;break;case"scroll":p=dN;break;case"wheel":p=TN;break;case"copy":case"cut":case"paste":p=yN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tb}var y=(e&4)!==0,_=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var b=c,S;b!==null;){S=b;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,x!==null&&(k=sl(b,x),k!=null&&y.push(hl(b,k,S)))),_)break;b=b.return}0<y.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==gm&&(g=r.relatedTarget||r.fromElement)&&(ss(g)||g[Zn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?ss(g):null,g!==null&&(_=$s(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=J_,k="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=tb,k="onPointerLeave",x="onPointerEnter",b="pointer"),_=p==null?f:ra(p),S=g==null?f:ra(g),f=new y(k,b+"leave",p,r,d),f.target=_,f.relatedTarget=S,k=null,ss(d)===c&&(y=new y(x,b+"enter",g,r,d),y.target=S,y.relatedTarget=_,k=y),_=k,p&&g)t:{for(y=p,x=g,b=0,S=y;S;S=Us(S))b++;for(S=0,k=x;k;k=Us(k))S++;for(;0<b-S;)y=Us(y),b--;for(;0<S-b;)x=Us(x),S--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=Us(y),x=Us(x)}y=null}else y=null;p!==null&&hb(h,f,p,y,!1),g!==null&&_!==null&&hb(h,_,g,y,!0)}}e:{if(f=c?ra(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var m=$N;else if(ib(f))if(OP)m=UN;else{m=FN;var w=BN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(m=WN);if(m&&(m=m(t,c))){AP(h,m,r,d);break e}w&&w(t,f,c),t==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&hm(f,"number",f.value)}switch(w=c?ra(c):window,t){case"focusin":(ib(w)||w.contentEditable==="true")&&(ea=w,jm=c,Ko=null);break;case"focusout":Ko=jm=ea=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,ub(h,r,d);break;case"selectionchange":if(HN)break;case"keydown":case"keyup":ub(h,r,d)}var P;if(Sg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Js?CP(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(MP&&r.locale!=="ko"&&(Js||C!=="onCompositionStart"?C==="onCompositionEnd"&&Js&&(P=PP()):(ki=d,_g="value"in ki?ki.value:ki.textContent,Js=!0)),w=Ic(c,C),0<w.length&&(C=new eb(C,t,null,r,d),h.push({event:C,listeners:w}),P?C.data=P:(P=EP(r),P!==null&&(C.data=P)))),(P=NN?IN(t,r):RN(t,r))&&(c=Ic(c,"onBeforeInput"),0<c.length&&(d=new eb("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=P))}FP(h,e)})}function hl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ic(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sl(t,r),s!=null&&n.unshift(hl(t,s,i)),s=sl(t,e),s!=null&&n.push(hl(t,s,i))),t=t.return}return n}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hb(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,i?(u=sl(r,s),u!=null&&a.unshift(hl(r,u,o))):i||(u=sl(r,s),u!=null&&a.push(hl(r,u,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var qN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function fb(t){return(typeof t=="string"?t:""+t).replace(qN,`
`).replace(ZN,"")}function Pu(t,e,r){if(e=fb(e),fb(t)!==e&&r)throw Error(ie(425))}function Rc(){}var Pm=null,Mm=null;function Cm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Em=typeof setTimeout=="function"?setTimeout:void 0,QN=typeof clearTimeout=="function"?clearTimeout:void 0,pb=typeof Promise=="function"?Promise:void 0,JN=typeof queueMicrotask=="function"?queueMicrotask:typeof pb<"u"?function(t){return pb.resolve(null).then(t).catch(eI)}:Em;function eI(t){setTimeout(function(){throw t})}function rp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ll(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ll(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),kn="__reactFiber$"+Ya,fl="__reactProps$"+Ya,Zn="__reactContainer$"+Ya,Am="__reactEvents$"+Ya,tI="__reactListeners$"+Ya,rI="__reactHandles$"+Ya;function ss(t){var e=t[kn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Zn]||r[kn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=mb(t);t!==null;){if(r=t[kn])return r;t=mb(t)}return e}t=r,r=t.parentNode}return null}function Ul(t){return t=t[kn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ra(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function ih(t){return t[fl]||null}var Om=[],na=-1;function Ki(t){return{current:t}}function Ye(t){0>na||(t.current=Om[na],Om[na]=null,na--)}function We(t,e){na++,Om[na]=t.current,t.current=e}var Bi={},qt=Ki(Bi),gr=Ki(!1),_s=Bi;function Ma(t,e){var r=t.type.contextTypes;if(!r)return Bi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yr(t){return t=t.childContextTypes,t!=null}function Dc(){Ye(gr),Ye(qt)}function vb(t,e,r){if(qt.current!==Bi)throw Error(ie(168));We(qt,e),We(gr,r)}function UP(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ie(108,Bz(t)||"Unknown",i));return Je({},r,n)}function Lc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bi,_s=qt.current,We(qt,t),We(gr,gr.current),!0}function gb(t,e,r){var n=t.stateNode;if(!n)throw Error(ie(169));r?(t=UP(t,e,_s),n.__reactInternalMemoizedMergedChildContext=t,Ye(gr),Ye(qt),We(qt,t)):Ye(gr),We(gr,r)}var Ln=null,sh=!1,np=!1;function KP(t){Ln===null?Ln=[t]:Ln.push(t)}function nI(t){sh=!0,KP(t)}function Vi(){if(!np&&Ln!==null){np=!0;var t=0,e=De;try{var r=Ln;for(De=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ln=null,sh=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(t+1)),mP(vg,Vi),i}finally{De=e,np=!1}}return null}var ia=[],sa=0,$c=null,Bc=0,Br=[],Fr=0,bs=null,Fn=1,Wn="";function es(t,e){ia[sa++]=Bc,ia[sa++]=$c,$c=t,Bc=e}function VP(t,e,r){Br[Fr++]=Fn,Br[Fr++]=Wn,Br[Fr++]=bs,bs=t;var n=Fn;t=Wn;var i=32-ln(n)-1;n&=~(1<<i),r+=1;var s=32-ln(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Fn=1<<32-ln(e)+i|r<<i|n,Wn=s+t}else Fn=1<<s|r<<i|n,Wn=t}function kg(t){t.return!==null&&(es(t,1),VP(t,1,0))}function Pg(t){for(;t===$c;)$c=ia[--sa],ia[sa]=null,Bc=ia[--sa],ia[sa]=null;for(;t===bs;)bs=Br[--Fr],Br[Fr]=null,Wn=Br[--Fr],Br[Fr]=null,Fn=Br[--Fr],Br[Fr]=null}var Cr=null,Pr=null,Xe=!1,nn=null;function HP(t,e){var r=Wr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function yb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cr=t,Pr=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cr=t,Pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=bs!==null?{id:Fn,overflow:Wn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Wr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Cr=t,Pr=null,!0):!1;default:return!1}}function Tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(Xe){var e=Pr;if(e){var r=e;if(!yb(t,e)){if(Tm(t))throw Error(ie(418));e=Ti(r.nextSibling);var n=Cr;e&&yb(t,e)?HP(n,r):(t.flags=t.flags&-4097|2,Xe=!1,Cr=t)}}else{if(Tm(t))throw Error(ie(418));t.flags=t.flags&-4097|2,Xe=!1,Cr=t}}}function xb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cr=t}function Mu(t){if(t!==Cr)return!1;if(!Xe)return xb(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cm(t.type,t.memoizedProps)),e&&(e=Pr)){if(Tm(t))throw YP(),Error(ie(418));for(;e;)HP(t,e),e=Ti(e.nextSibling)}if(xb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Pr=Ti(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Pr=null}}else Pr=Cr?Ti(t.stateNode.nextSibling):null;return!0}function YP(){for(var t=Pr;t;)t=Ti(t.nextSibling)}function Ca(){Pr=Cr=null,Xe=!1}function Mg(t){nn===null?nn=[t]:nn.push(t)}var iI=li.ReactCurrentBatchConfig;function xo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ie(309));var n=r.stateNode}if(!n)throw Error(ie(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!r._owner)throw Error(ie(290,t))}return t}function Cu(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _b(t){var e=t._init;return e(t._payload)}function GP(t){function e(x,b){if(t){var S=x.deletions;S===null?(x.deletions=[b],x.flags|=16):S.push(b)}}function r(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Ri(x,b),x.index=0,x.sibling=null,x}function s(x,b,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<b?(x.flags|=2,b):S):(x.flags|=2,b)):(x.flags|=1048576,b)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,b,S,k){return b===null||b.tag!==6?(b=cp(S,x.mode,k),b.return=x,b):(b=i(b,S),b.return=x,b)}function u(x,b,S,k){var m=S.type;return m===Qs?d(x,b,S.props.children,k,S.key):b!==null&&(b.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===gi&&_b(m)===b.type)?(k=i(b,S.props),k.ref=xo(x,b,S),k.return=x,k):(k=yc(S.type,S.key,S.props,null,x.mode,k),k.ref=xo(x,b,S),k.return=x,k)}function c(x,b,S,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=dp(S,x.mode,k),b.return=x,b):(b=i(b,S.children||[]),b.return=x,b)}function d(x,b,S,k,m){return b===null||b.tag!==7?(b=ps(S,x.mode,k,m),b.return=x,b):(b=i(b,S),b.return=x,b)}function h(x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=cp(""+b,x.mode,S),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gu:return S=yc(b.type,b.key,b.props,null,x.mode,S),S.ref=xo(x,null,b),S.return=x,S;case Zs:return b=dp(b,x.mode,S),b.return=x,b;case gi:var k=b._init;return h(x,k(b._payload),S)}if(zo(b)||po(b))return b=ps(b,x.mode,S,null),b.return=x,b;Cu(x,b)}return null}function f(x,b,S,k){var m=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return m!==null?null:o(x,b,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gu:return S.key===m?u(x,b,S,k):null;case Zs:return S.key===m?c(x,b,S,k):null;case gi:return m=S._init,f(x,b,m(S._payload),k)}if(zo(S)||po(S))return m!==null?null:d(x,b,S,k,null);Cu(x,S)}return null}function p(x,b,S,k,m){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(S)||null,o(b,x,""+k,m);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case gu:return x=x.get(k.key===null?S:k.key)||null,u(b,x,k,m);case Zs:return x=x.get(k.key===null?S:k.key)||null,c(b,x,k,m);case gi:var w=k._init;return p(x,b,S,w(k._payload),m)}if(zo(k)||po(k))return x=x.get(S)||null,d(b,x,k,m,null);Cu(b,k)}return null}function g(x,b,S,k){for(var m=null,w=null,P=b,C=b=0,E=null;P!==null&&C<S.length;C++){P.index>C?(E=P,P=null):E=P.sibling;var I=f(x,P,S[C],k);if(I===null){P===null&&(P=E);break}t&&P&&I.alternate===null&&e(x,P),b=s(I,b,C),w===null?m=I:w.sibling=I,w=I,P=E}if(C===S.length)return r(x,P),Xe&&es(x,C),m;if(P===null){for(;C<S.length;C++)P=h(x,S[C],k),P!==null&&(b=s(P,b,C),w===null?m=P:w.sibling=P,w=P);return Xe&&es(x,C),m}for(P=n(x,P);C<S.length;C++)E=p(P,x,C,S[C],k),E!==null&&(t&&E.alternate!==null&&P.delete(E.key===null?C:E.key),b=s(E,b,C),w===null?m=E:w.sibling=E,w=E);return t&&P.forEach(function(D){return e(x,D)}),Xe&&es(x,C),m}function y(x,b,S,k){var m=po(S);if(typeof m!="function")throw Error(ie(150));if(S=m.call(S),S==null)throw Error(ie(151));for(var w=m=null,P=b,C=b=0,E=null,I=S.next();P!==null&&!I.done;C++,I=S.next()){P.index>C?(E=P,P=null):E=P.sibling;var D=f(x,P,I.value,k);if(D===null){P===null&&(P=E);break}t&&P&&D.alternate===null&&e(x,P),b=s(D,b,C),w===null?m=D:w.sibling=D,w=D,P=E}if(I.done)return r(x,P),Xe&&es(x,C),m;if(P===null){for(;!I.done;C++,I=S.next())I=h(x,I.value,k),I!==null&&(b=s(I,b,C),w===null?m=I:w.sibling=I,w=I);return Xe&&es(x,C),m}for(P=n(x,P);!I.done;C++,I=S.next())I=p(P,x,C,I.value,k),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?C:I.key),b=s(I,b,C),w===null?m=I:w.sibling=I,w=I);return t&&P.forEach(function(z){return e(x,z)}),Xe&&es(x,C),m}function _(x,b,S,k){if(typeof S=="object"&&S!==null&&S.type===Qs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case gu:e:{for(var m=S.key,w=b;w!==null;){if(w.key===m){if(m=S.type,m===Qs){if(w.tag===7){r(x,w.sibling),b=i(w,S.props.children),b.return=x,x=b;break e}}else if(w.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===gi&&_b(m)===w.type){r(x,w.sibling),b=i(w,S.props),b.ref=xo(x,w,S),b.return=x,x=b;break e}r(x,w);break}else e(x,w);w=w.sibling}S.type===Qs?(b=ps(S.props.children,x.mode,k,S.key),b.return=x,x=b):(k=yc(S.type,S.key,S.props,null,x.mode,k),k.ref=xo(x,b,S),k.return=x,x=k)}return a(x);case Zs:e:{for(w=S.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(x,b.sibling),b=i(b,S.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else e(x,b);b=b.sibling}b=dp(S,x.mode,k),b.return=x,x=b}return a(x);case gi:return w=S._init,_(x,b,w(S._payload),k)}if(zo(S))return g(x,b,S,k);if(po(S))return y(x,b,S,k);Cu(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(x,b.sibling),b=i(b,S),b.return=x,x=b):(r(x,b),b=cp(S,x.mode,k),b.return=x,x=b),a(x)):r(x,b)}return _}var Ea=GP(!0),XP=GP(!1),Fc=Ki(null),Wc=null,aa=null,Cg=null;function Eg(){Cg=aa=Wc=null}function Ag(t){var e=Fc.current;Ye(Fc),t._currentValue=e}function Nm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function xa(t,e){Wc=t,Cg=aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hr=!0),t.firstContext=null)}function Vr(t){var e=t._currentValue;if(Cg!==t)if(t={context:t,memoizedValue:e,next:null},aa===null){if(Wc===null)throw Error(ie(308));aa=t,Wc.dependencies={lanes:0,firstContext:t}}else aa=aa.next=t;return e}var as=null;function Og(t){as===null?as=[t]:as.push(t)}function qP(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Og(e)):(r.next=i.next,i.next=r),e.interleaved=r,Qn(t,n)}function Qn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var yi=!1;function Tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ce&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Qn(t,r)}return i=n.interleaved,i===null?(e.next=e,Og(n)):(e.next=i.next,i.next=e),n.interleaved=e,Qn(t,r)}function hc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gg(t,r)}}function bb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Uc(t,e,r,n){var i=t.updateQueue;yi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;a=0,d=c=u=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(f=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Je({},h,f);break e;case 2:yi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,u=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ss|=a,t.lanes=a,t.memoizedState=h}}function wb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ie(191,i));i.call(n)}}}var Kl={},En=Ki(Kl),pl=Ki(Kl),ml=Ki(Kl);function os(t){if(t===Kl)throw Error(ie(174));return t}function zg(t,e){switch(We(ml,e),We(pl,t),We(En,Kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pm(e,t)}Ye(En),We(En,e)}function Aa(){Ye(En),Ye(pl),Ye(ml)}function QP(t){os(ml.current);var e=os(En.current),r=pm(e,t.type);e!==r&&(We(pl,t),We(En,r))}function Ng(t){pl.current===t&&(Ye(En),Ye(pl))}var Ze=Ki(0);function Kc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ip=[];function Ig(){for(var t=0;t<ip.length;t++)ip[t]._workInProgressVersionPrimary=null;ip.length=0}var fc=li.ReactCurrentDispatcher,sp=li.ReactCurrentBatchConfig,ws=0,Qe=null,gt=null,Pt=null,Vc=!1,Vo=!1,vl=0,sI=0;function Kt(){throw Error(ie(321))}function Rg(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!dn(t[r],e[r]))return!1;return!0}function Dg(t,e,r,n,i,s){if(ws=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fc.current=t===null||t.memoizedState===null?uI:cI,t=r(n,i),Vo){s=0;do{if(Vo=!1,vl=0,25<=s)throw Error(ie(301));s+=1,Pt=gt=null,e.updateQueue=null,fc.current=dI,t=r(n,i)}while(Vo)}if(fc.current=Hc,e=gt!==null&&gt.next!==null,ws=0,Pt=gt=Qe=null,Vc=!1,e)throw Error(ie(300));return t}function Lg(){var t=vl!==0;return vl=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Qe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Hr(){if(gt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Pt===null?Qe.memoizedState:Pt.next;if(e!==null)Pt=e,gt=t;else{if(t===null)throw Error(ie(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Pt===null?Qe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function gl(t,e){return typeof e=="function"?e(t):e}function ap(t){var e=Hr(),r=e.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=t;var n=gt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,u=null,c=s;do{var d=c.lane;if((ws&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,Qe.lanes|=d,Ss|=d}c=c.next}while(c!==null&&c!==s);u===null?a=n:u.next=o,dn(n,e.memoizedState)||(hr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Qe.lanes|=s,Ss|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function op(t){var e=Hr(),r=e.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);dn(s,e.memoizedState)||(hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function JP(){}function eM(t,e){var r=Qe,n=Hr(),i=e(),s=!dn(n.memoizedState,i);if(s&&(n.memoizedState=i,hr=!0),n=n.queue,$g(nM.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Pt!==null&&Pt.memoizedState.tag&1){if(r.flags|=2048,yl(9,rM.bind(null,r,n,i,e),void 0,null),Mt===null)throw Error(ie(349));ws&30||tM(r,e,i)}return i}function tM(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function rM(t,e,r,n){e.value=r,e.getSnapshot=n,iM(e)&&sM(t)}function nM(t,e,r){return r(function(){iM(e)&&sM(t)})}function iM(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!dn(t,r)}catch{return!0}}function sM(t){var e=Qn(t,1);e!==null&&un(e,t,1,-1)}function Sb(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=lI.bind(null,Qe,t),[e.memoizedState,t]}function yl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function aM(){return Hr().memoizedState}function pc(t,e,r,n){var i=Sn();Qe.flags|=t,i.memoizedState=yl(1|e,r,void 0,n===void 0?null:n)}function ah(t,e,r,n){var i=Hr();n=n===void 0?null:n;var s=void 0;if(gt!==null){var a=gt.memoizedState;if(s=a.destroy,n!==null&&Rg(n,a.deps)){i.memoizedState=yl(e,r,s,n);return}}Qe.flags|=t,i.memoizedState=yl(1|e,r,s,n)}function jb(t,e){return pc(8390656,8,t,e)}function $g(t,e){return ah(2048,8,t,e)}function oM(t,e){return ah(4,2,t,e)}function lM(t,e){return ah(4,4,t,e)}function uM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cM(t,e,r){return r=r!=null?r.concat([t]):null,ah(4,4,uM.bind(null,e,t),r)}function Bg(){}function dM(t,e){var r=Hr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Rg(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function hM(t,e){var r=Hr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Rg(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function fM(t,e,r){return ws&21?(dn(r,e)||(r=yP(),Qe.lanes|=r,Ss|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hr=!0),t.memoizedState=r)}function aI(t,e){var r=De;De=r!==0&&4>r?r:4,t(!0);var n=sp.transition;sp.transition={};try{t(!1),e()}finally{De=r,sp.transition=n}}function pM(){return Hr().memoizedState}function oI(t,e,r){var n=Ii(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mM(t))vM(e,r);else if(r=qP(t,e,r,n),r!==null){var i=rr();un(r,t,n,i),gM(r,e,n)}}function lI(t,e,r){var n=Ii(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mM(t))vM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,dn(o,a)){var u=e.interleaved;u===null?(i.next=i,Og(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=qP(t,e,i,n),r!==null&&(i=rr(),un(r,t,n,i),gM(r,e,n))}}function mM(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function vM(t,e){Vo=Vc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gM(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gg(t,r)}}var Hc={readContext:Vr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},uI={readContext:Vr,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:Vr,useEffect:jb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,pc(4194308,4,uM.bind(null,e,t),r)},useLayoutEffect:function(t,e){return pc(4194308,4,t,e)},useInsertionEffect:function(t,e){return pc(4,2,t,e)},useMemo:function(t,e){var r=Sn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Sn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=oI.bind(null,Qe,t),[n.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:Sb,useDebugValue:Bg,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=Sb(!1),e=t[0];return t=aI.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Qe,i=Sn();if(Xe){if(r===void 0)throw Error(ie(407));r=r()}else{if(r=e(),Mt===null)throw Error(ie(349));ws&30||tM(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,jb(nM.bind(null,n,s,t),[t]),n.flags|=2048,yl(9,rM.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Sn(),e=Mt.identifierPrefix;if(Xe){var r=Wn,n=Fn;r=(n&~(1<<32-ln(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=vl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=sI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cI={readContext:Vr,useCallback:dM,useContext:Vr,useEffect:$g,useImperativeHandle:cM,useInsertionEffect:oM,useLayoutEffect:lM,useMemo:hM,useReducer:ap,useRef:aM,useState:function(){return ap(gl)},useDebugValue:Bg,useDeferredValue:function(t){var e=Hr();return fM(e,gt.memoizedState,t)},useTransition:function(){var t=ap(gl)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:JP,useSyncExternalStore:eM,useId:pM,unstable_isNewReconciler:!1},dI={readContext:Vr,useCallback:dM,useContext:Vr,useEffect:$g,useImperativeHandle:cM,useInsertionEffect:oM,useLayoutEffect:lM,useMemo:hM,useReducer:op,useRef:aM,useState:function(){return op(gl)},useDebugValue:Bg,useDeferredValue:function(t){var e=Hr();return gt===null?e.memoizedState=t:fM(e,gt.memoizedState,t)},useTransition:function(){var t=op(gl)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:JP,useSyncExternalStore:eM,useId:pM,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Im(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Je({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var oh={isMounted:function(t){return(t=t._reactInternals)?$s(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=rr(),i=Ii(t),s=Yn(n,i);s.payload=e,r!=null&&(s.callback=r),e=zi(t,s,i),e!==null&&(un(e,t,i,n),hc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=rr(),i=Ii(t),s=Yn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=zi(t,s,i),e!==null&&(un(e,t,i,n),hc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=rr(),n=Ii(t),i=Yn(r,n);i.tag=2,e!=null&&(i.callback=e),e=zi(t,i,n),e!==null&&(un(e,t,n,r),hc(e,t,n))}};function kb(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!cl(r,n)||!cl(i,s):!0}function yM(t,e,r){var n=!1,i=Bi,s=e.contextType;return typeof s=="object"&&s!==null?s=Vr(s):(i=yr(e)?_s:qt.current,n=e.contextTypes,s=(n=n!=null)?Ma(t,i):Bi),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&oh.enqueueReplaceState(e,e.state,null)}function Rm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Tg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vr(s):(s=yr(e)?_s:qt.current,i.context=Ma(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Im(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oh.enqueueReplaceState(i,i.state,null),Uc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oa(t,e){try{var r="",n=e;do r+=$z(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function lp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Dm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var hI=typeof WeakMap=="function"?WeakMap:Map;function xM(t,e,r){r=Yn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gc||(Gc=!0,Ym=n),Dm(t,e)},r}function _M(t,e,r){r=Yn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Dm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Dm(t,e),typeof n!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Mb(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new hI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=PI.bind(null,t,e,r),e.then(t,t))}function Cb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Eb(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Yn(-1,1),e.tag=2,zi(r,e,1))),r.lanes|=1),t)}var fI=li.ReactCurrentOwner,hr=!1;function Jt(t,e,r,n){e.child=t===null?XP(e,null,r,n):Ea(e,t.child,r,n)}function Ab(t,e,r,n,i){r=r.render;var s=e.ref;return xa(e,i),n=Dg(t,e,r,n,s,i),r=Lg(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(Xe&&r&&kg(e),e.flags|=1,Jt(t,e,n,i),e.child)}function Ob(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Gg(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,bM(t,e,s,n,i)):(t=yc(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:cl,r(a,n)&&t.ref===e.ref)return Jn(t,e,i)}return e.flags|=1,t=Ri(s,n),t.ref=e.ref,t.return=e,e.child=t}function bM(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(cl(s,n)&&t.ref===e.ref)if(hr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(hr=!0);else return e.lanes=t.lanes,Jn(t,e,i)}return Lm(t,e,r,n,i)}function wM(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(la,jr),jr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(la,jr),jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,We(la,jr),jr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,We(la,jr),jr|=n;return Jt(t,e,i,r),e.child}function SM(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Lm(t,e,r,n,i){var s=yr(r)?_s:qt.current;return s=Ma(e,s),xa(e,i),r=Dg(t,e,r,n,s,i),n=Lg(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(Xe&&n&&kg(e),e.flags|=1,Jt(t,e,r,i),e.child)}function Tb(t,e,r,n,i){if(yr(r)){var s=!0;Lc(e)}else s=!1;if(xa(e,i),e.stateNode===null)mc(t,e),yM(e,r,n),Rm(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Vr(c):(c=yr(r)?_s:qt.current,c=Ma(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&Pb(e,a,n,c),yi=!1;var f=e.memoizedState;a.state=f,Uc(e,n,a,i),u=e.memoizedState,o!==n||f!==u||gr.current||yi?(typeof d=="function"&&(Im(e,r,d,n),u=e.memoizedState),(o=yi||kb(e,r,o,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,ZP(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:tn(e.type,o),a.props=c,h=e.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Vr(u):(u=yr(r)?_s:qt.current,u=Ma(e,u));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==u)&&Pb(e,a,n,u),yi=!1,f=e.memoizedState,a.state=f,Uc(e,n,a,i);var g=e.memoizedState;o!==h||f!==g||gr.current||yi?(typeof p=="function"&&(Im(e,r,p,n),g=e.memoizedState),(c=yi||kb(e,r,c,n,f,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return $m(t,e,r,n,s,i)}function $m(t,e,r,n,i,s){SM(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&gb(e,r,!1),Jn(t,e,s);n=e.stateNode,fI.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ea(e,t.child,null,s),e.child=Ea(e,null,o,s)):Jt(t,e,o,s),e.memoizedState=n.state,i&&gb(e,r,!0),e.child}function jM(t){var e=t.stateNode;e.pendingContext?vb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vb(t,e.context,!1),zg(t,e.containerInfo)}function zb(t,e,r,n,i){return Ca(),Mg(i),e.flags|=256,Jt(t,e,r,n),e.child}var Bm={dehydrated:null,treeContext:null,retryLane:0};function Fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function kM(t,e,r){var n=e.pendingProps,i=Ze.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(Ze,i&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=ch(a,n,0,null),t=ps(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fm(r),e.memoizedState=Bm,t):Fg(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return pI(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Ri(i,u),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ri(o,s):(s=ps(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Fm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Bm,n}return s=t.child,t=s.sibling,n=Ri(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Fg(t,e){return e=ch({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eu(t,e,r,n){return n!==null&&Mg(n),Ea(e,t.child,null,r),t=Fg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pI(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=lp(Error(ie(422))),Eu(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=ch({mode:"visible",children:n.children},i,0,null),s=ps(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ea(e,t.child,null,a),e.child.memoizedState=Fm(a),e.memoizedState=Bm,s);if(!(e.mode&1))return Eu(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ie(419)),n=lp(s,n,void 0),Eu(t,e,a,n)}if(o=(a&t.childLanes)!==0,hr||o){if(n=Mt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qn(t,i),un(n,t,i,-1))}return Yg(),n=lp(Error(ie(421))),Eu(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Pr=Ti(i.nextSibling),Cr=e,Xe=!0,nn=null,t!==null&&(Br[Fr++]=Fn,Br[Fr++]=Wn,Br[Fr++]=bs,Fn=t.id,Wn=t.overflow,bs=e),e=Fg(e,n.children),e.flags|=4096,e)}function Nb(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Nm(t.return,e,r)}function up(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function PM(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Jt(t,e,n.children,r),n=Ze.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nb(t,r,e);else if(t.tag===19)Nb(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(We(Ze,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Kc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),up(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}up(e,!0,r,null,s);break;case"together":up(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ss|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,r=Ri(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ri(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function mI(t,e,r){switch(e.tag){case 3:jM(e),Ca();break;case 5:QP(e);break;case 1:yr(e.type)&&Lc(e);break;case 4:zg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;We(Fc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(We(Ze,Ze.current&1),e.flags|=128,null):r&e.child.childLanes?kM(t,e,r):(We(Ze,Ze.current&1),t=Jn(t,e,r),t!==null?t.sibling:null);We(Ze,Ze.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return PM(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Ze,Ze.current),n)break;return null;case 22:case 23:return e.lanes=0,wM(t,e,r)}return Jn(t,e,r)}var MM,Wm,CM,EM;MM=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wm=function(){};CM=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,os(En.current);var s=null;switch(r){case"input":i=cm(t,i),n=cm(t,n),s=[];break;case"select":i=Je({},i,{value:void 0}),n=Je({},n,{value:void 0}),s=[];break;case"textarea":i=fm(t,i),n=fm(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rc)}mm(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ve("scroll",t),s||o===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};EM=function(t,e,r,n){r!==n&&(e.flags|=4)};function _o(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vI(t,e,r){var n=e.pendingProps;switch(Pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return yr(e.type)&&Dc(),Vt(e),null;case 3:return n=e.stateNode,Aa(),Ye(gr),Ye(qt),Ig(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nn!==null&&(qm(nn),nn=null))),Wm(t,e),Vt(e),null;case 5:Ng(e);var i=os(ml.current);if(r=e.type,t!==null&&e.stateNode!=null)CM(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ie(166));return Vt(e),null}if(t=os(En.current),Mu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[kn]=e,n[fl]=s,t=(e.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(i=0;i<Io.length;i++)Ve(Io[i],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":U_(n,s),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",n);break;case"textarea":V_(n,s),Ve("invalid",n)}mm(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Pu(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Pu(n.textContent,o,t),i=["children",""+o]):nl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ve("scroll",n)}switch(r){case"input":yu(n),K_(n,s,!0);break;case"textarea":yu(n),H_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Rc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nP(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[kn]=e,t[fl]=n,MM(t,e,!1,!1),e.stateNode=t;e:{switch(a=vm(r,n),r){case"dialog":Ve("cancel",t),Ve("close",t),i=n;break;case"iframe":case"object":case"embed":Ve("load",t),i=n;break;case"video":case"audio":for(i=0;i<Io.length;i++)Ve(Io[i],t);i=n;break;case"source":Ve("error",t),i=n;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=n;break;case"details":Ve("toggle",t),i=n;break;case"input":U_(t,n),i=cm(t,n),Ve("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Je({},n,{value:void 0}),Ve("invalid",t);break;case"textarea":V_(t,n),i=fm(t,n),Ve("invalid",t);break;default:i=n}mm(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?aP(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&iP(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&il(t,u):typeof u=="number"&&il(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ve("scroll",t):u!=null&&dg(t,s,u,a))}switch(r){case"input":yu(t),K_(t,n,!1);break;case"textarea":yu(t),H_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+$i(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ma(t,!!n.multiple,s,!1):n.defaultValue!=null&&ma(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)EM(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ie(166));if(r=os(ml.current),os(En.current),Mu(e)){if(n=e.stateNode,r=e.memoizedProps,n[kn]=e,(s=n.nodeValue!==r)&&(t=Cr,t!==null))switch(t.tag){case 3:Pu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kn]=e,e.stateNode=n}return Vt(e),null;case 13:if(Ye(Ze),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Pr!==null&&e.mode&1&&!(e.flags&128))YP(),Ca(),e.flags|=98560,s=!1;else if(s=Mu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[kn]=e}else Ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else nn!==null&&(qm(nn),nn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?xt===0&&(xt=3):Yg())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Aa(),Wm(t,e),t===null&&dl(e.stateNode.containerInfo),Vt(e),null;case 10:return Ag(e.type._context),Vt(e),null;case 17:return yr(e.type)&&Dc(),Vt(e),null;case 19:if(Ye(Ze),s=e.memoizedState,s===null)return Vt(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)_o(s,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Kc(t),a!==null){for(e.flags|=128,_o(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return We(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Ta&&(e.flags|=128,n=!0,_o(s,!1),e.lanes=4194304)}else{if(!n)if(t=Kc(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),_o(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Xe)return Vt(e),null}else 2*ot()-s.renderingStartTime>Ta&&r!==1073741824&&(e.flags|=128,n=!0,_o(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,r=Ze.current,We(Ze,n?r&1|2:r&1),e):(Vt(e),null);case 22:case 23:return Hg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?jr&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function gI(t,e){switch(Pg(e),e.tag){case 1:return yr(e.type)&&Dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Aa(),Ye(gr),Ye(qt),Ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ng(e),null;case 13:if(Ye(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(Ze),null;case 4:return Aa(),null;case 10:return Ag(e.type._context),null;case 22:case 23:return Hg(),null;case 24:return null;default:return null}}var Au=!1,Gt=!1,yI=typeof WeakSet=="function"?WeakSet:Set,he=null;function oa(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rt(t,e,n)}else r.current=null}function Um(t,e,r){try{r()}catch(n){rt(t,e,n)}}var Ib=!1;function xI(t,e){if(Pm=zc,t=NP(),jg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(u=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mm={focusedElem:t,selectionRange:r},zc=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:tn(e.type,y),_);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(k){rt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return g=Ib,Ib=!1,g}function Ho(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Um(e,r,s)}i=i.next}while(i!==n)}}function lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Km(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function AM(t){var e=t.alternate;e!==null&&(t.alternate=null,AM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[fl],delete e[Am],delete e[tI],delete e[rI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OM(t){return t.tag===5||t.tag===3||t.tag===4}function Rb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rc));else if(n!==4&&(t=t.child,t!==null))for(Vm(t,e,r),t=t.sibling;t!==null;)Vm(t,e,r),t=t.sibling}function Hm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Hm(t,e,r),t=t.sibling;t!==null;)Hm(t,e,r),t=t.sibling}var Rt=null,rn=!1;function mi(t,e,r){for(r=r.child;r!==null;)TM(t,e,r),r=r.sibling}function TM(t,e,r){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(eh,r)}catch{}switch(r.tag){case 5:Gt||oa(r,e);case 6:var n=Rt,i=rn;Rt=null,mi(t,e,r),Rt=n,rn=i,Rt!==null&&(rn?(t=Rt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Rt.removeChild(r.stateNode));break;case 18:Rt!==null&&(rn?(t=Rt,r=r.stateNode,t.nodeType===8?rp(t.parentNode,r):t.nodeType===1&&rp(t,r),ll(t)):rp(Rt,r.stateNode));break;case 4:n=Rt,i=rn,Rt=r.stateNode.containerInfo,rn=!0,mi(t,e,r),Rt=n,rn=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Um(r,e,a),i=i.next}while(i!==n)}mi(t,e,r);break;case 1:if(!Gt&&(oa(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){rt(r,e,o)}mi(t,e,r);break;case 21:mi(t,e,r);break;case 22:r.mode&1?(Gt=(n=Gt)||r.memoizedState!==null,mi(t,e,r),Gt=n):mi(t,e,r);break;default:mi(t,e,r)}}function Db(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yI),e.forEach(function(n){var i=CI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function en(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Rt=o.stateNode,rn=!1;break e;case 3:Rt=o.stateNode.containerInfo,rn=!0;break e;case 4:Rt=o.stateNode.containerInfo,rn=!0;break e}o=o.return}if(Rt===null)throw Error(ie(160));TM(s,a,i),Rt=null,rn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zM(e,t),e=e.sibling}function zM(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),yn(t),n&4){try{Ho(3,t,t.return),lh(3,t)}catch(y){rt(t,t.return,y)}try{Ho(5,t,t.return)}catch(y){rt(t,t.return,y)}}break;case 1:en(e,t),yn(t),n&512&&r!==null&&oa(r,r.return);break;case 5:if(en(e,t),yn(t),n&512&&r!==null&&oa(r,r.return),t.flags&32){var i=t.stateNode;try{il(i,"")}catch(y){rt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&tP(i,s),vm(o,a);var c=vm(o,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?aP(i,h):d==="dangerouslySetInnerHTML"?iP(i,h):d==="children"?il(i,h):dg(i,d,h,c)}switch(o){case"input":dm(i,s);break;case"textarea":rP(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ma(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ma(i,!!s.multiple,s.defaultValue,!0):ma(i,!!s.multiple,s.multiple?[]:"",!1))}i[fl]=s}catch(y){rt(t,t.return,y)}}break;case 6:if(en(e,t),yn(t),n&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){rt(t,t.return,y)}}break;case 3:if(en(e,t),yn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ll(e.containerInfo)}catch(y){rt(t,t.return,y)}break;case 4:en(e,t),yn(t);break;case 13:en(e,t),yn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Kg=ot())),n&4&&Db(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Gt=(c=Gt)||d,en(e,t),Gt=c):en(e,t),yn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(h=he=d;he!==null;){switch(f=he,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ho(4,f,f.return);break;case 1:oa(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){rt(n,r,y)}}break;case 5:oa(f,f.return);break;case 22:if(f.memoizedState!==null){$b(h);continue}}p!==null?(p.return=f,he=p):$b(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=sP("display",a))}catch(y){rt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){rt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:en(e,t),yn(t),n&4&&Db(t);break;case 21:break;default:en(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(OM(r)){var n=r;break e}r=r.return}throw Error(ie(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(il(i,""),n.flags&=-33);var s=Rb(t);Hm(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Rb(t);Vm(t,o,a);break;default:throw Error(ie(161))}}catch(u){rt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _I(t,e,r){he=t,NM(t)}function NM(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Au;if(!a){var o=i.alternate,u=o!==null&&o.memoizedState!==null||Gt;o=Au;var c=Gt;if(Au=a,(Gt=u)&&!c)for(he=i;he!==null;)a=he,u=a.child,a.tag===22&&a.memoizedState!==null?Bb(i):u!==null?(u.return=a,he=u):Bb(i);for(;s!==null;)he=s,NM(s),s=s.sibling;he=i,Au=o,Gt=c}Lb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):Lb(t)}}function Lb(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||lh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Gt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:tn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wb(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wb(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ll(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Gt||e.flags&512&&Km(e)}catch(f){rt(e,e.return,f)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function $b(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function Bb(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lh(4,e)}catch(u){rt(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){rt(e,i,u)}}var s=e.return;try{Km(e)}catch(u){rt(e,s,u)}break;case 5:var a=e.return;try{Km(e)}catch(u){rt(e,a,u)}}}catch(u){rt(e,e.return,u)}if(e===t){he=null;break}var o=e.sibling;if(o!==null){o.return=e.return,he=o;break}he=e.return}}var bI=Math.ceil,Yc=li.ReactCurrentDispatcher,Wg=li.ReactCurrentOwner,Kr=li.ReactCurrentBatchConfig,Ce=0,Mt=null,ht=null,Ft=0,jr=0,la=Ki(0),xt=0,xl=null,Ss=0,uh=0,Ug=0,Yo=null,dr=null,Kg=0,Ta=1/0,Dn=null,Gc=!1,Ym=null,Ni=null,Ou=!1,Pi=null,Xc=0,Go=0,Gm=null,vc=-1,gc=0;function rr(){return Ce&6?ot():vc!==-1?vc:vc=ot()}function Ii(t){return t.mode&1?Ce&2&&Ft!==0?Ft&-Ft:iI.transition!==null?(gc===0&&(gc=yP()),gc):(t=De,t!==0||(t=window.event,t=t===void 0?16:kP(t.type)),t):1}function un(t,e,r,n){if(50<Go)throw Go=0,Gm=null,Error(ie(185));Fl(t,r,n),(!(Ce&2)||t!==Mt)&&(t===Mt&&(!(Ce&2)&&(uh|=r),xt===4&&Si(t,Ft)),xr(t,n),r===1&&Ce===0&&!(e.mode&1)&&(Ta=ot()+500,sh&&Vi()))}function xr(t,e){var r=t.callbackNode;iN(t,e);var n=Tc(t,t===Mt?Ft:0);if(n===0)r!==null&&X_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&X_(r),e===1)t.tag===0?nI(Fb.bind(null,t)):KP(Fb.bind(null,t)),JN(function(){!(Ce&6)&&Vi()}),r=null;else{switch(xP(n)){case 1:r=vg;break;case 4:r=vP;break;case 16:r=Oc;break;case 536870912:r=gP;break;default:r=Oc}r=WM(r,IM.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function IM(t,e){if(vc=-1,gc=0,Ce&6)throw Error(ie(327));var r=t.callbackNode;if(_a()&&t.callbackNode!==r)return null;var n=Tc(t,t===Mt?Ft:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=qc(t,n);else{e=n;var i=Ce;Ce|=2;var s=DM();(Mt!==t||Ft!==e)&&(Dn=null,Ta=ot()+500,fs(t,e));do try{jI();break}catch(o){RM(t,o)}while(!0);Eg(),Yc.current=s,Ce=i,ht!==null?e=0:(Mt=null,Ft=0,e=xt)}if(e!==0){if(e===2&&(i=bm(t),i!==0&&(n=i,e=Xm(t,i))),e===1)throw r=xl,fs(t,0),Si(t,n),xr(t,ot()),r;if(e===6)Si(t,n);else{if(i=t.current.alternate,!(n&30)&&!wI(i)&&(e=qc(t,n),e===2&&(s=bm(t),s!==0&&(n=s,e=Xm(t,s))),e===1))throw r=xl,fs(t,0),Si(t,n),xr(t,ot()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ie(345));case 2:ts(t,dr,Dn);break;case 3:if(Si(t,n),(n&130023424)===n&&(e=Kg+500-ot(),10<e)){if(Tc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Em(ts.bind(null,t,dr,Dn),e);break}ts(t,dr,Dn);break;case 4:if(Si(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ln(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bI(n/1960))-n,10<n){t.timeoutHandle=Em(ts.bind(null,t,dr,Dn),n);break}ts(t,dr,Dn);break;case 5:ts(t,dr,Dn);break;default:throw Error(ie(329))}}}return xr(t,ot()),t.callbackNode===r?IM.bind(null,t):null}function Xm(t,e){var r=Yo;return t.current.memoizedState.isDehydrated&&(fs(t,e).flags|=256),t=qc(t,e),t!==2&&(e=dr,dr=r,e!==null&&qm(e)),t}function qm(t){dr===null?dr=t:dr.push.apply(dr,t)}function wI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!dn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~Ug,e&=~uh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ln(e),n=1<<r;t[r]=-1,e&=~n}}function Fb(t){if(Ce&6)throw Error(ie(327));_a();var e=Tc(t,0);if(!(e&1))return xr(t,ot()),null;var r=qc(t,e);if(t.tag!==0&&r===2){var n=bm(t);n!==0&&(e=n,r=Xm(t,n))}if(r===1)throw r=xl,fs(t,0),Si(t,e),xr(t,ot()),r;if(r===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,dr,Dn),xr(t,ot()),null}function Vg(t,e){var r=Ce;Ce|=1;try{return t(e)}finally{Ce=r,Ce===0&&(Ta=ot()+500,sh&&Vi())}}function js(t){Pi!==null&&Pi.tag===0&&!(Ce&6)&&_a();var e=Ce;Ce|=1;var r=Kr.transition,n=De;try{if(Kr.transition=null,De=1,t)return t()}finally{De=n,Kr.transition=r,Ce=e,!(Ce&6)&&Vi()}}function Hg(){jr=la.current,Ye(la)}function fs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,QN(r)),ht!==null)for(r=ht.return;r!==null;){var n=r;switch(Pg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Dc();break;case 3:Aa(),Ye(gr),Ye(qt),Ig();break;case 5:Ng(n);break;case 4:Aa();break;case 13:Ye(Ze);break;case 19:Ye(Ze);break;case 10:Ag(n.type._context);break;case 22:case 23:Hg()}r=r.return}if(Mt=t,ht=t=Ri(t.current,null),Ft=jr=e,xt=0,xl=null,Ug=uh=Ss=0,dr=Yo=null,as!==null){for(e=0;e<as.length;e++)if(r=as[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}as=null}return t}function RM(t,e){do{var r=ht;try{if(Eg(),fc.current=Hc,Vc){for(var n=Qe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vc=!1}if(ws=0,Pt=gt=Qe=null,Vo=!1,vl=0,Wg.current=null,r===null||r.return===null){xt=1,xl=e,ht=null;break}e:{var s=t,a=r.return,o=r,u=e;if(e=Ft,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Cb(a);if(p!==null){p.flags&=-257,Eb(p,a,o,s,e),p.mode&1&&Mb(s,c,e),e=p,u=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(u),e.updateQueue=y}else g.add(u);break e}else{if(!(e&1)){Mb(s,c,e),Yg();break e}u=Error(ie(426))}}else if(Xe&&o.mode&1){var _=Cb(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Eb(_,a,o,s,e),Mg(Oa(u,o));break e}}s=u=Oa(u,o),xt!==4&&(xt=2),Yo===null?Yo=[s]:Yo.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=xM(s,u,e);bb(s,x);break e;case 1:o=u;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ni===null||!Ni.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=_M(s,o,e);bb(s,k);break e}}s=s.return}while(s!==null)}$M(r)}catch(m){e=m,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(!0)}function DM(){var t=Yc.current;return Yc.current=Hc,t===null?Hc:t}function Yg(){(xt===0||xt===3||xt===2)&&(xt=4),Mt===null||!(Ss&268435455)&&!(uh&268435455)||Si(Mt,Ft)}function qc(t,e){var r=Ce;Ce|=2;var n=DM();(Mt!==t||Ft!==e)&&(Dn=null,fs(t,e));do try{SI();break}catch(i){RM(t,i)}while(!0);if(Eg(),Ce=r,Yc.current=n,ht!==null)throw Error(ie(261));return Mt=null,Ft=0,xt}function SI(){for(;ht!==null;)LM(ht)}function jI(){for(;ht!==null&&!Xz();)LM(ht)}function LM(t){var e=FM(t.alternate,t,jr);t.memoizedProps=t.pendingProps,e===null?$M(t):ht=e,Wg.current=null}function $M(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gI(r,e),r!==null){r.flags&=32767,ht=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,ht=null;return}}else if(r=vI(r,e,jr),r!==null){ht=r;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);xt===0&&(xt=5)}function ts(t,e,r){var n=De,i=Kr.transition;try{Kr.transition=null,De=1,kI(t,e,r,n)}finally{Kr.transition=i,De=n}return null}function kI(t,e,r,n){do _a();while(Pi!==null);if(Ce&6)throw Error(ie(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(sN(t,s),t===Mt&&(ht=Mt=null,Ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ou||(Ou=!0,WM(Oc,function(){return _a(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Kr.transition,Kr.transition=null;var a=De;De=1;var o=Ce;Ce|=4,Wg.current=null,xI(t,r),zM(r,t),VN(Mm),zc=!!Pm,Mm=Pm=null,t.current=r,_I(r),qz(),Ce=o,De=a,Kr.transition=s}else t.current=r;if(Ou&&(Ou=!1,Pi=t,Xc=i),s=t.pendingLanes,s===0&&(Ni=null),Jz(r.stateNode),xr(t,ot()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,t=Ym,Ym=null,t;return Xc&1&&t.tag!==0&&_a(),s=t.pendingLanes,s&1?t===Gm?Go++:(Go=0,Gm=t):Go=0,Vi(),null}function _a(){if(Pi!==null){var t=xP(Xc),e=Kr.transition,r=De;try{if(Kr.transition=null,De=16>t?16:t,Pi===null)var n=!1;else{if(t=Pi,Pi=null,Xc=0,Ce&6)throw Error(ie(331));var i=Ce;for(Ce|=4,he=t.current;he!==null;){var s=he,a=s.child;if(he.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(he=c;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Ho(8,d,s)}var h=d.child;if(h!==null)h.return=d,he=h;else for(;he!==null;){d=he;var f=d.sibling,p=d.return;if(AM(d),d===c){he=null;break}if(f!==null){f.return=p,he=f;break}he=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}he=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,he=a;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ho(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,he=x;break e}he=s.return}}var b=t.current;for(he=b;he!==null;){a=he;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,he=S;else e:for(a=b;he!==null;){if(o=he,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:lh(9,o)}}catch(m){rt(o,o.return,m)}if(o===a){he=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,he=k;break e}he=o.return}}if(Ce=i,Vi(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(eh,t)}catch{}n=!0}return n}finally{De=r,Kr.transition=e}}return!1}function Wb(t,e,r){e=Oa(r,e),e=xM(t,e,1),t=zi(t,e,1),e=rr(),t!==null&&(Fl(t,1,e),xr(t,e))}function rt(t,e,r){if(t.tag===3)Wb(t,t,r);else for(;e!==null;){if(e.tag===3){Wb(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ni===null||!Ni.has(n))){t=Oa(r,t),t=_M(e,t,1),e=zi(e,t,1),t=rr(),e!==null&&(Fl(e,1,t),xr(e,t));break}}e=e.return}}function PI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=rr(),t.pingedLanes|=t.suspendedLanes&r,Mt===t&&(Ft&r)===r&&(xt===4||xt===3&&(Ft&130023424)===Ft&&500>ot()-Kg?fs(t,0):Ug|=r),xr(t,e)}function BM(t,e){e===0&&(t.mode&1?(e=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):e=1);var r=rr();t=Qn(t,e),t!==null&&(Fl(t,e,r),xr(t,r))}function MI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),BM(t,r)}function CI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ie(314))}n!==null&&n.delete(e),BM(t,r)}var FM;FM=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||gr.current)hr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return hr=!1,mI(t,e,r);hr=!!(t.flags&131072)}else hr=!1,Xe&&e.flags&1048576&&VP(e,Bc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;mc(t,e),t=e.pendingProps;var i=Ma(e,qt.current);xa(e,r),i=Dg(null,e,n,t,i,r);var s=Lg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yr(n)?(s=!0,Lc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tg(e),i.updater=oh,e.stateNode=i,i._reactInternals=e,Rm(e,n,t,r),e=$m(null,e,n,!0,s,r)):(e.tag=0,Xe&&s&&kg(e),Jt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(mc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=AI(n),t=tn(n,t),i){case 0:e=Lm(null,e,n,t,r);break e;case 1:e=Tb(null,e,n,t,r);break e;case 11:e=Ab(null,e,n,t,r);break e;case 14:e=Ob(null,e,n,tn(n.type,t),r);break e}throw Error(ie(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tn(n,i),Lm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tn(n,i),Tb(t,e,n,i,r);case 3:e:{if(jM(e),t===null)throw Error(ie(387));n=e.pendingProps,s=e.memoizedState,i=s.element,ZP(t,e),Uc(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Oa(Error(ie(423)),e),e=zb(t,e,n,r,i);break e}else if(n!==i){i=Oa(Error(ie(424)),e),e=zb(t,e,n,r,i);break e}else for(Pr=Ti(e.stateNode.containerInfo.firstChild),Cr=e,Xe=!0,nn=null,r=XP(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ca(),n===i){e=Jn(t,e,r);break e}Jt(t,e,n,r)}e=e.child}return e;case 5:return QP(e),t===null&&zm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Cm(n,i)?a=null:s!==null&&Cm(n,s)&&(e.flags|=32),SM(t,e),Jt(t,e,a,r),e.child;case 6:return t===null&&zm(e),null;case 13:return kM(t,e,r);case 4:return zg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ea(e,null,n,r):Jt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tn(n,i),Ab(t,e,n,i,r);case 7:return Jt(t,e,e.pendingProps,r),e.child;case 8:return Jt(t,e,e.pendingProps.children,r),e.child;case 12:return Jt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,We(Fc,n._currentValue),n._currentValue=a,s!==null)if(dn(s.value,a)){if(s.children===i.children&&!gr.current){e=Jn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Yn(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Nm(s.return,r,e),o.lanes|=r;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ie(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Nm(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Jt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,xa(e,r),i=Vr(i),n=n(i),e.flags|=1,Jt(t,e,n,r),e.child;case 14:return n=e.type,i=tn(n,e.pendingProps),i=tn(n.type,i),Ob(t,e,n,i,r);case 15:return bM(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:tn(n,i),mc(t,e),e.tag=1,yr(n)?(t=!0,Lc(e)):t=!1,xa(e,r),yM(e,n,i),Rm(e,n,i,r),$m(null,e,n,!0,t,r);case 19:return PM(t,e,r);case 22:return wM(t,e,r)}throw Error(ie(156,e.tag))};function WM(t,e){return mP(t,e)}function EI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,r,n){return new EI(t,e,r,n)}function Gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AI(t){if(typeof t=="function")return Gg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fg)return 11;if(t===pg)return 14}return 2}function Ri(t,e){var r=t.alternate;return r===null?(r=Wr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function yc(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Gg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Qs:return ps(r.children,i,s,e);case hg:a=8,i|=8;break;case am:return t=Wr(12,r,e,i|2),t.elementType=am,t.lanes=s,t;case om:return t=Wr(13,r,e,i),t.elementType=om,t.lanes=s,t;case lm:return t=Wr(19,r,e,i),t.elementType=lm,t.lanes=s,t;case Qk:return ch(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qk:a=10;break e;case Zk:a=9;break e;case fg:a=11;break e;case pg:a=14;break e;case gi:a=16,n=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Wr(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ps(t,e,r,n){return t=Wr(7,t,n,e),t.lanes=r,t}function ch(t,e,r,n){return t=Wr(22,t,n,e),t.elementType=Qk,t.lanes=r,t.stateNode={isHidden:!1},t}function cp(t,e,r){return t=Wr(6,t,null,e),t.lanes=r,t}function dp(t,e,r){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vf(0),this.expirationTimes=Vf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xg(t,e,r,n,i,s,a,o,u){return t=new OI(t,e,r,o,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(s),t}function TI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function UM(t){if(!t)return Bi;t=t._reactInternals;e:{if($s(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var r=t.type;if(yr(r))return UP(t,r,e)}return e}function KM(t,e,r,n,i,s,a,o,u){return t=Xg(r,n,!0,t,i,s,a,o,u),t.context=UM(null),r=t.current,n=rr(),i=Ii(r),s=Yn(n,i),s.callback=e??null,zi(r,s,i),t.current.lanes=i,Fl(t,i,n),xr(t,n),t}function dh(t,e,r,n){var i=e.current,s=rr(),a=Ii(i);return r=UM(r),e.context===null?e.context=r:e.pendingContext=r,e=Yn(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=zi(i,e,a),t!==null&&(un(t,i,a,s),hc(t,i,a)),a}function Zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ub(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function qg(t,e){Ub(t,e),(t=t.alternate)&&Ub(t,e)}function zI(){return null}var VM=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zg(t){this._internalRoot=t}hh.prototype.render=Zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));dh(t,e,null,null)};hh.prototype.unmount=Zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){dh(null,t,null,null)}),e[Zn]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=wP();t={blockedOn:null,target:t,priority:e};for(var r=0;r<wi.length&&e!==0&&e<wi[r].priority;r++);wi.splice(r,0,t),r===0&&jP(t)}};function Qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kb(){}function NI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Zc(a);s.call(c)}}var a=KM(e,n,t,0,null,!1,!1,"",Kb);return t._reactRootContainer=a,t[Zn]=a.current,dl(t.nodeType===8?t.parentNode:t),js(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Zc(u);o.call(c)}}var u=Xg(t,0,!1,null,null,!1,!1,"",Kb);return t._reactRootContainer=u,t[Zn]=u.current,dl(t.nodeType===8?t.parentNode:t),js(function(){dh(e,u,r,n)}),u}function ph(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var u=Zc(a);o.call(u)}}dh(e,a,t,i)}else a=NI(r,e,t,i,n);return Zc(a)}_P=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=No(e.pendingLanes);r!==0&&(gg(e,r|1),xr(e,ot()),!(Ce&6)&&(Ta=ot()+500,Vi()))}break;case 13:js(function(){var n=Qn(t,1);if(n!==null){var i=rr();un(n,t,1,i)}}),qg(t,1)}};yg=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var r=rr();un(e,t,134217728,r)}qg(t,134217728)}};bP=function(t){if(t.tag===13){var e=Ii(t),r=Qn(t,e);if(r!==null){var n=rr();un(r,t,e,n)}qg(t,e)}};wP=function(){return De};SP=function(t,e){var r=De;try{return De=t,e()}finally{De=r}};ym=function(t,e,r){switch(e){case"input":if(dm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ih(n);if(!i)throw Error(ie(90));eP(n),dm(n,i)}}}break;case"textarea":rP(t,r);break;case"select":e=r.value,e!=null&&ma(t,!!r.multiple,e,!1)}};uP=Vg;cP=js;var II={usingClientEntryPoint:!1,Events:[Ul,ra,ih,oP,lP,Vg]},bo={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RI={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fP(t),t===null?null:t.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||zI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{eh=Tu.inject(RI),Cn=Tu}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=II;zr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qg(e))throw Error(ie(200));return TI(t,e,null,r)};zr.createRoot=function(t,e){if(!Qg(t))throw Error(ie(299));var r=!1,n="",i=VM;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xg(t,1,!1,null,null,r,!1,n,i),t[Zn]=e.current,dl(t.nodeType===8?t.parentNode:t),new Zg(e)};zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=fP(e),t=t===null?null:t.stateNode,t};zr.flushSync=function(t){return js(t)};zr.hydrate=function(t,e,r){if(!fh(e))throw Error(ie(200));return ph(null,t,e,!0,r)};zr.hydrateRoot=function(t,e,r){if(!Qg(t))throw Error(ie(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=VM;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=KM(e,null,t,1,r??null,i,!1,s,a),t[Zn]=e.current,dl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new hh(e)};zr.render=function(t,e,r){if(!fh(e))throw Error(ie(200));return ph(null,t,e,!1,r)};zr.unmountComponentAtNode=function(t){if(!fh(t))throw Error(ie(40));return t._reactRootContainer?(js(function(){ph(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};zr.unstable_batchedUpdates=Vg;zr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!fh(r))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return ph(t,e,r,!1,n)};zr.version="18.3.1-next-f1338f8080-20240426";function HM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HM)}catch(t){console.error(t)}}HM(),Hk.exports=zr;var Jg=Hk.exports,Vb=Jg;im.createRoot=Vb.createRoot,im.hydrateRoot=Vb.hydrateRoot;function Le(t){var e=t.width,r=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(r<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:r}}function ms(t,e){return t.width===e.width&&t.height===e.height}var DI=function(){function t(e){var r=this;this._resolutionListener=function(){return r._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var r=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){r._observers=r._observers.filter(function(i){return i!==n})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(r){return r.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function LI(t){return new DI(t)}var $I=function(){function t(e,r,n){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Le({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=r??function(s){return s},this._allowResizeObserver=(i=n==null?void 0:n.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,r;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(r=this._devicePixelRatioObservable)===null||r===void 0||r.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return Le({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Le(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(r){return r!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(r){return r!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var r=this.bitmapSize;ms(r,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(r,e))},t.prototype._emitBitmapSizeChanged=function(e,r){var n=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(n,e,r)})},t.prototype._suggestNewBitmapSize=function(e){var r=this._suggestedBitmapSize,n=Le(this._transformBitmapSize(e,this._canvasElementClientSize)),i=ms(this.bitmapSize,n)?null:n;r===null&&i===null||r!==null&&i!==null&&ms(r,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(r,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,r){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(n,e,r)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}FI().then(function(r){return r?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var r=Hb(this._canvasElement);if(r===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=LI(r),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,r;if(this._canvasElement!==null){var n=Hb(this._canvasElement);if(n!==null){var i=(r=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&r!==void 0?r:n.devicePixelRatio,s=this._canvasElement.getClientRects(),a=s[0]!==void 0?WI(s[0],i):Le({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(a)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(r){var n=r.find(function(a){return a.target===e._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var i=n.devicePixelContentBoxSize[0],s=Le({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function BI(t,e){return new $I(t,e.transform,e.options)}function Hb(t){return t.ownerDocument.defaultView}function FI(){return new Promise(function(t){var e=new ResizeObserver(function(r){t(r.every(function(n){return"devicePixelContentBoxSize"in n})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function WI(t,e){return Le({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var UI=function(){function t(e,r,n){if(r.width===0||r.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=r,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function ks(t,e){var r=t.canvasElementClientSize;if(r.width===0||r.height===0)return null;var n=t.bitmapSize;if(n.width===0||n.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new UI(i,r,n)}/*!
 * @license
 * TradingView Lightweight Charts v5.1.0
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const YM={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Yb,Xo;function Ps(t,e){const r={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(r)}function GM(t,e,r,n){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(r,e+i),t.lineTo(n,e+i),t.stroke()}function $t(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function _r(t){if(t===void 0)throw new Error("Value is undefined");return t}function re(t){if(t===null)throw new Error("Value is null");return t}function Mi(t){return re(_r(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(Yb||(Yb={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(Xo||(Xo={}));class ut{constructor(){this.t=[]}i(e,r,n){const i={h:e,l:r,o:n===!0};this.t.push(i)}_(e){const r=this.t.findIndex(n=>e===n.h);r>-1&&this.t.splice(r,1)}u(e){this.t=this.t.filter(r=>r.l!==e)}p(e,r,n){const i=[...this.t];this.t=this.t.filter(s=>!s.o),i.forEach(s=>s.h(e,r,n))}v(){return this.t.length>0}m(){this.t=[]}}function Er(t,...e){for(const r of e)for(const n in r)r[n]!==void 0&&Object.prototype.hasOwnProperty.call(r,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof r[n]!="object"||t[n]===void 0||Array.isArray(r[n])?t[n]=r[n]:Er(t[n],r[n]));return t}function Ms(t){return typeof t=="number"&&isFinite(t)}function _l(t){return typeof t=="number"&&t%1==0}function Vl(t){return typeof t=="string"}function zu(t){return typeof t=="boolean"}function Un(t){const e=t;if(!e||typeof e!="object")return e;let r,n,i;for(n in r=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(i=e[n],r[n]=i&&typeof i=="object"?Un(i):i);return r}function Gb(t){return t!==null}function bl(t){return t===null?void 0:t}const XM="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function wl(t,e,r){return e===void 0&&(e=XM),`${r=r!==void 0?`${r} `:""}${t}px ${e}`}class KI{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,r=this.F(),n=this.W();return e.k===r&&e.T===n||(e.k=r,e.T=n,e.P=wl(r,n),e.A=2.5/12*r,e.I=e.A,e.V=r/12*e.C,e.B=r/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function hp(t){return t<0?0:t>255?255:Math.round(t)||0}function Xb(t){return .199*t[0]+.687*t[1]+.114*t[2]}let VI=class{constructor(e,r){this.q=new Map,this.j=e,r&&(this.q=r)}Y(e,r){if(e==="transparent")return e;const n=this.K(e),i=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${r*i})`}Z(e){const r=this.K(e);return{G:`rgb(${r[0]}, ${r[1]}, ${r[2]})`,X:Xb(r)>160?"black":"white"}}J(e){return Xb(this.K(e))}tt(e,r,n){const[i,s,a,o]=this.K(e),[u,c,d,h]=this.K(r),f=[hp(i+n*(u-i)),hp(s+n*(c-s)),hp(a+n*(d-a)),(p=o+n*(h-o),p<=0||p>1?Math.min(Math.max(p,0),1):Math.round(1e4*p)/1e4)];var p;return`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${f[3]})`}K(e){const r=this.q.get(e);if(r)return r;const n=function(a){const o=document.createElement("div");o.style.display="none",document.body.appendChild(o),o.style.color=a;const u=window.getComputedStyle(o).color;return document.body.removeChild(o),u}(e),i=n.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!i){if(this.j.length)for(const a of this.j){const o=a(e);if(o)return this.q.set(e,o),o}throw new Error(`Failed to parse color: ${e}`)}const s=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1];return this.q.set(e,s),s}};class HI{constructor(){this.it=[]}st(e){this.it=e}nt(e,r,n){this.it.forEach(i=>{i.nt(e,r,n)})}}class Bs{nt(e,r,n){e.useBitmapCoordinateSpace(i=>this.et(i,r,n))}}class YI extends Bs{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){if(this.rt===null||this.rt.lt===null)return;const i=this.rt.lt,s=this.rt,a=Math.max(1,Math.floor(r))%2/2,o=u=>{e.beginPath();for(let c=i.to-1;c>=i.from;--c){const d=s.ot[c],h=Math.round(d._t*r)+a,f=d.ut*n,p=u*n+a;e.moveTo(h,f),e.arc(h,f,p,0,2*Math.PI)}e.fill()};s.ct>0&&(e.fillStyle=s.dt,o(s.ft+s.ct)),e.fillStyle=s.vt,o(s.ft)}}function GI(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const XI={from:0,to:1};class qI{constructor(e,r,n){this.Mt=new HI,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=r,this.yt=n,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(GI),this.bt=this.St.map(r=>{const n=new YI;return n.ht(r),n}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),r=this.yt.Vt(),n=this.Ct.Bt(),i=this.O.Et();this.Pt(),r.forEach((s,a)=>{const o=this.St[a],u=s.At(n),c=s.Lt();!e&&u!==null&&s.It()&&c!==null?(o.vt=u.zt,o.ft=u.ft,o.ct=u.Ot,o.ot[0].gt=u.gt,o.ot[0].ut=s.Ft().Nt(u.gt,c.Wt),o.dt=u.Ht??this.O.Ut(o.ot[0].ut/s.Ft().$t()),o.ot[0].wt=n,o.ot[0]._t=i.qt(n),o.lt=XI):o.lt=null})}}class ZI extends Bs{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.jt===null)return;const s=this.jt.Yt.It,a=this.jt.Kt.It;if(!s&&!a)return;const o=Math.round(this.jt._t*n),u=Math.round(this.jt.ut*i);e.lineCap="butt",s&&o>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*n),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,Ps(e,this.jt.Yt.Zt),function(c,d,h,f){c.beginPath();const p=c.lineWidth%2?.5:0;c.moveTo(d+p,h),c.lineTo(d+p,f),c.stroke()}(e,o,0,r.height)),a&&u>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*i),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,Ps(e,this.jt.Kt.Zt),GM(e,u,0,r.width))}}class QI{constructor(e,r){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new ZI(this.Gt),this.Jt=e,this.yt=r}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),r=this.yt.Qt().N().crosshair,n=this.Gt;if(r.mode===2)return n.Kt.It=!1,void(n.Yt.It=!1);n.Kt.It=e&&this.Jt.ti(this.yt),n.Yt.It=e&&this.Jt.ii(),n.Kt.ct=r.horzLine.width,n.Kt.Zt=r.horzLine.style,n.Kt.R=r.horzLine.color,n.Yt.ct=r.vertLine.width,n.Yt.Zt=r.vertLine.style,n.Yt.R=r.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}}function JI(t,e,r,n,i,s){t.fillRect(e+s,r,n-2*s,s),t.fillRect(e+s,r+i-s,n-2*s,s),t.fillRect(e,r,s,i),t.fillRect(e+n-s,r,s,i)}function mh(t,e,r,n,i,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,r,n,i),t.restore()}function qb(t,e,r,n,i,s){t.beginPath(),t.roundRect?t.roundRect(e,r,n,i,s):(t.lineTo(e+n-s[1],r),s[1]!==0&&t.arcTo(e+n,r,e+n,r+s[1],s[1]),t.lineTo(e+n,r+i-s[2]),s[2]!==0&&t.arcTo(e+n,r+i,e+n-s[2],r+i,s[2]),t.lineTo(e+s[3],r+i),s[3]!==0&&t.arcTo(e,r+i,e,r+i-s[3],s[3]),t.lineTo(e,r+s[0]),s[0]!==0&&t.arcTo(e,r,e+s[0],r,s[0]))}function Zb(t,e,r,n,i,s,a=0,o=[0,0,0,0],u=""){if(t.save(),!a||!u||u===s)return qb(t,e,r,n,i,o),t.fillStyle=s,t.fill(),void t.restore();const c=a/2;var d;qb(t,e+c,r+c,n-a,i-a,(d=-c,o.map(h=>h===0?h:h+d))),s!=="transparent"&&(t.fillStyle=s,t.fill()),u!=="transparent"&&(t.lineWidth=a,t.strokeStyle=u,t.closePath(),t.stroke()),t.restore()}function qM(t,e,r,n,i,s,a){t.save(),t.globalCompositeOperation="copy";const o=t.createLinearGradient(0,0,0,i);o.addColorStop(0,s),o.addColorStop(1,a),t.fillStyle=o,t.fillRect(e,r,n,i),t.restore()}class Qb{constructor(e,r){this.ht(e,r)}ht(e,r){this.jt=e,this.ei=r}$t(e,r){return this.jt.It?e.k+e.A+e.I:0}nt(e,r,n,i){if(!this.jt.It||this.jt.ri.length===0)return;const s=this.jt.R,a=this.ei.G,o=e.useBitmapCoordinateSpace(u=>{const c=u.context;c.font=r.P;const d=this.hi(u,r,n,i),h=d.ai;return d.li?Zb(c,h.oi,h._i,h.ui,h.ci,a,h.di,[h.ft,0,0,h.ft],a):Zb(c,h.fi,h._i,h.ui,h.ci,a,h.di,[0,h.ft,h.ft,0],a),this.jt.pi&&(c.fillStyle=s,c.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.jt.Mi&&(c.fillStyle=r.D,c.fillRect(d.li?h.bi-h.di:0,h._i,h.di,h.Si-h._i)),d});e.useMediaCoordinateSpace(({context:u})=>{const c=o.xi;u.font=r.P,u.textAlign=o.li?"right":"left",u.textBaseline="middle",u.fillStyle=s,u.fillText(this.jt.ri,c.Ci,(c._i+c.Si)/2+c.yi)})}hi(e,r,n,i){const{context:s,bitmapSize:a,mediaSize:o,horizontalPixelRatio:u,verticalPixelRatio:c}=e,d=this.jt.pi||!this.jt.ki?r.C:0,h=this.jt.Pi?r.S:0,f=r.A+this.ei.Ti,p=r.I+this.ei.Ri,g=r.V,y=r.B,_=this.jt.ri,x=r.k,b=n.Di(s,_),S=Math.ceil(n.Ii(s,_)),k=x+f+p,m=r.S+g+y+S+d,w=Math.max(1,Math.floor(c));let P=Math.round(k*c);P%2!=w%2&&(P+=1);const C=h>0?Math.max(1,Math.floor(h*u)):0,E=Math.round(m*u),I=Math.round(d*u),D=this.ei.Vi??this.ei.Bi??this.ei.Ei,z=Math.round(D*c)-Math.floor(.5*c),X=Math.floor(z+w/2-P/2),Z=X+P,H=i==="right",oe=H?o.width-h:h,O=H?a.width-C:C;let R,N,L;return H?(R=O-E,N=O-I,L=oe-d-g-h):(R=O+E,N=O+I,L=oe+d+g),{li:H,ai:{_i:X,mi:z,Si:Z,ui:E,ci:P,ft:2*u,di:C,oi:R,fi:O,wi:N,gi:w,bi:a.width},xi:{_i:X/c,Si:Z/c,Ci:L,yi:b}}}}class vh{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||Qb)(this.Li,this.Ai),this.Ni=new(e||Qb)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,r=!1){return Math.max(this.Oi.$t(e,r),this.Ni.$t(e,r))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class eR extends vh{constructor(e,r,n){super(),this.Jt=e,this.Ki=r,this.Zi=n}Yi(e,r,n){if(e.It=!1,this.Jt.N().mode===2)return;const i=this.Jt.N().horzLine;if(!i.labelVisible)return;const s=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||s===null)return;const a=this.Ki.Xi().Z(i.labelBackgroundColor);n.G=a.G,e.R=a.X;const o=2/12*this.Ki.k();n.Ti=o,n.Ri=o;const u=this.Zi(this.Ki);n.Ei=u.Ei,e.ri=this.Ki.Ji(u.gt,s),e.It=!0}}const tR=/[1-9]/g;class ZM{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,r){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const n=e.useMediaCoordinateSpace(({context:f})=>(f.font=r.P,Math.round(r.Qi.Ii(f,re(this.jt).ri,tR))));if(n<=0)return;const i=r.ts,s=n+2*i,a=s/2,o=this.jt.ss;let u=this.jt.Ei,c=Math.floor(u-a)+.5;c<0?(u+=Math.abs(0-c),c=Math.floor(u-a)+.5):c+s>o&&(u-=Math.abs(o-(c+s)),c=Math.floor(u-a)+.5);const d=c+s,h=Math.ceil(0+r.S+r.C+r.A+r.k+r.I);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:g})=>{const y=re(this.jt);f.fillStyle=y.G;const _=Math.round(c*p),x=Math.round(0*g),b=Math.round(d*p),S=Math.round(h*g),k=Math.round(2*p);if(f.beginPath(),f.moveTo(_,x),f.lineTo(_,S-k),f.arcTo(_,S,_+k,S,k),f.lineTo(b-k,S),f.arcTo(b,S,b,S-k,k),f.lineTo(b,x),f.fill(),y.pi){const m=Math.round(y.Ei*p),w=x,P=Math.round((w+r.C)*g);f.fillStyle=y.R;const C=Math.max(1,Math.floor(p)),E=Math.floor(.5*p);f.fillRect(m-E,w,C,P-w)}}),e.useMediaCoordinateSpace(({context:f})=>{const p=re(this.jt),g=0+r.S+r.C+r.A+r.k/2;f.font=r.P,f.textAlign="left",f.textBaseline="middle",f.fillStyle=p.R;const y=r.Qi.Di(f,"Apr0");f.translate(c+i,g+y),f.fillText(p.ri,0,0)})}}class rR{constructor(e,r,n){this.xt=!0,this.Xt=new ZM,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=r,this.Zi=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const r=this.Ct.N().vertLine;if(!r.labelVisible)return;const n=this.ns.Et();if(n.Gi())return;e.ss=n.ss();const i=this.Zi();if(i===null)return;e.Ei=i.Ei;const s=n.es(this.Ct.Bt());e.ri=n.rs(re(s)),e.It=!0;const a=this.ns.Xi().Z(r.labelBackgroundColor);e.G=a.G,e.R=a.X,e.pi=n.N().ticksVisible}}class QM{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var Jb;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(Jb||(Jb={}));class nR extends QM{constructor(e,r){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=r,this.Ts=((i,s)=>a=>{const o=s(),u=i();if(a===re(this.yt).Rs())return{gt:u,Ei:o};{const c=re(a.Lt());return{gt:a.Ds(o,c),Ei:o}}})(()=>this.ps,()=>this.Cs);const n=((i,s)=>()=>{const a=this.ns.Et().Is(i()),o=s();return a&&Number.isFinite(o)?{wt:a,Ei:o}:null})(()=>this.vs,()=>this.si());this.Vs=new rR(this,e,n)}N(){return this.Ps}Bs(e,r){this.ys=e,this.ks=r}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,r,n){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,r,n)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const r=this.ns,n=r.Et();let i=null,s=null;for(const c of r.Us()){const d=c.qs().$s(e,-1);if(d){if(d.js===e)return e;(i===null||d.js>i)&&(i=d.js)}const h=c.qs().$s(e,1);if(h){if(h.js===e)return e;(s===null||h.js<s)&&(s=h.js)}}const a=[i,s].filter(Gb);if(a.length===0)return e;const o=n.qt(e),u=a.map(c=>Math.abs(o-n.qt(c)));return a[u.indexOf(Math.min(...u))]}Ys(e){let r=this.bs.get(e);r||(r=new QI(this,e),this.bs.set(e,r));let n=this.Ss.get(e);return n||(n=new qI(this.ns,this,e),this.Ss.set(e,n)),[r,n]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,r){this.ws&&this.yt===e||this.gs.clear();const n=[];return this.yt===e&&n.push(this.Zs(this.gs,r,this.Ts)),n}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach(e=>{var r,n;(r=this.bs.get(e))==null||r.kt(),(n=this.Ss.get(e))==null||n.kt()}),this.gs.forEach(e=>e.kt()),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,r,n){this.Qs(e,r,n)&&this.Ws()}Qs(e,r,n){const i=this.xs,s=this.Cs,a=this.ps,o=this.vs,u=this.yt,c=this.Js(n);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=n;const d=c!==null?c.Lt():null;return c!==null&&d!==null?(this.ps=r,this.Cs=c.Nt(r,d)):(this.ps=NaN,this.Cs=NaN),i!==this.xs||s!==this.Cs||o!==this.vs||a!==this.ps||u!==this.yt}Fs(){const e=this.ns.tn().map(n=>n.qs().sn()).filter(Gb),r=e.length===0?null:Math.max(...e);this.vs=r!==null?r:NaN}Zs(e,r,n){let i=e.get(r);return i===void 0&&(i=new eR(this,r,n),e.set(r,i)),i}}function gh(t){return t==="left"||t==="right"}class Dt{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,r){const n=function(i,s){return i===void 0?s:{an:Math.max(i.an,s.an),ln:i.ln||s.ln}}(this.nn.get(e),r);this.nn.set(e,n)}_n(){return this.rn}un(e){const r=this.nn.get(e);return r===void 0?{an:this.rn}:{an:Math.max(this.rn,r.an),ln:r.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const r of e.en)this.xn(r);this.rn=Math.max(this.rn,e.rn),e.nn.forEach((r,n)=>{this.hn(n,r)})}static Cn(){return new Dt(2)}static yn(){return new Dt(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex(r=>r.fn===5);e!==-1&&this.en.splice(e,1)}}class JM{formatTickmarks(e){return e.map(r=>this.format(r))}}const e1=".";function Kn(t,e){if(!Ms(t))return"n/a";if(!_l(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class yh extends JM{constructor(e,r){if(super(),r||(r=1),Ms(e)&&_l(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=r,this.Pn()}format(e){const r=e<0?"":"";return e=Math.abs(e),r+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const r=this.Ki/this.kn;let n=Math.floor(e),i="";const s=this.Rn!==void 0?this.Rn:NaN;if(r>1){let a=+(Math.round(e*r)-n*r).toFixed(this.Rn);a>=r&&(a-=r,n+=1),i=e1+Kn(+a.toFixed(this.Rn)*this.kn,s)}else n=Math.round(n*r)/r,s>0&&(i=e1+Kn(0,s));return n.toFixed(0)+i}}class eC extends yh{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class iR extends JM{constructor(e){super(),this.Dn=e}format(e){let r="";return e<0&&(r="-",e=-e),e<995?r+this.In(e):e<999995?r+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),r+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),r+this.In(e/1e9)+"B")}In(e){let r;const n=Math.pow(10,this.Dn);return r=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),r.replace(/(\.[1-9]*)0+$/,(i,s)=>s)}}const sR=/[2-9]/g;class Sl{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,r,n){return this.Nn(e,r,n).width}Di(e,r,n){const i=this.Nn(e,r,n);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}Nn(e,r,n){const i=n||sR,s=String(r).replace(i,"0");if(this.Ln.has(s))return _r(this.Ln.get(s)).Fn;if(this.Vn===this.zn){const o=this.An[this.En];delete this.An[this.En],this.Ln.delete(o),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const a=e.measureText(s);return e.restore(),a.width===0&&r.length||(this.Ln.set(s,{Fn:a,Wn:this.Bn}),this.An[this.Bn]=s,this.Vn++,this.Bn++),a}}class aR{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,r,n){this.Hn=e,this.M=r,this.Un=n}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class tC{constructor(e,r,n){this.jn=e,this.$n=new Sl(50),this.Yn=r,this.O=n,this.F=-1,this.Xt=new aR(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const r=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(r===null)return null;const n=e.Xn(r);if(n==="overlay")return null;const i=this.O.Jn();return i.k!==this.F&&(this.F=i.k,this.$n.On()),this.Xt.qn(this.jn.ji(),i,n),this.Xt}}class oR extends Bs{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,r){var a;if(!((a=this.jt)!=null&&a.It))return null;const{ut:n,ct:i,te:s}=this.jt;return r>=n-i-7&&r<=n+i+7?{ie:this.jt,te:s}:null}et({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.jt===null||this.jt.It===!1)return;const s=Math.round(this.jt.ut*i);s<0||s>r.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*n),Ps(e,this.jt.Zt),GM(e,s,0,r.width))}}class ey{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new oR,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class lR extends ey{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),r=e.ae().ae;if(r!==2&&r!==3)return;const n=this.ee.N();if(!n.baseLineVisible||!this.ee.It())return;const i=this.ee.Lt();i!==null&&(this.se.It=!0,this.se.ut=e.Nt(i.Wt,i.Wt),this.se.R=n.baseLineColor,this.se.ct=n.baseLineWidth,this.se.Zt=n.baseLineStyle)}}class uR extends Bs{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){const i=this.jt;if(i===null)return;const s=Math.max(1,Math.floor(r)),a=s%2/2,o=Math.round(i.oe.x*r)+a,u=i.oe.y*n;e.fillStyle=i._e,e.beginPath();const c=Math.max(2,1.5*i.ue)*r;e.arc(o,u,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.ce,e.beginPath(),e.arc(o,u,i.ft*r,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=i.de,e.beginPath(),e.arc(o,u,i.ft*r+s/2,0,2*Math.PI,!1),e.stroke()}}const cR=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class dR{constructor(e){this.Xt=new uR,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),r=this.Ce-e;if(r>0)return void(r<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),r=e.Ie(),n=this.ye.Lt();if(r===null||n===null)return;const i=this.ye.Ve(!0);if(i.Be||!r.Ee(i.js))return;const s={x:e.qt(i.js),y:this.ye.Ft().Nt(i.gt,n.Wt)},a=i.R,o=this.ye.N().lineWidth,u=this.Ae(this.Le(),a);this.Xt.ht({_e:a,ue:o,ce:u.ce,de:u.de,ft:u.ft,oe:s})}De(){const e=this.Xt.le();if(e!==null){const r=this.Ae(this.Le(),e._e);e.ce=r.ce,e.de=r.de,e.ft=r.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,r,n,i){const s=n+(i-n)*r;return this.ye.Qt().Xi().Y(e,s)}Ae(e,r){const n=e%2600/2600;let i;for(const c of cR)if(n>=c.fe&&n<=c.pe){i=c;break}$t(i!==void 0,"Last price animation internal logic error");const s=(n-i.fe)/(i.pe-i.fe);return{ce:this.ze(r,s,i.we,i.ge),de:this.ze(r,s,i.Me,i.be),ft:(a=s,o=i.ve,u=i.me,o+(u-o)*a)};var a,o,u}}class hR extends ey{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const r=this.ee.N();if(!r.priceLineVisible||!this.ee.It())return;const n=this.ee.Ve(r.priceLineSource===0);n.Be||(e.It=!0,e.ut=n.Ei,e.R=this.ee.Oe(n.R),e.ct=r.priceLineWidth,e.Zt=r.priceLineStyle)}}class fR extends vh{constructor(e){super(),this.Jt=e}Yi(e,r,n){e.It=!1,r.It=!1;const i=this.Jt;if(!i.It())return;const s=i.N(),a=s.lastValueVisible,o=i.Ne()!=="",u=s.seriesLastValueMode===0,c=i.Ve(!1);if(c.Be)return;a&&(e.ri=this.Fe(c,a,u),e.It=e.ri.length!==0),(o||u)&&(r.ri=this.We(c,a,o,u),r.It=r.ri.length>0);const d=i.Oe(c.R),h=this.Jt.Qt().Xi().Z(d);n.G=h.G,n.Ei=c.Ei,r.Ht=i.Qt().Ut(c.Ei/i.Ft().$t()),e.Ht=d,e.R=h.X,r.R=h.X}We(e,r,n,i){let s="";const a=this.Jt.Ne();return n&&a.length!==0&&(s+=`${a} `),r&&i&&(s+=this.Jt.Ft().He()?e.Ue:e.$e),s.trim()}Fe(e,r,n){return r?n?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function t1(t,e,r,n){const i=Number.isFinite(e),s=Number.isFinite(r);return i&&s?t(e,r):i||s?i?e:r:n}class nr{constructor(e,r){this.qe=e,this.je=r}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new nr(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new nr(t1(Math.min,this.Ze(),e.Ze(),-1/0),t1(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!Ms(e)||this.je-this.qe===0)return;const r=.5*(this.je+this.qe);let n=this.je-r,i=this.qe-r;n*=e,i*=e,this.je=r+n,this.qe=r+i}Qe(e){Ms(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new nr(e.minValue,e.maxValue)}}class Qc{constructor(e,r){this.sr=e,this.nr=r||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new Qc(nr.ir(e.priceRange),e.margins)}}const pR=[2,4,8,16,32,64,128,256,512],mR="Custom series with conflation reducer must have a priceValueBuilder method";class vR extends ey{constructor(e,r){super(e),this.hr=r}he(){const e=this.se;e.It=!1;const r=this.hr.N();if(!this.ee.It()||!r.lineVisible)return;const n=this.hr.ar();n!==null&&(e.It=!0,e.ut=n,e.R=r.color,e.ct=r.lineWidth,e.Zt=r.lineStyle,e.te=this.hr.N().id)}}class gR extends vh{constructor(e,r){super(),this.ye=e,this.hr=r}Yi(e,r,n){e.It=!1,r.It=!1;const i=this.hr.N(),s=i.axisLabelVisible,a=i.title!=="",o=this.ye;if(!s||!o.It())return;const u=this.hr.ar();if(u===null)return;a&&(r.ri=i.title,r.It=!0),r.Ht=o.Qt().Ut(u/o.Ft().$t()),e.ri=this.lr(i.price),e.It=!0;const c=this.ye.Qt().Xi().Z(i.axisLabelColor||i.color);n.G=c.G;const d=i.axisLabelTextColor||c.X;e.R=d,r.R=d,n.Ei=u}lr(e){const r=this.ye.Lt();return r===null?"":this.ye.Ft().Ji(e,r.Wt)}}class yR{constructor(e,r){this.ye=e,this.Ps=r,this._r=new vR(e,this),this.jn=new gR(e,this),this.ur=new tC(this.jn,e,e.Qt())}cr(e){Er(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,r=e.Ft();if(e.Qt().Et().Gi()||r.Gi())return null;const n=e.Lt();return n===null?null:r.Nt(this.Ps.price,n.Wt)}}class xR{constructor(){this.wr=new WeakMap}gr(e,r,n){const i=1/r*n;if(e>=i)return 1;const s=i/e,a=Math.pow(2,Math.floor(Math.log2(s)));return Math.min(a,512)}Mr(e,r,n,i=!1,s){if(e.length===0||r<=1)return e;const a=this.br(r);if(a<=1)return e;const o=this.Sr(e);let u=o.Cr.get(a);return u!==void 0||(u=this.yr(e,a,n,i,s,o.Cr),o.Cr.set(a,u)),u}kr(e,r,n,i,s=!1,a){if(n<1||e.length===0)return e;const o=this.Sr(e),u=o.Cr.get(n);if(!u)return this.Mr(e,n,i,s,a);const c=this.Pr(e,r,n,u,s,i,a);return o.Cr.set(n,c),c}br(e){if(e<=2)return 2;for(const r of pR)if(e<=r)return r;return 512}Tr(e){if(e.length===0)return 0;const r=e[0],n=e[e.length-1];return 31*e.length+17*r.js+13*n.js}yr(e,r,n,i=!1,s,a=new Map){if(r===2)return this.Rr(e,2,n,i,s);const o=r/2;let u=a.get(o);return u||(u=this.yr(e,o,n,i,s,a),a.set(o,u)),this.Dr(u,n,i,s)}Rr(e,r,n,i=!1,s){const a=this.Ir(e,r,n,i,s);return this.Vr(a,i)}Dr(e,r,n=!1,i){const s=this.Ir(e,2,r,n,i);return this.Vr(s,n)}Ir(e,r,n,i=!1,s){const a=[];for(let o=0;o<e.length;o+=r)if(e.length-o>=r){const u=this.Br(e[o],e[o+1],n,i,s);u.Er=!1,a.push(u)}else if(a.length===0)a.push(this.Ar(e[o],!0));else{const u=a[a.length-1];a[a.length-1]=this.Lr(u,e[o],n,i,s)}return a}zr(e,r){return(e??1)+(r??1)}Br(e,r,n,i=!1,s){if(!i||!n||!s){const c=e.Wt[1]>r.Wt[1]?e.Wt[1]:r.Wt[1],d=e.Wt[2]<r.Wt[2]?e.Wt[2]:r.Wt[2];return{Or:e.js,Nr:r.js,Fr:e.wt,Wr:r.wt,Hr:e.Wt[0],Ur:c,$r:d,qr:r.Wt[3],jr:this.zr(e.jr,r.jr),Yr:void 0,Er:!1}}const a=n(this.Kr(e,s),this.Kr(r,s)),o=s(a),u=o.length?o[o.length-1]:0;return{Or:e.js,Nr:r.js,Fr:e.wt,Wr:r.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],u),$r:Math.min(e.Wt[2],u),qr:u,jr:this.zr(e.jr,r.jr),Yr:a,Er:!1}}Lr(e,r,n,i=!1,s){if(!i||!n||!s)return{Or:e.Or,Nr:r.js,Fr:e.Fr,Wr:r.wt,Hr:e.Hr,Ur:e.Ur>r.Wt[1]?e.Ur:r.Wt[1],$r:e.$r<r.Wt[2]?e.$r:r.Wt[2],qr:r.Wt[3],jr:e.jr+(r.jr??1),Yr:e.Yr,Er:!1};const a=e.Yr,o=this.Kr(r,s),u=a?{data:a,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:s(a)}:null,c=u?n(u,o):o.data,d=u?s(c):o.priceValues,h=d.length?d[d.length-1]:0;return{Or:e.Or,Nr:r.js,Fr:e.Fr,Wr:r.wt,Hr:e.Hr,Ur:Math.max(e.Ur,h),$r:Math.min(e.$r,h),qr:h,jr:e.jr+(r.jr??1),Yr:c,Er:!1}}Zr(e,r,n,i,s,a,o=!1,u){const c=r===i?s:e[r];if(n-r==1)return this.Ar(c,!0);const d=r+1===i?s:e[r+1];let h=this.Br(c,d,a,o,u);for(let f=r+2;f<n;f++){const p=f===i?s:e[f];h=this.Lr(h,p,a,o,u)}return h}Kr(e,r){const n=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:r(n)}}Xr(e,r=!1){const n=r===!0,i=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[n?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:n?i?e.Yr:{wt:e.Fr}:void 0}}Vr(e,r=!1){return e.map(n=>this.Xr(n,r))}Pr(e,r,n,i,s=!1,a,o){if(i.length===0)return i;const u=e.length-1,c=Math.floor(u/n)*n;if(Math.min(c+n,e.length)-c<n&&e.length>n){const d=e.slice();return d[d.length-1]=r,this.Mr(d,n,a,s,o)}if(Math.floor((u-1)/n)===Math.floor(u/n)||i.length===1){const d=Math.min(c+n,e.length),h=d-c;if(h<=0)return i;const f=h===1?this.Ar(c===u?r:e[c],!0):this.Zr(e,c,d,u,r,a,s,o);return i[i.length-1]=this.Xr(f,s),i}{const d=e.slice();return d[d.length-1]=r,this.Mr(d,n,a,s,o)}}Ar(e,r=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:r}}Sr(e){const r=this.Jr(e),n=this.Tr(e);return r.Qr!==n&&(r.Cr.clear(),r.Qr=n),r}Jr(e){let r=this.wr.get(e);return r===void 0&&(r={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,r)),r}}class _R extends QM{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const bR={Bar:(t,e,r,n)=>{const i=e.upColor,s=e.downColor,a=re(t(r,n)),o=Mi(a.Wt[0])<=Mi(a.Wt[3]);return{th:a.R??(o?i:s)}},Candlestick:(t,e,r,n)=>{const i=e.upColor,s=e.downColor,a=e.borderUpColor,o=e.borderDownColor,u=e.wickUpColor,c=e.wickDownColor,d=re(t(r,n)),h=Mi(d.Wt[0])<=Mi(d.Wt[3]);return{th:d.R??(h?i:s),ih:d.Ht??(h?a:o),sh:d.nh??(h?u:c)}},Custom:(t,e,r,n)=>({th:re(t(r,n)).R??e.color}),Area:(t,e,r,n)=>{const i=re(t(r,n));return{th:i.vt??e.lineColor,vt:i.vt??e.lineColor,eh:i.eh??e.topColor,rh:i.rh??e.bottomColor}},Baseline:(t,e,r,n)=>{const i=re(t(r,n));return{th:i.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:i.hh??e.topLineColor,ah:i.ah??e.bottomLineColor,oh:i.oh??e.topFillColor1,_h:i._h??e.topFillColor2,uh:i.uh??e.bottomFillColor1,dh:i.dh??e.bottomFillColor2}},Line:(t,e,r,n)=>{const i=re(t(r,n));return{th:i.R??e.color,vt:i.R??e.color}},Histogram:(t,e,r,n)=>({th:re(t(r,n)).R??e.color})};class wR{constructor(e){this.fh=(r,n)=>n!==void 0?n.Wt:this.ye.qs().ph(r),this.ye=e,this.mh=bR[e.wh()]}gh(e,r){return this.mh(this.fh,this.ye.N(),e,r)}}function rC(t,e,r,n,i=0,s=e.length){let a=s-i;for(;0<a;){const o=a>>1,u=i+o;n(e[u],r)===t?(i=u+1,a-=o+1):a=o}return i}const za=rC.bind(null,!0),nC=rC.bind(null,!1);var r1;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(r1||(r1={}));const vi=30;class SR{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,r=0){const n=this.Th(e,r);return n===null?null:{...this.Rh(n),js:this.Ph(n)}}Dh(){return this.Mh}Ih(e,r,n){if(this.Gi())return null;let i=null;for(const s of n)i=Nu(i,this.Vh(e,r,s));return i}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map(r=>r.js)}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,r){const n=this.Eh(e);if(n===null&&r!==0)switch(r){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return n}Ah(e){let r=this.zh(e);return r>0&&(r-=1),r!==this.Mh.length&&this.Ph(r)<e?r:null}Lh(e){const r=this.Oh(e);return r!==this.Mh.length&&e<this.Ph(r)?r:null}Eh(e){const r=this.zh(e);return r===this.Mh.length||e<this.Mh[r].js?null:r}zh(e){return za(this.Mh,e,(r,n)=>r.js<n)}Oh(e){return nC(this.Mh,e,(r,n)=>r.js>n)}Nh(e,r,n){let i=null;for(let s=e;s<r;s++){const a=this.Mh[s].Wt[n];Number.isNaN(a)||(i===null?i={Fh:a,Wh:a}:(a<i.Fh&&(i.Fh=a),a>i.Wh&&(i.Wh=a)))}return i}Vh(e,r,n){if(this.Gi())return null;let i=null;const s=re(this.kh()),a=re(this.sn()),o=Math.max(e,s),u=Math.min(r,a),c=Math.ceil(o/vi)*vi,d=Math.max(c,Math.floor(u/vi)*vi);{const f=this.zh(o),p=this.Oh(Math.min(u,c,r));i=Nu(i,this.Nh(f,p,n))}let h=this.bh.get(n);h===void 0&&(h=new Map,this.bh.set(n,h));for(let f=Math.max(c+1,o);f<d;f+=vi){const p=Math.floor(f/vi);let g=h.get(p);if(g===void 0){const y=this.zh(p*vi),_=this.Oh((p+1)*vi-1);g=this.Nh(y,_,n),h.set(p,g)}i=Nu(i,g)}{const f=this.zh(d),p=this.Oh(u);i=Nu(i,this.Nh(f,p,n))}return i}}function Nu(t,e){return t===null?e:e===null?t:{Fh:Math.min(t.Fh,e.Fh),Wh:Math.max(t.Wh,e.Wh)}}function fp(){return new SR}const Jc={setLineStyle:Ps};class jR{constructor(e){this.Hh=e}nt(e,r,n){this.Hh.draw(e,Jc)}Uh(e,r,n){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Jc)}}class kR{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const r=new jR(e);return this.Ln={qh:e,jh:r},r}Yh(){var e,r;return((r=(e=this.$h).zOrder)==null?void 0:r.call(e))??"normal"}}class iC{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){var e,r;(r=(e=this.Zh).updateAllViews)==null||r.call(e)}Ys(){var n,i,s;const e=((i=(n=this.Zh).paneViews)==null?void 0:i.call(n))??[];if(((s=this.Kh)==null?void 0:s.qh)===e)return this.Kh.jh;const r=e.map(a=>new kR(a));return this.Kh={qh:e,jh:r},r}Qn(e,r){var n,i;return((i=(n=this.Zh).hitTest)==null?void 0:i.call(n,e,r))??null}}let PR=class extends iC{ds(){return[]}};class MR{constructor(e){this.Hh=e}nt(e,r,n){this.Hh.draw(e,Jc)}Uh(e,r,n){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Jc)}}class n1{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const r=new MR(e);return this.Ln={qh:e,jh:r},r}Yh(){var e,r;return((r=(e=this.$h).zOrder)==null?void 0:r.call(e))??"normal"}}function sC(t){var e,r,n;return{ri:t.text(),Ei:t.coordinate(),Vi:(e=t.fixedCoordinate)==null?void 0:e.call(t),R:t.textColor(),G:t.backColor(),It:((r=t.visible)==null?void 0:r.call(t))??!0,pi:((n=t.tickVisible)==null?void 0:n.call(t))??!0}}class CR{constructor(e,r){this.Xt=new ZM,this.Xh=e,this.Jh=r}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...sC(this.Xh)}),this.Xt}}class ER extends vh{constructor(e,r){super(),this.Xh=e,this.Ki=r}Yi(e,r,n){const i=sC(this.Xh);n.G=i.G,e.R=i.R;const s=2/12*this.Ki.k();n.Ti=s,n.Ri=s,n.Ei=i.Ei,n.Vi=i.Vi,e.ri=i.ri,e.It=i.It,e.pi=i.pi}}class AR extends iC{constructor(e,r){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=r}fs(){var i,s,a;const e=((s=(i=this.Zh).timeAxisViews)==null?void 0:s.call(i))??[];if(((a=this.Qh)==null?void 0:a.qh)===e)return this.Qh.jh;const r=this.ye.Qt().Et(),n=e.map(o=>new CR(o,r));return this.Qh={qh:e,jh:n},n}Ks(){var i,s,a;const e=((s=(i=this.Zh).priceAxisViews)==null?void 0:s.call(i))??[];if(((a=this.ta)==null?void 0:a.qh)===e)return this.ta.jh;const r=this.ye.Ft(),n=e.map(o=>new ER(o,r));return this.ta={qh:e,jh:n},n}na(){var n,i,s;const e=((i=(n=this.Zh).priceAxisPaneViews)==null?void 0:i.call(n))??[];if(((s=this.ia)==null?void 0:s.qh)===e)return this.ia.jh;const r=e.map(a=>new n1(a));return this.ia={qh:e,jh:r},r}ea(){var n,i,s;const e=((i=(n=this.Zh).timeAxisPaneViews)==null?void 0:i.call(n))??[];if(((s=this.sa)==null?void 0:s.qh)===e)return this.sa.jh;const r=e.map(a=>new n1(a));return this.sa={qh:e,jh:r},r}ra(e,r){var n,i;return((i=(n=this.Zh).autoscaleInfo)==null?void 0:i.call(n,e,r))??null}}function pp(t,e,r,n){t.forEach(i=>{e(i).forEach(s=>{s.Yh()===r&&n.push(s)})})}function mp(t){return t.Ys()}function OR(t){return t.na()}function TR(t){return t.ea()}const zR=["Area","Line","Baseline"];class xh extends _R{constructor(e,r,n,i,s){super(e),this.jt=fp(),this._r=new hR(this),this.ha=[],this.aa=new lR(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new xR,this.da=new Map,this.fa=null,this.Ps=n,this.pa=r;const a=new fR(this);if(this.gs=[a],this.ur=new tC(a,this,e),zR.includes(this.pa)&&(this.la=new dR(this)),this.va(),this.$h=i(this,this.Qt(),s),this.pa==="Custom"){const o=this.$h;o.ma&&this.wa(o.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const r={Be:!0},n=this.Ft();if(this.Qt().Et().Gi()||n.Gi()||this.jt.Gi())return r;const i=this.Qt().Et().Ie(),s=this.Lt();if(i===null||s===null)return r;let a,o;if(e){const h=this.jt.Ch();if(h===null)return r;a=h,o=h.js}else{const h=this.jt.$s(i.bi(),-1);if(h===null||(a=this.jt.ph(h.js),a===null))return r;o=h.js}const u=a.Wt[3],c=this.ga().gh(o,{Wt:a}),d=n.Nt(u,s.Wt);return{Be:!1,gt:u,ri:n.Ji(u,s.Wt),Ue:n.Ma(u),$e:n.ba(u,s.Wt),R:c.th,Ei:d,js:o}}ga(){return this.oa!==null||(this.oa=new wR(this)),this.oa}N(){return this.Ps}cr(e){const r=this.Qt(),{priceScaleId:n,visible:i,priceFormat:s}=e;n!==void 0&&n!==this.Ps.priceScaleId&&r.Sa(this,n),i!==void 0&&i!==this.Ps.visible&&r.xa();const a=e.conflationThresholdFactor!==void 0;Er(this.Ps,e),a&&(this.da.clear(),this.Qt().dr()),s!==void 0&&(this.va(),r.Ca()),r.ya(this),r.ka(),this.$h.kt("options")}ht(e,r){this.jt.ht(e),this.da.clear();const n=this.Qt().Et().N();n.enableConflation&&n.precomputeConflationOnInit&&this.Pa(n.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(r&&r.Ta?this.la.Pe():e.length===0&&this.la.ke());const i=this.Qt().Kn(this);this.Qt().Ra(i),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const r=new yR(this,e);return this.ha.push(r),this.Qt().ya(this),r}Ia(e){const r=this.ha.indexOf(e);r!==-1&&this.ha.splice(r,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const r=e.Aa();return this.jt.$s(r,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const r=this.za();if(!this.da.has(r))return;const n=this.pa==="Custom",i=n&&this.fa||void 0,s=n&&this.$h.Oa?u=>{const c=u,d=this.$h.Oa(c);return Array.isArray(d)?d:[typeof d=="number"?d:0]}:void 0,a=this.ca.kr(this.jt.Dh(),e,r,i,n,s),o=fp();o.ht(a),this.da.set(r,o)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const r=this.za(),n=this.da.get(r);return n||(this.Fa(r),this.da.get(r)??this.jt)}Wa(e){const r=this.jt.ph(e);return r===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:r.Wt[0],Ur:r.Wt[1],$r:r.Wt[2],qr:r.Wt[3]}:r.Wt[3]}Ha(e){const r=[];pp(this.ua,mp,"top",r);const n=this.la;return n!==null&&n.It()&&(this._a===null&&n.Re()&&(this._a=setTimeout(()=>{this._a=null,this.Qt().Ua()},0)),n.Te(),r.unshift(n)),r}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const r=this.ha.map(n=>n.pr());return e.push(...r),pp(this.ua,mp,"normal",e),e}qa(){return this.ja(mp,"bottom")}Ya(e){return this.ja(OR,e)}Ka(e){return this.ja(TR,e)}Za(e,r){return this.ua.map(n=>n.Qn(e,r)).filter(n=>n!==null)}ds(){return[this.ur,...this.ha.map(e=>e.vr())]}Ks(e,r){if(r!==this.hs&&!this.$a())return[];const n=[...this.gs];for(const i of this.ha)n.push(i.mr());return this.ua.forEach(i=>{n.push(...i.Ks())}),n}fs(){const e=[];return this.ua.forEach(r=>{e.push(...r.fs())}),e}ra(e,r){if(this.Ps.autoscaleInfoProvider!==void 0){const n=this.Ps.autoscaleInfoProvider(()=>{const i=this.Ga(e,r);return i===null?null:i.tr()});return Qc.ir(n)}return this.Ga(e,r)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){var e;this.$h.kt();for(const r of this.gs)r.kt();for(const r of this.ha)r.kt();this._r.kt(),this.aa.kt(),(e=this.la)==null||e.kt(),this.ua.forEach(r=>r.Ws())}Ft(){return re(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const r=this.jt.ph(e);return r===null?null:{gt:r.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new AR(e,this))}el(e){this.ua=this.ua.filter(r=>r.Gh()!==e)}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!gh(this.Ft().ol())}Ga(e,r){if(!_l(e)||!_l(r)||this.jt.Gi())return null;const n=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],i=this.jt.Ih(e,r,n);let s=i!==null?new nr(i.Fh,i.Wh):null,a=null;if(this.wh()==="Histogram"){const o=this.Ps.base,u=new nr(o,o);s=s!==null?s.Sn(u):u}return this.ua.forEach(o=>{const u=o.ra(e,r);if(u!=null&&u.priceRange){const c=new nr(u.priceRange.minValue,u.priceRange.maxValue);s=s!==null?s.Sn(c):c}u!=null&&u.margins&&(a=u.margins)}),new Qc(s,a)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const r=this.Ps.crosshairMarkerBackgroundColor;if(r.length!==0)return r}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(r=>r.map(e))};break}case"volume":this.Ja=new iR(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new eC(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new yh(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,r){const n=[];return pp(this.ua,e,r,n),n}za(){const{ul:e,cl:r,dl:n}=this.fl();return this.ca.gr(e,r,n)}fl(){const e=this.Qt().Et(),r=e.ul(),n=window.devicePixelRatio||1,i=e.N().conflationThresholdFactor;return{ul:r,cl:n,dl:this.Ps.conflationThresholdFactor??i??1}}pl(e){const r=this.jt.Dh();let n;if(this.pa==="Custom"&&this.fa!==null){const s=this.rl();if(!s)throw new Error(mR);n=this.ca.Mr(r,e,this.fa,!0,a=>s(a))}else n=this.ca.Mr(r,e);const i=fp();return i.ht(n),i}Fa(e){const r=this.pl(e);this.da.set(e,r)}Pa(e){var n;if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const r=this.Qt().Et().vl();for(const i of r){const s=()=>{this.ml(i)},a=typeof window=="object"&&window||typeof self=="object"&&self;(n=a==null?void 0:a.gl)!=null&&n.wl?a.gl.wl(()=>{s()},{Ml:e}):Promise.resolve().then(()=>s())}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const r=this.pl(e);this.da.set(e,r)}}const NR=[3],IR=[0,1,2,3];class RR{constructor(e){this.Ps=e}bl(e,r,n){let i=e;if(this.Ps.mode===0)return i;const s=n.Rs(),a=s.Lt();if(a===null)return i;const o=s.Nt(e,a),u=n.Sl().filter(d=>d instanceof xh).reduce((d,h)=>{if(n.Zn(h)||!h.It())return d;const f=h.Ft(),p=h.qs();if(f.Gi()||!p.Ee(r))return d;const g=p.ph(r);if(g===null)return d;const y=Mi(h.Lt()),_=this.Ps.mode===3?IR:NR;return d.concat(_.map(x=>f.Nt(g.Wt[x],y.Wt)))},[]);if(u.length===0)return i;u.sort((d,h)=>Math.abs(d-o)-Math.abs(h-o));const c=u[0];return i=s.Ds(c,a),i}}function qo(t,e,r){return Math.min(Math.max(t,e),r)}function Iu(t,e,r){return e-t<=r}function ty(t){const e=Math.ceil(t);return e%2==0?e-1:e}class DR extends Bs{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.jt===null)return;const s=Math.max(1,Math.floor(n));e.lineWidth=s,function(a,o){a.save(),a.lineWidth%2&&a.translate(.5,.5),o(),a.restore()}(e,()=>{const a=re(this.jt);if(a.xl){e.strokeStyle=a.Cl,Ps(e,a.yl),e.beginPath();for(const o of a.kl){const u=Math.round(o.Pl*n);e.moveTo(u,-s),e.lineTo(u,r.height+s)}e.stroke()}if(a.Tl){e.strokeStyle=a.Rl,Ps(e,a.Dl),e.beginPath();for(const o of a.Il){const u=Math.round(o.Pl*i);e.moveTo(-s,u),e.lineTo(r.width+s,u)}e.stroke()}})}}class LR{constructor(e){this.Xt=new DR,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,r={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map(n=>({Pl:n.coord}))};this.Xt.ht(r),this.xt=!1}return this.Xt}}class $R{constructor(e){this.$h=new LR(e)}pr(){return this.$h}}const vp={Bl:4,El:1e-4};function ua(t,e){const r=100*(t-e)/e;return e<0?-r:r}function BR(t,e){const r=ua(t.Ze(),e),n=ua(t.Ge(),e);return new nr(r,n)}function Zo(t,e){const r=100*(t-e)/e+100;return e<0?-r:r}function FR(t,e){const r=Zo(t.Ze(),e),n=Zo(t.Ge(),e);return new nr(r,n)}function ed(t,e){const r=Math.abs(t);if(r<1e-15)return 0;const n=Math.log10(r+e.El)+e.Bl;return t<0?-n:n}function Qo(t,e){const r=Math.abs(t);if(r<1e-15)return 0;const n=Math.pow(10,r-e.Bl)-e.El;return t<0?-n:n}function wo(t,e){if(t===null)return null;const r=ed(t.Ze(),e),n=ed(t.Ge(),e);return new nr(r,n)}function ca(t,e){if(t===null)return null;const r=Qo(t.Ze(),e),n=Qo(t.Ge(),e);return new nr(r,n)}function gp(t){if(t===null)return vp;const e=Math.abs(t.Ge()-t.Ze());if(e>=1||e<1e-15)return vp;const r=Math.ceil(Math.abs(Math.log10(e))),n=vp.Bl+r;return{Bl:n,El:1/Math.pow(10,n)}}class yp{constructor(e,r){if(this.Al=e,this.Ll=r,function(n){if(n<0)return!1;if(n>1e18)return!0;for(let i=n;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let n=this.Al;n!==1;){if(n%2==0)this.zl.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),n/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,r,n){const i=this.Al===0?0:1/this.Al;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-r)))),a=0,o=this.Ll[0];for(;;){const h=Iu(s,i,1e-14)&&s>i+1e-14,f=Iu(s,n*o,1e-14),p=Iu(s,1,1e-14);if(!(h&&f&&p))break;s/=o,o=this.Ll[++a%this.Ll.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.zl.length>0&&(u=s,c=1,d=1e-14,Math.abs(u-c)<d))for(a=0,o=this.zl[0];Iu(s,n*o,1e-14)&&s>i+1e-14;)s/=o,o=this.zl[++a%this.zl.length];var u,c,d;return s}}class i1{constructor(e,r,n,i){this.Nl=[],this.Ki=e,this.Al=r,this.Fl=n,this.Wl=i}Ol(e,r){if(e<r)throw new Error("high < low");const n=this.Ki.$t(),i=(e-r)*this.Hl()/n,s=new yp(this.Al,[2,2.5,2]),a=new yp(this.Al,[2,2,2.5]),o=new yp(this.Al,[2.5,2,2]),u=[];return u.push(s.Ol(e,r,i),a.Ol(e,r,i),o.Ol(e,r,i)),function(c){if(c.length<1)throw Error("array is empty");let d=c[0];for(let h=1;h<c.length;++h)c[h]<d&&(d=c[h]);return d}(u)}Ul(){const e=this.Ki,r=e.Lt();if(r===null)return void(this.Nl=[]);const n=e.$t(),i=this.Fl(n-1,r),s=this.Fl(0,r),a=this.Ki.N().entireTextOnly?this.$l()/2:0,o=a,u=n-1-a,c=Math.max(i,s),d=Math.min(i,s);if(c===d)return void(this.Nl=[]);const h=this.Ol(c,d);if(this.ql(r,h,c,d,o,u),e.jl()&&this.Yl(h,d,c)){const g=this.Ki.Kl();this.Zl(r,h,o,u,g,2*g)}const f=this.Nl.map(g=>g.Gl),p=this.Ki.Xl(f);for(let g=0;g<this.Nl.length;g++)this.Nl[g].Jl=p[g]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,r,n,i,s,a){const o=this.Nl,u=this.Ki;let c=n%r;c+=c<0?r:0;const d=n>=i?1:-1;let h=null,f=0;for(let p=n-c;p>i;p-=r){const g=this.Wl(p,e,!0);h!==null&&Math.abs(g-h)<this.Hl()||g<s||g>a||(f<o.length?(o[f].Pl=g,o[f].Jl=u.Ql(p),o[f].Gl=p):o.push({Pl:g,Jl:u.Ql(p),Gl:p}),f++,h=g,u.io()&&(r=this.Ol(p*d,i)))}o.length=f}Zl(e,r,n,i,s,a){const o=this.Nl,u=this.so(e,n,s,a),c=this.so(e,i,-a,-s),d=this.Wl(0,e,!0)-this.Wl(r,e,!0);o.length>0&&o[0].Pl-u.Pl<d/2&&o.shift(),o.length>0&&c.Pl-o[o.length-1].Pl<d/2&&o.pop(),o.unshift(u),o.push(c)}so(e,r,n,i){const s=(n+i)/2,a=this.Fl(r+n,e),o=this.Fl(r+i,e),u=Math.min(a,o),c=Math.max(a,o),d=Math.max(.1,this.Ol(c,u)),h=this.Fl(r+s,e),f=h-h%d,p=this.Wl(f,e,!0);return{Jl:this.Ki.Ql(f),Pl:p,Gl:f}}Yl(e,r,n){let i=Mi(this.Ki.er());return this.Ki.io()&&(i=ca(i,this.Ki.no())),i.Ze()-r<e&&n-i.Ge()<e}}function aC(t){return t.slice().sort((e,r)=>re(e._s())-re(r._s()))}var s1;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(s1||(s1={}));const a1=new eC,o1=new yh(100,1);class WR{constructor(e,r,n,i,s){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new ut,this.fo=new ut,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=o1,this.So=gp(null),this.xo=e,this.Ps=r,this.Co=n,this.yo=i,this.ko=s,this.Po=new i1(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(Er(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const r=_r(e.scaleMargins.top),n=_r(e.scaleMargins.bottom);if(r<0||r>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${r}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(r+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${r+n}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const r=this.ae();let n=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),r.ae===1&&e.ae!==r.ae&&(function(s,a){if(s===null)return!1;const o=Qo(s.Ze(),a),u=Qo(s.Ge(),a);return isFinite(o)&&isFinite(u)}(this.sr,this.So)?(n=ca(this.sr,this.So),n!==null&&this.Lo(n)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==r.ae&&(n=wo(this.sr,this.So),n!==null&&this.Lo(n));const i=r.ae!==this.Ps.mode;i&&(r.ae===2||this.He())&&this._l(),i&&(r.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&r.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(r,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,r){const n=this.sr;(r||n===null&&e!==null||n!==null&&!n.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,r){return this.He()?e=ua(e,r):this.Eo()&&(e=Zo(e,r)),this.Ro(e,r)}Yo(e,r,n){this.Uo();const i=this.Ho(),s=re(this.er()),a=s.Ze(),o=s.Ge(),u=this.Fo()-1,c=this.Ao(),d=u/(o-a),h=n===void 0?0:n.from,f=n===void 0?e.length:n.to,p=this.Ko();for(let g=h;g<f;g++){const y=e[g],_=y.gt;if(isNaN(_))continue;let x=_;p!==null&&(x=p(y.gt,r));const b=i+d*(x-a),S=c?b:this.eo-1-b;y.ut=S}}Zo(e,r,n){this.Uo();const i=this.Ho(),s=re(this.er()),a=s.Ze(),o=s.Ge(),u=this.Fo()-1,c=this.Ao(),d=u/(o-a),h=n===void 0?0:n.from,f=n===void 0?e.length:n.to,p=this.Ko();for(let g=h;g<f;g++){const y=e[g];let _=y.Hr,x=y.Ur,b=y.$r,S=y.qr;p!==null&&(_=p(y.Hr,r),x=p(y.Ur,r),b=p(y.$r,r),S=p(y.qr,r));let k=i+d*(_-a),m=c?k:this.eo-1-k;y.Go=m,k=i+d*(x-a),m=c?k:this.eo-1-k,y.Xo=m,k=i+d*(b-a),m=c?k:this.eo-1-k,y.Jo=m,k=i+d*(S-a),m=c?k:this.eo-1-k,y.Qo=m}}Ds(e,r){const n=this.To(e,r);return this.t_(n,r)}t_(e,r){let n=e;return this.He()?n=function(i,s){return s<0&&(i=-i),i/100*s+s}(n,r):this.Eo()&&(n=function(i,s){return i-=100,s<0&&(i=-i),i/100*s+s}(n,r)),n}Sl(){return this.po}Dt(){return this.mo||(this.mo=aC(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const r=this.po.indexOf(e);if(r===-1)throw new Error("source is not attached to scale");this.po.splice(r,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const r of this.po){const n=r.Lt();n!==null&&(e===null||n.Ea<e.Ea)&&(e=n)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const r=this.Po.Vl();return this.wo={Vl:r,e_:e},this.do.p(),r}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=re(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let r=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const n=re(this.ho).Ke();r=Math.max(r,.1),n.Je(r),this.Lo(n)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=re(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const r=re(this.er()).Xe()/(this.Fo()-1);let n=e-this.bo;this.Ao()&&(n*=-1);const i=n*r,s=re(this.ho).Ke();s.Qe(i),this.Lo(s,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,r){switch(this.Ps.mode){case 2:return this.c_(ua(e,r));case 3:return this.Xa().format(Zo(e,r));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,re(this.vo).Xa())}ba(e,r){return e=ua(e,r),this.c_(e,a1)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach(e=>e.Ws())}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const n of this.po)n._s()<e&&(e=n._s(),this.vo=n);let r=100;this.vo!==null&&(r=Math.round(this.vo.qh())),this.Ja=o1,this.He()?(this.Ja=a1,r=100):this.Eo()?(this.Ja=new yh(100,1),r=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new i1(this,r,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,r){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?ed(e,this.So):e;const n=re(this.er()),i=this.Ho()+(this.Fo()-1)*(e-n.Ze())/n.Xe();return this.jo(i)}To(e,r){if(this.Uo(),this.Gi())return 0;const n=this.jo(e),i=re(this.er()),s=i.Ze()+i.Xe()*((n-this.Ho())/(this.Fo()-1));return this.io()?Qo(s,this.So):s}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let r=null;const n=this.p_();let i=0,s=0;for(const u of n){if(!u.It())continue;const c=u.Lt();if(c===null)continue;const d=u.ra(e.Aa(),e.bi());let h=d&&d.er();if(h!==null){switch(this.Ps.mode){case 1:h=wo(h,this.So);break;case 2:h=BR(h,c.Wt);break;case 3:h=FR(h,c.Wt)}if(r=r===null?h:r.Sn(re(h)),d!==null){const f=d.rr();f!==null&&(i=Math.max(i,f.above),s=Math.max(s,f.below))}}}if(this.jl()&&(i=Math.max(i,this.Kl()),s=Math.max(s,this.Kl())),i===this.uo&&s===this.co||(this.uo=i,this.co=s,this.wo=null,this.Io()),r!==null){if(r.Ze()===r.Ge()){const u=5*this.m_();this.io()&&(r=ca(r,this.So)),r=new nr(r.Ze()-u,r.Ge()+u),this.io()&&(r=wo(r,this.So))}if(this.io()){const u=ca(r,this.So),c=gp(u);if(a=c,o=this.So,a.Bl!==o.Bl||a.El!==o.El){const d=this.ho!==null?ca(this.ho,this.So):null;this.So=c,r=wo(u,c),d!==null&&(this.ho=wo(d,c))}}this.Lo(r)}else this.sr===null&&(this.Lo(new nr(-.5,.5)),this.So=gp(null));var a,o}Ko(){return this.He()?ua:this.Eo()?Zo:this.io()?e=>ed(e,this.So):null}g_(e,r,n){return r===void 0?(n===void 0&&(n=this.Xa()),n.format(e)):r(e)}M_(e,r,n){return r===void 0?(n===void 0&&(n=this.Xa()),n.formatTickmarks(e)):r(e)}lr(e,r){return this.g_(e,this.yo.priceFormatter,r)}f_(e,r){const n=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(n?i=>i.map(n):void 0),r)}c_(e,r){return this.g_(e,this.yo.percentageFormatter,r)}d_(e,r){const n=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(n?i=>i.map(n):void 0),r)}}function l1(t){return t instanceof xh}class u1{constructor(e,r){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new ut,this.ua=[],this.Jh=e,this.ns=r,this.k_=new $R(this);const n=r.N();this.P_=this.T_("left",n.leftPriceScale),this.R_=this.T_("right",n.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(n)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const r=Array.from(this.b_.values());for(const n of r){const i=re(n[0].Ft());i.cr(e.overlayPriceScales),e.localization&&i._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?_r(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach(e=>{e.m&&e.m()}),this.ua=this.ua.filter(e=>{const r=e.Gh();return r.detached&&r.detached(),!1}),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach(r=>{if(this.Zn(r)){const n=r.Ft();n!==null&&n.No(e)}}),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(l1)}Sl(){return this.po}Zn(e){const r=e.Ft();return r===null||this.P_!==r&&this.R_!==r}i_(e,r,n){this.W_(e,r,n?e._s():this.po.length)}n_(e,r){const n=this.po.indexOf(e);$t(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1),r||this.po.forEach((a,o)=>a.us(o));const i=re(e.Ft()).ol();if(this.b_.has(i)){const a=_r(this.b_.get(i)),o=a.indexOf(e);o!==-1&&(a.splice(o,1),a.length===0&&this.b_.delete(i))}const s=e.Ft();s&&s.Sl().indexOf(e)>=0&&(s.n_(e),this.H_(s)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,r){e.h_(r)}Y_(e,r){e.a_(r),this.z_()}K_(e){e.l_()}Z_(e,r){e.o_(r)}G_(e,r){e.__(r),this.z_()}X_(e){e.u_()}z_(){this.po.forEach(e=>{e.Ws()})}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const r=this.Jh.Ie();e.Do({ln:!0}),r!==null&&e.v_(r),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach(e=>{this.Zn(e)&&this.H_(e.Ft())}),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=aC(this.po)),this.mo}su(e,r){r=qo(r,0,this.po.length-1);const n=this.po.indexOf(e);$t(n!==-1,"setSeriesOrder: invalid data source"),this.po.splice(n,1),this.po.splice(r,0,e),this.po.forEach((i,s)=>i.us(s)),this.mo=null;for(const i of[this.P_,this.R_])i.s_(),i._l();this.ns.dr()}Vt(){return this.Dt().filter(l1)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new PR(e))}el(e){this.ua=this.ua.filter(r=>r.Gh()!==e),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,r){return this.ua.map(n=>n.Qn(e,r)).filter(n=>n!==null)}J_(e){const r=e.p_();if(r&&r.length>0&&!this.Jh.Gi()){const n=this.Jh.Ie();n!==null&&e.v_(n)}e.Ws()}W_(e,r,n){let i=this.V_(r);if(i===null&&(i=this.T_(r,this.ns.N().overlayPriceScales)),this.po.splice(n,0,e),!gh(r)){const s=this.b_.get(r)||[];s.push(e),this.b_.set(r,s)}e.us(n),i.i_(e),e.cs(i),this.H_(i),this.mo=null}D_(e,r,n){r.ae!==n.ae&&this.J_(e)}T_(e,r){const n={visible:!0,autoScale:!0,...Un(r)},i=new WR(e,n,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return i.No(this.$t()),i}}function Ru(t){return{hu:t.hu,au:{te:t.lu.externalId},ou:t.lu.cursorStyle}}function UR(t,e,r,n){for(const i of t){const s=i.Tt(n);if(s!==null&&s.Qn){const a=s.Qn(e,r);if(a!==null)return{_u:i,au:a}}}return null}function KR(t){return t.Ys!==void 0}function oC(t,e,r){const n=[t,...t.Dt()],i=function(s,a,o){var f;let u,c;for(const p of s){const g=((f=p.Za)==null?void 0:f.call(p,a,o))??[];for(const y of g)d=y.zOrder,h=u==null?void 0:u.zOrder,(!h||d==="top"&&h!=="top"||d==="normal"&&h==="bottom")&&(u=y,c=p)}var d,h;return u&&c?{lu:u,hu:c}:null}(n,e,r);if((i==null?void 0:i.lu.zOrder)==="top")return Ru(i);for(const s of n){if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&!i.lu.isBackground)return Ru(i);if(KR(s)){const a=UR(s.Ys(t),e,r,t);if(a!==null)return{hu:s,_u:a._u,au:a.au}}if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&i.lu.isBackground)return Ru(i)}return i!=null&&i.lu?Ru(i):null}class VR{constructor(e,r,n=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=r,this.zn=n}du(e){const r=e.time,n=this.cu.cacheKey(r),i=this.Ln.get(n);if(i!==void 0)return i.fu;if(this.Vn===this.zn){const a=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(_r(a)),this.En++,this.Vn--}const s=this.uu(e);return this.Ln.set(n,{fu:s,Wn:this.Bn}),this.An.set(this.Bn,n),this.Vn++,this.Bn++,s}}class ba{constructor(e,r){$t(e<=r,"right should be >= left"),this.pu=e,this.vu=r}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function c1(t,e){return t===null||e===null?t===e:t.Ye(e)}class HR{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,r){this.Su(r),this.Ln=null;for(let n=r;n<e.length;++n){const i=e[n];let s=this.wu.get(i.timeWeight);s===void 0&&(s=[],this.wu.set(i.timeWeight,s)),s.push({index:n,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}xu(e,r,n,i,s){const a=Math.ceil(r/e);return this.Ln!==null&&this.Ln.Cu===a&&s===this.Ln.yu&&n===this.Ln.ku||(this.Ln={yu:s,ku:n,Vl:this.Pu(a,n,i),Cu:a}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const r=[];this.wu.forEach((n,i)=>{e<=n[0].index?r.push(i):n.splice(za(n,e,s=>s.index<e),1/0)});for(const n of r)this.wu.delete(n)}Pu(e,r,n){let i=[];const s=a=>!r||n.has(a.index);for(const a of Array.from(this.wu.keys()).sort((o,u)=>u-o)){if(!this.wu.get(a))continue;const o=i;i=[];const u=o.length;let c=0;const d=_r(this.wu.get(a)),h=d.length;let f=1/0,p=-1/0;for(let g=0;g<h;g++){const y=d[g],_=y.index;for(;c<u;){const x=o[c],b=x.index;if(!(b<_&&s(x))){f=b;break}c++,i.push(x),p=b,f=1/0}if(f-_>=e&&_-p>=e&&s(y))i.push(y),p=_;else if(this.gu)return o}for(;c<u;c++)s(o[c])&&i.push(o[c])}return i}}class wa{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new ba(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new wa(null)}}function YR(t,e){return t.weight>e.weight?t:e}class GR{constructor(e,r,n,i){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new HR,this.Au=new Map,this.Lu=wa.Iu(),this.zu=!0,this.Ou=new ut,this.Nu=new ut,this.Fu=new ut,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=r,this.yo=n,this.Yu=r.rightOffset,this.Ku=r.barSpacing,this.ns=e,this.Zu(r),this.cu=i,this.Gu(),this.Eu.Mu(r.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){Er(this.yo,e),this.tc(),this.Gu()}cr(e,r){Er(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){var r;return((r=this.Bu[e])==null?void 0:r.time)??null}es(e){return this.Bu[e]??null}ec(e,r){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return r?this.Bu.length-1:null;const n=za(this.Bu,this.cu.key(e),(i,s)=>this.cu.key(i.time)<s);return this.cu.key(e)<this.cu.key(this.Bu[n].time)?r?n:null:n}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const r={from:e.Aa(),to:e.bi()};return this.oc(r)}oc(e){const r=Math.round(e.from),n=Math.round(e.to),i=re(this._c()),s=re(this.uc());return{from:re(this.es(Math.max(i,r))),to:re(this.es(Math.min(s,n)))}}cc(e){return{from:re(this.ec(e.from,!0)),to:re(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const r=this.ac(),n=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&n!==0){const i=this.Ku*e/n;this.Ku=i}if(this.Ps.fixLeftEdge&&r!==null&&r.Aa()<=0){const i=n-e;this.Yu-=Math.round(i/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!_l(e))return 0;const r=this.vc()+this.Yu-e;return this.S_-(r+.5)*this.Ku-1}mc(e,r){const n=this.vc(),i=r===void 0?0:r.from,s=r===void 0?e.length:r.to;for(let a=i;a<s;a++){const o=e[a].wt,u=n+this.Yu-o,c=this.S_-(u+.5)*this.Ku-1;e[a]._t=c}}wc(e,r){const n=Math.ceil(this.gc(e));return r&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(n)?this.bc(n):n}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const r=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&r!==0){const n=this.Yu*r/this.Ku;this.Yu=n}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,r=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(r/e),i=re(this.Ie()),s=Math.max(i.Aa(),i.Aa()-n),a=Math.max(i.bi(),i.bi()-n),o=this.Eu.xu(e,r,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),u=this._c()+n,c=this.uc()-n,d=this.yc(),h=this.Ps.fixLeftEdge||d,f=this.Ps.fixRightEdge||d;let p=0;for(const g of o){if(!(s<=g.index&&g.index<=a))continue;let y;p<this.qu.length?(y=this.qu[p],y.coord=this.qt(g.index),y.label=this.kc(g),y.weight=g.weight):(y={needAlignCoordinate:!1,coord:this.qt(g.index),label:this.kc(g),weight:g.weight},this.qu.push(y)),this.Ku>r/2&&!d?y.needAlignCoordinate=!1:y.needAlignCoordinate=h&&g.index<=u||f&&g.index>=c,p++}return this.qu.length=p,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,r){const n=this.gc(e),i=this.ul(),s=i+r*(i/10);this.gn(s),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(n-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const r=qo(this.S_-e,0,this.S_),n=qo(this.S_-re(this.Mo),0,this.S_);r!==0&&n!==0&&this.gn(this.Wu.ul*r/n)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const r=(this.bo-e)/this.ul();this.Yu=re(this.Wu).Cc+r,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,r=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(r)||r<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.Yu,i=performance.now();this.ns.vn({Ec:s=>(s-i)/r>=1,Ac:s=>{const a=(s-i)/r;return a>=1?e:n+(e-n)*a}})}kt(e,r){this.zu=!0,this.Bu=e,this.Eu.bu(e,r),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,r){const n=e.mu(),i=r&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-i)/n),this.Yu=e.bi()-this.vc(),r&&(this.Yu=i?i/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),r=this.uc();if(e===null||r===null)return;const n=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new ba(e,r+n),!0)}Wc(e){const r=new ba(e.from,e.to);this.Nc(r)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const r of e)for(const n of r.ll())this.Uu.set(n,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),r=this.Ps.minBarSpacing;if(r>=e)return[1];const n=[1];let i=2;for(;i<=512;)r<e/i&&n.push(i),i*=2;return n}yc(){const e=this.ns.N().handleScroll,r=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||r.axisDoubleClickReset.time||r.axisPressedMouseMove.time||r.mouseWheel||r.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const r=this.Uc(e),n=this.vc()+this.Yu-r;return Math.round(1e6*n)/1e6}xc(e){const r=this.Ku;this.Ku=e,this.dc(),r!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(wa.Iu());const e=this.vc(),r=this.S_/this.Ku,n=this.Yu+e,i=new ba(n-r+1,n);this.qc(new wa(i))}dc(){const e=qo(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const r=e/this.Ku,n=Math.pow(2,Math.floor(Math.log2(r)));this.ju=Math.min(n,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const r=this.Zc();this.Yu>r&&(this.Yu=r,this.zu=!0)}Kc(){const e=this._c(),r=this.Vu;return e===null||r===null?null:e-r-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let r=this.Au.get(e.weight);return r===void 0&&(r=new VR(n=>this.Gc(n),this.cu),this.Au.set(e.weight,r)),r.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const r=this.Lu;this.Lu=e,c1(r.Ru(),this.Lu.Ru())||this.Ou.p(),c1(r.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const r=this.Ie();if(r===null)return;const n=r.Aa()-e;if(n<0){const i=this.Yu-n-1;this.Mn(i)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const r=function*(i){const s=Math.round(i),a=s<i;let o=1;for(;;)a?(yield s+o,yield s-o):(yield s-o,yield s+o),o++}(e),n=this.uc();for(;n;){const i=r.next().value;if(this.Uu.get(i))return i;if(i<0||i>n)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const r=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(r)}}}var d1,h1,f1,p1,m1;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(d1||(d1={}));class XR{constructor(e,r,n){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new ut,this.nd=new ut,this.ed=null,this.rd=e,this.Ps=r,this.cu=n,this.ko=new VI(this.Ps.layout.colorParsers),this.hd=new KI(this),this.Jh=new GR(this,r.timeScale,this.Ps.localization,n),this.Ct=new nR(this,r.crosshair),this.ad=new RR(r.crosshair),r.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(Dt.yn())}dr(){this.dd(Dt.Cn())}Ua(){this.dd(new Dt(1))}ya(e){const r=this.fd(e);this.dd(r)}pd(){return this.td}vd(e){var n,i,s,a;if(((n=this.td)==null?void 0:n.hu)===(e==null?void 0:e.hu)&&((s=(i=this.td)==null?void 0:i.au)==null?void 0:s.te)===((a=e==null?void 0:e.au)==null?void 0:a.te))return;const r=this.td;this.td=e,r!==null&&this.ya(r.hu),e!==null&&e.hu!==(r==null?void 0:r.hu)&&this.ya(e.hu)}N(){return this.Ps}cr(e){Er(this.Ps,e),this.Xc.forEach(r=>r.I_(e)),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,r,n=0){const i=this.Xc[n];if(i===void 0)return;if(e==="left")return Er(this.Ps,{leftPriceScale:r}),i.I_({leftPriceScale:r}),this.sd.p(),void this.Ca();if(e==="right")return Er(this.Ps,{rightPriceScale:r}),i.I_({rightPriceScale:r}),this.sd.p(),void this.Ca();const s=this.wd(e,n);s!==null&&(s.Ft.cr(r),this.sd.p())}wd(e,r){const n=this.Xc[r];if(n===void 0)return null;const i=n.V_(e);return i!==null?{Gs:n,Ft:i}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,r){e.No(r),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach(r=>r.L_(e)),this.Sc()}Sd(e){this.Xc.length!==1&&($t(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,r){if(this.Xc.length<2)return;$t(e>=0&&e<this.Xc.length,"Invalid pane index");const n=this.Xc[e],i=this.Xc.reduce((h,f)=>h+f.E_(),0),s=this.Xc.reduce((h,f)=>h+f.$t(),0),a=s-30*(this.Xc.length-1);r=Math.min(a,Math.max(30,r));const o=i/s,u=n.$t();n.A_(r*o);let c=r-u,d=this.Xc.length-1;for(const h of this.Xc)if(h!==n){const f=Math.min(a,Math.max(30,h.$t()-c/d));c-=h.$t()-f,d-=1;const p=f*o;h.A_(p)}this.Ca()}Cd(e,r){$t(e>=0&&e<this.Xc.length&&r>=0&&r<this.Xc.length,"Invalid pane index");const n=this.Xc[e],i=this.Xc[r];this.Xc[e]=i,this.Xc[r]=n,this.Ca()}yd(e,r){if($t(e>=0&&e<this.Xc.length&&r>=0&&r<this.Xc.length,"Invalid pane index"),e===r)return;const[n]=this.Xc.splice(e,1);this.Xc.splice(r,0,n),this.Ca()}j_(e,r,n){e.j_(r,n)}Y_(e,r,n){e.Y_(r,n),this.ka(),this.dd(this.kd(e,2))}K_(e,r){e.K_(r),this.dd(this.kd(e,2))}Z_(e,r,n){r.Vo()||e.Z_(r,n)}G_(e,r,n){r.Vo()||(e.G_(r,n),this.ka(),this.dd(this.kd(e,2)))}X_(e,r){r.Vo()||(e.X_(r),this.dd(this.kd(e,2)))}Q_(e,r){e.Q_(r),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,r){const n=this.Et();if(n.Gi()||r===0)return;const i=n.ss();e=Math.max(1,Math.min(e,i)),n.Rc(e,r),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter(e=>e.It())),this.Qc}xa(){this.Qc=null}Ad(e,r,n,i,s){this.Ct.Bs(e,r);let a=NaN,o=this.Jh.wc(e,!0);const u=this.Jh.Ie();u!==null&&(o=Math.min(Math.max(u.Aa(),o),u.bi())),o=this.Ct.Hs(o);const c=i.Rs(),d=c.Lt();if(d!==null&&(a=c.Ds(r,d)),a=this.ad.bl(a,o,i),this.Ct.zs(o,a,i),this.Ua(),!s){const h=oC(i,e,r);this.vd(h&&{hu:h.hu,au:h.au,ou:h.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:r},n)}}Ld(e,r,n){const i=n.Rs(),s=i.Lt(),a=i.Nt(e,re(s)),o=this.Jh.ec(r,!0),u=this.Jh.qt(re(o));this.Ad(u,a,null,n,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const r=this.Ct.As(),n=this.Ct.Ls();this.Ad(r,n,null,e)}this.Ct.Ws()}Od(e,r,n){const i=this.Jh.Is(0);r!==void 0&&n!==void 0&&this.Jh.kt(r,n);const s=this.Jh.Is(0),a=this.Jh.vc(),o=this.Jh.Ie();if(o!==null&&i!==null&&s!==null){const u=o.Ee(a),c=this.cu.key(i)>this.cu.key(s),d=e!==null&&e>a&&!c,h=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,f=u&&(n!==void 0||h)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(d&&!f){const p=e-a;this.Jh.Mn(this.Jh.Cc()-p)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if(function(n){return n instanceof u1}(e))return e;const r=this.Xc.find(n=>n.Dt().includes(e));return r===void 0?null:r}Sc(){this.Xc.forEach(e=>e.iu()),this.ka()}m(){this.Xc.forEach(e=>e.m()),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,r){const n=this.ld(r);this.Wd(e,n),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const r=this.Kn(e),n=this.Jc.indexOf(e);$t(n!==-1,"Series not found");const i=re(r);this.Jc.splice(n,1),i.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(i)}Sa(e,r){const n=re(this.Kn(e));n.n_(e,!0),n.i_(e,r,!0)}Fc(){const e=Dt.Cn();e.cn(),this.dd(e)}$d(e){const r=Dt.Cn();r.pn(e),this.dd(r)}wn(){const e=Dt.Cn();e.wn(),this.dd(e)}gn(e){const r=Dt.Cn();r.gn(e),this.dd(r)}Mn(e){const r=Dt.Cn();r.Mn(e),this.dd(r)}vn(e){const r=Dt.Cn();r.vn(e),this.dd(r)}dn(){const e=Dt.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,r){if($t(r>=0,"Index should be greater or equal to 0"),r===this.Yd(e))return;const n=re(this.Kn(e));n.n_(e);const i=this.ld(r);this.Wd(e,i),n.Sl().length===0&&this.Ud(n),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const r=this.ud,n=this.od;if(r===n)return r;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==n||this.ed.rh!==r)this.ed={eh:n,rh:r,Zd:new Map};else{const s=this.ed.Zd.get(e);if(s!==void 0)return s}const i=this.ko.tt(n,r,e/100);return this.ed.Zd.set(e,i),i}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const r=new u1(this.Jh,this);this.Xc.push(r);const n=e??this.Xc.length-1,i=Dt.yn();return i.hn(n,{an:0,ln:!0}),this.dd(i),r}ld(e){return $t(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex(r=>r.F_().includes(e))}kd(e,r){const n=new Dt(r);if(e!==null){const i=this.Xc.indexOf(e);n.hn(i,{an:r})}return n}fd(e,r){return r===void 0&&(r=2),this.kd(this.Kn(e),r)}dd(e){this.rd&&this.rd(e),this.Xc.forEach(r=>r.eu().pr().kt())}Wd(e,r){const n=e.N().priceScaleId,i=n!==void 0?n:this.qd();r.i_(e,i),gh(i)||e.cr(e.N())}_d(e){const r=this.Ps.layout;return r.background.type==="gradient"?e===0?r.background.topColor:r.background.bottomColor:r.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function lC(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const r=Math.round(t);if(Math.abs(r-t)<1e-8)return e;t*=10}return e}function Zm(t){return!Ms(t)&&!Vl(t)}function uC(t){return Ms(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(h1||(h1={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(f1||(f1={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(p1||(p1={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(m1||(m1={}));const v1=t=>t.getUTCFullYear();function qR(t,e,r){return e.replace(/yyyy/g,(n=>Kn(v1(n),4))(t)).replace(/yy/g,(n=>Kn(v1(n)%100,2))(t)).replace(/MMMM/g,((n,i)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,r)).replace(/MMM/g,((n,i)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,r)).replace(/MM/g,(n=>Kn((i=>i.getUTCMonth()+1)(n),2))(t)).replace(/dd/g,(n=>Kn((i=>i.getUTCDate())(n),2))(t))}class cC{constructor(e="yyyy-MM-dd",r="default"){this.Qd=e,this.tf=r}du(e){return qR(e,this.Qd,this.tf)}}class ZR{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Kn(e.getUTCHours(),2)).replace("%m",Kn(e.getUTCMinutes(),2)).replace("%s",Kn(e.getUTCSeconds(),2))}}const QR={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class JR{constructor(e={}){const r={...QR,...e};this.hf=new cC(r.sf,r.rf),this.af=new ZR(r.nf),this.lf=r.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function Du(t){return 60*t*60*1e3}function xp(t){return 60*t*1e3}const Lu=[{_f:(g1=1,1e3*g1),uf:10},{_f:xp(1),uf:20},{_f:xp(5),uf:21},{_f:xp(30),uf:22},{_f:Du(1),uf:30},{_f:Du(3),uf:31},{_f:Du(6),uf:32},{_f:Du(12),uf:33}];var g1;function y1(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let r=Lu.length-1;r>=0;--r)if(Math.floor(e.getTime()/Lu[r]._f)!==Math.floor(t.getTime()/Lu[r]._f))return Lu[r].uf;return 0}function _p(t){let e=t;if(Vl(t)&&(e=ry(t)),!Zm(e))throw new Error("time must be of type BusinessDay");const r=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(r.getTime()/1e3),df:e}}function x1(t){if(!uC(t))throw new Error("time must be of type isUTCTimestamp");return{cf:t}}function ry(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function _1(t){Vl(t.time)&&(t.time=ry(t.time))}class b1{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(r){r.forEach(_1)}(e):_1(e)}createConverterToInternalObj(e){return re(function(r){return r.length===0?null:Zm(r[0].time)||Vl(r[0].time)?_p:x1}(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const r=e;return r.df===void 0?new Date(1e3*r.cf).getTime():new Date(Date.UTC(r.df.year,r.df.month-1,r.df.day)).getTime()}convertHorzItemToInternal(e){return uC(r=e)?x1(r):Zm(r)?_p(r):_p(ry(r));var r}updateFormatter(e){if(!this.Ps)return;const r=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new JR({sf:r,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new cC(r,e.locale)}formatHorzItem(e){const r=e;return this.ff.du(new Date(1e3*r.cf))}formatTickmark(e,r){const n=function(s,a,o){switch(s){case 0:case 10:return a?o?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return a?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),i=this.Ps.timeScale;if(i.tickMarkFormatter!==void 0){const s=i.tickMarkFormatter(e.originalTime,n,r.locale);if(s!==null)return s}return function(s,a,o){const u={};switch(a){case 0:u.year="numeric";break;case 1:u.month="short";break;case 2:u.day="numeric";break;case 3:u.hour12=!1,u.hour="2-digit",u.minute="2-digit";break;case 4:u.hour12=!1,u.hour="2-digit",u.minute="2-digit",u.second="2-digit"}const c=s.df===void 0?new Date(1e3*s.cf):new Date(Date.UTC(s.df.year,s.df.month-1,s.df.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(o,u)}(e.time,n,r.locale)}maxTickMarkWeight(e){let r=e.reduce(YR,e[0]).weight;return r>30&&r<50&&(r=30),r}fillWeightsForPoints(e,r){(function(n,i=0){if(n.length===0)return;let s=i===0?null:n[i-1].time.cf,a=s!==null?new Date(1e3*s):null,o=0;for(let u=i;u<n.length;++u){const c=n[u],d=new Date(1e3*c.time.cf);a!==null&&(c.timeWeight=y1(d,a)),o+=c.time.cf-(s||c.time.cf),s=c.time.cf,a=d}if(i===0&&n.length>1){const u=Math.ceil(o/(n.length-1)),c=new Date(1e3*(n[0].time.cf-u));n[0].timeWeight=y1(new Date(1e3*n[0].time.cf),c)}})(e,r)}static pf(e){return Er({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Na=typeof window<"u";function w1(){return!!Na&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function bp(){return!!Na&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Qm(t){return t+t%2}function eD(t){Na&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class _h{constructor(e,r,n){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!bp(),this.Uf=i=>{this.$f(i)},this.qf=i=>{if(this.jf(i)){const s=this.Yf(i);if(++this.gf,this.Mf&&this.gf>1){const{Kf:a}=this.Zf(xn(i),this.bf);a<30&&!this.Tf&&this.Gf(s,this.Jf.Xf),this.Qf()}}else{const s=this.Yf(i);if(++this.vf,this.mf&&this.vf>1){const{Kf:a}=this.Zf(xn(i),this.wf);a<5&&!this.Pf&&this.tp(s,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=r,this.Ps=n,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const r=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",r)},this.np.addEventListener("mousemove",r),this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.op),this.Hf=!0}_p(e){const r=wp(e.changedTouches,re(this.Wf));if(r===null||(this.Ff=$u(e),this.Af!==null)||this.Of)return;this.zf=!0;const n=this.Zf(xn(r),re(this.yf)),{up:i,cp:s,Kf:a}=n;if(this.kf||!(a<5)){if(!this.kf){const o=.5*i,u=s>=o&&!this.Ps.dp(),c=o>s&&!this.Ps.fp();u||c||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const o=this.Yf(e,r);this.Gf(o,this.Jf.pp),Ks(e)}}}vp(e){if(e.button!==0)return;const r=this.Zf(xn(e),re(this.Cf)),{Kf:n}=r;if(n>=5&&(this.Pf=!0,this.sp()),this.Pf){const i=this.Yf(e);this.tp(i,this.Jf.mp)}}Zf(e,r){const n=Math.abs(r._t-e._t),i=Math.abs(r.ut-e.ut);return{up:n,cp:i,Kf:n+i}}wp(e){let r=wp(e.changedTouches,re(this.Wf));if(r===null&&e.touches.length===0&&(r=e.changedTouches[0]),r===null)return;this.Wf=null,this.Ff=$u(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const n=this.Yf(e,r);if(this.Gf(n,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:i}=this.Zf(xn(r),this.bf);i<30&&!this.Tf&&this.Gf(n,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(n,this.Jf.Mp),this.Jf.Mp&&Ks(e));this.gf===0&&Ks(e),e.touches.length===0&&this.xf&&(this.xf=!1,Ks(e))}$f(e){if(e.button!==0)return;const r=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),w1()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(r,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:n}=this.Zf(xn(e),this.wf);n<5&&!this.Pf&&this.tp(r,this.Jf.ip),this.sp()}else this.Pf||this.tp(r,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const r=e.changedTouches[0];this.Wf=r.identifier,this.Ff=$u(e);const n=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=xn(r),this.Ef&&(this.Ef(),this.Ef=null);{const s=this._p.bind(this),a=this.wp.bind(this);this.Ef=()=>{n.removeEventListener("touchmove",s),n.removeEventListener("touchend",a)},n.addEventListener("touchmove",s,{passive:!1}),n.addEventListener("touchend",a,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const i=this.Yf(e,r);this.Gf(i,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=xn(r))}kp(e){if(e.button!==0)return;const r=this.np.ownerDocument.documentElement;w1()&&r.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=xn(e),this.Bf&&(this.Bf(),this.Bf=null);{const i=this.vp.bind(this),s=this.$f.bind(this);this.Bf=()=>{r.removeEventListener("mousemove",i),r.removeEventListener("mouseup",s)},r.addEventListener("mousemove",i),r.addEventListener("mouseup",s)}if(this.Nf=!0,this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=xn(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,r=n=>{this.Jf.Tp&&(n.composed&&this.np.contains(n.composedPath()[0])||n.target&&this.np.contains(n.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",r)},this.Rf=()=>{e.removeEventListener("mousedown",r)},e.addEventListener("mousedown",r),e.addEventListener("touchstart",r,{passive:!0})}bp()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),eD(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",()=>{},{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",e=>this.Ep(e.touches),{passive:!0}),this.np.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const r=S1(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,r),Ks(e)}},{passive:!1}),this.np.addEventListener("touchend",e=>{this.Ep(e.touches)}))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const r=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-r.left+(e[1].clientX-r.left))/2,ut:(e[0].clientY-r.top+(e[1].clientY-r.top))/2},this.Lf=S1(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const r=this.Yf(e);this.tp(r,this.Jf.zp),this.Hf=!bp()}Cp(e){const r=wp(e.touches,re(this.Wf));if(r===null)return;const n=this.Yf(e,r);this.Gf(n,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:$u(e)<this.Ff+500}Gf(e,r){r&&r.call(this.Jf,e)}tp(e,r){r&&r.call(this.Jf,e)}Yf(e,r){const n=r||e,i=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-i.left,localY:n.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:n.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&Ks(e)}}}}function S1(t,e){const r=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(r*r+n*n)}function Ks(t){t.cancelable&&t.preventDefault()}function xn(t){return{_t:t.pageX,ut:t.pageY}}function $u(t){return t.timeStamp||performance.now()}function wp(t,e){for(let r=0;r<t.length;++r)if(t[r].identifier===e)return t[r];return null}class tD{constructor(e,r,n){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[r],this.Gp=e.Zp()[n],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return Le({width:this.Kp.sv().width,height:1})}nv(){return Le({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,r,n){const i=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(r,n,i.width,i.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),r=e.style;r.position="fixed",r.display="none",r.zIndex="49",r.top="0",r.left="0",r.width="100%",r.height="100%",r.cursor="row-resize",this.Jp.appendChild(e);const n=document.createElement("div"),i=n.style;i.position="absolute",i.zIndex="50",i.top="-4px",i.height="9px",i.width="100%",i.backgroundColor="",i.cursor="row-resize",this.Jp.appendChild(n);const s={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new _h(n,s,{dp:()=>!1,fp:()=>!0}),this.Up={hv:n,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const r=this.Kp.cv().E_()+this.Gp.cv().E_(),n=r/(this.Kp.sv().height+this.Gp.sv().height),i=30*n;r<=2*i||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:r-i,vv:r,mv:n,wv:i},this.Up.rv.style.display="block")}_v(e){const r=this.jp;if(r===null)return;const n=(e.pageY-r.dv)*r.mv,i=qo(r.fv+n,r.wv,r.pv);this.Kp.cv().A_(i),this.Gp.cv().A_(r.vv-i),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function Sp(t,e){return t.gv-e.gv}function jp(t,e,r){const n=(t.gv-e.gv)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),r)}class rD{constructor(e,r,n,i){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=r,this.Rv=n,this.kn=i}Dv(e,r){if(this.Mv!==null){if(this.Mv.wt===r)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:r,gv:e}}fe(e,r){if(this.Mv===null||this.bv===null||r-this.Mv.wt>50)return;let n=0;const i=jp(this.Mv,this.bv,this.Tv),s=Sp(this.Mv,this.bv),a=[i],o=[s];if(n+=s,this.Sv!==null){const c=jp(this.bv,this.Sv,this.Tv);if(Math.sign(c)===Math.sign(i)){const d=Sp(this.bv,this.Sv);if(a.push(c),o.push(d),n+=d,this.xv!==null){const h=jp(this.Sv,this.xv,this.Tv);if(Math.sign(h)===Math.sign(i)){const f=Sp(this.Sv,this.xv);a.push(h),o.push(f),n+=f}}}}let u=0;for(let c=0;c<a.length;++c)u+=o[c]/n*a[c];Math.abs(u)<this.Pv||(this.Cv={gv:e,wt:r},this.kv=u,this.yv=function(c,d){const h=Math.log(d);return Math.log(1*h/-c)/h}(Math.abs(u),this.Rv))}Ac(e){const r=re(this.Cv),n=e-r.wt;return r.gv+this.kv*(Math.pow(this.Rv,n)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const r=e-re(this.Cv).wt;return Math.min(r,this.yv)}}class nD{constructor(e,r){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=r,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function Cs(t,e){const r=re(t.ownerDocument).createElement("canvas");t.appendChild(r);const n=BI(r,{options:{allowResizeObserver:!0},transform:(i,s)=>({width:Math.max(i.width,s.width),height:Math.max(i.height,s.height)})});return n.resizeCanvasElement(e),n}function Es(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))==null||e.clearRect(0,0,1,1)}function Jm(t,e,r,n){t.Uh&&t.Uh(e,r,n)}function xc(t,e,r,n){t.nt(e,r,n)}function ev(t,e,r,n){const i=t(r,n);for(const s of i){const a=s.Tt(n);a!==null&&e(a)}}function kp(t,e){return r=>{var n,i;return function(s){return s.Ft!==void 0}(r)?(((n=r.Ft())==null?void 0:n.ol())??"")!==e?[]:((i=r.Ya)==null?void 0:i.call(r,t))??[]:[]}}function j1(t,e,r,n){if(!t.length)return;let i=0;const s=t[0].$t(n,!0);let a=e===1?r/2-(t[0].Hi()-s/2):t[0].Hi()-s/2-r/2;a=Math.max(0,a);for(let o=1;o<t.length;o++){const u=t[o],c=t[o-1],d=c.$t(n,!1),h=u.Hi(),f=c.Hi();if(e===1?h>f-d:h<f+d){const p=f-d*e;u.Ui(p);const g=p-e*d/2;if((e===1?g<0:g>r)&&a>0){const y=e===1?-1-g:g-r,_=Math.min(y,a);for(let x=i;x<t.length;x++)t[x].Ui(t[x].Hi()+e*_);a-=_}}else i=o,a=e===1?f-d-h:h-(f+d)}}class k1{constructor(e,r,n,i){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new Sl(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=r,this.Co=r.layout,this.hd=n,this.Jv=i==="left",this.Qv=kp("normal",i),this.tm=kp("top",i),this.im=kp("bottom",i),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=Cs(this.Jp,Le({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=Cs(this.Jp,Le({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const a=this.nm.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const o={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new _h(this.nm.canvasElement,o,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Es(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Es(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const r=this.lm(),n=re(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));n.save();const i=this.Ki.Vl();n.font=this._m(),i.length>0&&(e=Math.max(this.qv.Ii(n,i[0].Jl),this.qv.Ii(n,i[i.length-1].Jl)));const s=this.um();for(let c=s.length;c--;){const d=this.qv.Ii(n,s[c].ri());d>e&&(e=d)}const a=this.Ki.Lt();if(a!==null&&this.Uv!==null&&(o=this.Ps.crosshair).mode!==2&&o.horzLine.visible&&o.horzLine.labelVisible){const c=this.Ki.Ds(1,a),d=this.Ki.Ds(this.Uv.height-2,a);e=Math.max(e,this.qv.Ii(n,this.Ki.Ji(Math.floor(Math.min(c,d))+.11111111111111,a)),this.qv.Ii(n,this.Ki.Ji(Math.ceil(Math.max(c,d))-.11111111111111,a)))}var o;n.restore();const u=e||34;return Qm(Math.ceil(r.S+r.C+r.V+r.B+5+u))}dm(e){this.Uv!==null&&ms(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return re(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,re(this.Ft()))}pm(e){if(this.Uv===null)return;const r={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const i=ks(this.sm,r);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s),this.gm(s)}),this.yt.Mm(i,this.im),this.bm(i),this.yt.Mm(i,this.Qv),this.Sm(i))}this.nm.applySuggestedBitmapSize();const n=ks(this.nm,r);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.xm(n),this.yt.Mm(n,this.tm))}nv(){return this.sm.bitmapSize}ev(e,r,n,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,r,n),i)){const a=this.nm.canvasElement;e.drawImage(a,r,n)}}kt(){var e;(e=this.Ki)==null||e.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!0,r.j_(n,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.yt.Gv().Qt(),n=this.yt.cv(),i=this.Ki;r.Y_(n,i,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),r=this.yt.cv(),n=this.Ki;this.$v&&(this.$v=!1,e.K_(r,n))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!1,r.K_(n,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],r=this.Ki===null?void 0:this.Ki;return(n=>{for(let i=0;i<n.length;++i){const s=n[i].Ks(this.yt.cv(),r);for(let a=0;a<s.length;a++)e.push(s[a])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:r}){const{width:n,height:i}=r,s=this.yt.cv().Qt(),a=s.$(),o=s.Kd();a===o?mh(e,0,0,n,i,a):qM(e,0,0,n,i,a,o)}gm({context:e,bitmapSize:r,horizontalPixelRatio:n}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const i=Math.max(1,Math.floor(this.lm().S*n));let s;s=this.Jv?r.width-i:0,e.fillRect(s,0,i,r.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const r=this.Ki.Vl(),n=this.Ki.N(),i=this.lm(),s=this.Jv?this.Uv.width-i.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:o,verticalPixelRatio:u})=>{a.fillStyle=n.borderColor;const c=Math.max(1,Math.floor(u)),d=Math.floor(.5*u),h=Math.round(i.C*o);a.beginPath();for(const f of r)a.rect(Math.floor(s*o),Math.round(f.Pl*u)-d,h,c);a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{a.font=this._m(),a.fillStyle=n.textColor??this.Co.textColor,a.textAlign=this.Jv?"right":"left",a.textBaseline="middle";const o=this.Jv?Math.round(s-i.V):Math.round(s+i.C+i.V),u=r.map(c=>this.qv.Di(a,c.Jl));for(let c=r.length;c--;){const d=r[c];a.fillText(d.Jl,o,d.Pl+u[c])}})}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const r=[],n=this.Ki.Dt().slice(),i=this.yt.cv(),s=this.lm();this.Ki===i.Gn()&&this.yt.cv().Dt().forEach(u=>{i.Zn(u)&&n.push(u)});const a=this.Ki.Sl()[0],o=this.Ki;n.forEach(u=>{const c=u.Ks(i,o);c.forEach(d=>{d.$i()&&d.Wi()===null&&(d.Ui(null),r.push(d))}),a===u&&c.length>0&&(e=c[0].Ei())}),this.Ki.N().alignLabels&&this.ym(r,s,e)}ym(e,r,n){if(this.Uv===null)return;const i=e.filter(a=>a.Ei()<=n),s=e.filter(a=>a.Ei()>n);i.sort((a,o)=>o.Ei()-a.Ei()),i.length&&s.length&&s.push(i[0]),s.sort((a,o)=>a.Ei()-o.Ei());for(const a of e){const o=Math.floor(a.$t(r)/2),u=a.Ei();u>-o&&u<o&&a.Ui(o),u>this.Uv.height-o&&u<this.Uv.height+o&&a.Ui(this.Uv.height-o)}j1(i,1,this.Uv.height,r),j1(s,-1,this.Uv.height,r)}Sm(e){if(this.Uv===null)return;const r=this.um(),n=this.lm(),i=this.Jv?"right":"left";r.forEach(s=>{s.qi()&&s.Tt(re(this.Ki)).nt(e,n,this.qv,i)})}xm(e){if(this.Uv===null||this.Ki===null)return;const r=this.yt.Gv().Qt(),n=[],i=this.yt.cv(),s=r.gd().Ks(i,this.Ki);s.length&&n.push(s);const a=this.lm(),o=this.Jv?"right":"left";n.forEach(u=>{u.forEach(c=>{c.Tt(re(this.Ki)).nt(e,a,this.qv,o)})})}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return wl(this.Co.fontSize,this.Co.fontFamily)}}function iD(t,e){var r;return((r=t.qa)==null?void 0:r.call(t,e))??[]}function P1(t,e){var r;return((r=t.Ys)==null?void 0:r.call(t,e))??[]}function M1(t,e){var r;return((r=t.ds)==null?void 0:r.call(t,e))??[]}function sD(t,e){var r;return((r=t.Ha)==null?void 0:r.call(t,e))??[]}class ny{constructor(e,r){this.Uv=Le({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new ut,this.Vm=new ut,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=r,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(n),this.sm=Cs(n,Le({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const i=this.sm.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.nm=Cs(n,Le({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new _h(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Es(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Es(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return re(this.Nm)}qm(e){var r;this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(ny.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new nD(this.Wm,this.Lv),this.Tm.kt()):((r=this.Tm)==null||r.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(re(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(re(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const r=e.localX,n=e.localY;this.Zm(r,n,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const r=e.localX,n=e.localY;this.Zm(r,n,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const r={x:e.localX,y:e.localY};this.iw(r,r,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,r){if(!this.Lv.N().handleScale.pinch)return;const n=5*(r-this.Bm);this.Bm=r,this.ns().Td(e._t,n)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const r=this.ns().gd();this.Am!==null&&r.It()&&(this.zm={x:r.si(),y:r.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const r=e.localX,n=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const i=re(this.zm),s=i.x+(r-this.Am.x),a=i.y+(n-this.Am.y);this.Zm(s,a,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,r){const n=this.Nm;return n===null?null:oC(n,e,r)}hw(e,r){re(r==="left"?this.km:this.Pm).dm(Le({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){ms(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=re(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const r of e.Sl())if(e.Zn(r)){const n=r.Ft();n!==null&&e.H_(n),r.Ws()}for(const r of e.ru())r.Ws()}nv(){return this.sm.bitmapSize}ev(e,r,n,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,r,n),i)){const a=this.nm.canvasElement;e!==null&&e.drawImage(a,r,n)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const r={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=ks(this.sm,r);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s)}),this.Nm&&(this.lw(i,iD),this.ow(i),this.lw(i,P1),this.lw(i,M1)))}this.nm.applySuggestedBitmapSize();const n=ks(this.nm,r);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this._w(n),this.lw(n,sD),this.lw(n,M1))}uw(){return this.km}cw(){return this.Pm}Mm(e,r){this.lw(e,r)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,r){const n=r.localX,i=r.localY;e.v()&&e.p(this.ns().Et().wc(n),{x:n,y:i},r)}wm({context:e,bitmapSize:r}){const{width:n,height:i}=r,s=this.ns(),a=s.$(),o=s.Kd();a===o?mh(e,0,0,n,i,o):qM(e,0,0,n,i,a,o)}ow(e){const r=re(this.Nm),n=r.eu().pr().Tt(r);n!==null&&n.nt(e,!1)}_w(e){this.dw(e,P1,xc,this.ns().gd())}lw(e,r){const n=re(this.Nm),i=n.Dt(),s=n.ru();for(const a of s)this.dw(e,r,Jm,a);for(const a of i)this.dw(e,r,Jm,a);for(const a of s)this.dw(e,r,xc,a);for(const a of i)this.dw(e,r,xc,a)}dw(e,r,n,i){const s=re(this.Nm),a=s.Qt().pd(),o=a!==null&&a.hu===i,u=a!==null&&o&&a.au!==void 0?a.au.ie:void 0;ev(r,c=>n(c,e,o,u),i,s)}jm(){if(this.Nm===null)return;const e=this.Lv,r=this.Nm.U_().N().visible,n=this.Nm.q_().N().visible;r||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),n||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const i=e.Qt().Nd();r&&this.km===null&&(this.km=new k1(this,e.N(),i,"left"),this.Hm.appendChild(this.km.iv())),n&&this.Pm===null&&(this.Pm=new k1(this,e.N(),i,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,r,n){e=Math.max(0,Math.min(e,this.Uv.width-1)),r=Math.max(0,Math.min(r,this.Uv.height-1)),this.ns().Ad(e,r,n,re(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,r,n){this.Am=e,this.Lm=!1,this.Zm(r.x,r.y,n);const i=this.ns().gd();this.zm={x:i.si(),y:i.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const r=this.ns(),n=this.cv();if(r.X_(n,n.Rs()),this.Rm=null,this.Dm=!1,r.Vd(),this.Om!==null){const i=performance.now(),s=r.Et();this.Om.fe(s.Cc(),i),this.Om.Ec(i)||r.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)re(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const r=this.ns(),n=r.Et();if(n.Gi())return;const i=this.Lv.N(),s=i.handleScroll,a=i.kineticScroll;if((!s.pressedMouseMove||e.Np)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!e.Np))return;const o=this.Nm.Rs(),u=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:u,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&a.touch||!e.Np&&a.mouse){const c=n.ul();this.Om=new rD(.2/c,7/c,.997,15/c),this.Om.Dv(n.Cc(),this.Rm.cf)}else this.Om=null;o.Gi()||r.Z_(this.Nm,o,e.localY),r.Dd(e.localX),this.Dm=!0}this.Dm&&(o.Gi()||r.G_(this.Nm,o,e.localY),r.Id(e.localX),this.Om!==null&&this.Om.Dv(n.Cc(),u))}}class C1{constructor(e,r,n,i,s){this.xt=!0,this.Uv=Le({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=n.Nd,this.Ps=r,this.ww=i,this.gw=s,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=Cs(this.Jp,Le({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Es(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){ms(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const r=ks(this.sm,{colorSpace:this.Ps.layout.colorSpace});r!==null&&r.useBitmapCoordinateSpace(n=>{this.wm(n),this.gm(n)})}nv(){return this.sm.bitmapSize}ev(e,r,n){const i=this.nv();i.width>0&&i.height>0&&e.drawImage(this.sm.canvasElement,r,n)}gm({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const s=Math.floor(this.hd.N().S*n),a=Math.floor(this.hd.N().S*i),o=this.Jv?r.width-s:0;e.fillRect(o,0,s,a)}wm({context:e,bitmapSize:r}){mh(e,0,0,r.width,r.height,this.gw())}}function iy(t){return e=>{var r;return((r=e.Ka)==null?void 0:r.call(e,t))??[]}}const aD=iy("normal"),oD=iy("top"),lD=iy("bottom");class uD{constructor(e,r){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=Le({width:0,height:0}),this.xw=new ut,this.qv=new Sl(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=r,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=Cs(this.kw,Le({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const n=this.sm.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.nm=Cs(this.kw,Le({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const i=this.nm.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new _h(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Es(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Es(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const r=this.Lv.Qt();!r.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&r.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const r=this.Lv.Qt();!r.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&r.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,r,n){ms(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(Le({width:r,height:e.height})),this.bw!==null&&this.bw.dm(Le({width:n,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,r,n,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,r,n),i)){const a=this.nm.canvasElement;e.drawImage(a,r,n)}}pm(e){if(e===0)return;const r={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=ks(this.sm,r);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.wm(s),this.gm(s),this.Aw(i,lD)}),this.bm(i),this.Aw(i,aD)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const n=ks(this.nm,r);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],n),this.Aw(n,oD))}Aw(e,r){const n=this.Lv.Qt().tn();for(const i of n)ev(r,s=>Jm(s,e,!1,void 0),i,void 0);for(const i of n)ev(r,s=>xc(s,e,!1,void 0),i,void 0)}wm({context:e,bitmapSize:r}){mh(e,0,0,r.width,r.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:r,verticalPixelRatio:n}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const i=Math.max(1,Math.floor(this.Bw().S*n));e.fillRect(0,0,r.width,i)}}bm(e){const r=this.Lv.Qt().Et(),n=r.Vl();if(!n||n.length===0)return;const i=this.cu.maxTickMarkWeight(n),s=this.Bw(),a=r.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:u,verticalPixelRatio:c})=>{o.strokeStyle=this.zw(),o.fillStyle=this.zw();const d=Math.max(1,Math.floor(u)),h=Math.floor(.5*u);o.beginPath();const f=Math.round(s.C*c);for(let p=n.length;p--;){const g=Math.round(n[p].coord*u);o.rect(g-h,0,d,f)}o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{const u=s.S+s.C+s.A+s.k/2;o.textAlign="center",o.textBaseline="middle",o.fillStyle=this.H(),o.font=this._m();for(const c of n)if(c.weight<i){const d=c.needAlignCoordinate?this.Ow(o,c.coord,c.label):c.coord;o.fillText(c.label,d,u)}this.Lv.N().timeScale.allowBoldLabels&&(o.font=this.Nw());for(const c of n)if(c.weight>=i){const d=c.needAlignCoordinate?this.Ow(o,c.coord,c.label):c.coord;o.fillText(c.label,d,u)}})}Ow(e,r,n){const i=this.qv.Ii(e,n),s=i/2,a=Math.floor(r-s)+.5;return a<0?r+=Math.abs(0-a):a+i>this.Uv.width&&(r-=Math.abs(this.Uv.width-(a+i))),r}Lw(e,r){const n=this.Bw();for(const i of e)for(const s of i.fs())s.Tt().nt(r,n)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return wl(this.F(),this.Ps.fontFamily)}Nw(){return wl(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new Sl,Ew:0});const e=this.M,r=this._m();if(e.P!==r){const n=this.F();e.k=n,e.P=r,e.A=3*n/12,e.I=3*n/12,e.ts=9*n/12,e.L=0,e.Ew=4*n/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),r=e.N();r.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),r.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const n={Nd:this.Lv.Qt().Nd()},i=()=>r.leftPriceScale.borderVisible&&e.Et().N().borderVisible,s=()=>e.Kd();r.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new C1("left",r,n,i,s),this.Cw.appendChild(this.Mw.iv())),r.rightPriceScale.visible&&this.bw===null&&(this.bw=new C1("right",r,n,i,s),this.yw.appendChild(this.bw.iv()))}}var Nk;const cD=!!Na&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Na&&((Nk=navigator==null?void 0:navigator.userAgentData)!=null&&Nk.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class dD{constructor(e,r,n){var i;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new ut,this.Vm=new ut,this.nd=new ut,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=r,this.cu=n,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(i=this.Vv).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),Pp(this.Ps)&&this.Jw(!0),this.ns=new XR(this.rd.bind(this),this.Ps,n),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new uD(this,this.cu),this.Zw.appendChild(this.tg.iv());const s=r.autoSize&&this.ig();let a=this.Ps.width,o=this.Ps.height;if(s||a===0||o===0){const u=e.getBoundingClientRect();a=a||u.width,o=o||u.height}this.sg(a,o),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],re(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,r,n=!1){if(this.eo===r&&this.S_===e)return;const i=function(o){const u=Math.floor(o.width),c=Math.floor(o.height);return Le({width:u-u%2,height:c-c%2})}(Le({width:e,height:r}));this.eo=i.height,this.S_=i.width;const s=this.eo+"px",a=this.S_+"px";re(this.Vv).style.height=s,re(this.Vv).style.width=a,this.Zw.style.height=s,this.Zw.style.width=a,n?this.lg(Dt.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=Dt.yn());for(let r=0;r<this.Fw.length;r++)this.Fw[r].pm(e.un(r).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){var i;const r=Pp(this.Ps);this.ns.cr(e);const n=Pp(this.Ps);n!==r&&this.Jw(n),(i=e.layout)!=null&&i.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const r=this.cg(null),n=document.createElement("canvas");n.width=r.width,n.height=r.height;const i=re(n.getContext("2d"));return this.cg(i,e),n}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:re(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return _r(this.Fw[e]).sv()}og(){this.Ww.forEach(e=>{e.kt()})}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,r){let n=0,i=0;const s=this.Fw[0],a=(u,c)=>{let d=0;for(let h=0;h<this.Fw.length;h++){const f=this.Fw[h],p=re(u==="left"?f.uw():f.cw()),g=p.nv();if(e!==null&&p.ev(e,c,d,r),d+=g.height,h<this.Fw.length-1){const y=this.Ww[h],_=y.nv();e!==null&&y.ev(e,c,d),d+=_.height}}};this.fg()&&(a("left",0),n+=re(s.uw()).nv().width);for(let u=0;u<this.Fw.length;u++){const c=this.Fw[u],d=c.nv();if(e!==null&&c.ev(e,n,i,r),i+=d.height,u<this.Fw.length-1){const h=this.Ww[u],f=h.nv();e!==null&&h.ev(e,n,i),i+=f.height}}n+=s.nv().width,this.pg()&&(a("right",n),n+=re(s.cw()).nv().width);const o=(u,c,d)=>{re(u==="left"?this.tg.Tw():this.tg.Rw()).ev(re(e),c,d)};if(this.Ps.timeScale.visible){const u=this.tg.nv();if(e!==null){let c=0;this.fg()&&(o("left",c,i),c=re(s.uw()).nv().width),this.tg.ev(e,c,i,r),c+=u.width,this.pg()&&o("right",c,i)}i+=u.height}return Le({width:n,height:i})}Mg(){let e=0,r=0,n=0;for(const _ of this.Fw)this.fg()&&(r=Math.max(r,re(_.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(n=Math.max(n,re(_.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=_.E_();r=Qm(r),n=Qm(n);const i=this.S_,s=this.eo,a=Math.max(i-r-n,0),o=1*this.Ww.length,u=this.Ps.timeScale.visible;let c=u?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var d;c=(d=c)+d%2;const h=o+c,f=s<h?0:s-h,p=f/e;let g=0;const y=window.devicePixelRatio||1;for(let _=0;_<this.Fw.length;++_){const x=this.Fw[_];x.qm(this.ns.Xs()[_]);let b=0,S=0;S=_===this.Fw.length-1?Math.ceil((f-g)*y)/y:Math.round(x.E_()*p*y)/y,b=Math.max(S,2),g+=b,x.dm(Le({width:a,height:b})),this.fg()&&x.hw(r,"left"),this.pg()&&x.hw(n,"right"),x.cv()&&this.ns.bd(x.cv(),b)}this.tg.Iw(Le({width:u?a:0,height:c}),u?r:0,u?n:0),this.ns.L_(a),this.Uw!==r&&(this.Uw=r),this.$w!==n&&(this.$w=n)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return cD?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const r=this.bg(e),n=r*e.deltaX/100,i=-r*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.Ps.handleScale.mouseWheel){const s=Math.sign(i)*Math.min(1,Math.abs(i)),a=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(a,s)}n!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*n)}lg(e,r){var i;const n=e._n();n===3&&this.Sg(),n!==3&&n!==2||(this.xg(e),this.Cg(e,r),this.tg.kt(),this.Fw.forEach(s=>{s.Ym()}),((i=this.qw)==null?void 0:i._n())===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,r),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,r){for(const n of e.bn())this.xn(n,r)}xg(e){const r=this.ns.Xs();for(let n=0;n<r.length;n++)e.un(n).ln&&r[n].tu()}xn(e,r){const n=this.ns.Et();switch(e.fn){case 0:n.Fc();break;case 1:n.Wc(e.Wt);break;case 2:n.gn(e.Wt);break;case 3:n.Mn(e.Wt);break;case 4:n.Pc();break;case 5:e.Wt.Ec(r)||n.Mn(e.Wt.Ac(r))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame(r=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const n=this.qw;this.qw=null,this.lg(n,r);for(const i of n.bn())if(i.fn===5&&!i.Wt.Ec(r)){this.Qt().vn(i.Wt);break}}}))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),r=e.length,n=this.Fw.length;for(let i=r;i<n;i++){const s=_r(this.Fw.pop());this.Zw.removeChild(s.iv()),s.nw().u(this),s.ew().u(this),s.m();const a=this.Ww.pop();a!==void 0&&this.hg(a)}for(let i=n;i<r;i++){const s=new ny(this,e[i]);if(s.nw().i(this.yg.bind(this,s),this),s.ew().i(this.kg.bind(this,s),this),this.Fw.push(s),i>0){const a=new tD(this,i-1,i);this.Ww.push(a),this.Zw.insertBefore(a.iv(),this.tg.iv())}this.Zw.insertBefore(s.iv(),this.tg.iv())}for(let i=0;i<r;i++){const s=e[i],a=this.Fw[i];a.cv()!==s?a.qm(s):a.$m()}this.eg(),this.Mg()}Pg(e,r,n,i){var h;const s=new Map;e!==null&&this.ns.tn().forEach(f=>{const p=f.qs().$s(e);p!==null&&s.set(f,p)});let a;if(e!==null){const f=(h=this.ns.Et().es(e))==null?void 0:h.originalTime;f!==void 0&&(a=f)}const o=this.Qt().pd(),u=o!==null&&o.hu instanceof xh?o.hu:void 0,c=o!==null&&o.au!==void 0?o.au.te:void 0,d=this.Tg(i);return{Gr:a,js:e??void 0,Rg:r??void 0,Dg:d!==-1?d:void 0,Ig:u,Vg:s,Bg:c,Eg:n??void 0}}Tg(e){let r=-1;if(e)r=this.Fw.indexOf(e);else{const n=this.Qt().gd().Gs();n!==null&&(r=this.Qt().Xs().indexOf(n))}return r}yg(e,r,n,i){this.Im.p(()=>this.Pg(r,n,i,e))}kg(e,r,n,i){this.Vm.p(()=>this.Pg(r,n,i,e))}Qw(e,r,n){var i;this.mg(((i=this.Qt().pd())==null?void 0:i.ou)??null),this.nd.p(()=>this.Pg(e,r,n))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver(e=>{const r=e[e.length-1];r&&this.sg(r.contentRect.width,r.contentRect.height)}),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function Pp(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function hD(t){return t.open===void 0&&t.value===void 0}function fD(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function E1(t,e,r,n){const i=r.value,s={js:e,wt:t,Wt:[i,i,i,i],Gr:n};return r.color!==void 0&&(s.R=r.color),s}function pD(t,e,r,n){const i=r.value,s={js:e,wt:t,Wt:[i,i,i,i],Gr:n};return r.lineColor!==void 0&&(s.vt=r.lineColor),r.topColor!==void 0&&(s.eh=r.topColor),r.bottomColor!==void 0&&(s.rh=r.bottomColor),s}function mD(t,e,r,n){const i=r.value,s={js:e,wt:t,Wt:[i,i,i,i],Gr:n};return r.topLineColor!==void 0&&(s.hh=r.topLineColor),r.bottomLineColor!==void 0&&(s.ah=r.bottomLineColor),r.topFillColor1!==void 0&&(s.oh=r.topFillColor1),r.topFillColor2!==void 0&&(s._h=r.topFillColor2),r.bottomFillColor1!==void 0&&(s.uh=r.bottomFillColor1),r.bottomFillColor2!==void 0&&(s.dh=r.bottomFillColor2),s}function vD(t,e,r,n){const i={js:e,wt:t,Wt:[r.open,r.high,r.low,r.close],Gr:n};return r.color!==void 0&&(i.R=r.color),i}function gD(t,e,r,n){const i={js:e,wt:t,Wt:[r.open,r.high,r.low,r.close],Gr:n};return r.color!==void 0&&(i.R=r.color),r.borderColor!==void 0&&(i.Ht=r.borderColor),r.wickColor!==void 0&&(i.nh=r.wickColor),i}function yD(t,e,r,n,i){const s=_r(i)(r),a=Math.max(...s),o=Math.min(...s),u=s[s.length-1],c=[u,a,o,u],{time:d,color:h,...f}=r;return{js:e,wt:t,Wt:c,Gr:n,le:f,R:h}}function Vs(t){return t.Wt!==void 0}function A1(t,e){return e.customValues!==void 0&&(t.Ag=e.customValues),t}function Qi(t){return(e,r,n,i,s,a)=>function(o,u){return u?u(o):hD(o)}(n,a)?A1({wt:e,js:r,Gr:i},n):A1(t(e,r,n,i,s),n)}function O1(t){return{Candlestick:Qi(gD),Bar:Qi(vD),Area:Qi(pD),Baseline:Qi(mD),Histogram:Qi(E1),Line:Qi(E1),Custom:Qi(yD)}[t]}function T1(t){return{js:0,Lg:new Map,Ea:t}}function z1(t,e){if(t!==void 0&&t.length!==0)return{zg:e.key(t[0].wt),Og:e.key(t[t.length-1].wt)}}function N1(t){let e;return t.forEach(r=>{e===void 0&&(e=r.Gr)}),_r(e)}class xD{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,r){let n=this.Ng.size!==0,i=!1;const s=this.Fg.get(e);if(s!==void 0)if(this.Fg.size===1)n=!1,i=!0,this.Ng.clear();else for(const u of this.Hg)u.pointData.Lg.delete(e)&&(i=!0);let a=[];if(r.length!==0){const u=r.map(p=>p.time),c=this.cu.createConverterToInternalObj(r),d=O1(e.wh()),h=e.rl(),f=e.hl();a=r.map((p,g)=>{const y=c(p.time),_=this.cu.key(y);let x=this.Ng.get(_);x===void 0&&(x=T1(y),this.Ng.set(_,x),i=!0);const b=d(y,x.js,p,u[g],h,f);return x.Lg.set(e,b),b})}n&&this.$g(),this.qg(e,a);let o=-1;if(i){const u=[];this.Ng.forEach(c=>{u.push({timeWeight:0,time:c.Ea,pointData:c,originalTime:N1(c.Lg)})}),u.sort((c,d)=>this.cu.key(c.time)-this.cu.key(d.time)),o=this.jg(u)}return this.Yg(e,o,function(u,c,d){const h=z1(u,d),f=z1(c,d);if(h!==void 0&&f!==void 0)return{Kg:!1,Ta:h.Og>=f.Og&&h.zg>=f.zg}}(this.Fg.get(e),s,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,r,n){if(n&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const i=r;(function(x){x.Gr===void 0&&(x.Gr=x.time)})(i),this.cu.preprocessData(r);const s=this.cu.createConverterToInternalObj([r])(r.time),a=this.Wg.get(e);if(!n&&a!==void 0&&this.cu.key(s)<this.cu.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${s}`);let o=this.Ng.get(this.cu.key(s));if(n&&o===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const u=o===void 0;o===void 0&&(o=T1(s),this.Ng.set(this.cu.key(s),o));const c=O1(e.wh()),d=e.rl(),h=e.hl(),f=c(s,o.js,r,i.Gr,d,h),p=!n&&!u&&a!==void 0&&this.cu.key(s)===this.cu.key(a);o.Lg.set(e,f),n?this.Gg(e,f,o.js):p&&e.La()&&Vs(f)?(e.kr(f),this.Xg(e,f)):this.Xg(e,f);const g={Ta:Vs(f),Kg:n};if(!u)return this.Yg(e,-1,g);const y={timeWeight:0,time:o.Ea,pointData:o,originalTime:N1(o.Lg)},_=za(this.Hg,this.cu.key(y.time),(x,b)=>this.cu.key(x.time)<b);this.Hg.splice(_,0,y);for(let x=_;x<this.Hg.length;++x)Bu(this.Hg[x].pointData,x);return this.cu.fillWeightsForPoints(this.Hg,_),this.Yg(e,_,g)}Jg(e,r){const n=this.Fg.get(e);if(n===void 0||r<=0)return[[],this.Qg()];r=Math.min(r,n.length);const i=n.splice(-r).reverse();n.length===0?this.Wg.delete(e):this.Wg.set(e,n[n.length-1].wt);for(const s of i){const a=this.Ng.get(this.cu.key(s.wt));if(a&&(a.Lg.delete(e),a.Lg.size===0)){this.Ng.delete(this.cu.key(a.Ea)),this.Hg.splice(a.js,1);for(let o=a.js;o<this.Hg.length;++o)Bu(this.Hg[o].pointData,o)}}return[i,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,r){let n=this.Fg.get(e);n===void 0&&(n=[],this.Fg.set(e,n));const i=n.length!==0?n[n.length-1]:null;i===null||this.cu.key(r.wt)>this.cu.key(i.wt)?Vs(r)&&n.push(r):Vs(r)?n[n.length-1]=r:n.splice(-1,1),this.Wg.set(e,r.wt)}Gg(e,r,n){const i=this.Fg.get(e);if(i===void 0)return;const s=za(i,n,(a,o)=>a.js<o);Vs(r)?i[s]=r:i.splice(s,1)}qg(e,r){r.length!==0?(this.Fg.set(e,r.filter(Vs)),this.Wg.set(e,r[r.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let r=-1;for(let n=0;n<this.Hg.length&&n<e.length;++n){const i=this.Hg[n],s=e[n];if(this.cu.key(i.time)!==this.cu.key(s.time)){r=n;break}s.timeWeight=i.timeWeight,Bu(s.pointData,n)}if(r===-1&&this.Hg.length!==e.length&&(r=Math.min(this.Hg.length,e.length)),r===-1)return-1;for(let n=r;n<e.length;++n)Bu(e[n].pointData,n);return this.cu.fillWeightsForPoints(e,r),this.Hg=e,r}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach(r=>{r.length!==0&&(e=Math.max(e,r[r.length-1].js))}),e}Yg(e,r,n){const i=this.Qg();if(r!==-1)this.Fg.forEach((s,a)=>{i.F_.set(a,{le:s,iM:a===e?n:void 0})}),this.Fg.has(e)||i.F_.set(e,{le:[],iM:n}),i.Et.sM=this.Hg,i.Et.nM=r;else{const s=this.Fg.get(e);i.F_.set(e,{le:s||[],iM:n})}return i}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function Bu(t,e){t.js=e,t.Lg.forEach(r=>{r.js=e})}function _D(t,e){return t.wt<e}function bD(t,e){return e<t.wt}function dC(t,e,r){const n=e.Aa(),i=e.bi(),s=za(t,n,_D),a=nC(t,i,bD);if(!r)return{from:s,to:a};let o=s,u=a;return s>0&&s<t.length&&t[s].wt>=n&&(o=s-1),a>0&&a<t.length&&t[a-1].wt<=i&&(u=a+1),{from:o,to:u}}class sy{constructor(e,r,n){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=r,this._M=n}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map(e=>({...e,...this.ee.ga().gh(e.wt)}))}fM(){this.lM=null}uM(){const e=this.re.Et(),r=e.N().enableConflation?e.Hc():0;r!==this.oM&&(this.rM=!0,this.oM=r),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),r=this.re.Et();if(this.fM(),r.Gi()||e.Gi())return;const n=r.Ie();if(n===null||this.ee.qs().yh()===0)return;const i=this.ee.Lt();i!==null&&(this.lM=dC(this.aM,n,this._M),this.mM(e,r,i.Wt),this.wM())}}class wD{constructor(e,r){this.gM=e,this.Ki=r}nt(e,r,n){this.gM.draw(e,this.Ki,r,n)}}class SD extends sy{constructor(e,r,n){super(e,r,!1),this.$h=n,this.cM=new wD(this.$h.renderer(),i=>{const s=e.Lt();return s===null?null:e.Ft().Nt(i,s.Wt)})}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(r=>({wt:r.js,_t:NaN,...e.gh(r.js),MM:r.le}))}mM(e,r){r.mc(this.aM,bl(this.lM))}wM(){this.$h.update({bars:this.aM.map(jD),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function jD(t){return{x:t._t,time:t.wt,originalData:t.MM,barColor:t.th}}const kD={color:"#2196f3"},PD=(t,e,r)=>{const n=Mi(r);return new SD(t,e,n)};function ay(t){const e={value:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function I1(t){const e=ay(t);return t.R!==void 0&&(e.color=t.R),e}function MD(t){const e=ay(t);return t.vt!==void 0&&(e.lineColor=t.vt),t.eh!==void 0&&(e.topColor=t.eh),t.rh!==void 0&&(e.bottomColor=t.rh),e}function CD(t){const e=ay(t);return t.hh!==void 0&&(e.topLineColor=t.hh),t.ah!==void 0&&(e.bottomLineColor=t.ah),t.oh!==void 0&&(e.topFillColor1=t.oh),t._h!==void 0&&(e.topFillColor2=t._h),t.uh!==void 0&&(e.bottomFillColor1=t.uh),t.dh!==void 0&&(e.bottomFillColor2=t.dh),e}function hC(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function ED(t){const e=hC(t);return t.R!==void 0&&(e.color=t.R),e}function AD(t){const e=hC(t),{R:r,Ht:n,nh:i}=t;return r!==void 0&&(e.color=r),n!==void 0&&(e.borderColor=n),i!==void 0&&(e.wickColor=i),e}function _c(t){return{Area:MD,Line:I1,Baseline:CD,Histogram:I1,Bar:ED,Candlestick:AD,Custom:OD}[t]}function OD(t){const e=t.Gr;return{...t.le,time:e}}const TD={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},zD={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},ND={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:XM,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Mp={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},ID={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function R1(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:ND,crosshair:TD,grid:zD,overlayPriceScales:{...Mp},leftPriceScale:{...Mp,visible:!1},rightPriceScale:{...Mp,visible:!0},timeScale:ID,localization:{locale:Na?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class fC{constructor(e,r,n){this.Yp=e,this.bM=r,this.SM=n??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return gh(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new nr(e.from,e.to))}getVisibleRange(){let e,r,n=this.Ki().er();if(n===null)return null;if(this.Ki().io()){const i=this.Ki().m_(),s=lC(i);n=ca(n,this.Ki().no()),e=Number((Math.round(n.Ze()/i)*i).toFixed(s)),r=Number((Math.round(n.Ge()/i)*i).toFixed(s))}else e=n.Ze(),r=n.Ge();return{from:e,to:r}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return re(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class RD{constructor(e,r,n,i){this.Yp=e,this.yt=n,this.xM=r,this.CM=i}getHeight(){return this.yt.$t()}setHeight(e){const r=this.Yp.Qt(),n=r.Gd(this.yt);r.xd(n,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const r=this.paneIndex();r!==e&&($t(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(r,e))}getSeries(){return this.yt.F_().map(e=>this.xM(e))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new fC(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,r={},n=0){return this.CM.addCustomSeries(e,r,n)}addSeries(e,r={}){return this.CM.addSeries(e,r,this.paneIndex())}}const DD={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class D1{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class LD{constructor(e,r,n,i,s,a){this.kM=new ut,this.ee=e,this.PM=r,this.TM=n,this.cu=s,this.CM=i,this.RM=a}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const r=this.ee.Lt();return r===null?null:this.ee.Ft().Nt(e,r.Wt)}coordinateToPrice(e){const r=this.ee.Lt();return r===null?null:this.ee.Ft().Ds(e,r.Wt)}barsInLogicalRange(e){if(e===null)return null;const r=new wa(new ba(e.from,e.to)).Ru(),n=this.ee.qs();if(n.Gi())return null;const i=n.$s(r.Aa(),1),s=n.$s(r.bi(),-1),a=re(n.kh()),o=re(n.sn());if(i!==null&&s!==null&&i.js>s.js)return{barsBefore:e.from-a,barsAfter:o-e.to};const u={barsBefore:i===null||i.js===a?e.from-a:i.js-a,barsAfter:s===null||s.js===o?o-e.to:o-s.js};return i!==null&&s!==null&&(u.from=i.Gr,u.to=s.Gr),u}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,r=!1){this.ee.wh(),this.PM.VM(this.ee,e,r),this.IM("update")}pop(e=1){const r=this.PM.BM(this.ee,e);r.length!==0&&this.IM("update");const n=_c(this.seriesType());return r.map(i=>n(i))}dataByIndex(e,r){const n=this.ee.qs().$s(e,r);return n===null?null:_c(this.seriesType())(n)}data(){const e=_c(this.seriesType());return this.ee.qs().Dh().map(r=>e(r))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Un(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const r=Er(Un(DD),e),n=this.ee.Da(r);return new D1(n)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map(e=>new D1(e))}seriesType(){return this.ee.wh()}lastValueData(e){const r=this.ee.Ve(e);return r.Be?{noData:!0}:{noData:!1,price:r.gt,color:r.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,r=re(this.ee.Qt().Kn(e));return this.RM(r)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const r=this.ee.Qt().Kn(this.ee);r!==null&&r.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class $D{constructor(e,r,n){this.EM=new ut,this.Nu=new ut,this.xw=new ut,this.ns=e,this.Jh=e.Et(),this.tg=r,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=n}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,r){r?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const r={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},n=this.Jh.cc(r);this.ns.$d(n)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){$t(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const r=this.ns.Et();return r.Gi()?null:r.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,r){const n=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(n,r)}timeToCoordinate(e){const r=this.timeToIndex(e,!1);return r===null?null:this.Jh.qt(r)}coordinateToTime(e){const r=this.ns.Et(),n=r.wc(e),i=r.es(n);return i===null?null:i.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Un(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function L1(t){return function(e){if(zu(e.handleScale)){const n=e.handleScale;e.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:i}=e.handleScale;zu(n)&&(e.handleScale.axisPressedMouseMove={time:n,price:n}),zu(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const r=e.handleScroll;zu(r)&&(e.handleScroll={horzTouchDrag:r,vertTouchDrag:r,mouseWheel:r,pressedMouseMove:r})}(t),t}class BD{constructor(e,r,n){this.OM=new Map,this.NM=new Map,this.FM=new ut,this.WM=new ut,this.HM=new ut,this.Xc=new WeakMap,this.UM=new xD(r);const i=n===void 0?Un(R1()):Er(Un(R1()),L1(n));this.$M=r,this.Yp=new dD(e,i,r),this.Yp.nw().i(a=>{this.FM.v()&&this.FM.p(this.qM(a()))},this),this.Yp.ew().i(a=>{this.WM.v()&&this.WM.p(this.qM(a()))},this),this.Yp.Md().i(a=>{this.HM.v()&&this.HM.p(this.qM(a()))},this);const s=this.Yp.Qt();this.jM=new $D(s,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,r,n){this.autoSizeActive()||this.Yp.sg(e,r,n)}addCustomSeries(e,r={},n=0){const i=(s=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...kD,...s.defaultOptions()},YM:PD,KM:s}))(Mi(e));return this.ZM(i,r,n)}addSeries(e,r={},n=0){return this.ZM(e,r,n)}removeSeries(e){const r=_r(this.OM.get(e)),n=this.UM.Hd(r);this.Yp.Qt().Hd(r),this.GM(n),this.OM.delete(e),this.NM.delete(r)}DM(e,r){this.GM(this.UM.Ug(e,r))}VM(e,r,n){this.GM(this.UM.Zg(e,r,n))}BM(e,r){const[n,i]=this.UM.Jg(e,r);return n.length!==0&&this.GM(i),n}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,r=0){return new fC(this.Yp,e,r)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(L1(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,r=!1){let n,i;try{r||(n=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),i=this.Yp.ug(e)}finally{r||n===void 0||this.Yp.Qt().cr({crosshair:{mode:n}})}return i}addPane(e=!1){const r=this.Yp.Qt().Xd();return r.O_(e),this.XM(r)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,r){this.Yp.Qt().Cd(e,r)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map(e=>this.XM(e))}paneSize(e=0){const r=this.Yp.gg(e);return{height:r.height,width:r.width}}setCrosshairPosition(e,r,n){const i=this.OM.get(n);if(i===void 0)return;const s=this.Yp.Qt().Kn(i);s!==null&&this.Yp.Qt().Ld(e,r,s)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,r={},n=0){$t(e.YM!==void 0),function(u){if(u===void 0||u.type==="custom")return;const c=u;c.minMove!==void 0&&c.precision===void 0&&(c.precision=lC(c.minMove))}(r.priceFormat),e.type==="Candlestick"&&function(u){u.borderColor!==void 0&&(u.borderUpColor=u.borderColor,u.borderDownColor=u.borderColor),u.wickColor!==void 0&&(u.wickUpColor=u.wickColor,u.wickDownColor=u.wickColor)}(r);const i=Er(Un(YM),Un(e.defaultOptions),r),s=e.YM,a=new xh(this.Yp.Qt(),e.type,i,s,e.KM);this.Yp.Qt().Fd(a,n);const o=new LD(a,this,this,this,this.$M,u=>this.XM(u));return this.OM.set(o,a),this.NM.set(a,o),o}GM(e){const r=this.Yp.Qt();r.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach((n,i)=>i.ht(n.le,n.iM)),r.Et().Ju(),r.Sc()}JM(e){return _r(this.NM.get(e))}qM(e){const r=new Map;e.Vg.forEach((i,s)=>{const a=s.wh(),o=_c(a)(i);if(a!=="Custom")$t(fD(o));else{const u=s.hl();$t(!u||u(o)===!1)}r.set(this.JM(s),o)});const n=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:n,hoveredObjectId:e.Bg,seriesData:r,sourceEvent:e.Eg}}XM(e){let r=this.Xc.get(e);return r||(r=new RD(this.Yp,n=>this.JM(n),e,this),this.Xc.set(e,r)),r}}function FD(t){if(Vl(t)){const e=document.getElementById(t);return $t(e!==null,`Cannot find element in DOM with id=${t}`),e}return t}function WD(t,e,r){const n=FD(t),i=new BD(n,e,r);return e.setOptions(i.options()),i}function UD(t,e){return WD(t,new b1,b1.pf(e))}class KD extends sy{constructor(e,r){super(e,r,!0)}mM(e,r,n){r.mc(this.aM,bl(this.lM)),e.Yo(this.aM,n,bl(this.lM))}QM(e,r){return{wt:e,gt:r,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(r=>{let n;if((r.jr??1)>1){const i=r.Wt[1],s=r.Wt[2],a=r.Wt[3];n=Math.abs(i-a)>Math.abs(s-a)?i:s}else n=r.Wt[3];return this.tb(r.js,n,e)})}}function VD(t,e,r,n,i,s,a){if(e.length===0||n.from>=e.length||n.to<=0)return;const{context:o,horizontalPixelRatio:u,verticalPixelRatio:c}=t,d=e[n.from];let h=s(t,d),f=d;if(n.to-n.from<2){const p=i/2;o.beginPath();const g={_t:d._t-p,ut:d.ut},y={_t:d._t+p,ut:d.ut};o.moveTo(g._t*u,g.ut*c),o.lineTo(y._t*u,y.ut*c),a(t,h,g,y)}else{const p=(y,_)=>{a(t,h,f,_),o.beginPath(),h=y,f=_};let g=f;o.beginPath(),o.moveTo(d._t*u,d.ut*c);for(let y=n.from+1;y<n.to;++y){g=e[y];const _=s(t,g);switch(r){case 0:o.lineTo(g._t*u,g.ut*c);break;case 1:o.lineTo(g._t*u,e[y-1].ut*c),_!==h&&(p(_,g),o.lineTo(g._t*u,e[y-1].ut*c)),o.lineTo(g._t*u,g.ut*c);break;case 2:{const[x,b]=HD(e,y-1,y);o.bezierCurveTo(x._t*u,x.ut*c,b._t*u,b.ut*c,g._t*u,g.ut*c);break}}r!==1&&_!==h&&(p(_,g),o.moveTo(g._t*u,g.ut*c))}(f!==g||f===g&&r===1)&&a(t,h,f,g)}}const $1=6;function Cp(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function B1(t,e){return{_t:t._t/e,ut:t.ut/e}}function HD(t,e,r){const n=Math.max(0,e-1),i=Math.min(t.length-1,r+1);var s,a;return[(s=t[e],a=B1(Cp(t[r],t[n]),$1),{_t:s._t+a._t,ut:s.ut+a.ut}),Cp(t[r],B1(Cp(t[i],t[e]),$1))]}function YD(t,e){const r=t.context;r.strokeStyle=e,r.stroke()}class GD extends Bs{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:r,lt:n,ib:i,sb:s,ct:a,Zt:o,nb:u}=this.rt;if(n===null)return;const c=e.context;c.lineCap="butt",c.lineWidth=a*e.verticalPixelRatio,Ps(c,o),c.lineJoin="round";const d=this.eb.bind(this);s!==void 0&&VD(e,r,s,n,i,d,YD),u&&function(h,f,p,g,y){if(g.to-g.from<=0)return;const{horizontalPixelRatio:_,verticalPixelRatio:x,context:b}=h;let S=null;const k=Math.max(1,Math.floor(_))%2/2,m=p*x+k;for(let w=g.to-1;w>=g.from;--w){const P=f[w];if(P){const C=y(h,P);C!==S&&(b.beginPath(),S!==null&&b.fill(),b.fillStyle=C,S=C);const E=Math.round(P._t*_)+k,I=P.ut*x;b.moveTo(E,I),b.arc(E,I,m,0,2*Math.PI)}}b.fill()}(e,r,u,n,d)}}class XD extends GD{eb(e,r){return r.vt}}class qD extends KD{constructor(){super(...arguments),this.cM=new XD}tb(e,r,n){return{...this.QM(e,r),...n.gh(e)}}wM(){const e=this.ee.N(),r={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(r)}}const Fu={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new qD(t,e)};class ZD extends sy{constructor(e,r){super(e,r,!1)}mM(e,r,n){r.mc(this.aM,bl(this.lM)),e.Zo(this.aM,n,bl(this.lM))}Lb(e,r,n){return{wt:e,Hr:r.Wt[0],Ur:r.Wt[1],$r:r.Wt[2],qr:r.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(r=>this.tb(r.js,r,e))}}class QD extends Bs{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(this.jt===null||this.jt.qs.length===0||this.jt.lt===null)return;const{horizontalPixelRatio:r}=e;this.Ib=function(s,a){if(s>=2.5&&s<=4)return Math.floor(3*a);const o=1-.2*Math.atan(Math.max(4,s)-4)/(.5*Math.PI),u=Math.floor(s*o*a),c=Math.floor(s*a),d=Math.min(u,c);return Math.max(Math.floor(a),d)}(this.jt.ul,r),this.Ib>=2&&Math.floor(r)%2!=this.Ib%2&&this.Ib--;const n=this.jt.qs;this.jt.zb&&this.Ob(e,n,this.jt.lt),this.jt.Mi&&this.gm(e,n,this.jt.lt);const i=this.Nb(r);(!this.jt.Mi||this.Ib>2*i)&&this.Fb(e,n,this.jt.lt)}Ob(e,r,n){if(this.jt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:a}=e;let o="",u=Math.min(Math.floor(s),Math.floor(this.jt.ul*s));u=Math.max(Math.floor(s),Math.min(u,this.Ib));const c=Math.floor(.5*u);let d=null;for(let h=n.from;h<n.to;h++){const f=r[h];f.sh!==o&&(i.fillStyle=f.sh,o=f.sh);const p=Math.round(Math.min(f.Go,f.Qo)*a),g=Math.round(Math.max(f.Go,f.Qo)*a),y=Math.round(f.Xo*a),_=Math.round(f.Jo*a);let x=Math.round(s*f._t)-c;const b=x+u-1;d!==null&&(x=Math.max(d+1,x),x=Math.min(x,b));const S=b-x+1;i.fillRect(x,y,S,p-y),i.fillRect(x,g+1,S,_-g),d=b}}Nb(e){let r=Math.floor(1*e);this.Ib<=2*r&&(r=Math.floor(.5*(this.Ib-1)));const n=Math.max(Math.floor(e),r);return this.Ib<=2*n?Math.max(Math.floor(e),Math.floor(1*e)):n}gm(e,r,n){if(this.jt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:a}=e;let o="";const u=this.Nb(s);let c=null;for(let d=n.from;d<n.to;d++){const h=r[d];h.ih!==o&&(i.fillStyle=h.ih,o=h.ih);let f=Math.round(h._t*s)-Math.floor(.5*this.Ib);const p=f+this.Ib-1,g=Math.round(Math.min(h.Go,h.Qo)*a),y=Math.round(Math.max(h.Go,h.Qo)*a);if(c!==null&&(f=Math.max(c+1,f),f=Math.min(f,p)),this.jt.ul*s>2*u)JI(i,f,g,p-f+1,y-g+1,u);else{const _=p-f+1;i.fillRect(f,g,_,y-g+1)}c=p}}Fb(e,r,n){if(this.jt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:a}=e;let o="";const u=this.Nb(s);for(let c=n.from;c<n.to;c++){const d=r[c];let h=Math.round(Math.min(d.Go,d.Qo)*a),f=Math.round(Math.max(d.Go,d.Qo)*a),p=Math.round(d._t*s)-Math.floor(.5*this.Ib),g=p+this.Ib-1;if(d.th!==o){const y=d.th;i.fillStyle=y,o=y}this.jt.Mi&&(p+=u,h+=u,g-=u,f-=u),h>f||i.fillRect(p,h,g-p+1,f-h+1)}}}class JD extends ZD{constructor(){super(...arguments),this.cM=new QD}tb(e,r,n){return{...this.Lb(e,r,n),...n.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}}const eL={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(t,e)=>new JD(t,e)};class tL{constructor(e,r){this.ee=e,this.Zh=r,this.jb()}detach(){this.ee.detachPrimitive(this.Zh)}getSeries(){return this.ee}applyOptions(e){this.Zh&&this.Zh.cr&&this.Zh.cr(e)}jb(){this.ee.attachPrimitive(this.Zh)}}const rL={autoScale:!0,zOrder:"normal"};function Jo(t,e){return ty(Math.min(Math.max(t,12),30)*e)}function Ia(t,e){switch(t){case"arrowDown":case"arrowUp":return Jo(e,1);case"circle":return Jo(e,.8);case"square":return Jo(e,.7)}}function pC(t){return function(e){const r=Math.ceil(e);return r%2!=0?r-1:r}(Jo(t,1))}function mC(t){return Math.max(Jo(t,.1),3)}function F1(t,e,r){return e?t:r?Math.ceil(t/2):0}function W1(t,e,r,n){const i=(Ia("arrowUp",n)-1)/2*r.pS,s=(ty(n/2)-1)/2*r.pS;e.beginPath(),t?(e.moveTo(r._t-i,r.ut),e.lineTo(r._t,r.ut-i),e.lineTo(r._t+i,r.ut),e.lineTo(r._t+s,r.ut),e.lineTo(r._t+s,r.ut+i),e.lineTo(r._t-s,r.ut+i),e.lineTo(r._t-s,r.ut)):(e.moveTo(r._t-i,r.ut),e.lineTo(r._t,r.ut+i),e.lineTo(r._t+i,r.ut),e.lineTo(r._t+s,r.ut),e.lineTo(r._t+s,r.ut-i),e.lineTo(r._t-s,r.ut-i),e.lineTo(r._t-s,r.ut)),e.fill()}function U1(t,e,r,n,i,s){const a=(Ia("arrowUp",n)-1)/2,o=(ty(n/2)-1)/2;return i>=e-o-2&&i<=e+o+2&&s>=(t?r:r-a)-2&&s<=(t?r+a:r)+2?!0:(()=>{if(i<e-a-3||i>e+a+3||s<(t?r-a-3:r)||s>(t?r:r+a+3))return!1;const u=Math.abs(i-e);return Math.abs(s-r)+3>=u/2})()}class nL{constructor(){this.jt=null,this.$n=new Sl,this.F=-1,this.W="",this.jv="",this.vS="normal"}ht(e){this.jt=e}qn(e,r,n){this.F===e&&this.W===r||(this.F=e,this.W=r,this.jv=wl(e,r),this.$n.On()),this.vS=n}Qn(e,r){if(this.jt===null||this.jt.lt===null)return null;for(let n=this.jt.lt.from;n<this.jt.lt.to;n++){const i=this.jt.ot[n];if(i&&sL(i,e,r))return{zOrder:"normal",externalId:i.te??""}}return null}draw(e){this.vS!=="aboveSeries"&&e.useBitmapCoordinateSpace(r=>{this.et(r)})}drawBackground(e){this.vS==="aboveSeries"&&e.useBitmapCoordinateSpace(r=>{this.et(r)})}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){if(this.jt!==null&&this.jt.lt!==null){e.textBaseline="middle",e.font=this.jv;for(let i=this.jt.lt.from;i<this.jt.lt.to;i++){const s=this.jt.ot[i];s.ri!==void 0&&(s.ri.ss=this.$n.Ii(e,s.ri.mS),s.ri.$t=this.F,s.ri._t=s._t-s.ri.ss/2),iL(s,e,r,n)}}}}function iL(t,e,r,n){e.fillStyle=t.R,t.ri!==void 0&&function(i,s,a,o,u,c){i.save(),i.scale(u,c),i.fillText(s,a,o),i.restore()}(e,t.ri.mS,t.ri._t,t.ri.ut,r,n),function(i,s,a){if(i.yh!==0){switch(i.wS){case"arrowDown":return void W1(!1,s,a,i.yh);case"arrowUp":return void W1(!0,s,a,i.yh);case"circle":return void function(o,u,c){const d=(Ia("circle",c)-1)/2;o.beginPath(),o.arc(u._t,u.ut,d*u.pS,0,2*Math.PI,!1),o.fill()}(s,a,i.yh);case"square":return void function(o,u,c){const d=Ia("square",c),h=(d-1)*u.pS/2,f=u._t-h,p=u.ut-h;o.fillRect(f,p,d*u.pS,d*u.pS)}(s,a,i.yh)}i.wS}}(t,e,function(i,s,a){const o=Math.max(1,Math.floor(s))%2/2;return{_t:Math.round(i._t*s)+o,ut:i.ut*a,pS:s}}(t,r,n))}function sL(t,e,r){return!(t.ri===void 0||!function(n,i,s,a,o,u){const c=a/2;return o>=n&&o<=n+s&&u>=i-c&&u<=i+c}(t.ri._t,t.ri.ut,t.ri.ss,t.ri.$t,e,r))||function(n,i,s){if(n.yh===0)return!1;switch(n.wS){case"arrowDown":return U1(!0,n._t,n.ut,n.yh,i,s);case"arrowUp":return U1(!1,n._t,n.ut,n.yh,i,s);case"circle":return function(a,o,u,c,d){const h=2+Ia("circle",u)/2,f=a-c,p=o-d;return Math.sqrt(f*f+p*p)<=h}(n._t,n.ut,n.yh,i,s);case"square":return function(a,o,u,c,d){const h=Ia("square",u),f=(h-1)/2,p=a-f,g=o-f;return c>=p&&c<=p+h&&d>=g&&d<=g+h}(n._t,n.ut,n.yh,i,s)}}(t,e,r)}function K1(t){return t==="atPriceTop"||t==="atPriceBottom"||t==="atPriceMiddle"}function aL(t,e,r,n,i,s,a,o){const u=function(g,y,_){if(K1(y.position)&&y.price!==void 0)return y.price;if("value"in(x=g)&&typeof x.value=="number")return g.value;var x;if(function(b){return"open"in b&&"high"in b&&"low"in b&&"close"in b}(g)){if(y.position==="inBar")return g.close;if(y.position==="aboveBar")return _?g.low:g.high;if(y.position==="belowBar")return _?g.high:g.low}}(r,e,a.priceScale().options().invertScale);if(u===void 0)return;const c=K1(e.position),d=o.timeScale(),h=Ms(e.size)?Math.max(e.size,0):1,f=pC(d.options().barSpacing)*h,p=f/2;switch(t.yh=f,e.position){case"inBar":case"atPriceMiddle":return t.ut=re(a.priceToCoordinate(u)),void(t.ri!==void 0&&(t.ri.ut=t.ut+p+s+.6*i));case"aboveBar":case"atPriceTop":{const g=c?0:n.gS;return t.ut=re(a.priceToCoordinate(u))-p-g,t.ri!==void 0&&(t.ri.ut=t.ut-p-.6*i,n.gS+=1.2*i),void(c||(n.gS+=f+s))}case"belowBar":case"atPriceBottom":{const g=c?0:n.MS;return t.ut=re(a.priceToCoordinate(u))+p+g,t.ri!==void 0&&(t.ri.ut=t.ut+p+s+.6*i,n.MS+=1.2*i),void(c||(n.MS+=f+s))}}}class oL{constructor(e,r,n){this.bS=[],this.xt=!0,this.SS=!0,this.Xt=new nL,this.ye=e,this.Lv=r,this.jt={ot:[],lt:null},this.Ps=n}renderer(){if(!this.ye.options().visible)return null;this.xt&&this.xS();const e=this.Lv.options().layout;return this.Xt.qn(e.fontSize,e.fontFamily,this.Ps.zOrder),this.Xt.ht(this.jt),this.Xt}CS(e){this.bS=e,this.kt("data")}kt(e){this.xt=!0,e==="data"&&(this.SS=!0)}yS(e){this.xt=!0,this.Ps=e}zOrder(){return this.Ps.zOrder==="aboveSeries"?"top":this.Ps.zOrder}xS(){const e=this.Lv.timeScale(),r=this.bS;this.SS&&(this.jt.ot=r.map(c=>({wt:c.time,_t:0,ut:0,yh:0,wS:c.shape,R:c.color,te:c.id,kS:c.kS,ri:void 0})),this.SS=!1);const n=this.Lv.options().layout;this.jt.lt=null;const i=e.getVisibleLogicalRange();if(i===null)return;const s=new ba(Math.floor(i.from),Math.ceil(i.to));if(this.ye.data()[0]===null||this.jt.ot.length===0)return;let a=NaN;const o=mC(e.options().barSpacing),u={gS:o,MS:o};this.jt.lt=dC(this.jt.ot,s,!0);for(let c=this.jt.lt.from;c<this.jt.lt.to;c++){const d=r[c];d.time!==a&&(u.gS=o,u.MS=o,a=d.time);const h=this.jt.ot[c];h._t=re(e.logicalToCoordinate(d.time)),d.text!==void 0&&d.text.length>0&&(h.ri={mS:d.text,_t:0,ut:0,ss:0,$t:0});const f=this.ye.dataByIndex(d.time,0);f!==null&&aL(h,d,f,u,n.fontSize,o,this.ye,this.Lv)}this.xt=!1}}function V1(t){return{...rL,...t}}class lL{constructor(e){this.$h=null,this.bS=[],this.PS=[],this.TS=null,this.ye=null,this.Lv=null,this.RS=!0,this.DS=null,this.IS=null,this.VS=null,this.BS=!0,this.Ps=V1(e)}attached(e){this.ES(),this.Lv=e.chart,this.ye=e.series,this.$h=new oL(this.ye,re(this.Lv),this.Ps),this.dS=e.requestUpdate,this.ye.subscribeDataChanged(r=>this.IM(r)),this.BS=!0,this.Jb()}Jb(){this.dS&&this.dS()}detached(){this.ye&&this.TS&&this.ye.unsubscribeDataChanged(this.TS),this.Lv=null,this.ye=null,this.$h=null,this.TS=null}CS(e){this.BS=!0,this.bS=e,this.ES(),this.RS=!0,this.IS=null,this.Jb()}AS(){return this.bS}paneViews(){return this.$h?[this.$h]:[]}updateAllViews(){this.LS()}hitTest(e,r){var n;return this.$h?((n=this.$h.renderer())==null?void 0:n.Qn(e,r))??null:null}autoscaleInfo(e,r){if(this.Ps.autoScale&&this.$h){const n=this.zS();if(n)return{priceRange:null,margins:n}}return null}cr(e){this.Ps=V1({...this.Ps,...e}),this.Jb&&this.Jb()}zS(){const e=re(this.Lv).timeScale().options().barSpacing;if(this.RS||e!==this.VS){if(this.VS=e,this.bS.length>0){const r=mC(e),n=1.5*pC(e)+2*r,i=this.OS();this.DS={above:F1(n,i.aboveBar,i.inBar),below:F1(n,i.belowBar,i.inBar)}}else this.DS=null;this.RS=!1}return this.DS}OS(){return this.IS===null&&(this.IS=this.bS.reduce((e,r)=>(e[r.position]||(e[r.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.IS}ES(){var i;if(!this.BS||!this.Lv||!this.ye)return;const e=this.Lv.timeScale(),r=(i=this.ye)==null?void 0:i.data();if(e.getVisibleLogicalRange()==null||!this.ye||r.length===0)return void(this.PS=[]);const n=e.timeToIndex(re(r[0].time),!0);this.PS=this.bS.map((s,a)=>{const o=e.timeToIndex(s.time,!0),u=o<n?1:-1,c=re(this.ye).dataByIndex(o,u),d={time:e.timeToIndex(re(c).time,!1),position:s.position,shape:s.shape,color:s.color,id:s.id,kS:a,text:s.text,size:s.size,price:s.price,Gr:s.time};if(s.position==="atPriceTop"||s.position==="atPriceBottom"||s.position==="atPriceMiddle"){if(s.price===void 0)throw new Error(`Price is required for position ${s.position}`);return{...d,position:s.position,price:s.price}}return{...d,position:s.position,price:s.price}}),this.BS=!1}LS(e){this.$h&&(this.ES(),this.$h.CS(this.PS),this.$h.yS(this.Ps),this.$h.kt(e))}IM(e){this.BS=!0,this.Jb()}}class uL extends tL{constructor(e,r,n){super(e,r),n&&this.setMarkers(n)}setMarkers(e){this.Zh.CS(e)}markers(){return this.Zh.AS()}}function cL(t,e,r){const n=new uL(t,new lL({}));return e&&n.setMarkers(e),n}({...YM});function vC(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=vC(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=vC(t))&&(n&&(n+=" "),n+=e);return n}var dL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function oy(t){if(typeof t!="string")return!1;var e=dL;return e.includes(t)}var hL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fL=new Set(hL);function gC(t){return typeof t!="string"?!1:fL.has(t)}function yC(t){return typeof t=="string"&&t.startsWith("data-")}function ir(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(gC(r)||yC(r))&&(e[r]=t[r]);return e}function Ga(t){if(t==null)return null;if(v.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ir(e)}return typeof t=="object"&&!Array.isArray(t)?ir(t):null}function Ut(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(gC(r)||yC(r)||oy(r))&&(e[r]=t[r]);return e}function pL(t){return t==null?null:v.isValidElement(t)?Ut(t.props):typeof t=="object"&&!Array.isArray(t)?Ut(t):null}var mL=["children","width","height","viewBox","className","style","title","desc"];function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tv.apply(null,arguments)}function vL(t,e){if(t==null)return{};var r,n,i=gL(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gL(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var xC=v.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:u,desc:c}=t,d=vL(t,mL),h=s||{width:n,height:i,x:0,y:0},f=ze("recharts-surface",a);return v.createElement("svg",tv({},Ut(d),{className:f,width:n,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),v.createElement("title",null,u),v.createElement("desc",null,c),r)}),yL=["children","className"];function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rv.apply(null,arguments)}function xL(t,e){if(t==null)return{};var r,n,i=_L(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _L(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var it=v.forwardRef((t,e)=>{var{children:r,className:n}=t,i=xL(t,yL),s=ze("recharts-layer",n);return v.createElement("g",rv({className:s},Ut(i),{ref:e}),r)}),bL=v.createContext(null);function Fe(t){return function(){return t}}const _C=Math.cos,td=Math.sin,mn=Math.sqrt,rd=Math.PI,bh=2*rd,nv=Math.PI,iv=2*nv,rs=1e-6,wL=iv-rs;function bC(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function SL(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bC;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class jL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bC:SL(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,u=n-e,c=i-r,d=a-e,h=o-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>rs)if(!(Math.abs(h*u-c*d)>rs)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,g=i-o,y=u*u+c*c,_=p*p+g*g,x=Math.sqrt(y),b=Math.sqrt(f),S=s*Math.tan((nv-Math.acos((y+f-_)/(2*x*b)))/2),k=S/b,m=S/x;Math.abs(k-1)>rs&&this._append`L${e+k*d},${r+k*h}`,this._append`A${s},${s},0,0,${+(h*p>d*g)},${this._x1=e+m*u},${this._y1=r+m*c}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),u=n*Math.sin(i),c=e+o,d=r+u,h=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>rs||Math.abs(this._y1-d)>rs)&&this._append`L${c},${d}`,n&&(f<0&&(f=f%iv+iv),f>wL?this._append`A${n},${n},0,1,${h},${e-o},${r-u}A${n},${n},0,1,${h},${this._x1=c},${this._y1=d}`:f>rs&&this._append`A${n},${n},0,${+(f>=nv)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ly(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new jL(e)}function uy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wC(t){this._context=t}wC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wh(t){return new wC(t)}function SC(t){return t[0]}function jC(t){return t[1]}function kC(t,e){var r=Fe(!0),n=null,i=wh,s=null,a=ly(o);t=typeof t=="function"?t:t===void 0?SC:Fe(t),e=typeof e=="function"?e:e===void 0?jC:Fe(e);function o(u){var c,d=(u=uy(u)).length,h,f=!1,p;for(n==null&&(s=i(p=a())),c=0;c<=d;++c)!(c<d&&r(h=u[c],c,u))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,c,u),+e(h,c,u));if(p)return s=null,p+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:Fe(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:Fe(+u),o):e},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Fe(!!u),o):r},o.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),o):i},o.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),o):n},o}function Wu(t,e,r){var n=null,i=Fe(!0),s=null,a=wh,o=null,u=ly(c);t=typeof t=="function"?t:t===void 0?SC:Fe(+t),e=typeof e=="function"?e:Fe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jC:Fe(+r);function c(h){var f,p,g,y=(h=uy(h)).length,_,x=!1,b,S=new Array(y),k=new Array(y);for(s==null&&(o=a(b=u())),f=0;f<=y;++f){if(!(f<y&&i(_=h[f],f,h))===x)if(x=!x)p=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=p;--g)o.point(S[g],k[g]);o.lineEnd(),o.areaEnd()}x&&(S[f]=+t(_,f,h),k[f]=+e(_,f,h),o.point(n?+n(_,f,h):S[f],r?+r(_,f,h):k[f]))}if(b)return o=null,b+""||null}function d(){return kC().defined(i).curve(a).context(s)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:Fe(+h),n=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Fe(+h),c):t},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Fe(+h),c):n},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:Fe(+h),r=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Fe(+h),c):e},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Fe(+h),c):r},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(r)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Fe(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),c):a},c.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),c):s},c}class PC{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function kL(t){return new PC(t,!0)}function PL(t){return new PC(t,!1)}const cy={draw(t,e){const r=mn(e/rd);t.moveTo(r,0),t.arc(0,0,r,0,bh)}},ML={draw(t,e){const r=mn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},MC=mn(1/3),CL=MC*2,EL={draw(t,e){const r=mn(e/CL),n=r*MC;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},AL={draw(t,e){const r=mn(e),n=-r/2;t.rect(n,n,r,r)}},OL=.8908130915292852,CC=td(rd/10)/td(7*rd/10),TL=td(bh/10)*CC,zL=-_C(bh/10)*CC,NL={draw(t,e){const r=mn(e*OL),n=TL*r,i=zL*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=bh*s/5,o=_C(a),u=td(a);t.lineTo(u*r,-o*r),t.lineTo(o*n-u*i,u*n+o*i)}t.closePath()}},Ep=mn(3),IL={draw(t,e){const r=-mn(e/(Ep*3));t.moveTo(0,r*2),t.lineTo(-Ep*r,-r),t.lineTo(Ep*r,-r),t.closePath()}},Ir=-.5,Rr=mn(3)/2,sv=1/mn(12),RL=(sv/2+1)*3,DL={draw(t,e){const r=mn(e/RL),n=r/2,i=r*sv,s=n,a=r*sv+r,o=-s,u=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,u),t.lineTo(Ir*n-Rr*i,Rr*n+Ir*i),t.lineTo(Ir*s-Rr*a,Rr*s+Ir*a),t.lineTo(Ir*o-Rr*u,Rr*o+Ir*u),t.lineTo(Ir*n+Rr*i,Ir*i-Rr*n),t.lineTo(Ir*s+Rr*a,Ir*a-Rr*s),t.lineTo(Ir*o+Rr*u,Ir*u-Rr*o),t.closePath()}};function LL(t,e){let r=null,n=ly(i);t=typeof t=="function"?t:Fe(t||cy),e=typeof e=="function"?e:Fe(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Fe(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Fe(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function nd(){}function id(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function EC(t){this._context=t}EC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:id(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:id(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $L(t){return new EC(t)}function AC(t){this._context=t}AC.prototype={areaStart:nd,areaEnd:nd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:id(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BL(t){return new AC(t)}function OC(t){this._context=t}OC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:id(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FL(t){return new OC(t)}function TC(t){this._context=t}TC.prototype={areaStart:nd,areaEnd:nd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function WL(t){return new TC(t)}function H1(t){return t<0?-1:1}function Y1(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(H1(s)+H1(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function G1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ap(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function sd(t){this._context=t}sd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ap(this,this._t0,G1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ap(this,G1(this,r=Y1(this,t,e)),r);break;default:Ap(this,this._t0,r=Y1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function zC(t){this._context=new NC(t)}(zC.prototype=Object.create(sd.prototype)).point=function(t,e){sd.prototype.point.call(this,e,t)};function NC(t){this._context=t}NC.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function UL(t){return new sd(t)}function KL(t){return new zC(t)}function IC(t){this._context=t}IC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=X1(t),i=X1(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function X1(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function VL(t){return new IC(t)}function Sh(t,e){this._context=t,this._t=e}Sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function HL(t){return new Sh(t,.5)}function YL(t){return new Sh(t,0)}function GL(t){return new Sh(t,1)}function As(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function av(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function XL(t,e){return t[e]}function qL(t){const e=[];return e.key=t,e}function ZL(){var t=Fe([]),e=av,r=As,n=XL;function i(s){var a=Array.from(t.apply(this,arguments),qL),o,u=a.length,c=-1,d;for(const h of s)for(o=0,++c;o<u;++o)(a[o][c]=[0,+n(h,a[o].key,c,s)]).data=h;for(o=0,d=uy(e(a));o<u;++o)a[d[o]].index=o;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Fe(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Fe(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?av:typeof s=="function"?s:Fe(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??As,i):r},i}function QL(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}As(t,e)}}function JL(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}As(t,e)}}function e5(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,u=0,c=0;o<a;++o){for(var d=t[e[o]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,g=0;g<o;++g){var y=t[e[g]],_=y[n][1]||0,x=y[n-1][1]||0;p+=_-x}u+=h,c+=p*h}i[n-1][1]+=i[n-1][0]=r,u&&(r-=c/u)}i[n-1][1]+=i[n-1][0]=r,As(t,e)}}var jh={},RC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(RC);var dy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(dy);var kh={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(kh);var Ph={},DC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(DC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DC,r=kh;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,u="",c="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=i[o];c?h==="\\"&&o+1<a?(o++,u+=i[o]):h===c?c="":u+=h:d?h==='"'||h==="'"?c=h:h==="]"?(d=!1,s.push(u),u=""):u+=h:h==="["?(d=!0,u&&(s.push(u),u="")):h==="."?u&&(s.push(u),u=""):u+=h,o++}return u&&s.push(u),s}t.toPath=n})(Ph);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RC,r=dy,n=kh,i=Ph;function s(o,u,c){if(o==null)return c;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return c;const d=o[u];return d===void 0?r.isDeepKey(u)?s(o,i.toPath(u),c):c:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=o[u];return d===void 0?c:d}default:{if(Array.isArray(u))return a(o,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return c;const d=o[u];return d===void 0?c:d}}}function a(o,u,c){if(u.length===0)return c;let d=o;for(let h=0;h<u.length;h++){if(d==null||e.isUnsafeProperty(u[h]))return c;d=d[u[h]]}return d===void 0?c:d}t.get=s})(jh);var t5=jh.get;const Ra=oi(t5);var r5=4;function Ci(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r5,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function tt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,s,a)=>{var o=r[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+Ci(o)+s:i+s},"")}var fr=t=>t===0?0:t>0?1:-1,hn=t=>typeof t=="number"&&t!=+t,Os=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,de=t=>(typeof t=="number"||t instanceof Number)&&!hn(t),Yr=t=>de(t)||typeof t=="string",n5=0,jl=t=>{var e=++n5;return"".concat(t||"").concat(e)},fn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&typeof e!="string")return n;var s;if(Os(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return hn(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},LC=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function Ee(t,e,r){return de(t)&&de(e)?Ci(t+r*(e-t)):e}function $C(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Ra(n,e))===r)}var i5=t=>{for(var e=t.length,r=0,n=0,i=0,s=0,a=1/0,o=-1/0,u=0,c=0,d=0;d<e;d++){var h,f;u=((h=t[d])===null||h===void 0?void 0:h.cx)||0,c=((f=t[d])===null||f===void 0?void 0:f.cy)||0,r+=u,n+=c,i+=u*c,s+=u*u,a=Math.min(a,u),o=Math.max(o,u)}var p=e*s!==r*r?(e*i-r*n)/(e*s-r*r):0;return{xmin:a,xmax:o,a:p,b:(n-p*r)/e}},Re=t=>t===null||typeof t>"u",Hl=t=>Re(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function pr(t){return t!=null}function Hi(){}var s5=["type","size","sizeType"];function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ov.apply(null,arguments)}function q1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(r),!0).forEach(function(n){a5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a5(t,e,r){return(e=o5(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o5(t){var e=l5(t,"string");return typeof e=="symbol"?e:e+""}function l5(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u5(t,e){if(t==null)return{};var r,n,i=c5(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function c5(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var BC={symbolCircle:cy,symbolCross:ML,symbolDiamond:EL,symbolSquare:AL,symbolStar:NL,symbolTriangle:IL,symbolWye:DL},d5=Math.PI/180,h5=t=>{var e="symbol".concat(Hl(t));return BC[e]||cy},f5=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*d5;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},p5=(t,e)=>{BC["symbol".concat(Hl(t))]=e},hy=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=u5(t,s5),s=Z1(Z1({},i),{},{type:e,size:r,sizeType:n}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var f=h5(a),p=LL().type(f).size(f5(r,n,a)),g=p();if(g!==null)return g},{className:u,cx:c,cy:d}=s,h=Ut(s);return de(c)&&de(d)&&de(r)?v.createElement("path",ov({},h,{className:ze("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};hy.registerSymbol=p5;var FC=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,fy=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{oy(i)&&(n[i]=s=>r[i](r,s))}),n},m5=(t,e,r)=>n=>(t(e,r,n),null),Mh=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];oy(i)&&typeof s=="function"&&(n||(n={}),n[i]=m5(s,e,r))}),n},v5=t=>Array.isArray(t)&&t.length>0;function Q1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(r),!0).forEach(function(n){y5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y5(t,e,r){return(e=x5(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x5(t){var e=_5(t,"string");return typeof e=="symbol"?e:e+""}function _5(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pt(t,e){var r=g5({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}var WC={},UC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a,s,r);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(UC);var KC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}t.ary=e})(KC);var py={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(py);var VC={},Ch={},HC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(HC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HC;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Ch);var YC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(YC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ch,r=YC;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(VC);var GC={},XC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jh;function r(n){return function(i){return e.get(i,n)}}t.property=r})(XC);var qC={},my={},ZC={},vy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(vy);var gy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(gy);var yy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.isEqualsSameValueZero=e})(yy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vy,r=gy,n=yy;function i(d,h,f){return typeof f!="function"?i(d,h,()=>{}):s(d,h,function p(g,y,_,x,b,S){const k=f(g,y,_,x,b,S);return k!==void 0?!!k:s(g,y,p,S)},new Map)}function s(d,h,f,p){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,f,p);case"function":return Object.keys(h).length>0?s(d,{...h},f,p):n.isEqualsSameValueZero(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:n.isEqualsSameValueZero(d,h)}}function a(d,h,f,p){if(h==null)return!0;if(Array.isArray(h))return u(d,h,f,p);if(h instanceof Map)return o(d,h,f,p);if(h instanceof Set)return c(d,h,f,p);const g=Object.keys(h);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(h))return p.get(h)===d;p==null||p.set(h,d);try{for(let y=0;y<g.length;y++){const _=g[y];if(!r.isPrimitive(d)&&!(_ in d)||h[_]===void 0&&d[_]!==void 0||h[_]===null&&d[_]!==null||!f(d[_],h[_],_,d,h,p))return!1}return!0}finally{p==null||p.delete(h)}}function o(d,h,f,p){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of h.entries()){const _=d.get(g);if(f(_,y,g,d,h,p)===!1)return!1}return!0}function u(d,h,f,p){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<h.length;y++){const _=h[y];let x=!1;for(let b=0;b<d.length;b++){if(g.has(b))continue;const S=d[b];let k=!1;if(f(S,_,y,d,h,p)&&(k=!0),k){g.add(b),x=!0;break}}if(!x)return!1}return!0}function c(d,h,f,p){return h.size===0?!0:d instanceof Set?u([...d],[...h],f,p):!1}t.isMatchWith=i,t.isSetMatch=c})(ZC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZC;function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(my);var QC={},xy={},JC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(JC);var Eh={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Eh);var _y={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",u="[object Map]",c="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",p="[object Object]",g="[object Error]",y="[object DataView]",_="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",S="[object Uint32Array]",k="[object BigUint64Array]",m="[object Int8Array]",w="[object Int16Array]",P="[object Int32Array]",C="[object BigInt64Array]",E="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=d,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=k,t.booleanTag=i,t.dataViewTag=y,t.dateTag=o,t.errorTag=g,t.float32ArrayTag=E,t.float64ArrayTag=I,t.functionTag=h,t.int16ArrayTag=w,t.int32ArrayTag=P,t.int8ArrayTag=m,t.mapTag=u,t.numberTag=n,t.objectTag=p,t.regexpTag=e,t.setTag=c,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=b,t.uint32ArrayTag=S,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=x})(_y);var eE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(eE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JC,r=Eh,n=_y,i=gy,s=eE;function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,f,p=new Map,g=void 0){const y=g==null?void 0:g(d,h,f,p);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const _=new Array(d.length);p.set(d,_);for(let x=0;x<d.length;x++)_[x]=o(d[x],x,f,p,g);return Object.hasOwn(d,"index")&&(_.index=d.index),Object.hasOwn(d,"input")&&(_.input=d.input),_}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const _=new RegExp(d.source,d.flags);return _.lastIndex=d.lastIndex,_}if(d instanceof Map){const _=new Map;p.set(d,_);for(const[x,b]of d)_.set(x,o(b,x,f,p,g));return _}if(d instanceof Set){const _=new Set;p.set(d,_);for(const x of d)_.add(o(x,void 0,f,p,g));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const _=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,_);for(let x=0;x<d.length;x++)_[x]=o(d[x],x,f,p,g);return _}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const _=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,_),u(_,d,f,p,g),_}if(typeof File<"u"&&d instanceof File){const _=new File([d],d.name,{type:d.type});return p.set(d,_),u(_,d,f,p,g),_}if(typeof Blob<"u"&&d instanceof Blob){const _=new Blob([d],{type:d.type});return p.set(d,_),u(_,d,f,p,g),_}if(d instanceof Error){const _=new d.constructor;return p.set(d,_),_.message=d.message,_.name=d.name,_.stack=d.stack,_.cause=d.cause,u(_,d,f,p,g),_}if(d instanceof Boolean){const _=new Boolean(d.valueOf());return p.set(d,_),u(_,d,f,p,g),_}if(d instanceof Number){const _=new Number(d.valueOf());return p.set(d,_),u(_,d,f,p,g),_}if(d instanceof String){const _=new String(d.valueOf());return p.set(d,_),u(_,d,f,p,g),_}if(typeof d=="object"&&c(d)){const _=Object.create(Object.getPrototypeOf(d));return p.set(d,_),u(_,d,f,p,g),_}return d}function u(d,h,f=d,p,g){const y=[...Object.keys(h),...e.getSymbols(h)];for(let _=0;_<y.length;_++){const x=y[_],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=o(h[x],x,f,p,g))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=u})(xy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xy;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(QC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=my,r=QC;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(qC);var tE={},rE={},nE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xy,r=Eh,n=_y;function i(s,a){return e.cloneDeepWith(s,(o,u,c,d)=>{const h=a==null?void 0:a(o,u,c,d);if(h!==void 0)return h;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const f={};return d.set(s,f),e.copyProperties(f,s,c,d),f}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return e.copyProperties(f,s),f}case n.argumentsTag:{const f={};return e.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}}})}t.cloneDeepWith=i})(nE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nE;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(rE);var iE={},by={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(by);var sE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Eh;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(sE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dy,r=by,n=sE,i=Ph;function s(a,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?u=i.toPath(o):u=[o],u.length===0)return!1;let c=a;for(let d=0;d<u.length;d++){const h=u[d];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=s})(iE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=my,r=kh,n=rE,i=jh,s=iE;function a(o,u){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(c){const d=i.get(c,o);return d===void 0?s.has(c,o):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=a})(tE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=py,r=XC,n=qC,i=tE;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(GC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UC,r=KC,n=py,i=VC,s=GC;function a(o,u=n.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),r.ary(s.iteratee(u),1)):[]}t.uniqBy=a})(WC);var b5=WC.uniqBy;const J1=oi(b5);function w5(t,e,r){return e===!0?J1(t,r):typeof e=="function"?J1(t,e):t}var aE={exports:{}},oE={},lE={exports:{}},uE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=v;function S5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var j5=typeof Object.is=="function"?Object.is:S5,k5=Da.useState,P5=Da.useEffect,M5=Da.useLayoutEffect,C5=Da.useDebugValue;function E5(t,e){var r=e(),n=k5({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return M5(function(){i.value=r,i.getSnapshot=e,Op(i)&&s({inst:i})},[t,r,e]),P5(function(){return Op(i)&&s({inst:i}),t(function(){Op(i)&&s({inst:i})})},[t]),C5(r),r}function Op(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!j5(t,r)}catch{return!0}}function A5(t,e){return e()}var O5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A5:E5;uE.useSyncExternalStore=Da.useSyncExternalStore!==void 0?Da.useSyncExternalStore:O5;lE.exports=uE;var T5=lE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=v,z5=T5;function N5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var I5=typeof Object.is=="function"?Object.is:N5,R5=z5.useSyncExternalStore,D5=Ah.useRef,L5=Ah.useEffect,$5=Ah.useMemo,B5=Ah.useDebugValue;oE.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=D5(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=$5(function(){function u(p){if(!c){if(c=!0,d=p,p=n(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return h=g}return h=p}if(g=h,I5(d,p))return g;var y=n(p);return i!==void 0&&i(g,y)?(d=p,g):(d=p,h=y)}var c=!1,d,h,f=r===void 0?null:r;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,r,n,i]);var o=R5(t,s[0],s[1]);return L5(function(){a.hasValue=!0,a.value=o},[o]),B5(o),o};aE.exports=oE;var F5=aE.exports,wy=v.createContext(null),W5=t=>t,st=()=>{var t=v.useContext(wy);return t?t.store.dispatch:W5},bc=()=>{},U5=()=>bc,K5=(t,e)=>t===e;function me(t){var e=v.useContext(wy),r=v.useMemo(()=>e?n=>{if(n!=null)return t(n)}:bc,[e,t]);return F5.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:U5,e?e.store.getState:bc,e?e.store.getState:bc,r,K5)}function V5(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function H5(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Y5(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var ew=t=>Array.isArray(t)?t:[t];function G5(t){const e=Array.isArray(t[0])?t[0]:t;return Y5(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function X5(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var q5=class{constructor(t){this.value=t}deref(){return this.value}},Z5=typeof WeakRef<"u"?WeakRef:q5,Q5=0,tw=1;function Uu(){return{s:Q5,v:void 0,o:null,p:null}}function cE(t,e={}){let r=Uu();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var h;let o=r;const{length:u}=arguments;for(let f=0,p=u;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const _=y.get(g);_===void 0?(o=Uu(),y.set(g,o)):o=_}else{let y=o.p;y===null&&(o.p=y=new Map);const _=y.get(g);_===void 0?(o=Uu(),y.set(g,o)):o=_}}const c=o;let d;if(o.s===tw)d=o.v;else if(d=t.apply(null,arguments),s++,n){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&n(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Z5(d):d}return c.s=tw,c.v=d,d}return a.clearCache=()=>{r=Uu(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function J5(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),V5(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...u},{memoize:h,memoizeOptions:f=[],argsMemoize:p=cE,argsMemoizeOptions:g=[]}=d,y=ew(f),_=ew(g),x=G5(i),b=h(function(){return s++,c.apply(null,arguments)},...y),S=p(function(){a++;const m=X5(x,arguments);return o=b.apply(null,m),o},..._);return Object.assign(S,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var F=J5(cE),e4=Object.assign((t,e=F)=>{H5(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,u)=>(a[r[u]]=o,a),{}))},{withTypes:()=>e4}),dE={},hE={},fE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(fE);var pE={},Sy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(Sy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(pE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fE,r=pE,n=Ph;function i(s,a,o,u){if(s==null)return[];o=u?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,g)=>{let y=p;for(let _=0;_<g.length&&y!=null;++_)y=y[g[_]];return y},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:c(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?c(g,p):typeof g=="object"?g[p]:g,h=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:h.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let y=0;y<h.length;y++){const _=e.compareValues(p.criteria[y],g.criteria[y],o[y]);if(_!==0)return _}return 0}).map(p=>p.original)}t.orderBy=i})(hE);var mE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,u)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&u<s?a(d,u+1):i.push(d)}};return a(r,0),i}t.flatten=e})(mE);var jy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=by,r=Ch,n=vy,i=yy;function s(a,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.isEqualsSameValueZero(u[o],a):!1}t.isIterateeCall=s})(jy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hE,r=mE,n=jy;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(dE);var t4=dE.sortBy;const Oh=oi(t4);var vE=t=>t.legend.settings,r4=t=>t.legend.size,n4=t=>t.legend.payload;F([n4,vE],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Oh(n,r):n});var Ku=1;function i4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Ku||Math.abs(a.left-e.left)>Ku||Math.abs(a.top-e.top)>Ku||Math.abs(a.width-e.width)>Ku)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function It(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var s4=typeof Symbol=="function"&&Symbol.observable||"@@observable",rw=s4,Tp=()=>Math.random().toString(36).substring(7).split("").join("."),a4={INIT:`@@redux/INIT${Tp()}`,REPLACE:`@@redux/REPLACE${Tp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tp()}`},ad=a4;function ky(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function gE(t,e,r){if(typeof t!="function")throw new Error(It(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(It(1));return r(gE)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,u=!1;function c(){a===s&&(a=new Map,s.forEach((_,x)=>{a.set(x,_)}))}function d(){if(u)throw new Error(It(3));return i}function h(_){if(typeof _!="function")throw new Error(It(4));if(u)throw new Error(It(5));let x=!0;c();const b=o++;return a.set(b,_),function(){if(x){if(u)throw new Error(It(6));x=!1,c(),a.delete(b),s=null}}}function f(_){if(!ky(_))throw new Error(It(7));if(typeof _.type>"u")throw new Error(It(8));if(typeof _.type!="string")throw new Error(It(17));if(u)throw new Error(It(9));try{u=!0,i=n(i,_)}finally{u=!1}return(s=a).forEach(b=>{b()}),_}function p(_){if(typeof _!="function")throw new Error(It(10));n=_,f({type:ad.REPLACE})}function g(){const _=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(It(11));function b(){const k=x;k.next&&k.next(d())}return b(),{unsubscribe:_(b)}},[rw](){return this}}}return f({type:ad.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:p,[rw]:g}}function o4(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:ad.INIT})>"u")throw new Error(It(12));if(typeof r(void 0,{type:ad.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(It(13))})}function yE(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{o4(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let u=!1;const c={};for(let d=0;d<n.length;d++){const h=n[d],f=r[h],p=a[h],g=f(p,o);if(typeof g>"u")throw o&&o.type,new Error(It(14));c[h]=g,u=u||g!==p}return u=u||n.length!==Object.keys(a).length,u?c:a}}function od(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function l4(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(It(15))};const a={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},o=t.map(u=>u(a));return s=od(...o)(i.dispatch),{...i,dispatch:s}}}function xE(t){return ky(t)&&"type"in t&&typeof t.type=="string"}var _E=Symbol.for("immer-nothing"),nw=Symbol.for("immer-draftable"),sr=Symbol.for("immer-state");function sn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mr=Object,La=Mr.getPrototypeOf,ld="constructor",Th="prototype",lv="configurable",ud="enumerable",wc="writable",kl="value",ei=t=>!!t&&!!t[sr];function pn(t){var e;return t?bE(t)||Nh(t)||!!t[nw]||!!((e=t[ld])!=null&&e[nw])||Ih(t)||Rh(t):!1}var u4=Mr[Th][ld].toString(),iw=new WeakMap;function bE(t){if(!t||!Py(t))return!1;const e=La(t);if(e===null||e===Mr[Th])return!0;const r=Mr.hasOwnProperty.call(e,ld)&&e[ld];if(r===Object)return!0;if(!qs(r))return!1;let n=iw.get(r);return n===void 0&&(n=Function.toString.call(r),iw.set(r,n)),n===u4}function zh(t,e,r=!0){Yl(t)===0?(r?Reflect.ownKeys(t):Mr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function Yl(t){const e=t[sr];return e?e.type_:Nh(t)?1:Ih(t)?2:Rh(t)?3:0}var sw=(t,e,r=Yl(t))=>r===2?t.has(e):Mr[Th].hasOwnProperty.call(t,e),uv=(t,e,r=Yl(t))=>r===2?t.get(e):t[e],cd=(t,e,r,n=Yl(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function c4(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Nh=Array.isArray,Ih=t=>t instanceof Map,Rh=t=>t instanceof Set,Py=t=>typeof t=="object",qs=t=>typeof t=="function",zp=t=>typeof t=="boolean";function d4(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var $n=t=>t.copy_||t.base_,My=t=>t.modified_?t.copy_:t.base_;function cv(t,e){if(Ih(t))return new Map(t);if(Rh(t))return new Set(t);if(Nh(t))return Array[Th].slice.call(t);const r=bE(t);if(e===!0||e==="class_only"&&!r){const n=Mr.getOwnPropertyDescriptors(t);delete n[sr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o[wc]===!1&&(o[wc]=!0,o[lv]=!0),(o.get||o.set)&&(n[a]={[lv]:!0,[wc]:!0,[ud]:o[ud],[kl]:t[a]})}return Mr.create(La(t),n)}else{const n=La(t);if(n!==null&&r)return{...t};const i=Mr.create(n);return Mr.assign(i,t)}}function Cy(t,e=!1){return Dh(t)||ei(t)||!pn(t)||(Yl(t)>1&&Mr.defineProperties(t,{set:Vu,add:Vu,clear:Vu,delete:Vu}),Mr.freeze(t),e&&zh(t,(r,n)=>{Cy(n,!0)},!1)),t}function h4(){sn(2)}var Vu={[kl]:h4};function Dh(t){return t===null||!Py(t)?!0:Mr.isFrozen(t)}var dd="MapSet",dv="Patches",aw="ArrayMethods",wE={};function Ts(t){const e=wE[t];return e||sn(0,t),e}var ow=t=>!!wE[t],Pl,SE=()=>Pl,f4=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ow(dd)?Ts(dd):void 0,arrayMethodsPlugin_:ow(aw)?Ts(aw):void 0});function lw(t,e){e&&(t.patchPlugin_=Ts(dv),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function hv(t){fv(t),t.drafts_.forEach(p4),t.drafts_=null}function fv(t){t===Pl&&(Pl=t.parent_)}var uw=t=>Pl=f4(Pl,t);function p4(t){const e=t[sr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[sr].modified_&&(hv(e),sn(4)),pn(t)&&(t=dw(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[sr].base_,t,e)}else t=dw(e,r);return m4(e,t,!0),hv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==_E?t:void 0}function dw(t,e){if(Dh(e))return e;const r=e[sr];if(!r)return hd(e,t.handledSet_,t);if(!Lh(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);PE(r,t)}return r.copy_}function m4(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Cy(e,r)}function jE(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Lh=(t,e)=>t.scope_===e,v4=[];function kE(t,e,r,n){const i=$n(t),s=t.type_;if(n!==void 0&&uv(i,n,s)===e){cd(i,n,r,s);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;zh(i,(u,c)=>{if(ei(c)){const d=o.get(c)||[];d.push(u),o.set(c,d)}})}const a=t.draftLocations_.get(e)??v4;for(const o of a)cd(i,o,r,s)}function g4(t,e,r){t.callbacks_.push(function(i){var o;const s=e;if(!s||!Lh(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=My(s);kE(t,s.draft_??s,a,r),PE(s,i)})}function PE(t,e){var n;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((n=t.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}jE(t)}}function y4(t,e,r){const{scope_:n}=t;if(ei(r)){const i=r[sr];Lh(i,n)&&i.callbacks_.push(function(){Sc(t);const a=My(i);kE(t,r,a,e)})}else pn(r)&&t.callbacks_.push(function(){const s=$n(t);t.type_===3?s.has(r)&&hd(r,n.handledSet_,n):uv(s,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&hd(uv(t.copy_,e,t.type_),n.handledSet_,n)})}function hd(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ei(t)||e.has(t)||!pn(t)||Dh(t)||(e.add(t),zh(t,(n,i)=>{if(ei(i)){const s=i[sr];if(Lh(s,r)){const a=My(s);cd(t,n,a,t.type_),jE(s)}}else pn(i)&&hd(i,e,r)})),t}function x4(t,e){const r=Nh(t),n={type_:r?1:0,scope_:e?e.scope_:SE(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=fd;r&&(i=[n],s=Ml);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,[o,n]}var fd={get(t,e){if(e===sr)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r!=null&&r.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const i=$n(t);if(!sw(i,e,t.type_))return _4(t,i,e);const s=i[e];if(t.finalized_||!pn(s)||n&&t.operationMethod&&(r!=null&&r.isMutatingArrayMethod(t.operationMethod))&&d4(e))return s;if(s===Np(t.base_,e)){Sc(t);const a=t.type_===1?+e:e,o=mv(t.scope_,s,t,a);return t.copy_[a]=o}return s},has(t,e){return e in $n(t)},ownKeys(t){return Reflect.ownKeys($n(t))},set(t,e,r){const n=ME($n(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Np($n(t),e),s=i==null?void 0:i[sr];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(c4(r,i)&&(r!==void 0||sw(t.base_,e,t.type_)))return!0;Sc(t),pv(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),y4(t,e,r)),!0},deleteProperty(t,e){return Sc(t),Np(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),pv(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=$n(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[wc]:!0,[lv]:t.type_!==1||e!=="length",[ud]:n[ud],[kl]:r[e]}},defineProperty(){sn(11)},getPrototypeOf(t){return La(t.base_)},setPrototypeOf(){sn(12)}},Ml={};for(let t in fd){let e=fd[t];Ml[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}Ml.deleteProperty=function(t,e){return Ml.set.call(this,t,e,void 0)};Ml.set=function(t,e,r){return fd.set.call(this,t[0],e,r,t[0])};function Np(t,e){const r=t[sr];return(r?$n(r):t)[e]}function _4(t,e,r){var i;const n=ME(e,r);return n?kl in n?n[kl]:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function ME(t,e){if(!(e in t))return;let r=La(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=La(r)}}function pv(t){t.modified_||(t.modified_=!0,t.parent_&&pv(t.parent_))}function Sc(t){t.copy_||(t.assigned_=new Map,t.copy_=cv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var b4=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(qs(r)&&!qs(n)){const a=n;n=r;const o=this;return function(c=a,...d){return o.produce(c,h=>n.call(this,h,...d))}}qs(n)||sn(6),i!==void 0&&!qs(i)&&sn(7);let s;if(pn(r)){const a=uw(this),o=mv(a,r,void 0);let u=!0;try{s=n(o),u=!1}finally{u?hv(a):fv(a)}return lw(a,i),cw(s,a)}else if(!r||!Py(r)){if(s=n(r),s===void 0&&(s=r),s===_E&&(s=void 0),this.autoFreeze_&&Cy(s,!0),i){const a=[],o=[];Ts(dv).generateReplacementPatches_(r,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else sn(1,r)},this.produceWithPatches=(r,n)=>{if(qs(r))return(o,...u)=>this.produceWithPatches(o,c=>r(c,...u));let i,s;return[this.produce(r,n,(o,u)=>{i=o,s=u}),i,s]},zp(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),zp(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),zp(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){pn(e)||sn(8),ei(e)&&(e=cn(e));const r=uw(this),n=mv(r,e,void 0);return n[sr].isManual_=!0,fv(r),n}finishDraft(e,r){const n=e&&e[sr];(!n||!n.isManual_)&&sn(9);const{scope_:i}=n;return lw(i,r),cw(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const i=Ts(dv).applyPatches_;return ei(e)?i(e,r):this.produce(e,s=>i(s,r))}};function mv(t,e,r,n){const[i,s]=Ih(e)?Ts(dd).proxyMap_(e,r):Rh(e)?Ts(dd).proxySet_(e,r):x4(e,r);return((r==null?void 0:r.scope_)??SE()).drafts_.push(i),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?g4(r,s,n):s.callbacks_.push(function(u){var d;(d=u.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:c}=u;s.modified_&&c&&c.generatePatches_(s,[],u)}),i}function cn(t){return ei(t)||sn(10,t),CE(t)}function CE(t){if(!pn(t)||Dh(t))return t;const e=t[sr];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=cv(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=cv(t,!0);return zh(r,(i,s)=>{cd(r,i,CE(s))},n),e&&(e.finalized_=!1),r}var w4=new b4,EE=w4.produce;function AE(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var S4=AE(),j4=AE,k4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?od:od.apply(null,arguments)};function Gr(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Ar(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>xE(n)&&n.type===t,r}var OE=class Ro extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ro.prototype)}static get[Symbol.species](){return Ro}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ro(...e[0].concat(this)):new Ro(...e.concat(this))}};function hw(t){return pn(t)?EE(t,()=>{}):t}function Hu(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function P4(t){return typeof t=="boolean"}var M4=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new OE;return r&&(P4(r)?a.push(S4):a.push(j4(r.extraArgument))),a},TE="RTK_autoBatch",Ge=()=>t=>({payload:t,meta:{[TE]:!0}}),fw=t=>e=>{setTimeout(e,t)},zE=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fw(10):t.type==="callback"?t.queueNotification:fw(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>i&&d(),f=n.subscribe(h);return o.add(d),()=>{f(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[TE]),s=!i,s&&(a||(a=!0,u(c))),n.dispatch(d)}finally{i=!0}}})},C4=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new OE(t);return n&&i.push(zE(typeof n=="object"?n:void 0)),i};function E4(t){const e=M4(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(ky(r))o=yE(r);else throw new Error(Ar(1));let u;typeof n=="function"?u=n(e):u=e();let c=od;i&&(c=k4({trace:!1,...typeof i=="object"&&i}));const d=l4(...u),h=C4(d);let f=typeof a=="function"?a(h):h();const p=c(...f);return gE(o,s,p)}function NE(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Ar(28));if(o in e)throw new Error(Ar(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function A4(t){return typeof t=="function"}function O4(t,e){let[r,n,i]=NE(e),s;if(A4(t))s=()=>hw(t());else{const o=hw(t);s=()=>o}function a(o=s(),u){let c=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(ei(d)){const p=h(d,u);return p===void 0?d:p}else{if(pn(d))return EE(d,f=>h(f,u));{const f=h(d,u);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},o)}return a.getInitialState=s,a}var T4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",z4=(t=21)=>{let e="",r=t;for(;r--;)e+=T4[Math.random()*64|0];return e},N4=Symbol.for("rtk-slice-createasyncthunk");function I4(t,e){return`${t}/${e}`}function R4({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[N4];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Ar(11));const o=(typeof i.reducers=="function"?i.reducers(L4()):i.reducers)||{},u=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,m){const w=typeof k=="string"?k:k.type;if(!w)throw new Error(Ar(12));if(w in c.sliceCaseReducersByType)throw new Error(Ar(13));return c.sliceCaseReducersByType[w]=m,d},addMatcher(k,m){return c.sliceMatchers.push({matcher:k,reducer:m}),d},exposeAction(k,m){return c.actionCreators[k]=m,d},exposeCaseReducer(k,m){return c.sliceCaseReducersByName[k]=m,d}};u.forEach(k=>{const m=o[k],w={reducerName:k,type:I4(s,k),createNotation:typeof i.reducers=="function"};B4(m)?W4(w,m,d,e):$4(w,m,d)});function h(){const[k={},m=[],w=void 0]=typeof i.extraReducers=="function"?NE(i.extraReducers):[i.extraReducers],P={...k,...c.sliceCaseReducersByType};return O4(i.initialState,C=>{for(let E in P)C.addCase(E,P[E]);for(let E of c.sliceMatchers)C.addMatcher(E.matcher,E.reducer);for(let E of m)C.addMatcher(E.matcher,E.reducer);w&&C.addDefaultCase(w)})}const f=k=>k,p=new Map,g=new WeakMap;let y;function _(k,m){return y||(y=h()),y(k,m)}function x(){return y||(y=h()),y.getInitialState()}function b(k,m=!1){function w(C){let E=C[k];return typeof E>"u"&&m&&(E=Hu(g,w,x)),E}function P(C=f){const E=Hu(p,m,()=>new WeakMap);return Hu(E,C,()=>{const I={};for(const[D,z]of Object.entries(i.selectors??{}))I[D]=D4(z,C,()=>Hu(g,C,x),m);return I})}return{reducerPath:k,getSelectors:P,get selectors(){return P(w)},selectSlice:w}}const S={name:s,reducer:_,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(a),injectInto(k,{reducerPath:m,...w}={}){const P=m??a;return k.inject({reducerPath:P,reducer:_},w),{...S,...b(P,!0)}}};return S}}function D4(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var br=R4();function L4(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function $4({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!F4(n))throw new Error(Ar(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Gr(t,a):Gr(t))}function B4(t){return t._reducerDefinitionType==="asyncThunk"}function F4(t){return t._reducerDefinitionType==="reducerWithPrepare"}function W4({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Ar(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:u,settled:c,options:d}=r,h=i(t,s,d);n.exposeAction(e,h),a&&n.addCase(h.fulfilled,a),o&&n.addCase(h.pending,o),u&&n.addCase(h.rejected,u),c&&n.addMatcher(h.settled,c),n.exposeCaseReducer(e,{fulfilled:a||Yu,pending:o||Yu,rejected:u||Yu,settled:c||Yu})}function Yu(){}var U4="task",IE="listener",RE="completed",Ey="cancelled",K4=`task-${Ey}`,V4=`task-${RE}`,vv=`${IE}-${Ey}`,H4=`${IE}-${RE}`,$h=class{constructor(t){$f(this,"name","TaskAbortError");$f(this,"message");this.code=t,this.message=`${U4} ${Ey} (reason: ${t})`}},Ay=(t,e)=>{if(typeof t!="function")throw new TypeError(Ar(32))},pd=()=>{},DE=(t,e=pd)=>(t.catch(e),t),LE=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),vs=t=>{if(t.aborted)throw new $h(t.reason)};function $E(t,e){let r=pd;return new Promise((n,i)=>{const s=()=>i(new $h(t.reason));if(t.aborted){s();return}r=LE(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=pd})}var Y4=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof $h?"cancelled":"rejected",error:r}}finally{e==null||e()}},md=t=>e=>DE($E(t,e).then(r=>(vs(t),r))),BE=t=>{const e=md(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Sa}=Object,pw={},Bh="listenerMiddleware",G4=(t,e)=>{const r=n=>LE(t,()=>n.abort(t.reason));return(n,i)=>{Ay(n);const s=new AbortController;r(s);const a=Y4(async()=>{vs(t),vs(s.signal);const o=await n({pause:md(s.signal),delay:BE(s.signal),signal:s.signal});return vs(s.signal),o},()=>s.abort(V4));return i!=null&&i.autoJoin&&e.push(a.catch(pd)),{result:md(t)(a),cancel(){s.abort(K4)}}}},X4=(t,e)=>{const r=async(n,i)=>{vs(e);let s=()=>{};const o=[new Promise((u,c)=>{let d=t({predicate:n,effect:(h,f)=>{f.unsubscribe(),u([h,f.getState(),f.getOriginalState()])}});s=()=>{d(),c()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await $E(e,Promise.race(o));return vs(e),u}finally{s()}};return(n,i)=>DE(r(n,i))},FE=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=Gr(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ar(21));return Ay(s),{predicate:i,type:e,effect:s}},WE=Sa(t=>{const{type:e,predicate:r,effect:n}=FE(t);return{id:z4(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ar(22))}}},{withTypes:()=>WE}),mw=(t,e)=>{const{type:r,effect:n,predicate:i}=FE(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},gv=t=>{t.pending.forEach(e=>{e.abort(vv)})},q4=(t,e)=>()=>{for(const r of e.keys())gv(r);t.clear()},vw=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},UE=Sa(Gr(`${Bh}/add`),{withTypes:()=>UE}),Z4=Gr(`${Bh}/removeAll`),KE=Sa(Gr(`${Bh}/remove`),{withTypes:()=>KE}),Q4=(...t)=>{console.error(`${Bh}/error`,...t)},Gl=(t={})=>{const e=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},i=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:s,onError:a=Q4}=t;Ay(a);const o=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&gv(p)}),u=p=>{const g=mw(e,p)??WE(p);return o(g)};Sa(u,{withTypes:()=>u});const c=p=>{const g=mw(e,p);return g&&(g.unsubscribe(),p.cancelActive&&gv(g)),!!g};Sa(c,{withTypes:()=>c});const d=async(p,g,y,_)=>{const x=new AbortController,b=X4(u,x.signal),S=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(g,Sa({},y,{getOriginalState:_,condition:(k,m)=>b(k,m).then(Boolean),take:b,delay:BE(x.signal),pause:md(x.signal),extra:s,signal:x.signal,fork:G4(x.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((k,m,w)=>{k!==x&&(k.abort(vv),w.delete(k))})},cancel:()=>{x.abort(vv),p.pending.delete(x)},throwIfCancelled:()=>{vs(x.signal)}})))}catch(k){k instanceof $h||vw(a,k,{raisedBy:"effect"})}finally{await Promise.all(S),x.abort(H4),i(p),p.pending.delete(x)}},h=q4(e,r);return{middleware:p=>g=>y=>{if(!xE(y))return g(y);if(UE.match(y))return u(y.payload);if(Z4.match(y)){h();return}if(KE.match(y))return c(y.payload);let _=p.getState();const x=()=>{if(_===pw)throw new Error(Ar(23));return _};let b;try{if(b=g(y),e.size>0){const S=p.getState(),k=Array.from(e.values());for(const m of k){let w=!1;try{w=m.predicate(y,S,_)}catch(P){w=!1,vw(a,P,{raisedBy:"predicate"})}w&&d(m,y,p,x)}}}finally{_=pw}return b},startListening:u,stopListening:c,clearListeners:h}};function Ar(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var J4={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},VE=br({name:"chartLayout",initialState:J4,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,s;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:e3,setLayout:t3,setChartSize:r3,setScale:n3}=VE.actions,i3=VE.reducer;function HE(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function xe(t){return Number.isFinite(t)}function On(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function gw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gw(Object(r),!0).forEach(function(n){s3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s3(t,e,r){return(e=a3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a3(t){var e=o3(t,"string");return typeof e=="symbol"?e:e+""}function o3(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ue(t,e,r){return Re(t)||Re(e)?r:Yr(e)?Ra(t,e,r):typeof e=="function"?e(t):r}var l3=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&de(t[s]))return da(da({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&de(t[a]))return da(da({},t),{},{[a]:t[a]+(i||0)})}return t},vn=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",YE=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},GE=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:u,categoricalDomain:c,tickCount:d,ticks:h,niceTicks:f,axisType:p}=t;if(!a)return null;var g=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(y=p==="angleAxis"&&s&&s.length>=2?fr(s[0]-s[1])*2*y:y,h||f){var _=(h||f||[]).map((x,b)=>{var S=n?n.indexOf(x):x,k=a.map(S);return xe(k)?{coordinate:k+y,value:x,offset:y,index:b}:null}).filter(pr);return _}return u&&c?c.map((x,b)=>{var S=a.map(x);return xe(S)?{coordinate:S+y,value:x,index:b,offset:y}:null}).filter(pr):a.ticks&&d!=null?a.ticks(d).map((x,b)=>{var S=a.map(x);return xe(S)?{coordinate:S+y,value:x,index:b,offset:y}:null}).filter(pr):a.domain().map((x,b)=>{var S=a.map(x);return xe(S)?{coordinate:S+y,value:n?n[x]:x,index:b,offset:y}:null}).filter(pr)},u3=(t,e)=>{if(!e||e.length!==2||!de(e[0])||!de(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!de(t[0])||t[0]<r)&&(i[0]=r),(!de(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},c3=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0,o=0;o<r;++o){var u=t[o],c=u==null?void 0:u[i];if(c!=null){var d=c[1],h=c[0],f=hn(d)?h:d;f>=0?(c[0]=s,s+=f,c[1]=s):(c[0]=a,a+=f,c[1]=a)}}}},d3=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0;a<r;++a){var o=t[a],u=o==null?void 0:o[i];if(u!=null){var c=hn(u[1])?u[0]:u[1];c>=0?(u[0]=s,s+=c,u[1]=s):(u[0]=0,u[1]=0)}}}},h3={sign:c3,expand:QL,none:As,silhouette:JL,wiggle:e5,positive:d3},f3=(t,e,r)=>{var n,i=(n=h3[r])!==null&&n!==void 0?n:As,s=ZL().keys(e).value((o,u)=>Number(Ue(o,u,0))).order(av).offset(i),a=s(t);return a.forEach((o,u)=>{o.forEach((c,d)=>{var h=Ue(t[d],e[u],0);Array.isArray(h)&&h.length===2&&de(h[0])&&de(h[1])&&(c[0]=h[0],c[1]=h[1])})}),a};function XE(t){return t==null?void 0:String(t)}function $a(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Re(i[e.dataKey])){var o=$C(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var u=Ue(i,Re(a)?e.dataKey:a),c=e.scale.map(u);return de(c)?c:null}var yw=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var o=Ue(s,e.dataKey,e.scale.domain()[a]);if(Re(o))return null;var u=e.scale.map(o);return de(u)?u-i/2+n:null},p3=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},m3=t=>{var e=t.flat(2).filter(de);return[Math.min(...e),Math.max(...e)]},v3=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],g3=(t,e,r)=>{if(t!=null)return v3(Object.keys(t).reduce((n,i)=>{var s=t[i];if(!s)return n;var{stackedData:a}=s,o=a.reduce((u,c)=>{var d=HE(c,e,r),h=m3(d);return!xe(h[0])||!xe(h[1])?u:[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},xw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_w=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fi=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Oh(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var u=i[a],c=i[a-1];s=Math.min(((u==null?void 0:u.coordinate)||0)-((c==null?void 0:c.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function bw(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return da(da({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Yi(t,e){if(t)return String(t);if(typeof e=="string")return e}var y3=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},x3=(t,e)=>e==="centric"?t.angle:t.radius,ui=t=>t.layout.width,ci=t=>t.layout.height,_3=t=>t.layout.scale,qE=t=>t.layout.margin,Fh=F(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Wh=F(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),b3="data-recharts-item-index",ZE="data-recharts-item-id",Xl=60;function ww(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(r),!0).forEach(function(n){w3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w3(t,e,r){return(e=S3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S3(t){var e=j3(t,"string");return typeof e=="symbol"?e:e+""}function j3(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k3=t=>t.brush.height;function P3(t){var e=Wh(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Xl;return r+i}return r},0)}function M3(t){var e=Wh(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Xl;return r+i}return r},0)}function C3(t){var e=Fh(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function E3(t){var e=Fh(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ct=F([ui,ci,qE,k3,P3,M3,C3,E3,vE,r4],(t,e,r,n,i,s,a,o,u,c)=>{var d={left:(r.left||0)+i,right:(r.right||0)+s},h={top:(r.top||0)+a,bottom:(r.bottom||0)+o},f=Gu(Gu({},h),d),p=f.bottom;f.bottom+=n,f=l3(f,u,c);var g=t-f.left-f.right,y=e-f.top-f.bottom;return Gu(Gu({brushBottom:p},f),{},{width:Math.max(g,0),height:Math.max(y,0)})}),A3=F(Ct,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Oy=F(ui,ci,(t,e)=>({x:0,y:0,width:t,height:e})),O3=v.createContext(null),ct=()=>v.useContext(O3)!=null,Uh=t=>t.brush,Kh=F([Uh,Ct,qE],(t,e,r)=>({height:t.height,x:de(t.x)?t.x:e.left,y:de(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:de(t.width)?t.width:e.width})),QE={},JE={},e2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const u=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),d=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},h=()=>{c&&d(),y()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},n)},g=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{g(),a=void 0,o=null},_=()=>{d()},x=function(...b){if(i!=null&&i.aborted)return;a=this,o=b;const S=f==null;p(),u&&S&&d()};return x.schedule=p,x.cancel=y,x.flush=_,i==null||i.addEventListener("abort",y,{once:!0}),x}t.debounce=e})(e2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e2;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:u}=s,c=Array(2);a&&(c[0]="leading"),o&&(c[1]="trailing");let d,h=null;const f=e.debounce(function(...y){d=n.apply(this,y),h=null},i,{edges:c}),p=function(...y){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(d=n.apply(this,y),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,y),d)},g=()=>(f.flush(),d);return p.cancel=f.cancel,p.flush=g,p}t.debounce=r})(JE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JE;function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(QE);var T3=QE.throttle;const z3=oi(T3);var vd=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(r.replace(/%s/g,()=>i[a++]))}},Pn={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},t2=(t,e,r)=>{var{width:n=Pn.width,height:i=Pn.height,aspect:s,maxHeight:a}=r,o=Os(n)?t:Number(n),u=Os(i)?e:Number(i);return s&&s>0&&(o?u=o/s:u&&(o=u*s),a&&u!=null&&u>a&&(u=a)),{calculatedWidth:o,calculatedHeight:u}},N3={width:0,height:0,overflow:"visible"},I3={width:0,overflowX:"visible"},R3={height:0,overflowY:"visible"},D3={},L3=t=>{var{width:e,height:r}=t,n=Os(e),i=Os(r);return n&&i?N3:n?I3:i?R3:D3};function $3(t){var{width:e,height:r,aspect:n}=t,i=e,s=r;return i===void 0&&s===void 0?(i=Pn.width,s=Pn.height):i===void 0?i=n&&n>0?void 0:Pn.width:s===void 0&&(s=n&&n>0?void 0:Pn.height),{width:i,height:s}}function yv(){return yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yv.apply(null,arguments)}function Sw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sw(Object(r),!0).forEach(function(n){B3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B3(t,e,r){return(e=F3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F3(t){var e=W3(t,"string");return typeof e=="symbol"?e:e+""}function W3(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r2=v.createContext(Pn.initialDimension);function U3(t){return On(t.width)&&On(t.height)}function n2(t){var{children:e,width:r,height:n}=t,i=v.useMemo(()=>({width:r,height:n}),[r,n]);return U3(i)?v.createElement(r2.Provider,{value:i},e):null}var Ty=()=>v.useContext(r2),K3=v.forwardRef((t,e)=>{var{aspect:r,initialDimension:n=Pn.initialDimension,width:i,height:s,minWidth:a=Pn.minWidth,minHeight:o,maxHeight:u,children:c,debounce:d=Pn.debounce,id:h,className:f,onResize:p,style:g={}}=t,y=v.useRef(null),_=v.useRef();_.current=p,v.useImperativeHandle(e,()=>y.current);var[x,b]=v.useState({containerWidth:n.width,containerHeight:n.height}),S=v.useCallback((C,E)=>{b(I=>{var D=Math.round(C),z=Math.round(E);return I.containerWidth===D&&I.containerHeight===z?I:{containerWidth:D,containerHeight:z}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Hi;var C=z=>{var X,Z=z[0];if(Z!=null){var{width:H,height:oe}=Z.contentRect;S(H,oe),(X=_.current)===null||X===void 0||X.call(_,H,oe)}};d>0&&(C=z3(C,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(C),{width:I,height:D}=y.current.getBoundingClientRect();return S(I,D),E.observe(y.current),()=>{E.disconnect()}},[S,d]);var{containerWidth:k,containerHeight:m}=x;vd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:w,calculatedHeight:P}=t2(k,m,{width:i,height:s,aspect:r,maxHeight:u});return vd(w!=null&&w>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,w,P,i,s,a,o,r),v.createElement("div",{id:h?"".concat(h):void 0,className:ze("recharts-responsive-container",f),style:jw(jw({},g),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:u}),ref:y},v.createElement("div",{style:L3({width:i,height:s})},v.createElement(n2,{width:w,height:P},c)))}),Dr=v.forwardRef((t,e)=>{var r=Ty();if(On(r.width)&&On(r.height))return t.children;var{width:n,height:i}=$3({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=t2(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return de(s)&&de(a)?v.createElement(n2,{width:s,height:a},t.children):v.createElement(K3,yv({},t,{width:n,height:i,ref:e}))});function zy(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Xa=()=>{var t,e=ct(),r=me(A3),n=me(Kh),i=(t=me(Uh))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},V3={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},i2=()=>{var t;return(t=me(Ct))!==null&&t!==void 0?t:V3},s2=()=>me(ui),a2=()=>me(ci),Oe=t=>t.layout.layoutType,Gi=()=>me(Oe),Ny=()=>{var t=Gi();if(t==="horizontal"||t==="vertical")return t},o2=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},H3=()=>{var t=Gi();return t!==void 0},ql=t=>{var e=st(),r=ct(),{width:n,height:i}=t,s=Ty(),a=n,o=i;return s&&(a=s.width>0?s.width:n,o=s.height>0?s.height:i),v.useEffect(()=>{!r&&On(a)&&On(o)&&e(r3({width:a,height:o}))},[e,r,a,o]),null},l2=Symbol.for("immer-nothing"),kw=Symbol.for("immer-draftable"),Tr=Symbol.for("immer-state");function an(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Cl=Object.getPrototypeOf;function Ba(t){return!!t&&!!t[Tr]}function zs(t){var e;return t?u2(t)||Array.isArray(t)||!!t[kw]||!!((e=t.constructor)!=null&&e[kw])||Zl(t)||Hh(t):!1}var Y3=Object.prototype.constructor.toString(),Pw=new WeakMap;function u2(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Pw.get(r);return n===void 0&&(n=Function.toString.call(r),Pw.set(r,n)),n===Y3}function gd(t,e,r=!0){Vh(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function Vh(t){const e=t[Tr];return e?e.type_:Array.isArray(t)?1:Zl(t)?2:Hh(t)?3:0}function xv(t,e){return Vh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function c2(t,e,r){const n=Vh(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function G3(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Zl(t){return t instanceof Map}function Hh(t){return t instanceof Set}function ns(t){return t.copy_||t.base_}function _v(t,e){if(Zl(t))return new Map(t);if(Hh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=u2(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Tr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Cl(t),n)}else{const n=Cl(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function Iy(t,e=!1){return Yh(t)||Ba(t)||!zs(t)||(Vh(t)>1&&Object.defineProperties(t,{set:Xu,add:Xu,clear:Xu,delete:Xu}),Object.freeze(t),e&&Object.values(t).forEach(r=>Iy(r,!0))),t}function X3(){an(2)}var Xu={value:X3};function Yh(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var q3={};function Ns(t){const e=q3[t];return e||an(0,t),e}var El;function d2(){return El}function Z3(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Mw(t,e){e&&(Ns("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bv(t){wv(t),t.drafts_.forEach(Q3),t.drafts_=null}function wv(t){t===El&&(El=t.parent_)}function Cw(t){return El=Z3(El,t)}function Q3(t){const e=t[Tr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Ew(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Tr].modified_&&(bv(e),an(4)),zs(t)&&(t=yd(e,t),e.parent_||xd(e,t)),e.patches_&&Ns("Patches").generateReplacementPatches_(r[Tr].base_,t,e.patches_,e.inversePatches_)):t=yd(e,r,[]),bv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==l2?t:void 0}function yd(t,e,r){if(Yh(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[Tr];if(!i)return gd(e,(s,a)=>Aw(t,i,e,s,a,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return xd(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),gd(a,(u,c)=>Aw(t,i,s,u,c,r,o),n),xd(t,s,!1),r&&t.patches_&&Ns("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function Aw(t,e,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=Yh(i);if(!(o&&!a)){if(Ba(i)){const u=s&&e&&e.type_!==3&&!xv(e.assigned_,n)?s.concat(n):void 0,c=yd(t,i,u);if(c2(r,n,c),Ba(c))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(zs(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;yd(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Zl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&xd(t,i)}}}function xd(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Iy(e,r)}function J3(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:d2(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Ry;r&&(i=[n],s=Al);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var Ry={get(t,e){if(e===Tr)return t;const r=ns(t);if(!xv(r,e))return e$(t,r,e);const n=r[e];return t.finalized_||!zs(n)?n:n===Ip(t.base_,e)?(Rp(t),t.copy_[e]=jv(n,t)):n},has(t,e){return e in ns(t)},ownKeys(t){return Reflect.ownKeys(ns(t))},set(t,e,r){const n=h2(ns(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Ip(ns(t),e),s=i==null?void 0:i[Tr];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(G3(r,i)&&(r!==void 0||xv(t.base_,e)))return!0;Rp(t),Sv(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ip(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Rp(t),Sv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=ns(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){an(11)},getPrototypeOf(t){return Cl(t.base_)},setPrototypeOf(){an(12)}},Al={};gd(Ry,(t,e)=>{Al[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Al.deleteProperty=function(t,e){return Al.set.call(this,t,e,void 0)};Al.set=function(t,e,r){return Ry.set.call(this,t[0],e,r,t[0])};function Ip(t,e){const r=t[Tr];return(r?ns(r):t)[e]}function e$(t,e,r){var i;const n=h2(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function h2(t,e){if(!(e in t))return;let r=Cl(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Cl(r)}}function Sv(t){t.modified_||(t.modified_=!0,t.parent_&&Sv(t.parent_))}function Rp(t){t.copy_||(t.copy_=_v(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var t$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(u=s,...c){return a.produce(u,d=>r.call(this,d,...c))}}typeof r!="function"&&an(6),n!==void 0&&typeof n!="function"&&an(7);let i;if(zs(e)){const s=Cw(this),a=jv(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?bv(s):wv(s)}return Mw(s,n),Ew(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===l2&&(i=void 0),this.autoFreeze_&&Iy(i,!0),n){const s=[],a=[];Ns("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else an(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,u=>e(u,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){zs(t)||an(8),Ba(t)&&(t=r$(t));const e=Cw(this),r=jv(t,void 0);return r[Tr].isManual_=!0,wv(e),r}finishDraft(t,e){const r=t&&t[Tr];(!r||!r.isManual_)&&an(9);const{scope_:n}=r;return Mw(n,e),Ew(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Ns("Patches").applyPatches_;return Ba(t)?n(t,e):this.produce(t,i=>n(i,e))}};function jv(t,e){const r=Zl(t)?Ns("MapSet").proxyMap_(t,e):Hh(t)?Ns("MapSet").proxySet_(t,e):J3(t,e);return(e?e.scope_:d2()).drafts_.push(r),r}function r$(t){return Ba(t)||an(10,t),f2(t)}function f2(t){if(!zs(t)||Yh(t))return t;const e=t[Tr];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=_v(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=_v(t,!0);return gd(r,(i,s)=>{c2(r,i,f2(s))},n),e&&(e.finalized_=!1),r}var n$=new t$;n$.produce;var i$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},p2=br({name:"legend",initialState:i$,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ge()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=cn(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:Ge()},removeLegendPayload:{reducer(t,e){var r=cn(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Ge()}}}),{setLegendSize:wZ,setLegendSettings:SZ,addLegendPayload:s$,replaceLegendPayload:a$,removeLegendPayload:o$}=p2.actions,l$=p2.reducer;function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kv.apply(null,arguments)}function Ow(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function So(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ow(Object(r),!0).forEach(function(n){u$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u$(t,e,r){return(e=c$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c$(t){var e=d$(t,"string");return typeof e=="symbol"?e:e+""}function d$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h$(t){return Array.isArray(t)&&Yr(t[0])&&Yr(t[1])?t.join(" ~ "):t}var Hs={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},f$=t=>{var{separator:e=Hs.separator,contentStyle:r,itemStyle:n,labelStyle:i=Hs.labelStyle,payload:s,formatter:a,itemSorter:o,wrapperClassName:u,labelClassName:c,label:d,labelFormatter:h,accessibilityLayer:f=Hs.accessibilityLayer}=t,p=()=>{if(s&&s.length){var m={padding:0,margin:0},w=(o?Oh(s,o):s).map((P,C)=>{if(P.type==="none")return null;var E=P.formatter||a||h$,{value:I,name:D}=P,z=I,X=D;if(E){var Z=E(I,D,P,C,s);if(Array.isArray(Z))[z,X]=Z;else if(Z!=null)z=Z;else return null}var H=So(So({},Hs.itemStyle),{},{color:P.color||Hs.itemStyle.color},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:H},Yr(X)?v.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Yr(X)?v.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,v.createElement("span",{className:"recharts-tooltip-item-value"},z),v.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:m},w)}return null},g=So(So({},Hs.contentStyle),r),y=So({margin:0},i),_=!Re(d),x=_?d:"",b=ze("recharts-default-tooltip",u),S=ze("recharts-tooltip-label",c);_&&h&&s!==void 0&&s!==null&&(x=h(d,s));var k=f?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",kv({className:b,style:g},k),v.createElement("p",{className:S,style:y},v.isValidElement(x)?x:"".concat(x)),p())},jo="recharts-tooltip-wrapper",p$={visibility:"hidden"};function m$(t){var{coordinate:e,translateX:r,translateY:n}=t;return ze(jo,{["".concat(jo,"-right")]:de(r)&&e&&de(e.x)&&r>=e.x,["".concat(jo,"-left")]:de(r)&&e&&de(e.x)&&r<e.x,["".concat(jo,"-bottom")]:de(n)&&e&&de(e.y)&&n>=e.y,["".concat(jo,"-top")]:de(n)&&e&&de(e.y)&&n<e.y})}function Tw(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offset:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:u,viewBoxDimension:c}=t;if(s&&de(s[n]))return s[n];var d=r[n]-o-(i>0?i:0),h=r[n]+i;if(e[n])return a[n]?d:h;var f=u[n];if(f==null)return 0;if(a[n]){var p=d,g=f;return p<g?Math.max(h,f):Math.max(d,f)}if(c==null)return 0;var y=h+o,_=f+c;return y>_?Math.max(d,f):Math.max(h,f)}function v$(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function g$(t){var{allowEscapeViewBox:e,coordinate:r,offsetTop:n,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:o,useTranslate3d:u,viewBox:c}=t,d,h,f;return o.height>0&&o.width>0&&r?(h=Tw({allowEscapeViewBox:e,coordinate:r,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Tw({allowEscapeViewBox:e,coordinate:r,key:"y",offset:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=v$({translateX:h,translateY:f,useTranslate3d:u})):d=p$,{cssProperties:d,cssClasses:m$({translateX:h,translateY:f,coordinate:r})}}function zw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zw(Object(r),!0).forEach(function(n){Pv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pv(t,e,r){return(e=y$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$(t){var e=x$(t,"string");return typeof e=="symbol"?e:e+""}function x$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _$ extends v.PureComponent{constructor(){super(...arguments),Pv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Pv(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:u,offset:c,position:d,reverseDirection:h,useTranslate3d:f,viewBox:p,wrapperStyle:g,lastBoundingBox:y,innerRef:_,hasPortalFromProps:x}=this.props,b=typeof c=="number"?c:c.x,S=typeof c=="number"?c:c.y,{cssClasses:k,cssProperties:m}=g$({allowEscapeViewBox:r,coordinate:a,offsetLeft:b,offsetTop:S,position:d,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:p}),w=x?{}:qu(qu({transition:u&&e?"transform ".concat(n,"ms ").concat(i):void 0},m),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=qu(qu({},w),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},g);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:P,ref:_},s)}}var m2=()=>{var t;return(t=me(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(null,arguments)}function Nw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nw(Object(r),!0).forEach(function(n){b$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b$(t,e,r){return(e=w$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w$(t){var e=S$(t,"string");return typeof e=="symbol"?e:e+""}function S$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rw={curveBasisClosed:BL,curveBasisOpen:FL,curveBasis:$L,curveBumpX:kL,curveBumpY:PL,curveLinearClosed:WL,curveLinear:wh,curveMonotoneX:UL,curveMonotoneY:KL,curveNatural:VL,curveStep:HL,curveStepAfter:GL,curveStepBefore:YL},_d=t=>xe(t.x)&&xe(t.y),Dw=t=>t.base!=null&&_d(t.base)&&_d(t),ko=t=>t.x,Po=t=>t.y,j$=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Hl(t));if((r==="curveMonotone"||r==="curveBump")&&e){var n=Rw["".concat(r).concat(e==="vertical"?"Y":"X")];if(n)return n}return Rw[r]||wh},Lw={connectNulls:!1,type:"linear"},k$=t=>{var{type:e=Lw.type,points:r=[],baseLine:n,layout:i,connectNulls:s=Lw.connectNulls}=t,a=j$(e,i),o=s?r.filter(_d):r;if(Array.isArray(n)){var u,c=r.map((g,y)=>Iw(Iw({},g),{},{base:n[y]}));i==="vertical"?u=Wu().y(Po).x1(ko).x0(g=>g.base.x):u=Wu().x(ko).y1(Po).y0(g=>g.base.y);var d=u.defined(Dw).curve(a),h=s?c.filter(Dw):c;return d(h)}var f;i==="vertical"&&de(n)?f=Wu().y(Po).x1(ko).x0(n):de(n)?f=Wu().x(ko).y1(Po).y0(n):f=kC().x(ko).y(Po);var p=f.defined(_d).curve(a);return p(o)},ja=t=>{var{className:e,points:r,path:n,pathRef:i}=t,s=Gi();if((!r||!r.length)&&!n)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},o=r&&r.length?k$(a):n;return v.createElement("path",Mv({},ir(t),fy(t),{className:ze("recharts-curve",e),d:o===null?void 0:o,ref:i}))},P$=["x","y","top","left","width","height","className"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(null,arguments)}function $w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$w(Object(r),!0).forEach(function(n){C$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C$(t,e,r){return(e=E$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$(t){var e=A$(t,"string");return typeof e=="symbol"?e:e+""}function A$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O$(t,e){if(t==null)return{};var r,n,i=T$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function T$(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var z$=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),N$=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,u=O$(t,P$),c=M$({x:e,y:r,top:n,left:i,width:s,height:a},u);return!de(e)||!de(r)||!de(s)||!de(a)||!de(n)||!de(i)?null:v.createElement("path",Cv({},Ut(c),{className:ze("recharts-cross",o),d:z$(e,r,s,a,n,i)}))};function I$(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Bw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bw(Object(r),!0).forEach(function(n){R$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R$(t,e,r){return(e=D$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D$(t){var e=L$(t,"string");return typeof e=="symbol"?e:e+""}function L$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $$=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),v2=(t,e,r)=>t.map(n=>"".concat($$(n)," ").concat(e,"ms ").concat(r)).join(","),B$=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Ol=(t,e)=>Object.keys(e).reduce((r,n)=>Fw(Fw({},r),{},{[n]:t(n,e[n])}),{});function Ww(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ww(Object(r),!0).forEach(function(n){F$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F$(t,e,r){return(e=W$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W$(t){var e=U$(t,"string");return typeof e=="symbol"?e:e+""}function U$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bd=(t,e,r)=>t+(e-t)*r,Ev=t=>{var{from:e,to:r}=t;return e!==r},g2=(t,e,r)=>{var n=Ol((i,s)=>{if(Ev(s)){var[a,o]=t(s.from,s.to,s.velocity);return yt(yt({},s),{},{from:a,velocity:o})}return s},e);return r<1?Ol((i,s)=>Ev(s)&&n[i]!=null?yt(yt({},s),{},{velocity:bd(s.velocity,n[i].velocity,r),from:bd(s.from,n[i].from,r)}):s,e):g2(t,n,r-1)};function K$(t,e,r,n,i,s){var a,o=n.reduce((f,p)=>yt(yt({},f),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),u=()=>Ol((f,p)=>p.from,o),c=()=>!Object.values(o).filter(Ev).length,d=null,h=f=>{a||(a=f);var p=f-a,g=p/r.dt;o=g2(r,o,g),i(yt(yt(yt({},t),e),u())),a=f,c()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var f;(f=d)===null||f===void 0||f()})}function V$(t,e,r,n,i,s,a){var o=null,u=i.reduce((h,f)=>{var p=t[f],g=e[f];return p==null||g==null?h:yt(yt({},h),{},{[f]:[p,g]})},{}),c,d=h=>{c||(c=h);var f=(h-c)/n,p=Ol((y,_)=>bd(..._,r(f)),u);if(s(yt(yt(yt({},t),e),p)),f<1)o=a.setTimeout(d);else{var g=Ol((y,_)=>bd(..._,r(1)),u);s(yt(yt(yt({},t),e),g))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const H$=(t,e,r,n,i,s)=>{var a=B$(t,e);return r==null?()=>(i(yt(yt({},t),e)),()=>{}):r.isStepper===!0?K$(t,e,r,a,i,s):V$(t,e,r,n,a,i,s)};var wd=1e-4,y2=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],x2=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),Uw=(t,e)=>r=>{var n=y2(t,e);return x2(n,r)},Y$=(t,e)=>r=>{var n=y2(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return x2(i,r)},G$=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},X$=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=G$(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},q$=(t,e,r,n)=>{var i=Uw(t,r),s=Uw(e,n),a=Y$(t,r),o=c=>c>1?1:c<0?0:c,u=c=>{for(var d=c>1?1:c,h=d,f=0;f<8;++f){var p=i(h)-d,g=a(h);if(Math.abs(p-d)<wd||g<wd)return s(h);h=o(h-p/g)}return s(h)};return u.isStepper=!1,u},Kw=function(){return q$(...X$(...arguments))},Z$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,u)=>{var c=-(a-o)*r,d=u*n,h=u+(c-d)*i/1e3,f=u*i/1e3+a;return Math.abs(f-o)<wd&&Math.abs(h)<wd?[o,0]:[f,h]};return s.isStepper=!0,s.dt=i,s},Q$=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kw(t);case"spring":return Z$();default:if(t.split("(")[0]==="cubic-bezier")return Kw(t)}return typeof t=="function"?t:null};function J$(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[u,...c]=o;if(typeof u=="number"){i=t.setTimeout(s.bind(null,c),u);return}s(u),i=t.setTimeout(s.bind(null,c));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class e6{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function t6(){return J$(new e6)}var r6=v.createContext(t6);function n6(t,e){var r=v.useContext(r6);return v.useMemo(()=>e??r(t),[t,e,r])}var i6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ql={isSsr:i6()},s6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vw={t:0},Dp={t:1};function qa(t){var e=pt(t,s6),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:u,children:c}=e,d=r==="auto"?!Ql.isSsr:r,h=n6(e.animationId,e.animationManager),[f,p]=v.useState(d?Vw:Dp),g=v.useRef(null);return v.useEffect(()=>{d||p(Dp)},[d]),v.useEffect(()=>{if(!d||!n)return Hi;var y=H$(Vw,Dp,Q$(s),i,p,h.getTimeoutController()),_=()=>{g.current=y()};return h.start([u,a,_,i,o]),()=>{h.stop(),g.current&&g.current(),o()}},[d,n,i,s,a,u,o,h]),c(f.t)}function Za(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(jl(e)),n=v.useRef(t);return n.current!==t&&(r.current=jl(e),n.current=t),r.current}var a6=["radius"],o6=["radius"],Hw,Yw,Gw,Xw,qw,Zw,Qw,Jw,eS,tS;function rS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(r),!0).forEach(function(n){l6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l6(t,e,r){return(e=u6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u6(t){var e=c6(t,"string");return typeof e=="symbol"?e:e+""}function c6(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sd.apply(null,arguments)}function iS(t,e){if(t==null)return{};var r,n,i=d6(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function d6(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _n(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var sS=(t,e,r,n,i)=>{var s=Ci(r),a=Ci(n),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),u=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,h;if(o>0&&Array.isArray(i)){for(var f=[0,0,0,0],p=0,g=4;p<g;p++){var y,_=(y=i[p])!==null&&y!==void 0?y:0;f[p]=_>o?o:_}h=tt(Hw||(Hw=_n(["M",",",""])),t,e+u*f[0]),f[0]>0&&(h+=tt(Yw||(Yw=_n(["A ",",",",0,0,",",",",",""])),f[0],f[0],d,t+c*f[0],e)),h+=tt(Gw||(Gw=_n(["L ",",",""])),t+r-c*f[1],e),f[1]>0&&(h+=tt(Xw||(Xw=_n(["A ",",",",0,0,",`,
        `,",",""])),f[1],f[1],d,t+r,e+u*f[1])),h+=tt(qw||(qw=_n(["L ",",",""])),t+r,e+n-u*f[2]),f[2]>0&&(h+=tt(Zw||(Zw=_n(["A ",",",",0,0,",`,
        `,",",""])),f[2],f[2],d,t+r-c*f[2],e+n)),h+=tt(Qw||(Qw=_n(["L ",",",""])),t+c*f[3],e+n),f[3]>0&&(h+=tt(Jw||(Jw=_n(["A ",",",",0,0,",`,
        `,",",""])),f[3],f[3],d,t,e+n-u*f[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);h=tt(eS||(eS=_n(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*x,x,x,d,t+c*x,e,t+r-c*x,e,x,x,d,t+r,e+u*x,t+r,e+n-u*x,x,x,d,t+r-c*x,e+n,t+c*x,e+n,x,x,d,t,e+n-u*x)}else h=tt(tS||(tS=_n(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return h},aS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_2=t=>{var e=pt(t,aS),r=v.useRef(null),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&i(O)}catch{}},[]);var{x:s,y:a,width:o,height:u,radius:c,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:y}=e,_=v.useRef(o),x=v.useRef(u),b=v.useRef(s),S=v.useRef(a),k=v.useMemo(()=>({x:s,y:a,width:o,height:u,radius:c}),[s,a,o,u,c]),m=Za(k,"rectangle-");if(s!==+s||a!==+a||o!==+o||u!==+u||o===0||u===0)return null;var w=ze("recharts-rectangle",d);if(!y){var P=Ut(e),{radius:C}=P,E=iS(P,a6);return v.createElement("path",Sd({},E,{x:Ci(s),y:Ci(a),width:Ci(o),height:Ci(u),radius:typeof c=="number"?c:void 0,className:w,d:sS(s,a,o,u,c)}))}var I=_.current,D=x.current,z=b.current,X=S.current,Z="0px ".concat(n===-1?1:n,"px"),H="".concat(n,"px 0px"),oe=v2(["strokeDasharray"],f,typeof h=="string"?h:aS.animationEasing);return v.createElement(qa,{animationId:m,key:m,canBegin:n>0,duration:f,easing:h,isActive:y,begin:p},O=>{var R=Ee(I,o,O),N=Ee(D,u,O),L=Ee(z,s,O),Q=Ee(X,a,O);r.current&&(_.current=R,x.current=N,b.current=L,S.current=Q);var G;g?O>0?G={transition:oe,strokeDasharray:H}:G={strokeDasharray:Z}:G={strokeDasharray:H};var ye=Ut(e),{radius:pe}=ye,ve=iS(ye,o6);return v.createElement("path",Sd({},ve,{radius:typeof c=="number"?c:void 0,className:w,d:sS(L,Q,R,N,c),ref:r,style:nS(nS({},G),e.style)}))})};function oS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oS(Object(r),!0).forEach(function(n){h6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h6(t,e,r){return(e=f6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f6(t){var e=p6(t,"string");return typeof e=="symbol"?e:e+""}function p6(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jd=Math.PI/180,m6=t=>t*180/Math.PI,Bt=(t,e,r,n)=>({x:t+Math.cos(-jd*n)*r,y:e+Math.sin(-jd*n)*r}),v6=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},g6=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},y6=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=g6({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,u=Math.acos(o);return n>s&&(u=2*Math.PI-u),{radius:a,angle:m6(u),angleInRadian:u}},x6=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},_6=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},b6=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:s}=y6({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:u,endAngle:c}=x6(e),d=s,h;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}return h?lS(lS({},e),{},{radius:i,angle:_6(d,e)}):null};function b2(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=Bt(e,r,n,i),o=Bt(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}var uS,cS,dS,hS,fS,pS,mS;function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Av.apply(null,arguments)}function ls(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var w6=(t,e)=>{var r=fr(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Zu=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:u}=t,c=o*(a?1:-1)+n,d=Math.asin(o/c)/jd,h=u?i:i+s*d,f=Bt(e,r,c,h),p=Bt(e,r,n,h),g=u?i-s*d:i,y=Bt(e,r,c*Math.cos(d*jd),g);return{center:f,circleTangency:p,lineTangency:y,theta:d}},w2=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=w6(s,a),u=s+o,c=Bt(e,r,i,s),d=Bt(e,r,i,u),h=tt(uS||(uS=ls(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(s>u),d.x,d.y);if(n>0){var f=Bt(e,r,n,s),p=Bt(e,r,n,u);h+=tt(cS||(cS=ls(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(o)>180),+(s<=u),f.x,f.y)}else h+=tt(dS||(dS=ls(["L ",","," Z"])),e,r);return h},S6=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:u,endAngle:c}=t,d=fr(c-u),{circleTangency:h,lineTangency:f,theta:p}=Zu({cx:e,cy:r,radius:i,angle:u,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:_}=Zu({cx:e,cy:r,radius:i,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(u-c):Math.abs(u-c)-p-_;if(x<0)return a?tt(hS||(hS=ls(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),f.x,f.y,s,s,s*2,s,s,-s*2):w2({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:c});var b=tt(fS||(fS=ls(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),f.x,f.y,s,s,+(d<0),h.x,h.y,i,i,+(x>180),+(d<0),g.x,g.y,s,s,+(d<0),y.x,y.y);if(n>0){var{circleTangency:S,lineTangency:k,theta:m}=Zu({cx:e,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:w,lineTangency:P,theta:C}=Zu({cx:e,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),E=o?Math.abs(u-c):Math.abs(u-c)-m-C;if(E<0&&s===0)return"".concat(b,"L").concat(e,",").concat(r,"Z");b+=tt(pS||(pS=ls(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,s,s,+(d<0),w.x,w.y,n,n,+(E>180),+(d>0),S.x,S.y,s,s,+(d<0),k.x,k.y)}else b+=tt(mS||(mS=ls(["L",",","Z"])),e,r);return b},j6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},S2=t=>{var e=pt(t,j6),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:d,className:h}=e;if(s<i||c===d)return null;var f=ze("recharts-sector",h),p=s-i,g=fn(a,p,0,!0),y;return g>0&&Math.abs(c-d)<360?y=S6({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:d}):y=w2({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d}),v.createElement("path",Av({},Ut(e),{className:f,d:y}))};function k6(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(FC(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,u=Bt(n,i,s,o),c=Bt(n,i,a,o);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return b2(e)}}var j2={},k2={},P2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sy;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(P2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P2;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(k2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jy,r=k2;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(o);for(let c=0;c<o;c++)u[c]=i,i+=a;return u}t.range=n})(j2);var P6=j2.range;const M2=oi(P6);function Di(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M6(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dy(t){let e,r,n;t.length!==2?(e=Di,r=(o,u)=>Di(t(o),u),n=(o,u)=>t(o)-u):(e=t===Di||t===M6?t:C6,r=t,n=t);function i(o,u,c=0,d=o.length){if(c<d){if(e(u,u)!==0)return d;do{const h=c+d>>>1;r(o[h],u)<0?c=h+1:d=h}while(c<d)}return c}function s(o,u,c=0,d=o.length){if(c<d){if(e(u,u)!==0)return d;do{const h=c+d>>>1;r(o[h],u)<=0?c=h+1:d=h}while(c<d)}return c}function a(o,u,c=0,d=o.length){const h=i(o,u,c,d-1);return h>c&&n(o[h-1],u)>-n(o[h],u)?h-1:h}return{left:i,center:a,right:s}}function C6(){return 0}function C2(t){return t===null?NaN:+t}function*E6(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const A6=Dy(Di),Jl=A6.right;Dy(C2).center;class vS extends Map{constructor(e,r=z6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(gS(this,e))}has(e){return super.has(gS(this,e))}set(e,r){return super.set(O6(this,e),r)}delete(e){return super.delete(T6(this,e))}}function gS({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function O6({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function T6({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function z6(t){return t!==null&&typeof t=="object"?t.valueOf():t}function N6(t=Di){if(t===Di)return E2;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function E2(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const I6=Math.sqrt(50),R6=Math.sqrt(10),D6=Math.sqrt(2);function kd(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=I6?10:s>=R6?5:s>=D6?2:1;let o,u,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),u=Math.round(e*c),o/c<t&&++o,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),u=Math.round(e/c),o*c<t&&++o,u*c>e&&--u),u<o&&.5<=r&&r<2?kd(t,e,r*2):[o,u,c]}function Ov(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?kd(e,t,r):kd(t,e,r);if(!(s>=i))return[];const o=s-i+1,u=new Array(o);if(n)if(a<0)for(let c=0;c<o;++c)u[c]=(s-c)/-a;else for(let c=0;c<o;++c)u[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)u[c]=(i+c)/-a;else for(let c=0;c<o;++c)u[c]=(i+c)*a;return u}function Tv(t,e,r){return e=+e,t=+t,r=+r,kd(t,e,r)[2]}function zv(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Tv(e,t,r):Tv(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function yS(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xS(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function A2(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?E2:N6(i);n>r;){if(n-r>600){const u=n-r+1,c=e-r+1,d=Math.log(u),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(u-h)/u)*(c-u/2<0?-1:1),p=Math.max(r,Math.floor(e-c*h/u+f)),g=Math.min(n,Math.floor(e+(u-c)*h/u+f));A2(t,e,p,g,i)}const s=t[e];let a=r,o=n;for(Mo(t,r,e),i(t[n],s)>0&&Mo(t,r,n);a<o;){for(Mo(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?Mo(t,r,o):(++o,Mo(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Mo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function L6(t,e,r){if(t=Float64Array.from(E6(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return xS(t);if(e>=1)return yS(t);var n,i=(n-1)*e,s=Math.floor(i),a=yS(A2(t,s).subarray(0,s+1)),o=xS(t.subarray(s+1));return a+(o-a)*(i-s)}}function $6(t,e,r=C2){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function B6(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function di(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Nv=Symbol("implicit");function Ly(){var t=new vS,e=[],r=[],n=Nv;function i(s){let a=t.get(s);if(a===void 0){if(n!==Nv)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new vS;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ly(e,r).unknown(n)},Qr.apply(i,arguments),i}function $y(){var t=Ly().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,u=0,c=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<n,g=p?i:n,y=p?n:i;s=(y-g)/Math.max(1,f-u+c*2),o&&(s=Math.floor(s)),g+=(y-g-s*(f-u))*d,a=s*(1-u),o&&(g=Math.round(g),a=Math.round(a));var _=B6(f).map(function(x){return g+s*x});return r(p?_.reverse():_)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(u=Math.min(1,c=+f),h()):u},t.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return $y(e(),[n,i]).round(o).paddingInner(u).paddingOuter(c).align(d)},Qr.apply(h(),arguments)}function O2(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O2(e())},t}function F6(){return O2($y.apply(null,arguments).paddingInner(1))}function By(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function T2(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function eu(){}var Tl=.7,Pd=1/Tl,ka="\\s*([+-]?\\d+)\\s*",zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W6=/^#([0-9a-f]{3,8})$/,U6=new RegExp(`^rgb\\(${ka},${ka},${ka}\\)$`),K6=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),V6=new RegExp(`^rgba\\(${ka},${ka},${ka},${zl}\\)$`),H6=new RegExp(`^rgba\\(${An},${An},${An},${zl}\\)$`),Y6=new RegExp(`^hsl\\(${zl},${An},${An}\\)$`),G6=new RegExp(`^hsla\\(${zl},${An},${An},${zl}\\)$`),_S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};By(eu,Nl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bS,formatHex:bS,formatHex8:X6,formatHsl:q6,formatRgb:wS,toString:wS});function bS(){return this.rgb().formatHex()}function X6(){return this.rgb().formatHex8()}function q6(){return z2(this).formatHsl()}function wS(){return this.rgb().formatRgb()}function Nl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=W6.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?SS(e):r===3?new mr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Qu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Qu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=U6.exec(t))?new mr(e[1],e[2],e[3],1):(e=K6.exec(t))?new mr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=V6.exec(t))?Qu(e[1],e[2],e[3],e[4]):(e=H6.exec(t))?Qu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Y6.exec(t))?PS(e[1],e[2]/100,e[3]/100,1):(e=G6.exec(t))?PS(e[1],e[2]/100,e[3]/100,e[4]):_S.hasOwnProperty(t)?SS(_S[t]):t==="transparent"?new mr(NaN,NaN,NaN,0):null}function SS(t){return new mr(t>>16&255,t>>8&255,t&255,1)}function Qu(t,e,r,n){return n<=0&&(t=e=r=NaN),new mr(t,e,r,n)}function Z6(t){return t instanceof eu||(t=Nl(t)),t?(t=t.rgb(),new mr(t.r,t.g,t.b,t.opacity)):new mr}function Iv(t,e,r,n){return arguments.length===1?Z6(t):new mr(t,e,r,n??1)}function mr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}By(mr,Iv,T2(eu,{brighter(t){return t=t==null?Pd:Math.pow(Pd,t),new mr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Tl:Math.pow(Tl,t),new mr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mr(gs(this.r),gs(this.g),gs(this.b),Md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jS,formatHex:jS,formatHex8:Q6,formatRgb:kS,toString:kS}));function jS(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function Q6(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function kS(){const t=Md(this.opacity);return`${t===1?"rgb(":"rgba("}${gs(this.r)}, ${gs(this.g)}, ${gs(this.b)}${t===1?")":`, ${t})`}`}function Md(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function us(t){return t=gs(t),(t<16?"0":"")+t.toString(16)}function PS(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new on(t,e,r,n)}function z2(t){if(t instanceof on)return new on(t.h,t.s,t.l,t.opacity);if(t instanceof eu||(t=Nl(t)),!t)return new on;if(t instanceof on)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,u=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=u<.5?s+i:2-s-i,a*=60):o=u>0&&u<1?0:a,new on(a,o,u,t.opacity)}function J6(t,e,r,n){return arguments.length===1?z2(t):new on(t,e,r,n??1)}function on(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}By(on,J6,T2(eu,{brighter(t){return t=t==null?Pd:Math.pow(Pd,t),new on(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Tl:Math.pow(Tl,t),new on(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new mr(Lp(t>=240?t-240:t+120,i,n),Lp(t,i,n),Lp(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new on(MS(this.h),Ju(this.s),Ju(this.l),Md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Md(this.opacity);return`${t===1?"hsl(":"hsla("}${MS(this.h)}, ${Ju(this.s)*100}%, ${Ju(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MS(t){return t=(t||0)%360,t<0?t+360:t}function Ju(t){return Math.max(0,Math.min(1,t||0))}function Lp(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Fy=t=>()=>t;function eB(t,e){return function(r){return t+r*e}}function tB(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function rB(t){return(t=+t)==1?N2:function(e,r){return r-e?tB(e,r,t):Fy(isNaN(e)?r:e)}}function N2(t,e){var r=e-t;return r?eB(t,r):Fy(isNaN(t)?e:t)}const CS=function t(e){var r=rB(e);function n(i,s){var a=r((i=Iv(i)).r,(s=Iv(s)).r),o=r(i.g,s.g),u=r(i.b,s.b),c=N2(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=u(d),i.opacity=c(d),i+""}}return n.gamma=t,n}(1);function nB(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function iB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sB(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Qa(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function aB(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Cd(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function oB(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Qa(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$p=new RegExp(Rv.source,"g");function lB(t){return function(){return t}}function uB(t){return function(e){return t(e)+""}}function cB(t,e){var r=Rv.lastIndex=$p.lastIndex=0,n,i,s,a=-1,o=[],u=[];for(t=t+"",e=e+"";(n=Rv.exec(t))&&(i=$p.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:Cd(n,i)})),r=$p.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?u[0]?uB(u[0].x):lB(e):(e=u.length,function(c){for(var d=0,h;d<e;++d)o[(h=u[d]).i]=h.x(c);return o.join("")})}function Qa(t,e){var r=typeof e,n;return e==null||r==="boolean"?Fy(e):(r==="number"?Cd:r==="string"?(n=Nl(e))?(e=n,CS):cB:e instanceof Nl?CS:e instanceof Date?aB:iB(e)?nB:Array.isArray(e)?sB:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?oB:Cd)(t,e)}function Wy(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function dB(t,e){e===void 0&&(e=t,t=Qa);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function hB(t){return function(){return t}}function Ed(t){return+t}var ES=[0,1];function tr(t){return t}function Dv(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:hB(isNaN(e)?NaN:.5)}function fB(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function pB(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=Dv(i,n),s=r(a,s)):(n=Dv(n,i),s=r(s,a)),function(o){return s(n(o))}}function mB(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=Dv(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var u=Jl(t,o,1,n)-1;return s[u](i[u](o))}}function tu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gh(){var t=ES,e=ES,r=Qa,n,i,s,a=tr,o,u,c;function d(){var f=Math.min(t.length,e.length);return a!==tr&&(a=fB(t[0],t[f-1])),o=f>2?mB:pB,u=c=null,h}function h(f){return f==null||isNaN(f=+f)?s:(u||(u=o(t.map(n),e,r)))(n(a(f)))}return h.invert=function(f){return a(i((c||(c=o(e,t.map(n),Cd)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Ed),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=Wy,d()},h.clamp=function(f){return arguments.length?(a=f?!0:tr,d()):a!==tr},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,p){return n=f,i=p,d()}}function Uy(){return Gh()(tr,tr)}function vB(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ad(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Fa(t){return t=Ad(Math.abs(t)),t?t[1]:NaN}function gB(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),s.push(r.substring(i-=o,i+o)),!((u+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function yB(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var xB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Il(t){if(!(e=xB.exec(t)))throw new Error("invalid format: "+t);var e;return new Ky({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Il.prototype=Ky.prototype;function Ky(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ky.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _B(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Od;function bB(t,e){var r=Ad(t,e);if(!r)return Od=void 0,t.toPrecision(e);var n=r[0],i=r[1],s=i-(Od=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ad(t,Math.max(0,e+s-1))[0]}function AS(t,e){var r=Ad(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const OS={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vB,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>AS(t*100,e),r:AS,s:bB,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TS(t){return t}var zS=Array.prototype.map,NS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wB(t){var e=t.grouping===void 0||t.thousands===void 0?TS:gB(zS.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?TS:yB(zS.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h,f){h=Il(h);var p=h.fill,g=h.align,y=h.sign,_=h.symbol,x=h.zero,b=h.width,S=h.comma,k=h.precision,m=h.trim,w=h.type;w==="n"?(S=!0,w="g"):OS[w]||(k===void 0&&(k=12),m=!0,w="g"),(x||p==="0"&&g==="=")&&(x=!0,p="0",g="=");var P=(f&&f.prefix!==void 0?f.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():""),C=(_==="$"?n:/[%p]/.test(w)?a:"")+(f&&f.suffix!==void 0?f.suffix:""),E=OS[w],I=/[defgprs%]/.test(w);k=k===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function D(z){var X=P,Z=C,H,oe,O;if(w==="c")Z=E(z)+Z,z="";else{z=+z;var R=z<0||1/z<0;if(z=isNaN(z)?u:E(Math.abs(z),k),m&&(z=_B(z)),R&&+z==0&&y!=="+"&&(R=!1),X=(R?y==="("?y:o:y==="-"||y==="("?"":y)+X,Z=(w==="s"&&!isNaN(z)&&Od!==void 0?NS[8+Od/3]:"")+Z+(R&&y==="("?")":""),I){for(H=-1,oe=z.length;++H<oe;)if(O=z.charCodeAt(H),48>O||O>57){Z=(O===46?i+z.slice(H+1):z.slice(H))+Z,z=z.slice(0,H);break}}}S&&!x&&(z=e(z,1/0));var N=X.length+z.length+Z.length,L=N<b?new Array(b-N+1).join(p):"";switch(S&&x&&(z=e(L+z,L.length?b-Z.length:1/0),L=""),g){case"<":z=X+z+Z+L;break;case"=":z=X+L+z+Z;break;case"^":z=L.slice(0,N=L.length>>1)+X+z+Z+L.slice(N);break;default:z=L+X+z+Z;break}return s(z)}return D.toString=function(){return h+""},D}function d(h,f){var p=Math.max(-8,Math.min(8,Math.floor(Fa(f)/3)))*3,g=Math.pow(10,-p),y=c((h=Il(h),h.type="f",h),{suffix:NS[8+p/3]});return function(_){return y(g*_)}}return{format:c,formatPrefix:d}}var ec,Vy,I2;SB({thousands:",",grouping:[3],currency:["$",""]});function SB(t){return ec=wB(t),Vy=ec.format,I2=ec.formatPrefix,ec}function jB(t){return Math.max(0,-Fa(Math.abs(t)))}function kB(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fa(e)/3)))*3-Fa(Math.abs(t)))}function PB(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fa(e)-Fa(t))+1}function R2(t,e,r,n){var i=zv(t,e,r),s;switch(n=Il(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=kB(i,a))&&(n.precision=s),I2(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=PB(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=jB(i))&&(n.precision=s-(n.type==="%")*2);break}}return Vy(n)}function Xi(t){var e=t.domain;return t.ticks=function(r){var n=e();return Ov(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return R2(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],u,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=Tv(a,o,r),c===u)return n[i]=a,n[s]=o,e(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;u=c}return t},t}function D2(){var t=Uy();return t.copy=function(){return tu(t,D2())},Qr.apply(t,arguments),Xi(t)}function L2(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Ed),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return L2(t).unknown(e)},t=arguments.length?Array.from(t,Ed):[0,1],Xi(r)}function $2(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function IS(t){return Math.log(t)}function RS(t){return Math.exp(t)}function MB(t){return-Math.log(-t)}function CB(t){return-Math.exp(-t)}function EB(t){return isFinite(t)?+("1e"+t):t<0?0:t}function AB(t){return t===10?EB:t===Math.E?Math.exp:e=>Math.pow(t,e)}function OB(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DS(t){return(e,r)=>-t(-e,r)}function Hy(t){const e=t(IS,RS),r=e.domain;let n=10,i,s;function a(){return i=OB(n),s=AB(n),r()[0]<0?(i=DS(i),s=DS(s),t(MB,CB)):t(IS,RS),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const u=r();let c=u[0],d=u[u.length-1];const h=d<c;h&&([c,d]=[d,c]);let f=i(c),p=i(d),g,y;const _=o==null?10:+o;let x=[];if(!(n%1)&&p-f<_){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(g=1;g<n;++g)if(y=f<0?g/s(-f):g*s(f),!(y<c)){if(y>d)break;x.push(y)}}else for(;f<=p;++f)for(g=n-1;g>=1;--g)if(y=f>0?g/s(-f):g*s(f),!(y<c)){if(y>d)break;x.push(y)}x.length*2<_&&(x=Ov(c,d,_))}else x=Ov(f,p,Math.min(p-f,_)).map(s);return h?x.reverse():x},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Il(u)).precision==null&&(u.trim=!0),u=Vy(u)),o===1/0)return u;const c=Math.max(1,n*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=c?u(d):""}},e.nice=()=>r($2(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function B2(){const t=Hy(Gh()).domain([1,10]);return t.copy=()=>tu(t,B2()).base(t.base()),Qr.apply(t,arguments),t}function LS(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $S(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Yy(t){var e=1,r=t(LS(e),$S(e));return r.constant=function(n){return arguments.length?t(LS(e=+n),$S(e)):e},Xi(r)}function F2(){var t=Yy(Gh());return t.copy=function(){return tu(t,F2()).constant(t.constant())},Qr.apply(t,arguments)}function BS(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function TB(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zB(t){return t<0?-t*t:t*t}function Gy(t){var e=t(tr,tr),r=1;function n(){return r===1?t(tr,tr):r===.5?t(TB,zB):t(BS(r),BS(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Xi(e)}function Xy(){var t=Gy(Gh());return t.copy=function(){return tu(t,Xy()).exponent(t.exponent())},Qr.apply(t,arguments),t}function NB(){return Xy.apply(null,arguments).exponent(.5)}function FS(t){return Math.sign(t)*t*t}function IB(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function W2(){var t=Uy(),e=[0,1],r=!1,n;function i(s){var a=IB(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(FS(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ed)).map(FS)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return W2(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Qr.apply(i,arguments),Xi(i)}function U2(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=$6(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Jl(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Di),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return U2().domain(t).range(e).unknown(n)},Qr.apply(s,arguments)}function K2(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[Jl(n,u,0,r)]:s}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},a.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,o()):i.slice()},a.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return K2().domain([t,e]).range(i).unknown(s)},Qr.apply(Xi(a),arguments)}function V2(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Jl(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return V2().domain(t).range(e).unknown(r)},Qr.apply(i,arguments)}const Bp=new Date,Fp=new Date;function _t(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const u=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return u;let c;do u.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return u},i.filter=s=>_t(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Bp.setTime(+s),Fp.setTime(+a),t(Bp),t(Fp),Math.floor(r(Bp,Fp))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Td=_t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Td.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_t(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Td);Td.range;const Vn=1e3,Ur=Vn*60,Hn=Ur*60,ti=Hn*24,qy=ti*7,WS=ti*30,Wp=ti*365,cs=_t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vn)},(t,e)=>(e-t)/Vn,t=>t.getUTCSeconds());cs.range;const Zy=_t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vn)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getMinutes());Zy.range;const Qy=_t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getUTCMinutes());Qy.range;const Jy=_t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vn-t.getMinutes()*Ur)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getHours());Jy.range;const e0=_t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getUTCHours());e0.range;const ru=_t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ur)/ti,t=>t.getDate()-1);ru.range;const Xh=_t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ti,t=>t.getUTCDate()-1);Xh.range;const H2=_t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ti,t=>Math.floor(t/ti));H2.range;function Fs(t){return _t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ur)/qy)}const qh=Fs(0),zd=Fs(1),RB=Fs(2),DB=Fs(3),Wa=Fs(4),LB=Fs(5),$B=Fs(6);qh.range;zd.range;RB.range;DB.range;Wa.range;LB.range;$B.range;function Ws(t){return _t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/qy)}const Zh=Ws(0),Nd=Ws(1),BB=Ws(2),FB=Ws(3),Ua=Ws(4),WB=Ws(5),UB=Ws(6);Zh.range;Nd.range;BB.range;FB.range;Ua.range;WB.range;UB.range;const t0=_t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());t0.range;const r0=_t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());r0.range;const ri=_t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ri.range;const ni=_t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ni.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ni.range;function Y2(t,e,r,n,i,s){const a=[[cs,1,Vn],[cs,5,5*Vn],[cs,15,15*Vn],[cs,30,30*Vn],[s,1,Ur],[s,5,5*Ur],[s,15,15*Ur],[s,30,30*Ur],[i,1,Hn],[i,3,3*Hn],[i,6,6*Hn],[i,12,12*Hn],[n,1,ti],[n,2,2*ti],[r,1,qy],[e,1,WS],[e,3,3*WS],[t,1,Wp]];function o(c,d,h){const f=d<c;f&&([c,d]=[d,c]);const p=h&&typeof h.range=="function"?h:u(c,d,h),g=p?p.range(c,+d+1):[];return f?g.reverse():g}function u(c,d,h){const f=Math.abs(d-c)/h,p=Dy(([,,_])=>_).right(a,f);if(p===a.length)return t.every(zv(c/Wp,d/Wp,h));if(p===0)return Td.every(Math.max(zv(c,d,h),1));const[g,y]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return g.every(y)}return[o,u]}const[KB,VB]=Y2(ni,r0,Zh,H2,e0,Qy),[HB,YB]=Y2(ri,t0,qh,ru,Jy,Zy);function Up(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Co(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function GB(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,u=t.shortMonths,c=Eo(i),d=Ao(i),h=Eo(s),f=Ao(s),p=Eo(a),g=Ao(a),y=Eo(o),_=Ao(o),x=Eo(u),b=Ao(u),S={a:O,A:R,b:N,B:L,c:null,d:GS,e:GS,f:g8,g:M8,G:E8,H:p8,I:m8,j:v8,L:G2,m:y8,M:x8,p:Q,q:G,Q:ZS,s:QS,S:_8,u:b8,U:w8,V:S8,w:j8,W:k8,x:null,X:null,y:P8,Y:C8,Z:A8,"%":qS},k={a:ye,A:pe,b:ve,B:T,c:null,d:XS,e:XS,f:N8,g:K8,G:H8,H:O8,I:T8,j:z8,L:q2,m:I8,M:R8,p:B,q:ae,Q:ZS,s:QS,S:D8,u:L8,U:$8,V:B8,w:F8,W:W8,x:null,X:null,y:U8,Y:V8,Z:Y8,"%":qS},m={a:I,A:D,b:z,B:X,c:Z,d:HS,e:HS,f:c8,g:VS,G:KS,H:YS,I:YS,j:a8,L:u8,m:s8,M:o8,p:E,q:i8,Q:h8,s:f8,S:l8,u:JB,U:e8,V:t8,w:QB,W:r8,x:H,X:oe,y:VS,Y:KS,Z:n8,"%":d8};S.x=w(r,S),S.X=w(n,S),S.c=w(e,S),k.x=w(r,k),k.X=w(n,k),k.c=w(e,k);function w(W,K){return function(V){var M=[],ne=-1,te=0,ce=W.length,A,se,q;for(V instanceof Date||(V=new Date(+V));++ne<ce;)W.charCodeAt(ne)===37&&(M.push(W.slice(te,ne)),(se=US[A=W.charAt(++ne)])!=null?A=W.charAt(++ne):se=A==="e"?" ":"0",(q=K[A])&&(A=q(V,se)),M.push(A),te=ne+1);return M.push(W.slice(te,ne)),M.join("")}}function P(W,K){return function(V){var M=Co(1900,void 0,1),ne=C(M,W,V+="",0),te,ce;if(ne!=V.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(K&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(te=Kp(Co(M.y,0,1)),ce=te.getUTCDay(),te=ce>4||ce===0?Nd.ceil(te):Nd(te),te=Xh.offset(te,(M.V-1)*7),M.y=te.getUTCFullYear(),M.m=te.getUTCMonth(),M.d=te.getUTCDate()+(M.w+6)%7):(te=Up(Co(M.y,0,1)),ce=te.getDay(),te=ce>4||ce===0?zd.ceil(te):zd(te),te=ru.offset(te,(M.V-1)*7),M.y=te.getFullYear(),M.m=te.getMonth(),M.d=te.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),ce="Z"in M?Kp(Co(M.y,0,1)).getUTCDay():Up(Co(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(ce+5)%7:M.w+M.U*7-(ce+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,Kp(M)):Up(M)}}function C(W,K,V,M){for(var ne=0,te=K.length,ce=V.length,A,se;ne<te;){if(M>=ce)return-1;if(A=K.charCodeAt(ne++),A===37){if(A=K.charAt(ne++),se=m[A in US?K.charAt(ne++):A],!se||(M=se(W,V,M))<0)return-1}else if(A!=V.charCodeAt(M++))return-1}return M}function E(W,K,V){var M=c.exec(K.slice(V));return M?(W.p=d.get(M[0].toLowerCase()),V+M[0].length):-1}function I(W,K,V){var M=p.exec(K.slice(V));return M?(W.w=g.get(M[0].toLowerCase()),V+M[0].length):-1}function D(W,K,V){var M=h.exec(K.slice(V));return M?(W.w=f.get(M[0].toLowerCase()),V+M[0].length):-1}function z(W,K,V){var M=x.exec(K.slice(V));return M?(W.m=b.get(M[0].toLowerCase()),V+M[0].length):-1}function X(W,K,V){var M=y.exec(K.slice(V));return M?(W.m=_.get(M[0].toLowerCase()),V+M[0].length):-1}function Z(W,K,V){return C(W,e,K,V)}function H(W,K,V){return C(W,r,K,V)}function oe(W,K,V){return C(W,n,K,V)}function O(W){return a[W.getDay()]}function R(W){return s[W.getDay()]}function N(W){return u[W.getMonth()]}function L(W){return o[W.getMonth()]}function Q(W){return i[+(W.getHours()>=12)]}function G(W){return 1+~~(W.getMonth()/3)}function ye(W){return a[W.getUTCDay()]}function pe(W){return s[W.getUTCDay()]}function ve(W){return u[W.getUTCMonth()]}function T(W){return o[W.getUTCMonth()]}function B(W){return i[+(W.getUTCHours()>=12)]}function ae(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var K=w(W+="",S);return K.toString=function(){return W},K},parse:function(W){var K=P(W+="",!1);return K.toString=function(){return W},K},utcFormat:function(W){var K=w(W+="",k);return K.toString=function(){return W},K},utcParse:function(W){var K=P(W+="",!0);return K.toString=function(){return W},K}}}var US={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,XB=/^%/,qB=/[\\^$*+?|[\]().{}]/g;function Ae(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function ZB(t){return t.replace(qB,"\\$&")}function Eo(t){return new RegExp("^(?:"+t.map(ZB).join("|")+")","i")}function Ao(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function QB(t,e,r){var n=Et.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function JB(t,e,r){var n=Et.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function e8(t,e,r){var n=Et.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function t8(t,e,r){var n=Et.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function r8(t,e,r){var n=Et.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function KS(t,e,r){var n=Et.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function VS(t,e,r){var n=Et.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function n8(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function i8(t,e,r){var n=Et.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function s8(t,e,r){var n=Et.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function HS(t,e,r){var n=Et.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function a8(t,e,r){var n=Et.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function YS(t,e,r){var n=Et.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function o8(t,e,r){var n=Et.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function l8(t,e,r){var n=Et.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function u8(t,e,r){var n=Et.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function c8(t,e,r){var n=Et.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function d8(t,e,r){var n=XB.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function h8(t,e,r){var n=Et.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function f8(t,e,r){var n=Et.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function GS(t,e){return Ae(t.getDate(),e,2)}function p8(t,e){return Ae(t.getHours(),e,2)}function m8(t,e){return Ae(t.getHours()%12||12,e,2)}function v8(t,e){return Ae(1+ru.count(ri(t),t),e,3)}function G2(t,e){return Ae(t.getMilliseconds(),e,3)}function g8(t,e){return G2(t,e)+"000"}function y8(t,e){return Ae(t.getMonth()+1,e,2)}function x8(t,e){return Ae(t.getMinutes(),e,2)}function _8(t,e){return Ae(t.getSeconds(),e,2)}function b8(t){var e=t.getDay();return e===0?7:e}function w8(t,e){return Ae(qh.count(ri(t)-1,t),e,2)}function X2(t){var e=t.getDay();return e>=4||e===0?Wa(t):Wa.ceil(t)}function S8(t,e){return t=X2(t),Ae(Wa.count(ri(t),t)+(ri(t).getDay()===4),e,2)}function j8(t){return t.getDay()}function k8(t,e){return Ae(zd.count(ri(t)-1,t),e,2)}function P8(t,e){return Ae(t.getFullYear()%100,e,2)}function M8(t,e){return t=X2(t),Ae(t.getFullYear()%100,e,2)}function C8(t,e){return Ae(t.getFullYear()%1e4,e,4)}function E8(t,e){var r=t.getDay();return t=r>=4||r===0?Wa(t):Wa.ceil(t),Ae(t.getFullYear()%1e4,e,4)}function A8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ae(e/60|0,"0",2)+Ae(e%60,"0",2)}function XS(t,e){return Ae(t.getUTCDate(),e,2)}function O8(t,e){return Ae(t.getUTCHours(),e,2)}function T8(t,e){return Ae(t.getUTCHours()%12||12,e,2)}function z8(t,e){return Ae(1+Xh.count(ni(t),t),e,3)}function q2(t,e){return Ae(t.getUTCMilliseconds(),e,3)}function N8(t,e){return q2(t,e)+"000"}function I8(t,e){return Ae(t.getUTCMonth()+1,e,2)}function R8(t,e){return Ae(t.getUTCMinutes(),e,2)}function D8(t,e){return Ae(t.getUTCSeconds(),e,2)}function L8(t){var e=t.getUTCDay();return e===0?7:e}function $8(t,e){return Ae(Zh.count(ni(t)-1,t),e,2)}function Z2(t){var e=t.getUTCDay();return e>=4||e===0?Ua(t):Ua.ceil(t)}function B8(t,e){return t=Z2(t),Ae(Ua.count(ni(t),t)+(ni(t).getUTCDay()===4),e,2)}function F8(t){return t.getUTCDay()}function W8(t,e){return Ae(Nd.count(ni(t)-1,t),e,2)}function U8(t,e){return Ae(t.getUTCFullYear()%100,e,2)}function K8(t,e){return t=Z2(t),Ae(t.getUTCFullYear()%100,e,2)}function V8(t,e){return Ae(t.getUTCFullYear()%1e4,e,4)}function H8(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ua(t):Ua.ceil(t),Ae(t.getUTCFullYear()%1e4,e,4)}function Y8(){return"+0000"}function qS(){return"%"}function ZS(t){return+t}function QS(t){return Math.floor(+t/1e3)}var Ys,Q2,J2;G8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function G8(t){return Ys=GB(t),Q2=Ys.format,Ys.parse,J2=Ys.utcFormat,Ys.utcParse,Ys}function X8(t){return new Date(t)}function q8(t){return t instanceof Date?+t:+new Date(+t)}function n0(t,e,r,n,i,s,a,o,u,c){var d=Uy(),h=d.invert,f=d.domain,p=c(".%L"),g=c(":%S"),y=c("%I:%M"),_=c("%I %p"),x=c("%a %d"),b=c("%b %d"),S=c("%B"),k=c("%Y");function m(w){return(u(w)<w?p:o(w)<w?g:a(w)<w?y:s(w)<w?_:n(w)<w?i(w)<w?x:b:r(w)<w?S:k)(w)}return d.invert=function(w){return new Date(h(w))},d.domain=function(w){return arguments.length?f(Array.from(w,q8)):f().map(X8)},d.ticks=function(w){var P=f();return t(P[0],P[P.length-1],w??10)},d.tickFormat=function(w,P){return P==null?m:c(P)},d.nice=function(w){var P=f();return(!w||typeof w.range!="function")&&(w=e(P[0],P[P.length-1],w??10)),w?f($2(P,w)):d},d.copy=function(){return tu(d,n0(t,e,r,n,i,s,a,o,u,c))},d}function Z8(){return Qr.apply(n0(HB,YB,ri,t0,qh,ru,Jy,Zy,cs,Q2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Q8(){return Qr.apply(n0(KB,VB,ni,r0,Zh,Xh,e0,Qy,cs,J2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qh(){var t=0,e=1,r,n,i,s,a=tr,o=!1,u;function c(h){return h==null||isNaN(h=+h)?u:a(i===0?.5:(h=(s(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(a=h,c):a};function d(h){return function(f){var p,g;return arguments.length?([p,g]=f,a=h(p,g),c):[a(0),a(1)]}}return c.range=d(Qa),c.rangeRound=d(Wy),c.unknown=function(h){return arguments.length?(u=h,c):u},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),c}}function qi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eA(){var t=Xi(Qh()(tr));return t.copy=function(){return qi(t,eA())},di.apply(t,arguments)}function tA(){var t=Hy(Qh()).domain([1,10]);return t.copy=function(){return qi(t,tA()).base(t.base())},di.apply(t,arguments)}function rA(){var t=Yy(Qh());return t.copy=function(){return qi(t,rA()).constant(t.constant())},di.apply(t,arguments)}function i0(){var t=Gy(Qh());return t.copy=function(){return qi(t,i0()).exponent(t.exponent())},di.apply(t,arguments)}function J8(){return i0.apply(null,arguments).exponent(.5)}function nA(){var t=[],e=tr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Jl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Di),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>L6(t,s/n))},r.copy=function(){return nA(e).domain(t)},di.apply(r,arguments)}function Jh(){var t=0,e=.5,r=1,n=1,i,s,a,o,u,c=tr,d,h=!1,f;function p(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-s)*(n*y<n*s?o:u),c(h?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=d(t=+t),s=d(e=+e),a=d(r=+r),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(h=!!y,p):h},p.interpolator=function(y){return arguments.length?(c=y,p):c};function g(y){return function(_){var x,b,S;return arguments.length?([x,b,S]=_,c=dB(y,[x,b,S]),p):[c(0),c(.5),c(1)]}}return p.range=g(Qa),p.rangeRound=g(Wy),p.unknown=function(y){return arguments.length?(f=y,p):f},function(y){return d=y,i=y(t),s=y(e),a=y(r),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,p}}function iA(){var t=Xi(Jh()(tr));return t.copy=function(){return qi(t,iA())},di.apply(t,arguments)}function sA(){var t=Hy(Jh()).domain([.1,1,10]);return t.copy=function(){return qi(t,sA()).base(t.base())},di.apply(t,arguments)}function aA(){var t=Yy(Jh());return t.copy=function(){return qi(t,aA()).constant(t.constant())},di.apply(t,arguments)}function s0(){var t=Gy(Jh());return t.copy=function(){return qi(t,s0()).exponent(t.exponent())},di.apply(t,arguments)}function eF(){return s0.apply(null,arguments).exponent(.5)}const Do=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$y,scaleDiverging:iA,scaleDivergingLog:sA,scaleDivergingPow:s0,scaleDivergingSqrt:eF,scaleDivergingSymlog:aA,scaleIdentity:L2,scaleImplicit:Nv,scaleLinear:D2,scaleLog:B2,scaleOrdinal:Ly,scalePoint:F6,scalePow:Xy,scaleQuantile:U2,scaleQuantize:K2,scaleRadial:W2,scaleSequential:eA,scaleSequentialLog:tA,scaleSequentialPow:i0,scaleSequentialQuantile:nA,scaleSequentialSqrt:J8,scaleSequentialSymlog:rA,scaleSqrt:NB,scaleSymlog:F2,scaleThreshold:V2,scaleTime:Z8,scaleUtc:Q8,tickFormat:R2},Symbol.toStringTag,{value:"Module"}));var hi=t=>t.chartData,oA=F([hi],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),ef=(t,e,r,n)=>n?oA(t):hi(t),lA=(t,e,r)=>r?oA(t):hi(t);function ii(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(xe(e)&&xe(r))return!0}return!1}function JS(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function uA(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(xe(r))i=r;else if(typeof r=="function")return;if(xe(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(ii(a))return a}}function tF(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(ii(n))return JS(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(de(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&xw.test(i)){var u=xw.exec(i);if(u==null||u[1]==null||e==null)a=void 0;else{var c=+u[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(de(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&_w.test(s)){var d=_w.exec(s);if(d==null||d[1]==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var f=[a,o];if(ii(f))return e==null?f:JS(f,e,r)}}}var Ja=1e9,rF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o0,qe=!0,Xr="[DecimalError] ",ys=Xr+"Invalid argument: ",a0=Xr+"Exponent out of range: ",eo=Math.floor,is=Math.pow,nF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,kt=1e7,He=7,cA=9007199254740991,Id=eo(cA/He),fe={};fe.absoluteValue=fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};fe.comparedTo=fe.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*He;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};fe.dividedBy=fe.div=function(t){return Gn(this,new this.constructor(t))};fe.dividedToIntegerBy=fe.idiv=function(t){var e=this,r=e.constructor;return $e(Gn(e,new r(t),0,1),r.precision)};fe.equals=fe.eq=function(t){return!this.cmp(t)};fe.exponent=function(){return ft(this)};fe.greaterThan=fe.gt=function(t){return this.cmp(t)>0};fe.greaterThanOrEqualTo=fe.gte=function(t){return this.cmp(t)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(t){return this.cmp(t)<0};fe.lessThanOrEqualTo=fe.lte=function(t){return this.cmp(t)<1};fe.logarithm=fe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(kr))throw Error(Xr+"NaN");if(r.s<1)throw Error(Xr+(r.s?"NaN":"-Infinity"));return r.eq(kr)?new n(0):(qe=!1,e=Gn(Rl(r,s),Rl(t,s),s),qe=!0,$e(e,i))};fe.minus=fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fA(e,t):dA(e,(t.s=-t.s,t))};fe.modulo=fe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Xr+"NaN");return r.s?(qe=!1,e=Gn(r,t,0,1).times(t),qe=!0,r.minus(e)):$e(new n(r),i)};fe.naturalExponential=fe.exp=function(){return hA(this)};fe.naturalLogarithm=fe.ln=function(){return Rl(this)};fe.negated=fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};fe.plus=fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dA(e,t):fA(e,(t.s=-t.s,t))};fe.precision=fe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ys+t);if(e=ft(i)+1,n=i.d.length-1,r=n*He+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};fe.squareRoot=fe.sqrt=function(){var t,e,r,n,i,s,a,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Xr+"NaN")}for(t=ft(o),qe=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Mn(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=eo((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=a=r+3;;)if(s=n,n=s.plus(Gn(o,s,a+2)).times(.5),Mn(s.d).slice(0,a)===(e=Mn(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if($e(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return qe=!0,$e(n,r)};fe.times=fe.mul=function(t){var e,r,n,i,s,a,o,u,c,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,u=f.length,c=p.length,u<c&&(s=f,f=p,p=s,a=u,u=c,c=a),s=[],a=u+c,n=a;n--;)s.push(0);for(n=c;--n>=0;){for(e=0,i=u+n;i>n;)o=s[i]+p[n]*f[i-n-1]+e,s[i--]=o%kt|0,e=o/kt|0;s[i]=(s[i]+e)%kt|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,qe?$e(t,h.precision):t};fe.toDecimalPlaces=fe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Tn(t,0,Ja),e===void 0?e=n.rounding:Tn(e,0,8),$e(r,t+ft(r)+1,e))};fe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Is(n,!0):(Tn(t,0,Ja),e===void 0?e=i.rounding:Tn(e,0,8),n=$e(new i(n),t+1,e),r=Is(n,!0,t+1)),r};fe.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Is(i):(Tn(t,0,Ja),e===void 0?e=s.rounding:Tn(e,0,8),n=$e(new s(i),t+ft(i)+1,e),r=Is(n.abs(),!1,t+ft(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};fe.toInteger=fe.toint=function(){var t=this,e=t.constructor;return $e(new e(t),ft(t)+1,e.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(t){var e,r,n,i,s,a,o=this,u=o.constructor,c=12,d=+(t=new u(t));if(!t.s)return new u(kr);if(o=new u(o),!o.s){if(t.s<1)throw Error(Xr+"Infinity");return o}if(o.eq(kr))return o;if(n=u.precision,t.eq(kr))return $e(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=d<0?-d:d)<=cA){for(i=new u(kr),e=Math.ceil(n/He+4),qe=!1;r%2&&(i=i.times(o),tj(i.d,e)),r=eo(r/2),r!==0;)o=o.times(o),tj(o.d,e);return qe=!0,t.s<0?new u(kr).div(i):$e(i,n)}}else if(s<0)throw Error(Xr+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,qe=!1,i=t.times(Rl(o,n+c)),qe=!0,i=hA(i),i.s=s,i};fe.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=ft(i),n=Is(i,r<=s.toExpNeg||r>=s.toExpPos)):(Tn(t,1,Ja),e===void 0?e=s.rounding:Tn(e,0,8),i=$e(new s(i),t,e),r=ft(i),n=Is(i,t<=r||r<=s.toExpNeg,t)),n};fe.toSignificantDigits=fe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Tn(t,1,Ja),e===void 0?e=n.rounding:Tn(e,0,8)),$e(new n(r),t,e)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ft(t),r=t.constructor;return Is(t,e<=r.toExpNeg||e>=r.toExpPos)};function dA(t,e){var r,n,i,s,a,o,u,c,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),qe?$e(e,h):e;if(u=t.d,c=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(n=u,s=-s,o=c.length):(n=c,i=a,o=u.length),a=Math.ceil(h/He),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=u.length,s=c.length,o-s<0&&(s=o,n=c,c=u,u=n),r=0;s;)r=(u[--s]=u[s]+c[s]+r)/kt|0,u[s]%=kt;for(r&&(u.unshift(r),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,qe?$e(e,h):e}function Tn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ys+t)}function Mn(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=He-n.length,r&&(s+=xi(r)),s+=n;a=t[e],n=a+"",r=He-n.length,r&&(s+=xi(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Gn=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%kt|0,a=s/kt|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,u;if(s!=a)u=s>a?1:-1;else for(o=u=0;o<s;o++)if(n[o]!=i[o]){u=n[o]>i[o]?1:-1;break}return u}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*kt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,u,c,d,h,f,p,g,y,_,x,b,S,k,m,w,P,C,E=n.constructor,I=n.s==i.s?1:-1,D=n.d,z=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(Xr+"Division by zero");for(u=n.e-i.e,P=z.length,m=D.length,p=new E(I),g=p.d=[],c=0;z[c]==(D[c]||0);)++c;if(z[c]>(D[c]||0)&&--u,s==null?b=s=E.precision:a?b=s+(ft(n)-ft(i))+1:b=s,b<0)return new E(0);if(b=b/He+2|0,c=0,P==1)for(d=0,z=z[0],b++;(c<m||d)&&b--;c++)S=d*kt+(D[c]||0),g[c]=S/z|0,d=S%z|0;else{for(d=kt/(z[0]+1)|0,d>1&&(z=t(z,d),D=t(D,d),P=z.length,m=D.length),k=P,y=D.slice(0,P),_=y.length;_<P;)y[_++]=0;C=z.slice(),C.unshift(0),w=z[0],z[1]>=kt/2&&++w;do d=0,o=e(z,y,P,_),o<0?(x=y[0],P!=_&&(x=x*kt+(y[1]||0)),d=x/w|0,d>1?(d>=kt&&(d=kt-1),h=t(z,d),f=h.length,_=y.length,o=e(h,y,f,_),o==1&&(d--,r(h,P<f?C:z,f))):(d==0&&(o=d=1),h=z.slice()),f=h.length,f<_&&h.unshift(0),r(y,h,_),o==-1&&(_=y.length,o=e(z,y,P,_),o<1&&(d++,r(y,P<_?C:z,_))),_=y.length):o===0&&(d++,y=[0]),g[c++]=d,o&&y[0]?y[_++]=D[k]||0:(y=[D[k]],_=1);while((k++<m||y[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=u,$e(p,a?s+ft(p)+1:s)}}();function hA(t,e){var r,n,i,s,a,o,u=0,c=0,d=t.constructor,h=d.precision;if(ft(t)>16)throw Error(a0+ft(t));if(!t.s)return new d(kr);for(qe=!1,o=h,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(n=Math.log(is(2,c))/Math.LN10*2+5|0,o+=n,r=i=s=new d(kr),d.precision=o;;){if(i=$e(i.times(t),o),r=r.times(++u),a=s.plus(Gn(i,r,o)),Mn(a.d).slice(0,o)===Mn(s.d).slice(0,o)){for(;c--;)s=$e(s.times(s),o);return d.precision=h,e==null?(qe=!0,$e(s,h)):s}s=a}}function ft(t){for(var e=t.e*He,r=t.d[0];r>=10;r/=10)e++;return e}function Vp(t,e,r){if(e>t.LN10.sd())throw qe=!0,r&&(t.precision=r),Error(Xr+"LN10 precision limit exceeded");return $e(new t(t.LN10),e)}function xi(t){for(var e="";t--;)e+="0";return e}function Rl(t,e){var r,n,i,s,a,o,u,c,d,h=1,f=10,p=t,g=p.d,y=p.constructor,_=y.precision;if(p.s<1)throw Error(Xr+(p.s?"NaN":"-Infinity"));if(p.eq(kr))return new y(0);if(e==null?(qe=!1,c=_):c=e,p.eq(10))return e==null&&(qe=!0),Vp(y,c);if(c+=f,y.precision=c,r=Mn(g),n=r.charAt(0),s=ft(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Mn(p.d),n=r.charAt(0),h++;s=ft(p),n>1?(p=new y("0."+r),s++):p=new y(n+"."+r.slice(1))}else return u=Vp(y,c+2,_).times(s+""),p=Rl(new y(n+"."+r.slice(1)),c-f).plus(u),y.precision=_,e==null?(qe=!0,$e(p,_)):p;for(o=a=p=Gn(p.minus(kr),p.plus(kr),c),d=$e(p.times(p),c),i=3;;){if(a=$e(a.times(d),c),u=o.plus(Gn(a,new y(i),c)),Mn(u.d).slice(0,c)===Mn(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(Vp(y,c+2,_).times(s+""))),o=Gn(o,new y(h),c),y.precision=_,e==null?(qe=!0,$e(o,_)):o;o=u,i+=2}}function ej(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=eo(r/He),t.d=[],n=(r+1)%He,r<0&&(n+=He),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=He;n<i;)t.d.push(+e.slice(n,n+=He));e=e.slice(n),n=He-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),qe&&(t.e>Id||t.e<-Id))throw Error(a0+r)}else t.s=0,t.e=0,t.d=[0];return t}function $e(t,e,r){var n,i,s,a,o,u,c,d,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=He,i=e,c=h[d=0];else{if(d=Math.ceil((n+1)/He),s=h.length,d>=s)return t;for(c=s=h[d],a=1;s>=10;s/=10)a++;n%=He,i=n-He+a}if(r!==void 0&&(s=is(10,a-i-1),o=c/s%10|0,u=e<0||h[d+1]!==void 0||c%s,u=r<4?(o||u)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?i>0?c/is(10,a-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return u?(s=ft(t),h.length=1,e=e-s-1,h[0]=is(10,(He-e%He)%He),t.e=eo(-e/He)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,s=1,d--):(h.length=d+1,s=is(10,He-n),h[d]=i>0?(c/is(10,a-i)%is(10,i)|0)*s:0),u)for(;;)if(d==0){(h[0]+=s)==kt&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=kt)break;h[d--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(qe&&(t.e>Id||t.e<-Id))throw Error(a0+ft(t));return t}function fA(t,e){var r,n,i,s,a,o,u,c,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),qe?$e(e,p):e;if(u=t.d,h=e.d,n=e.e,c=t.e,u=u.slice(),a=c-n,a){for(d=a<0,d?(r=u,a=-a,o=h.length):(r=h,n=c,o=u.length),i=Math.max(Math.ceil(p/He),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=u.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(u[i]!=h[i]){d=u[i]<h[i];break}a=0}for(d&&(r=u,u=h,h=r,e.s=-e.s),o=u.length,i=h.length-o;i>0;--i)u[o++]=0;for(i=h.length;i>a;){if(u[--i]<h[i]){for(s=i;s&&u[--s]===0;)u[s]=kt-1;--u[s],u[i]+=kt}u[i]-=h[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,qe?$e(e,p):e):new f(0)}function Is(t,e,r){var n,i=ft(t),s=Mn(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+xi(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+xi(-i-1)+s,r&&(n=r-a)>0&&(s+=xi(n))):i>=a?(s+=xi(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+xi(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=xi(n))),t.s<0?"-"+s:s}function tj(t,e){if(t.length>e)return t.length=e,!0}function pA(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ys+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return ej(a,s.toString())}else if(typeof s!="string")throw Error(ys+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,nF.test(s))ej(a,s);else throw Error(ys+s)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pA,i.config=i.set=iF,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function iF(t){if(!t||typeof t!="object")throw Error(Xr+"Object expected");var e,r,n,i=["precision",1,Ja,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(eo(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ys+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ys+r+": "+n);return this}var o0=pA(rF);kr=new o0(1);const Ie=o0;function mA(t){var e;return t===0?e=1:e=Math.floor(new Ie(t).abs().log(10).toNumber())+1,e}function vA(t,e,r){for(var n=new Ie(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var gA=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},yA=(t,e,r)=>{if(t.lte(0))return new Ie(0);var n=mA(t.toNumber()),i=new Ie(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Ie(Math.ceil(s.div(a).toNumber())).add(r).mul(a),u=o.mul(i);return e?new Ie(u.toNumber()):new Ie(Math.ceil(u.toNumber()))},sF=(t,e,r)=>{var n=new Ie(1),i=new Ie(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Ie(10).pow(mA(t)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Ie(Math.floor(t)))}else t===0?i=new Ie(Math.floor((e-1)/2)):r||(i=new Ie(Math.floor(t)));for(var a=Math.floor((e-1)/2),o=[],u=0;u<e;u++)o.push(i.add(new Ie(u-a).mul(n)).toNumber());return o},xA=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var a=yA(new Ie(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new Ie(0):(o=new Ie(e).add(r).div(2),o=o.sub(new Ie(o).mod(a)));var u=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Ie(r).sub(o).div(a).toNumber()),d=u+c+1;return d>n?xA(e,r,n,i,s+1):(d<n&&(c=r>0?c+(n-d):c,u=r>0?u:u+(n-d)),{step:a,tickMin:o.sub(new Ie(u).mul(a)),tickMax:o.add(new Ie(c).mul(a))})},aF=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,u]=gA([r,n]);if(o===-1/0||u===1/0){var c=u===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return r>n?c.reverse():c}if(o===u)return sF(o,i,s);var{step:d,tickMin:h,tickMax:f}=xA(o,u,a,s,0),p=vA(h,f.add(new Ie(.1).mul(d)),d);return r>n?p.reverse():p},oF=function(e,r){var[n,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=gA([n,i]);if(a===-1/0||o===1/0)return[n,i];if(a===o)return[a];var u=Math.max(r,2),c=yA(new Ie(o).sub(a).div(u-1),s,0),d=[...vA(new Ie(a),new Ie(o),c),o];return s===!1&&(d=d.map(h=>Math.round(h))),n>i?d.reverse():d},_A=t=>t.rootProps.maxBarSize,lF=t=>t.rootProps.barGap,bA=t=>t.rootProps.barCategoryGap,uF=t=>t.rootProps.barSize,tf=t=>t.rootProps.stackOffset,wA=t=>t.rootProps.reverseStackOrder,l0=t=>t.options.chartName,u0=t=>t.rootProps.syncId,SA=t=>t.rootProps.syncMethod,c0=t=>t.options.eventEmitter,cF=t=>t.rootProps.baseValue,nt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ji={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},bn={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},rf=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function nf(t,e,r){if(r!=="auto")return r;if(t!=null)return vn(t,e)?"category":"number"}function rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(r),!0).forEach(function(n){dF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dF(t,e,r){return(e=hF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hF(t){var e=fF(t,"string");return typeof e=="symbol"?e:e+""}function fF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nj={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:Ji.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ji.angleAxisId,includeHidden:!1,name:void 0,reversed:Ji.reversed,scale:Ji.scale,tick:Ji.tick,tickCount:void 0,ticks:void 0,type:Ji.type,unit:void 0},ij={allowDataOverflow:bn.allowDataOverflow,allowDecimals:bn.allowDecimals,allowDuplicatedCategory:bn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bn.radiusAxisId,includeHidden:bn.includeHidden,name:void 0,reversed:bn.reversed,scale:bn.scale,tick:bn.tick,tickCount:bn.tickCount,ticks:void 0,type:bn.type,unit:void 0},pF=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},d0=F([pF,o2],(t,e)=>{var r;if(t!=null)return t;var n=(r=nf(e,"angleAxis",nj.type))!==null&&r!==void 0?r:"category";return Rd(Rd({},nj),{},{type:n})}),mF=(t,e)=>t.polarAxis.radiusAxis[e],h0=F([mF,o2],(t,e)=>{var r;if(t!=null)return t;var n=(r=nf(e,"radiusAxis",ij.type))!==null&&r!==void 0?r:"category";return Rd(Rd({},ij),{},{type:n})}),sf=t=>t.polarOptions,f0=F([ui,ci,Ct],v6),jA=F([sf,f0],(t,e)=>{if(t!=null)return fn(t.innerRadius,e,0)}),kA=F([sf,f0],(t,e)=>{if(t!=null)return fn(t.outerRadius,e,e*.8)}),vF=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},PA=F([sf],vF);F([d0,PA],rf);var MA=F([f0,jA,kA],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});F([h0,MA],rf);var CA=F([Oe,sf,jA,kA,ui,ci],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:u,endAngle:c}=e;return{cx:fn(a,i,i/2),cy:fn(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:c,clockWise:!1}}}),At=(t,e)=>e,af=(t,e,r)=>r;function of(t){return t==null?void 0:t.id}function EA(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return t.forEach(o=>{var u,c=(u=o.data)!==null&&u!==void 0?u:n;if(!(c==null||c.length===0)){var d=of(o);c.forEach((h,f)=>{var p=s==null||i?f:String(Ue(h,s,null)),g=Ue(h,o.dataKey,0),y;a.has(p)?y=a.get(p):y={},Object.assign(y,{[d]:g}),a.set(p,y)})}}),Array.from(a.values())}function lf(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var uf=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function cf(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function gF(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var Ot=t=>{var e=Oe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},to=t=>t.tooltip.settings.axisId;function yF(t){if(t in Do)return Do[t]();var e="scale".concat(Hl(t));if(e in Do)return Do[e]()}function sj(t){var e=t.ticks,r=t.bandwidth,n=t.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>t.domain(),range:function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],o=i[1];return a<=o?s>=a&&s<=o:s>=o&&s<=a},bandwidth:r?()=>r.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,a)=>{var o=t(s);if(o!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var u=t.bandwidth();switch(a.position){case"middle":o+=u/2;break;case"end":o+=u;break}}return o}}}}function aj(t,e,r){if(typeof t=="function")return sj(t.copy().domain(e).range(r));if(t!=null){var n=yF(t);if(n!=null)return n.domain(e).range(r),sj(n)}}var xF=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!ii(e)){for(var r,n,i=0;i<e.length;i++){var s=e[i];xe(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return e}default:return e}};function oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(r),!0).forEach(function(n){_F(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _F(t,e,r){return(e=bF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bF(t){var e=wF(t,"string");return typeof e=="symbol"?e:e+""}function wF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lv=[0,"auto"],St={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},AA=(t,e)=>t.cartesianAxis.xAxis[e],zn=(t,e)=>{var r=AA(t,e);return r??St},jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xl},OA=(t,e)=>t.cartesianAxis.yAxis[e],Nn=(t,e)=>{var r=OA(t,e);return r??jt},TA={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},p0=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??TA},lr=(t,e,r)=>{switch(e){case"xAxis":return zn(t,r);case"yAxis":return Nn(t,r);case"zAxis":return p0(t,r);case"angleAxis":return d0(t,r);case"radiusAxis":return h0(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},SF=(t,e,r)=>{switch(e){case"xAxis":return zn(t,r);case"yAxis":return Nn(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},nu=(t,e,r)=>{switch(e){case"xAxis":return zn(t,r);case"yAxis":return Nn(t,r);case"angleAxis":return d0(t,r);case"radiusAxis":return h0(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},zA=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function NA(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var ro=t=>t.graphicalItems.cartesianItems,jF=F([At,af],NA),IA=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),iu=F([ro,lr,jF],IA,{memoizeOptions:{resultEqualityCheck:cf}}),RA=F([iu],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(lf)),DA=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),kF=F([iu],DA),LA=t=>t.map(e=>e.data).filter(Boolean).flat(1),PF=F([iu],LA,{memoizeOptions:{resultEqualityCheck:cf}}),$A=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},m0=F([PF,ef],$A),BA=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ue(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Ue(i,n)}))):t.map(n=>({value:n})),df=F([m0,lr,iu],BA);function FA(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function jc(t){if(Yr(t)||t instanceof Date){var e=Number(t);if(xe(e))return e}}function lj(t){if(Array.isArray(t)){var e=[jc(t[0]),jc(t[1])];return ii(e)?e:void 0}var r=jc(t);if(r!=null)return[r,r]}function si(t){return t.map(jc).filter(pr)}function MF(t,e,r){return!r||typeof e!="number"||hn(e)?[]:r.length?si(r.flatMap(n=>{var i=Ue(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!xe(s)||!xe(a)))return[e-s,e+a]})):[]}var bt=t=>{var e=Ot(t),r=to(t);return nu(t,e,r)},su=F([bt],t=>t==null?void 0:t.dataKey),CF=F([RA,ef,bt],EA),WA=(t,e,r,n)=>{var i={},s=e.reduce((a,o)=>{if(o.stackId==null)return a;var u=a[o.stackId];return u==null&&(u=[]),u.push(o),a[o.stackId]=u,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,u]=a,c=n?[...u].reverse():u,d=c.map(of);return[o,{stackedData:f3(t,d,r),graphicalItems:c}]}))},Ld=F([CF,RA,tf,wA],WA),UA=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(n==null&&r!=="zAxis"){var a=g3(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},EF=F([lr],t=>t.allowDataOverflow),v0=t=>{var e;if(t==null||!("domain"in t))return Lv;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=si(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Lv},KA=F([lr],v0),VA=F([KA,EF],uA),AF=F([Ld,hi,At,VA],UA,{memoizeOptions:{resultEqualityCheck:uf}}),g0=t=>t.errorBars,OF=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>FA(r,n)),$d=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},HA=(t,e,r,n,i)=>{var s,a;if(r.length>0&&t.forEach(o=>{r.forEach(u=>{var c,d,h=(c=n[u.id])===null||c===void 0?void 0:c.filter(x=>FA(i,x)),f=Ue(o,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey),p=MF(o,f,h);if(p.length>=2){var g=Math.min(...p),y=Math.max(...p);(s==null||g<s)&&(s=g),(a==null||y>a)&&(a=y)}var _=lj(f);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var u=lj(Ue(o,e.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),xe(s)&&xe(a))return[s,a]},TF=F([m0,lr,kF,g0,At],HA,{memoizeOptions:{resultEqualityCheck:uf}});function zF(t){var{value:e}=t;if(Yr(e)||e instanceof Date)return e}var NF=(t,e,r)=>{var n=t.map(zF).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&LC(n))?M2(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},YA=t=>t.referenceElements.dots,no=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),IF=F([YA,At,af],no),GA=t=>t.referenceElements.areas,RF=F([GA,At,af],no),XA=t=>t.referenceElements.lines,DF=F([XA,At,af],no),qA=(t,e)=>{if(t!=null){var r=si(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},LF=F(IF,At,qA),ZA=(t,e)=>{if(t!=null){var r=si(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},$F=F([RF,At],ZA);function BF(t){var e;if(t.x!=null)return si([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:si(r)}function FF(t){var e;if(t.y!=null)return si([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:si(r)}var QA=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?BF(n):FF(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},WF=F([DF,At],QA),UF=F(LF,WF,$F,(t,e,r)=>$d(t,r,e)),JA=(t,e,r,n,i,s,a,o)=>{if(r!=null)return r;var u=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=u?$d(n,s,i):$d(s,i);return tF(e,c,t.allowDataOverflow)},KF=F([lr,KA,VA,AF,TF,UF,Oe,At],JA,{memoizeOptions:{resultEqualityCheck:uf}}),VF=[0,1],eO=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:u}=t,c=vn(e,s);if(c&&o==null){var d;return M2(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return u==="category"?NF(n,t,c):i==="expand"?VF:a}},y0=F([lr,Oe,m0,df,tf,At,KF],eO);function HF(t){return t in Do}var tO=(t,e,r)=>{if(t!=null){var{scale:n,type:i}=t;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(Hl(n));return HF(s)?s:"point"}}},io=F([lr,zA,l0],tO);function x0(t,e,r,n){if(!(r==null||n==null))return typeof t.scale=="function"?aj(t.scale,r,n):aj(e,r,n)}var rO=(t,e,r)=>{var n=v0(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ii(t))return aF(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ii(t))return oF(t,e.tickCount,e.allowDecimals)}},_0=F([y0,nu,io],rO),nO=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ii(e)&&Array.isArray(r)&&r.length>0){var i,s,a=e[0],o=(i=r[0])!==null&&i!==void 0?i:0,u=e[1],c=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,o),Math.max(u,c)]}return e},YF=F([lr,y0,_0,At],nO),GF=F(df,lr,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(si(t.map(h=>h.value))).sort((h,f)=>h-f),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<n.length-1;o++){var u=n[o],c=n[o+1];if(!(u==null||c==null)){var d=c-u;r=Math.min(r,d)}}return r/a}}),iO=F(GF,Oe,bA,Ct,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!xe(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=fn(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),XF=(t,e,r)=>{var n=zn(t,e);return n==null||typeof n.padding!="string"?0:iO(t,"xAxis",e,r,n.padding)},qF=(t,e,r)=>{var n=Nn(t,e);return n==null||typeof n.padding!="string"?0:iO(t,"yAxis",e,r,n.padding)},ZF=F(zn,XF,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),QF=F(Nn,qF,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),JF=F([Ct,ZF,Kh,Uh,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),eW=F([Ct,Oe,QF,Kh,Uh,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),au=(t,e,r,n)=>{var i;switch(e){case"xAxis":return JF(t,r,n);case"yAxis":return eW(t,r,n);case"zAxis":return(i=p0(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return PA(t);case"radiusAxis":return MA(t,r);default:return}},sO=F([lr,au],rf),tW=F([io,YF],xF),Ka=F([lr,io,tW,sO],x0);F([iu,g0,At],OF);function aO(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var hf=(t,e)=>e,ff=(t,e,r)=>r,rW=F(Fh,hf,ff,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(aO)),nW=F(Wh,hf,ff,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(aO)),oO=(t,e)=>({width:t.width,height:e.height}),iW=(t,e)=>{var r=typeof e.width=="number"?e.width:Xl;return{width:r,height:t.height}},lO=F(Ct,zn,oO),sW=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},aW=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},oW=F(ci,Ct,rW,hf,ff,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var u=oO(e,o);a==null&&(a=sW(e,n,t));var c=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(c)*u.height,a+=(c?-1:1)*u.height}),s}),lW=F(ui,Ct,nW,hf,ff,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var u=iW(e,o);a==null&&(a=aW(e,n,t));var c=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(c)*u.width,a+=(c?-1:1)*u.width}),s}),uW=(t,e)=>{var r=zn(t,e);if(r!=null)return oW(t,r.orientation,r.mirror)},cW=F([Ct,zn,uW,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),dW=(t,e)=>{var r=Nn(t,e);if(r!=null)return lW(t,r.orientation,r.mirror)},hW=F([Ct,Nn,dW,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),uO=F(Ct,Nn,(t,e)=>{var r=typeof e.width=="number"?e.width:Xl;return{width:r,height:t.height}}),uj=(t,e,r)=>{switch(e){case"xAxis":return lO(t,r).width;case"yAxis":return uO(t,r).height;default:return}},cO=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=vn(t,n),u=e.map(c=>c.value);if(a&&o&&s==="category"&&i&&LC(u))return u}},b0=F([Oe,df,lr,At],cO),dO=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=vn(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},w0=F([Oe,df,nu,At],dO),cj=F([Oe,SF,io,Ka,b0,w0,au,_0,At],(t,e,r,n,i,s,a,o,u)=>{if(e!=null){var c=vn(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:r,scale:n}}}),fW=(t,e,r,n,i,s,a,o,u)=>{if(!(e==null||n==null)){var c=vn(t,u),{type:d,ticks:h,tickCount:f}=e,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=u==="angleAxis"&&s!=null&&s.length>=2?fr(s[0]-s[1])*2*g:g;var y=h||i;return y?y.map((_,x)=>{var b=a?a.indexOf(_):_,S=n.map(b);return xe(S)?{index:x,coordinate:S+g,value:_,offset:g}:null}).filter(pr):c&&o?o.map((_,x)=>{var b=n.map(_);return xe(b)?{coordinate:b+g,value:_,index:x,offset:g}:null}).filter(pr):n.ticks?n.ticks(f).map((_,x)=>{var b=n.map(_);return xe(b)?{coordinate:b+g,value:_,index:x,offset:g}:null}).filter(pr):n.domain().map((_,x)=>{var b=n.map(_);return xe(b)?{coordinate:b+g,value:a?a[_]:_,index:x,offset:g}:null}).filter(pr)}},hO=F([Oe,nu,io,Ka,_0,au,b0,w0,At],fW),pW=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=vn(t,a),{tickCount:u}=e,c=0;return c=a==="angleAxis"&&(n==null?void 0:n.length)>=2?fr(n[0]-n[1])*2*c:c,o&&s?s.map((d,h)=>{var f=r.map(d);return xe(f)?{coordinate:f+c,value:d,index:h,offset:c}:null}).filter(pr):r.ticks?r.ticks(u).map((d,h)=>{var f=r.map(d);return xe(f)?{coordinate:f+c,value:d,index:h,offset:c}:null}).filter(pr):r.domain().map((d,h)=>{var f=r.map(d);return xe(f)?{coordinate:f+c,value:i?i[d]:d,index:h,offset:c}:null}).filter(pr)}},qr=F([Oe,nu,Ka,au,b0,w0,At],pW),Zr=F(lr,Ka,(t,e)=>{if(!(t==null||e==null))return Dd(Dd({},t),{},{scale:e})}),mW=F([lr,io,y0,sO],x0),vW=F((t,e,r)=>p0(t,r),mW,(t,e)=>{if(!(t==null||e==null))return Dd(Dd({},t),{},{scale:e})}),gW=F([Oe,Fh,Wh],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fO=t=>t.options.defaultTooltipEventType,pO=t=>t.options.validateTooltipEventTypes;function mO(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function S0(t,e){var r=fO(t),n=pO(t);return mO(e,r,n)}function yW(t){return me(e=>S0(e,t))}var vO=(t,e)=>{var r,n=Number(e);if(!(hn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},xW=t=>t.tooltip.settings,ji={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_W={itemInteraction:{click:ji,hover:ji},axisInteraction:{click:ji,hover:ji},keyboardInteraction:ji,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gO=br({name:"tooltip",initialState:_W,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ge()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=cn(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:Ge()},removeTooltipEntrySettings:{reducer(t,e){var r=cn(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Ge()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:bW,replaceTooltipEntrySettings:wW,removeTooltipEntrySettings:SW,setTooltipSettingsState:jW,setActiveMouseOverItemIndex:yO,mouseLeaveItem:kW,mouseLeaveChart:xO,setActiveClickItemIndex:PW,setMouseOverAxisIndex:_O,setMouseClickAxisIndex:MW,setSyncInteraction:$v,setKeyboardInteraction:Bv}=gO.actions,CW=gO.reducer;function dj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(r),!0).forEach(function(n){EW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EW(t,e,r){return(e=AW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AW(t){var e=OW(t,"string");return typeof e=="symbol"?e:e+""}function OW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TW(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function zW(t){return t.index!=null}var bO=(t,e,r,n)=>{if(e==null)return ji;var i=TW(t,e,r);if(i==null)return ji;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(zW(i)){if(s)return tc(tc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return tc(tc({},ji),{},{coordinate:i.coordinate})};function NW(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function IW(t,e){var r=NW(t),n=e[0],i=e[1];if(r===void 0)return!1;var s=Math.min(n,i),a=Math.max(n,i);return r>=s&&r<=a}function RW(t,e,r){if(r==null||e==null)return!0;var n=Ue(t,e);return n==null||!ii(r)?!0:IW(n,r)}var j0=(t,e,r,n)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!xe(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(a,Math.min(s,o)),c=e[u];return c==null||RW(c,r,n)?String(u):null},wO=(t,e,r,n,i,s,a)=>{if(s!=null){var o=a[0],u=o==null?void 0:o.getPosition(s);if(u!=null)return u;var c=i==null?void 0:i[Number(s)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:c.coordinate}}}},SO=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},jO=t=>t.options.tooltipPayloadSearcher,so=t=>t.tooltip;function hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(r),!0).forEach(function(n){DW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DW(t,e,r){return(e=LW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LW(t){var e=$W(t,"string");return typeof e=="symbol"?e:e+""}function $W(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BW(t,e){return t??e}var kO=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:u,dataStartIndex:c,dataEndIndex:d}=r,h=[];return t.reduce((f,p)=>{var g,{dataDefinedOnItem:y,settings:_}=p,x=BW(y,o),b=Array.isArray(x)?HE(x,c,d):x,S=(g=_==null?void 0:_.dataKey)!==null&&g!==void 0?g:n,k=_==null?void 0:_.nameKey,m;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&a==="axis"?m=$C(b,n,i):m=s(b,e,u,k),Array.isArray(m))m.forEach(P=>{var C=fj(fj({},_),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});f.push(bw({tooltipEntrySettings:C,dataKey:P.dataKey,payload:P.payload,value:Ue(P.payload,P.dataKey),name:P.name}))});else{var w;f.push(bw({tooltipEntrySettings:_,dataKey:S,payload:m,value:Ue(m,S),name:(w=Ue(m,k))!==null&&w!==void 0?w:_==null?void 0:_.name}))}return f},h)}},k0=F([bt,zA,l0],tO),FW=F([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),WW=F([Ot,to],NA),ao=F([FW,bt,WW],IA,{memoizeOptions:{resultEqualityCheck:cf}}),UW=F([ao],t=>t.filter(lf)),KW=F([ao],LA,{memoizeOptions:{resultEqualityCheck:cf}}),oo=F([KW,hi],$A),VW=F([UW,hi,bt],EA),P0=F([oo,bt,ao],BA),PO=F([bt],v0),HW=F([bt],t=>t.allowDataOverflow),MO=F([PO,HW],uA),YW=F([ao],t=>t.filter(lf)),GW=F([VW,YW,tf,wA],WA),XW=F([GW,hi,Ot,MO],UA),qW=F([ao],DA),ZW=F([oo,bt,qW,g0,Ot],HA,{memoizeOptions:{resultEqualityCheck:uf}}),QW=F([YA,Ot,to],no),JW=F([QW,Ot],qA),e7=F([GA,Ot,to],no),t7=F([e7,Ot],ZA),r7=F([XA,Ot,to],no),n7=F([r7,Ot],QA),i7=F([JW,n7,t7],$d),s7=F([bt,PO,MO,XW,ZW,i7,Oe,Ot],JA),ou=F([bt,Oe,oo,P0,tf,Ot,s7],eO),a7=F([ou,bt,k0],rO),o7=F([bt,ou,a7,Ot],nO),CO=t=>{var e=Ot(t),r=to(t),n=!1;return au(t,e,r,n)},EO=F([bt,CO],rf),AO=F([bt,k0,o7,EO],x0),l7=F([Oe,P0,bt,Ot],cO),u7=F([Oe,P0,bt,Ot],dO),c7=(t,e,r,n,i,s,a,o)=>{if(e){var{type:u}=e,c=vn(t,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fr(i[0]-i[1])*2*h:h,c&&a?a.map((f,p)=>{var g=n.map(f);return xe(g)?{coordinate:g+h,value:f,index:p,offset:h}:null}).filter(pr):n.domain().map((f,p)=>{var g=n.map(f);return xe(g)?{coordinate:g+h,value:s?s[f]:f,index:p,offset:h}:null}).filter(pr)}}},fi=F([Oe,bt,k0,AO,CO,l7,u7,Ot],c7),M0=F([fO,pO,xW],(t,e,r)=>mO(r.shared,t,e)),OO=t=>t.tooltip.settings.trigger,C0=t=>t.tooltip.settings.defaultIndex,lu=F([so,M0,OO,C0],bO),Wi=F([lu,oo,su,ou],j0),TO=F([fi,Wi],vO),zO=F([lu],t=>{if(t)return t.dataKey});F([lu],t=>{if(t)return t.graphicalItemId});var NO=F([so,M0,OO,C0],SO),d7=F([ui,ci,Oe,Ct,fi,C0,NO],wO),h7=F([lu,d7],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),f7=F([lu],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),p7=F([NO,Wi,hi,su,TO,jO,M0],kO),m7=F([p7],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function pj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(r),!0).forEach(function(n){v7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v7(t,e,r){return(e=g7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g7(t){var e=y7(t,"string");return typeof e=="symbol"?e:e+""}function y7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x7=()=>me(bt),_7=()=>{var t=x7(),e=me(fi),r=me(AO);return Fi(!t||!r?void 0:mj(mj({},t),{},{scale:r}),e)};function vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(r),!0).forEach(function(n){b7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b7(t,e,r){return(e=w7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w7(t){var e=S7(t,"string");return typeof e=="symbol"?e:e+""}function S7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j7=(t,e,r,n)=>{var i=e.find(s=>s&&s.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},k7=(t,e,r,n)=>{var i=e.find(c=>c&&c.index===r);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Gs(Gs(Gs({},n),Bt(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:u}=n;return Gs(Gs(Gs({},n),Bt(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function P7(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var IO=(t,e,r,n,i)=>{var s,a=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var u,c,d,h,f,p=o>0?(u=r[o-1])===null||u===void 0?void 0:u.coordinate:(c=r[a-1])===null||c===void 0?void 0:c.coordinate,g=(d=r[o])===null||d===void 0?void 0:d.coordinate,y=o>=a-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(f=r[o+1])===null||f===void 0?void 0:f.coordinate,_=void 0;if(!(p==null||g==null||y==null))if(fr(g-p)!==fr(y-g)){var x=[];if(fr(y-g)===fr(i[1]-i[0])){_=y;var b=g+i[1]-i[0];x[0]=Math.min(b,(b+p)/2),x[1]=Math.max(b,(b+p)/2)}else{_=p;var S=y+i[1]-i[0];x[0]=Math.min(g,(S+g)/2),x[1]=Math.max(g,(S+g)/2)}var k=[Math.min(g,(_+g)/2),Math.max(g,(_+g)/2)];if(t>k[0]&&t<=k[1]||t>=x[0]&&t<=x[1]){var m;return(m=r[o])===null||m===void 0?void 0:m.index}}else{var w=Math.min(p,y),P=Math.max(p,y);if(t>(w+g)/2&&t<=(P+g)/2){var C;return(C=r[o])===null||C===void 0?void 0:C.index}}}else if(e)for(var E=0;E<a;E++){var I=e[E];if(I!=null){var D=e[E+1],z=e[E-1];if(E===0&&D!=null&&t<=(I.coordinate+D.coordinate)/2||E===a-1&&z!=null&&t>(I.coordinate+z.coordinate)/2||E>0&&E<a-1&&z!=null&&D!=null&&t>(I.coordinate+z.coordinate)/2&&t<=(I.coordinate+D.coordinate)/2)return I.index}}return-1},RO=()=>me(l0),E0=(t,e)=>e,DO=(t,e,r)=>r,A0=(t,e,r,n)=>n,M7=F(fi,t=>Oh(t,e=>e.coordinate)),O0=F([so,E0,DO,A0],bO),T0=F([O0,oo,su,ou],j0),C7=(t,e,r)=>{if(e!=null){var n=so(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},LO=F([so,E0,DO,A0],SO),Bd=F([ui,ci,Oe,Ct,fi,A0,LO],wO),E7=F([O0,Bd],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),$O=F([fi,T0],vO),A7=F([LO,T0,hi,su,$O,jO,E0],kO),O7=F([O0,T0],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),T7=(t,e,r,n,i,s,a)=>{if(!(!t||!r||!n||!i)&&P7(t,a)){var o=y3(t,e),u=IO(o,s,i,r,n),c=j7(e,i,u,t);return{activeIndex:String(u),activeCoordinate:c}}},z7=(t,e,r,n,i,s,a)=>{if(!(!t||!n||!i||!s||!r)){var o=b6(t,r);if(o){var u=x3(o,e),c=IO(u,a,s,n,i),d=k7(e,s,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},N7=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s))return e==="horizontal"||e==="vertical"?T7(t,e,n,i,s,a,o):z7(t,e,r,n,i,s,a)},I7=F(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),R7=F(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(nt)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:gF}});function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){D7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D7(t,e,r){return(e=L7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L7(t){var e=$7(t,"string");return typeof e=="symbol"?e:e+""}function $7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B7={},F7={zIndexMap:Object.values(nt).reduce((t,e)=>yj(yj({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),B7)},W7=new Set(Object.values(nt));function U7(t){return W7.has(t)}var BO=br({name:"zIndex",initialState:F7,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ge()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!U7(r)&&delete t.zIndexMap[r])},prepare:Ge()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Ge()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Ge()}}}),{registerZIndexPortal:K7,unregisterZIndexPortal:V7,registerZIndexPortalElement:H7,unregisterZIndexPortalElement:Y7}=BO.actions,G7=BO.reducer;function Zt(t){var{zIndex:e,children:r}=t,n=H3(),i=n&&e!==void 0&&e!==0,s=ct(),a=st();v.useLayoutEffect(()=>i?(a(K7({zIndex:e})),()=>{a(V7({zIndex:e}))}):Hi,[a,e,i]);var o=me(u=>I7(u,e,s));return i?o?Jg.createPortal(r,o):null:r}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fv.apply(null,arguments)}function xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(r),!0).forEach(function(n){X7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X7(t,e,r){return(e=q7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q7(t){var e=Z7(t,"string");return typeof e=="symbol"?e:e+""}function Z7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q7(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return v.isValidElement(e)?v.cloneElement(e,n):v.createElement(r,n)}function J7(t){var e,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:u,tooltipEventType:c,chartName:d}=t,h=r,f=n,p=i;if(!u||!h||d!=="ScatterChart"&&c!=="axis")return null;var g,y,_;if(d==="ScatterChart")g=h,y=N$,_=nt.cursorLine;else if(d==="BarChart")g=I$(o,h,s,a),y=_2,_=nt.cursorRectangle;else if(o==="radial"&&FC(h)){var{cx:x,cy:b,radius:S,startAngle:k,endAngle:m}=b2(h);g={cx:x,cy:b,startAngle:k,endAngle:m,innerRadius:S,outerRadius:S},y=S2,_=nt.cursorLine}else g={points:k6(o,h,s)},y=ja,_=nt.cursorLine;var w=typeof u=="object"&&"className"in u?u.className:void 0,P=rc(rc(rc(rc({stroke:"#ccc",pointerEvents:"none"},s),g),Ga(u)),{},{payload:f,payloadIndex:p,className:ze("recharts-tooltip-cursor",w)});return v.createElement(Zt,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},v.createElement(Q7,{cursor:u,cursorComp:y,cursorProps:P}))}function eU(t){var e=_7(),r=i2(),n=Gi(),i=RO();return e==null||r==null||n==null||i==null?null:v.createElement(J7,Fv({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var FO=v.createContext(null),tU=()=>v.useContext(FO),WO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||u,f),g=r?r+c:c;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function a(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},o.prototype.listenerCount=function(c){var d=r?r+c:c,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,d,h,f,p,g){var y=r?r+c:c;if(!this._events[y])return!1;var _=this._events[y],x=arguments.length,b,S;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),x){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,d),!0;case 3:return _.fn.call(_.context,d,h),!0;case 4:return _.fn.call(_.context,d,h,f),!0;case 5:return _.fn.call(_.context,d,h,f,p),!0;case 6:return _.fn.call(_.context,d,h,f,p,g),!0}for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];_.fn.apply(_.context,b)}else{var k=_.length,m;for(S=0;S<k;S++)switch(_[S].once&&this.removeListener(c,_[S].fn,void 0,!0),x){case 1:_[S].fn.call(_[S].context);break;case 2:_[S].fn.call(_[S].context,d);break;case 3:_[S].fn.call(_[S].context,d,h);break;case 4:_[S].fn.call(_[S].context,d,h,f);break;default:if(!b)for(m=1,b=new Array(x-1);m<x;m++)b[m-1]=arguments[m];_[S].fn.apply(_[S].context,b)}}return!0},o.prototype.on=function(c,d,h){return s(this,c,d,h,!1)},o.prototype.once=function(c,d,h){return s(this,c,d,h,!0)},o.prototype.removeListener=function(c,d,h,f){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&a(this,p);else{for(var y=0,_=[],x=g.length;y<x;y++)(g[y].fn!==d||f&&!g[y].once||h&&g[y].context!==h)&&_.push(g[y]);_.length?this._events[p]=_.length===1?_[0]:_:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(WO);var rU=WO.exports;const nU=oi(rU);var Dl=new nU,Wv="recharts.syncEvent.tooltip",_j="recharts.syncEvent.brush",uu=(t,e)=>{if(e&&Array.isArray(t)){var r=Number.parseInt(e,10);if(!hn(r))return t[r]}},iU={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},UO=br({name:"options",initialState:iU,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sU=UO.reducer,{createEventEmitter:aU}=UO.actions;function oU(t){return t.tooltip.syncInteraction}var lU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KO=br({name:"chartData",initialState:lU,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:bj,setDataStartEndIndexes:uU,setComputedData:jZ}=KO.actions,cU=KO.reducer,dU=["x","y"];function wj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(r),!0).forEach(function(n){hU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hU(t,e,r){return(e=fU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fU(t){var e=pU(t,"string");return typeof e=="symbol"?e:e+""}function pU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mU(t,e){if(t==null)return{};var r,n,i=vU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function vU(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gU(){var t=me(u0),e=me(c0),r=st(),n=me(SA),i=me(fi),s=Gi(),a=Xa(),o=me(u=>u.rootProps.className);v.useEffect(()=>{if(t==null)return Hi;var u=(c,d,h)=>{if(e!==h&&t===c){if(n==="index"){var f;if(a&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y}=p,_=mU(p,dU),{x,y:b,width:S,height:k}=d.payload.sourceViewBox,m=Xs(Xs({},_),{},{x:a.x+(S?(g-x)/S:0)*a.width,y:a.y+(k?(y-b)/k:0)*a.height});r(Xs(Xs({},d),{},{payload:Xs(Xs({},d.payload),{},{coordinate:m})}))}else r(d);return}if(i!=null){var w;if(typeof n=="function"){var P={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},C=n(i,P);w=i[C]}else n==="value"&&(w=i.find(oe=>String(oe.value)===d.payload.label));var{coordinate:E}=d.payload;if(w==null||d.payload.active===!1||E==null||a==null){r($v({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:D}=E,z=Math.min(I,a.x+a.width),X=Math.min(D,a.y+a.height),Z={x:s==="horizontal"?w.coordinate:z,y:s==="horizontal"?X:w.coordinate},H=$v({active:d.payload.active,coordinate:Z,dataKey:d.payload.dataKey,index:String(w.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(H)}}};return Dl.on(Wv,u),()=>{Dl.off(Wv,u)}},[o,r,e,t,n,i,s,a])}function yU(){var t=me(u0),e=me(c0),r=st();v.useEffect(()=>{if(t==null)return Hi;var n=(i,s,a)=>{e!==a&&t===i&&r(uU(s))};return Dl.on(_j,n),()=>{Dl.off(_j,n)}},[r,e,t])}function xU(){var t=st();v.useEffect(()=>{t(aU())},[t]),gU(),yU()}function _U(t,e,r,n,i,s){var a=me(p=>C7(p,t,e)),o=me(c0),u=me(u0),c=me(SA),d=me(oU),h=d==null?void 0:d.active,f=Xa();v.useEffect(()=>{if(!h&&u!=null&&o!=null){var p=$v({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:f,graphicalItemId:void 0});Dl.emit(Wv,u,p,o)}},[h,r,a,i,n,o,u,c,s,f])}function Sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(r),!0).forEach(function(n){bU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bU(t,e,r){return(e=wU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wU(t){var e=SU(t,"string");return typeof e=="symbol"?e:e+""}function SU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jU(t){return t.dataKey}function kU(t,e){return v.isValidElement(t)?v.cloneElement(t,e):typeof t=="function"?v.createElement(t,e):v.createElement(f$,e)}var kj=[],PU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Lr(t){var e,r,n=pt(t,PU),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:u,filterNull:c,isAnimationActive:d,offset:h,payloadUniqBy:f,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:_,cursor:x,shared:b,trigger:S,defaultIndex:k,portal:m,axisId:w}=n,P=st(),C=typeof k=="number"?String(k):k;v.useEffect(()=>{P(jW({shared:b,trigger:S,axisId:w,active:i,defaultIndex:C}))},[P,b,S,w,i,C]);var E=Xa(),I=m2(),D=yW(b),{activeIndex:z,isActive:X}=(e=me(B=>O7(B,D,S,C)))!==null&&e!==void 0?e:{},Z=me(B=>A7(B,D,S,C)),H=me(B=>$O(B,D,S,C)),oe=me(B=>E7(B,D,S,C)),O=Z,R=tU(),N=(r=i??X)!==null&&r!==void 0?r:!1,[L,Q]=i4([O,N]),G=D==="axis"?H:void 0;_U(D,S,oe,G,z,N);var ye=m??R;if(ye==null||E==null||D==null)return null;var pe=O??kj;N||(pe=kj),c&&pe.length&&(pe=w5(pe.filter(B=>B.value!=null&&(B.hide!==!0||n.includeHidden)),f,jU));var ve=pe.length>0,T=v.createElement(_$,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:N,coordinate:oe,hasPayload:ve,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:E,wrapperStyle:_,lastBoundingBox:L,innerRef:Q,hasPortalFromProps:!!m},kU(u,jj(jj({},n),{},{payload:pe,label:G,active:N,activeIndex:z,coordinate:oe,accessibilityLayer:I})));return v.createElement(v.Fragment,null,Jg.createPortal(T,ye),N&&v.createElement(eU,{cursor:x,tooltipEventType:D,coordinate:oe,payload:pe,index:z}))}var ds=t=>null;ds.displayName="Cell";function MU(t,e,r){return(e=CU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CU(t){var e=EU(t,"string");return typeof e=="symbol"?e:e+""}function EU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AU{constructor(e){MU(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Pj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(r),!0).forEach(function(n){TU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TU(t,e,r){return(e=zU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zU(t){var e=NU(t,"string");return typeof e=="symbol"?e:e+""}function NU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IU={cacheSize:2e3,enableCache:!0},VO=OU({},IU),Mj=new AU(VO.cacheSize),RU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Cj="recharts_measurement_span";function DU(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var Ej=(t,e)=>{try{var r=document.getElementById(Cj);r||(r=document.createElement("span"),r.setAttribute("id",Cj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,RU,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},el=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ql.isSsr)return{width:0,height:0};if(!VO.enableCache)return Ej(e,r);var n=DU(e,r),i=Mj.get(n);if(i)return i;var s=Ej(e,r);return Mj.set(n,s),s},HO;function LU(t,e,r){return(e=$U(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $U(t){var e=BU(t,"string");return typeof e=="symbol"?e:e+""}function BU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Oj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,WU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KU=["cm","mm","pt","pc","in","Q","px"];function VU(t){return KU.includes(t)}var ha="NaN";function HU(t,e){return t*UU[e]}class Lt{static parse(e){var r,[,n,i]=(r=WU.exec(e))!==null&&r!==void 0?r:[];return n==null?Lt.NaN:new Lt(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,hn(e)&&(this.unit=""),r!==""&&!FU.test(r)&&(this.num=NaN,this.unit=""),VU(r)&&(this.num=HU(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Lt(NaN,""):new Lt(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Lt(NaN,""):new Lt(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Lt(NaN,""):new Lt(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Lt(NaN,""):new Lt(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hn(this.num)}}HO=Lt;LU(Lt,"NaN",new HO(NaN,""));function YO(t){if(t==null||t.includes(ha))return ha;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=Aj.exec(e))!==null&&r!==void 0?r:[],a=Lt.parse(n??""),o=Lt.parse(s??""),u=i==="*"?a.multiply(o):a.divide(o);if(u.isNaN())return ha;e=e.replace(Aj,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,d,h,f]=(c=Oj.exec(e))!==null&&c!==void 0?c:[],p=Lt.parse(d??""),g=Lt.parse(f??""),y=h==="+"?p.add(g):p.subtract(g);if(y.isNaN())return ha;e=e.replace(Oj,y.toString())}return e}var Tj=/\(([^()]*)\)/;function YU(t){for(var e=t,r;(r=Tj.exec(e))!=null;){var[,n]=r;e=e.replace(Tj,YO(n))}return e}function GU(t){var e=t.replace(/\s+/g,"");return e=YU(e),e=YO(e),e}function XU(t){try{return GU(t)}catch{return ha}}function Hp(t){var e=XU(t.slice(5,-1));return e===ha?"":e}var qU=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ZU=["dx","dy","angle","className","breakAll"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uv.apply(null,arguments)}function zj(t,e){if(t==null)return{};var r,n,i=QU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function QU(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var GO=/[ \f\n\r\t\v\u2028\u2029]+/,XO=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];Re(e)||(r?i=e.toString().split(""):i=e.toString().split(GO));var s=i.map(o=>({word:o,width:el(o,n).width})),a=r?0:el("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function JU(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var qO=(t,e,r,n)=>t.reduce((i,s)=>{var{word:a,width:o}=s,u=i[i.length-1];if(u&&o!=null&&(e==null||n||u.width+o+r<Number(e)))u.words.push(a),u.width+=o+r;else{var c={words:[a],width:o};i.push(c)}return i},[]),ZO=t=>t.reduce((e,r)=>e.width>r.width?e:r),eK="",Nj=(t,e,r,n,i,s,a,o)=>{var u=t.slice(0,e),c=XO({breakAll:r,style:n,children:u+eK});if(!c)return[!1,[]];var d=qO(c.wordsWithComputedWidth,s,a,o),h=d.length>i||ZO(d).width>Number(s);return[h,d]},tK=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:u}=t,c=de(s),d=String(a),h=qO(e,n,r,i);if(!c||i)return h;var f=h.length>s||ZO(h).width>Number(n);if(!f)return h;for(var p=0,g=d.length-1,y=0,_;p<=g&&y<=d.length-1;){var x=Math.floor((p+g)/2),b=x-1,[S,k]=Nj(d,b,u,o,s,n,r,i),[m]=Nj(d,x,u,o,s,n,r,i);if(!S&&!m&&(p=x+1),S&&m&&(g=x-1),!S&&m){_=k;break}y++}return _||h},Ij=t=>{var e=Re(t)?[]:t.toString().split(GO);return[{words:e,width:void 0}]},rK=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!Ql.isSsr){var o,u,c=XO({breakAll:s,children:n,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:h}=c;o=d,u=h}else return Ij(n);return tK({breakAll:s,children:n,maxLines:a,style:i},o,u,e,!!r)}return Ij(n)},QO="#808080",nK={angle:0,breakAll:!1,capHeight:"0.71em",fill:QO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},z0=v.forwardRef((t,e)=>{var r=pt(t,nK),{x:n,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:u,textAnchor:c,verticalAnchor:d}=r,h=zj(r,qU),f=v.useMemo(()=>rK({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:p,dy:g,angle:y,className:_,breakAll:x}=h,b=zj(h,ZU);if(!Yr(n)||!Yr(i)||f.length===0)return null;var S=Number(n)+(de(p)?p:0),k=Number(i)+(de(g)?g:0);if(!xe(S)||!xe(k))return null;var m;switch(d){case"start":m=Hp("calc(".concat(a,")"));break;case"middle":m=Hp("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:m=Hp("calc(".concat(f.length-1," * -").concat(s,")"));break}var w=[],P=f[0];if(u&&P!=null){var C=P.width,{width:E}=h;w.push("scale(".concat(de(E)&&de(C)?E/C:1,")"))}return y&&w.push("rotate(".concat(y,", ").concat(S,", ").concat(k,")")),w.length&&(b.transform=w.join(" ")),v.createElement("text",Uv({},Ut(b),{ref:e,x:S,y:k,className:ze("recharts-text",_),textAnchor:c,fill:o.includes("url")?QO:o}),f.map((I,D)=>{var z=I.words.join(x?"":" ");return v.createElement("tspan",{x:S,dy:D===0?m:s,key:"".concat(z,"-").concat(D)},z)}))});z0.displayName="Text";function Rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(r),!0).forEach(function(n){iK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iK(t,e,r){return(e=sK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sK(t){var e=aK(t,"string");return typeof e=="symbol"?e:e+""}function aK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oK=t=>{var{viewBox:e,position:r,offset:n=0,parentViewBox:i}=t,{x:s,y:a,height:o,upperWidth:u,lowerWidth:c}=zy(e),d=s,h=s+(u-c)/2,f=(d+h)/2,p=(u+c)/2,g=d+u/2,y=o>=0?1:-1,_=y*n,x=y>0?"end":"start",b=y>0?"start":"end",S=u>=0?1:-1,k=S*n,m=S>0?"end":"start",w=S>0?"start":"end",P=i;if(r==="top"){var C={x:d+u/2,y:a-_,horizontalAnchor:"middle",verticalAnchor:x};return P&&(C.height=Math.max(a-P.y,0),C.width=u),C}if(r==="bottom"){var E={x:h+c/2,y:a+o+_,horizontalAnchor:"middle",verticalAnchor:b};return P&&(E.height=Math.max(P.y+P.height-(a+o),0),E.width=c),E}if(r==="left"){var I={x:f-k,y:a+o/2,horizontalAnchor:m,verticalAnchor:"middle"};return P&&(I.width=Math.max(I.x-P.x,0),I.height=o),I}if(r==="right"){var D={x:f+p+k,y:a+o/2,horizontalAnchor:w,verticalAnchor:"middle"};return P&&(D.width=Math.max(P.x+P.width-D.x,0),D.height=o),D}var z=P?{width:p,height:o}:{};return r==="insideLeft"?wn({x:f+k,y:a+o/2,horizontalAnchor:w,verticalAnchor:"middle"},z):r==="insideRight"?wn({x:f+p-k,y:a+o/2,horizontalAnchor:m,verticalAnchor:"middle"},z):r==="insideTop"?wn({x:d+u/2,y:a+_,horizontalAnchor:"middle",verticalAnchor:b},z):r==="insideBottom"?wn({x:h+c/2,y:a+o-_,horizontalAnchor:"middle",verticalAnchor:x},z):r==="insideTopLeft"?wn({x:d+k,y:a+_,horizontalAnchor:w,verticalAnchor:b},z):r==="insideTopRight"?wn({x:d+u-k,y:a+_,horizontalAnchor:m,verticalAnchor:b},z):r==="insideBottomLeft"?wn({x:h+k,y:a+o-_,horizontalAnchor:w,verticalAnchor:x},z):r==="insideBottomRight"?wn({x:h+c-k,y:a+o-_,horizontalAnchor:m,verticalAnchor:x},z):r&&typeof r=="object"&&(de(r.x)||Os(r.x))&&(de(r.y)||Os(r.y))?wn({x:s+fn(r.x,p),y:a+fn(r.y,o),horizontalAnchor:"end",verticalAnchor:"end"},z):wn({x:g,y:a+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},lK=["labelRef"],uK=["content"];function Dj(t,e){if(t==null)return{};var r,n,i=cK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(r),!0).forEach(function(n){dK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dK(t,e,r){return(e=hK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hK(t){var e=fK(t,"string");return typeof e=="symbol"?e:e+""}function fK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bn(){return Bn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bn.apply(null,arguments)}var JO=v.createContext(null),eT=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a,children:o}=t,u=v.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a}),[e,r,n,i,s,a]);return v.createElement(JO.Provider,{value:u},o)},tT=()=>{var t=v.useContext(JO),e=Xa();return t||(e?zy(e):void 0)},pK=v.createContext(null),mK=()=>{var t=v.useContext(pK),e=me(CA);return t||e},vK=t=>{var{value:e,formatter:r}=t,n=Re(t.children)?e:t.children;return typeof r=="function"?r(n):n},N0=t=>t!=null&&typeof t=="function",gK=(t,e)=>{var r=fr(e-t),n=Math.min(Math.abs(e-t),360);return r*n},yK=(t,e,r,n,i)=>{var{offset:s,className:a}=t,{cx:o,cy:u,innerRadius:c,outerRadius:d,startAngle:h,endAngle:f,clockWise:p}=i,g=(c+d)/2,y=gK(h,f),_=y>=0?1:-1,x,b;switch(e){case"insideStart":x=h+_*s,b=p;break;case"insideEnd":x=f-_*s,b=!p;break;case"end":x=f+_*s,b=p;break;default:throw new Error("Unsupported position ".concat(e))}b=y<=0?b:!b;var S=Bt(o,u,g,x),k=Bt(o,u,g,x+(b?1:-1)*359),m="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),w=Re(t.id)?jl("recharts-radial-line-"):t.id;return v.createElement("text",Bn({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",a)}),v.createElement("defs",null,v.createElement("path",{id:w,d:m})),v.createElement("textPath",{xlinkHref:"#".concat(w)},r))},xK=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:u}=t,c=(o+u)/2;if(r==="outside"){var{x:d,y:h}=Bt(n,i,a+e,c);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:p,y:g}=Bt(n,i,f,c);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},kc=t=>t!=null&&"cx"in t&&de(t.cx),_K={angle:0,offset:5,zIndex:nt.label,position:"middle",textBreakAll:!1};function bK(t){if(!kc(t))return t;var{cx:e,cy:r,outerRadius:n}=t,i=n*2;return{x:e-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function _i(t){var e=pt(t,_K),{viewBox:r,parentViewBox:n,position:i,value:s,children:a,content:o,className:u="",textBreakAll:c,labelRef:d}=e,h=mK(),f=tT(),p=i==="center"?f:h??f,g,y,_;r==null?g=p:kc(r)?g=r:g=zy(r);var x=bK(g);if(!g||Re(s)&&Re(a)&&!v.isValidElement(o)&&typeof o!="function")return null;var b=Lo(Lo({},e),{},{viewBox:g});if(v.isValidElement(o)){var{labelRef:S}=b,k=Dj(b,lK);return v.cloneElement(o,k)}if(typeof o=="function"){var{content:m}=b,w=Dj(b,uK);if(y=v.createElement(o,w),v.isValidElement(y))return y}else y=vK(e);var P=Ut(e);if(kc(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return yK(e,i,y,P,g);_=xK(g,e.offset,e.position)}else{if(!x)return null;var C=oK({viewBox:x,position:i,offset:e.offset,parentViewBox:kc(n)?void 0:n});_=Lo(Lo({x:C.x,y:C.y,textAnchor:C.horizontalAnchor,verticalAnchor:C.verticalAnchor},C.width!==void 0?{width:C.width}:{}),C.height!==void 0?{height:C.height}:{})}return v.createElement(Zt,{zIndex:e.zIndex},v.createElement(z0,Bn({ref:d,className:ze("recharts-label",u)},P,_,{textAnchor:JU(P.textAnchor)?P.textAnchor:_.textAnchor,breakAll:c}),y))}_i.displayName="Label";var wK=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?v.createElement(_i,Bn({key:"label-implicit"},n)):Yr(t)?v.createElement(_i,Bn({key:"label-implicit",value:t},n)):v.isValidElement(t)?t.type===_i?v.cloneElement(t,Lo({key:"label-implicit"},n)):v.createElement(_i,Bn({key:"label-implicit",content:t},n)):N0(t)?v.createElement(_i,Bn({key:"label-implicit",content:t},n)):t&&typeof t=="object"?v.createElement(_i,Bn({},t,{key:"label-implicit"},n)):null};function rT(t){var{label:e,labelRef:r}=t,n=tT();return wK(e,n,r)||null}var nT={},iT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(iT);var sT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(sT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iT,r=sT,n=Ch;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(nT);var SK=nT.last;const jK=oi(SK);var kK=["valueAccessor"],PK=["dataKey","clockWise","id","textBreakAll","zIndex"];function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fd.apply(null,arguments)}function $j(t,e){if(t==null)return{};var r,n,i=MK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function MK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var CK=t=>Array.isArray(t.value)?jK(t.value):t.value,aT=v.createContext(void 0),pf=aT.Provider,oT=v.createContext(void 0);oT.Provider;function EK(){return v.useContext(aT)}function AK(){return v.useContext(oT)}function Pc(t){var{valueAccessor:e=CK}=t,r=$j(t,kK),{dataKey:n,clockWise:i,id:s,textBreakAll:a,zIndex:o}=r,u=$j(r,PK),c=EK(),d=AK(),h=c||d;return!h||!h.length?null:v.createElement(Zt,{zIndex:o??nt.label},v.createElement(it,{className:"recharts-label-list"},h.map((f,p)=>{var g,y=Re(n)?e(f,p):Ue(f.payload,n),_=Re(s)?{}:{id:"".concat(s,"-").concat(p)};return v.createElement(_i,Fd({key:"label-".concat(p)},Ut(f),u,_,{fill:(g=r.fill)!==null&&g!==void 0?g:f.fill,parentViewBox:f.parentViewBox,value:y,textBreakAll:a,viewBox:f.viewBox,index:p,zIndex:0}))})))}Pc.displayName="LabelList";function mf(t){var{label:e}=t;return e?e===!0?v.createElement(Pc,{key:"labelList-implicit"}):v.isValidElement(e)||N0(e)?v.createElement(Pc,{key:"labelList-implicit",content:e}):typeof e=="object"?v.createElement(Pc,Fd({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kv.apply(null,arguments)}var lT=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=ze("recharts-dot",i);return de(e)&&de(r)&&de(n)?v.createElement("circle",Kv({},ir(t),fy(t),{className:s,cx:e,cy:r,r:n})):null},OK={radiusAxis:{},angleAxis:{}},uT=br({name:"polarAxis",initialState:OK,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:kZ,removeRadiusAxis:PZ,addAngleAxis:MZ,removeAngleAxis:CZ}=uT.actions,TK=uT.reducer;function zK(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var cT={exports:{}},Be={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0=Symbol.for("react.transitional.element"),R0=Symbol.for("react.portal"),vf=Symbol.for("react.fragment"),gf=Symbol.for("react.strict_mode"),yf=Symbol.for("react.profiler"),xf=Symbol.for("react.consumer"),_f=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),jf=Symbol.for("react.memo"),kf=Symbol.for("react.lazy"),NK=Symbol.for("react.view_transition"),IK=Symbol.for("react.client.reference");function Jr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case I0:switch(t=t.type,t){case vf:case yf:case gf:case wf:case Sf:case NK:return t;default:switch(t=t&&t.$$typeof,t){case _f:case bf:case kf:case jf:return t;case xf:return t;default:return e}}case R0:return e}}}Be.ContextConsumer=xf;Be.ContextProvider=_f;Be.Element=I0;Be.ForwardRef=bf;Be.Fragment=vf;Be.Lazy=kf;Be.Memo=jf;Be.Portal=R0;Be.Profiler=yf;Be.StrictMode=gf;Be.Suspense=wf;Be.SuspenseList=Sf;Be.isContextConsumer=function(t){return Jr(t)===xf};Be.isContextProvider=function(t){return Jr(t)===_f};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===I0};Be.isForwardRef=function(t){return Jr(t)===bf};Be.isFragment=function(t){return Jr(t)===vf};Be.isLazy=function(t){return Jr(t)===kf};Be.isMemo=function(t){return Jr(t)===jf};Be.isPortal=function(t){return Jr(t)===R0};Be.isProfiler=function(t){return Jr(t)===yf};Be.isStrictMode=function(t){return Jr(t)===gf};Be.isSuspense=function(t){return Jr(t)===wf};Be.isSuspenseList=function(t){return Jr(t)===Sf};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vf||t===yf||t===gf||t===wf||t===Sf||typeof t=="object"&&t!==null&&(t.$$typeof===kf||t.$$typeof===jf||t.$$typeof===_f||t.$$typeof===xf||t.$$typeof===bf||t.$$typeof===IK||t.getModuleId!==void 0)};Be.typeOf=Jr;cT.exports=Be;var RK=cT.exports,Bj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Fj=null,Yp=null,dT=t=>{if(t===Fj&&Array.isArray(Yp))return Yp;var e=[];return v.Children.forEach(t,r=>{Re(r)||(RK.isFragment(r)?e=e.concat(dT(r.props.children)):e.push(r))}),Yp=e,Fj=t,e};function hT(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>Bj(i)):n=[Bj(e)],dT(t).forEach(i=>{var s=Ra(i,"type.displayName")||Ra(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var D0=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,fT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(fT);var DK=fT.isPlainObject;const LK=oi(DK);var Wj,Uj,Kj,Vj,Hj;function Yj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(r),!0).forEach(function(n){$K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $K(t,e,r){return(e=BK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BK(t){var e=FK(t,"string");return typeof e=="symbol"?e:e+""}function FK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wd.apply(null,arguments)}function Oo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Xj=(t,e,r,n,i)=>{var s=r-n,a;return a=tt(Wj||(Wj=Oo(["M ",",",""])),t,e),a+=tt(Uj||(Uj=Oo(["L ",",",""])),t+r,e),a+=tt(Kj||(Kj=Oo(["L ",",",""])),t+r-s/2,e+i),a+=tt(Vj||(Vj=Oo(["L ",",",""])),t+r-s/2-n,e+i),a+=tt(Hj||(Hj=Oo(["L ",","," Z"])),t,e),a},WK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UK=t=>{var e=pt(t,WK),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:u,animationDuration:c,animationBegin:d,isUpdateAnimationActive:h}=e,f=v.useRef(null),[p,g]=v.useState(-1),y=v.useRef(i),_=v.useRef(s),x=v.useRef(a),b=v.useRef(r),S=v.useRef(n),k=Za(t,"trapezoid-");if(v.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var Z=f.current.getTotalLength();Z&&g(Z)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var m=ze("recharts-trapezoid",o);if(!h)return v.createElement("g",null,v.createElement("path",Wd({},Ut(e),{className:m,d:Xj(r,n,i,s,a)})));var w=y.current,P=_.current,C=x.current,E=b.current,I=S.current,D="0px ".concat(p===-1?1:p,"px"),z="".concat(p,"px 0px"),X=v2(["strokeDasharray"],c,u);return v.createElement(qa,{animationId:k,key:k,canBegin:p>0,duration:c,easing:u,isActive:h,begin:d},Z=>{var H=Ee(w,i,Z),oe=Ee(P,s,Z),O=Ee(C,a,Z),R=Ee(E,r,Z),N=Ee(I,n,Z);f.current&&(y.current=H,_.current=oe,x.current=O,b.current=R,S.current=N);var L=Z>0?{transition:X,strokeDasharray:z}:{strokeDasharray:D};return v.createElement("path",Wd({},Ut(e),{className:m,d:Xj(R,N,H,oe,O),ref:f,style:Gj(Gj({},L),e.style)}))})},KK=["option","shapeType","activeClassName"];function VK(t,e){if(t==null)return{};var r,n,i=HK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function HK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ud(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(r),!0).forEach(function(n){YK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YK(t,e,r){return(e=GK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GK(t){var e=XK(t,"string");return typeof e=="symbol"?e:e+""}function XK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qK(t,e){return Ud(Ud({},e),t)}function ZK(t,e){return t==="symbols"}function Zj(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return v.createElement(_2,r);case"trapezoid":return v.createElement(UK,r);case"sector":return v.createElement(S2,r);case"symbols":if(ZK(e))return v.createElement(hy,r);break;case"curve":return v.createElement(ja,r);default:return null}}function QK(t){return v.isValidElement(t)?t.props:t}function Kd(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,i=VK(t,KK),s;if(v.isValidElement(e))s=v.cloneElement(e,Ud(Ud({},i),QK(e)));else if(typeof e=="function")s=e(i,i.index);else if(LK(e)&&typeof e!="boolean"){var a=qK(e,i);s=v.createElement(Zj,{shapeType:r,elementProps:a})}else{var o=i;s=v.createElement(Zj,{shapeType:r,elementProps:o})}return i.isActive?v.createElement(it,{className:n},s):s}var L0=(t,e,r)=>{var n=st();return(i,s)=>a=>{t==null||t(i,s,a),n(yO({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},$0=t=>{var e=st();return(r,n)=>i=>{t==null||t(r,n,i),e(kW())}},B0=(t,e,r)=>{var n=st();return(i,s)=>a=>{t==null||t(i,s,a),n(PW({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function Pf(t){var{tooltipEntrySettings:e}=t,r=st(),n=ct(),i=v.useRef(null);return v.useLayoutEffect(()=>{n||(i.current===null?r(bW(e)):i.current!==e&&r(wW({prev:i.current,next:e})),i.current=e)},[e,r,n]),v.useLayoutEffect(()=>()=>{i.current&&(r(SW(i.current)),i.current=null)},[r]),null}function Mf(t){var{legendPayload:e}=t,r=st(),n=ct(),i=v.useRef(null);return v.useLayoutEffect(()=>{n||(i.current===null?r(s$(e)):i.current!==e&&r(a$({prev:i.current,next:e})),i.current=e)},[r,n,e]),v.useLayoutEffect(()=>()=>{i.current&&(r(o$(i.current)),i.current=null)},[r]),null}var Gp,JK=()=>{var[t]=v.useState(()=>jl("uid-"));return t},e9=(Gp=Pz.useId)!==null&&Gp!==void 0?Gp:JK;function t9(t,e){var r=e9();return e||(t?"".concat(t,"-").concat(r):r)}var r9=v.createContext(void 0),Cf=t=>{var{id:e,type:r,children:n}=t,i=t9("recharts-".concat(r),e);return v.createElement(r9.Provider,{value:i},n(i))},n9={cartesianItems:[],polarItems:[]},pT=br({name:"graphicalItems",initialState:n9,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ge()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=cn(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:Ge()},removeCartesianGraphicalItem:{reducer(t,e){var r=cn(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Ge()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ge()},removePolarGraphicalItem:{reducer(t,e){var r=cn(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Ge()}}}),{addCartesianGraphicalItem:i9,replaceCartesianGraphicalItem:s9,removeCartesianGraphicalItem:a9,addPolarGraphicalItem:EZ,removePolarGraphicalItem:AZ}=pT.actions,o9=pT.reducer,l9=t=>{var e=st(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?e(i9(t)):r.current!==t&&e(s9({prev:r.current,next:t})),r.current=t},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(e(a9(r.current)),r.current=null)},[e]),null},Ef=v.memo(l9),u9=["points"];function Qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(r),!0).forEach(function(n){c9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c9(t,e,r){return(e=d9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d9(t){var e=h9(t,"string");return typeof e=="symbol"?e:e+""}function h9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vd.apply(null,arguments)}function f9(t,e){if(t==null)return{};var r,n,i=p9(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function p9(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function m9(t){var{option:e,dotProps:r,className:n}=t;if(v.isValidElement(e))return v.cloneElement(e,r);if(typeof e=="function")return e(r);var i=ze(n,typeof e!="boolean"?e.className:""),s=r??{},{points:a}=s,o=f9(s,u9);return v.createElement(lT,Vd({},o,{className:i}))}function v9(t,e){return t==null?!1:e?!0:t.length===1}function mT(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:u,zIndex:c=nt.scatter}=t;if(!v9(e,r))return null;var d=D0(r),h=pL(r),f=e.map((g,y)=>{var _,x,b=Xp(Xp(Xp({r:3},a),h),{},{index:y,cx:(_=g.x)!==null&&_!==void 0?_:void 0,cy:(x=g.y)!==null&&x!==void 0?x:void 0,dataKey:s,value:g.value,payload:g.payload,points:e});return v.createElement(m9,{key:"dot-".concat(y),option:r,dotProps:b,className:i})}),p={};return o&&u!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),v.createElement(Zt,{zIndex:c},v.createElement(it,Vd({className:n},p),f))}function Jj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(r),!0).forEach(function(n){g9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g9(t,e,r){return(e=y9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y9(t){var e=x9(t,"string");return typeof e=="symbol"?e:e+""}function x9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vT=0,_9={xAxis:{},yAxis:{},zAxis:{}},gT=br({name:"cartesianAxis",initialState:_9,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ge()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Ge()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ge()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ge()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Ge()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ge()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ge()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Ge()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ge()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var o=[...a,n].slice(-3);t.yAxis[r]=ek(ek({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:b9,replaceXAxis:w9,removeXAxis:S9,addYAxis:j9,replaceYAxis:k9,removeYAxis:P9,addZAxis:OZ,replaceZAxis:TZ,removeZAxis:zZ,updateYAxisWidth:M9}=gT.actions,C9=gT.reducer,E9=F([Ct],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),A9=F([E9,ui,ci],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),Af=()=>me(A9),O9=()=>me(m7);function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){T9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T9(t,e,r){return(e=z9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z9(t){var e=N9(t,"string");return typeof e=="symbol"?e:e+""}function N9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I9=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=qp(qp(qp({},o),Ga(i)),fy(i)),c;return v.isValidElement(i)?c=v.cloneElement(i,u):typeof i=="function"?c=i(u):c=v.createElement(lT,u),v.createElement(it,{className:"recharts-active-dot",clipPath:a},c)};function Vv(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:a=nt.activeDot}=t,o=me(Wi),u=O9();if(e==null||u==null)return null;var c=e.find(d=>u.includes(d.payload));return Re(c)?null:v.createElement(Zt,{zIndex:a},v.createElement(I9,{point:c,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}var rk=(t,e,r)=>{var n=r??t;if(!Re(n))return fn(n,e,0)},R9=(t,e,r)=>{var n={},i=t.filter(lf),s=t.filter(c=>c.stackId==null),a=i.reduce((c,d)=>{var h=c[d.stackId];return h==null&&(h=[]),h.push(d),c[d.stackId]=h,c},n),o=Object.entries(a).map(c=>{var d,[h,f]=c,p=f.map(y=>y.dataKey),g=rk(e,r,(d=f[0])===null||d===void 0?void 0:d.barSize);return{stackId:h,dataKeys:p,barSize:g}}),u=s.map(c=>{var d=[c.dataKey].filter(f=>f!=null),h=rk(e,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...u]};function nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(r),!0).forEach(function(n){D9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D9(t,e,r){return(e=L9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L9(t){var e=$9(t,"string");return typeof e=="symbol"?e:e+""}function $9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B9(t,e,r,n,i){var s,a=n.length;if(!(a<1)){var o=fn(t,r,0,!0),u,c=[];if(xe((s=n[0])===null||s===void 0?void 0:s.barSize)){var d=!1,h=r/a,f=n.reduce((b,S)=>b+(S.barSize||0),0);f+=(a-1)*o,f>=r&&(f-=(a-1)*o,o=0),f>=r&&h>0&&(d=!0,h*=.9,f=a*h);var p=(r-f)/2>>0,g={offset:p-o,size:0};u=n.reduce((b,S)=>{var k,m={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:g.offset+g.size+o,size:d?h:(k=S.barSize)!==null&&k!==void 0?k:0}},w=[...b,m];return g=m.position,w},c)}else{var y=fn(e,r,0,!0);r-2*y-(a-1)*o<=0&&(o=0);var _=(r-2*y-(a-1)*o)/a;_>1&&(_>>=0);var x=xe(i)?Math.min(_,i):_;u=n.reduce((b,S,k)=>[...b,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y+(_+o)*k+(_-x)/2,size:x}}],c)}return u}}var F9=(t,e,r,n,i,s,a)=>{var o=Re(a)?e:a,u=B9(r,n,i!==s?i:s,t,o);return i!==s&&u!=null&&(u=u.map(c=>nc(nc({},c),{},{position:nc(nc({},c.position),{},{offset:c.position.offset-i/2})}))),u},W9=(t,e)=>{var r=of(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},U9=(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}};function K9(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&xe(t.zIndex)?t.zIndex:e}var V9=t=>{var{chartData:e}=t,r=st(),n=ct();return v.useEffect(()=>n?()=>{}:(r(bj(e)),()=>{r(bj(void 0))}),[e,r,n]),null},ik={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yT=br({name:"brush",initialState:ik,reducers:{setBrushSettings(t,e){return e.payload==null?ik:e.payload}}}),{setBrushSettings:NZ}=yT.actions,H9=yT.reducer,Y9=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return{x:Math.min(r,i),y:Math.min(n,s),width:Math.abs(i-r),height:Math.abs(s-n)}},G9=t=>{var{x1:e,y1:r,x2:n,y2:i}=t;return Y9({x:e,y:r},{x:n,y:i})};function X9(t){return(t%180+180)%180}var q9=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=X9(i),a=s*Math.PI/180,o=Math.atan(n/r),u=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(u)},Z9={dots:[],areas:[],lines:[]},xT=br({name:"referenceElements",initialState:Z9,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=cn(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=cn(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=cn(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:IZ,removeDot:RZ,addArea:DZ,removeArea:LZ,addLine:Q9,removeLine:J9}=xT.actions,eV=xT.reducer,_T=v.createContext(void 0),tV=t=>{var{children:e}=t,[r]=v.useState("".concat(jl("recharts"),"-clip")),n=Af();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return v.createElement(_T.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:i,y:s,height:o,width:a}))),e)},rV=()=>v.useContext(_T);class nV{constructor(e){var{x:r,y:n}=e;this.xAxisScale=r,this.yAxisScale=n}map(e,r){var n,i,{position:s}=r;return{x:(n=this.xAxisScale.map(e.x,{position:s}))!==null&&n!==void 0?n:0,y:(i=this.yAxisScale.map(e.y,{position:s}))!==null&&i!==void 0?i:0}}mapWithFallback(e,r){var n,i,{position:s,fallback:a}=r,o,u;return a==="rangeMin"?o=this.yAxisScale.rangeMin():a==="rangeMax"?o=this.yAxisScale.rangeMax():o=0,a==="rangeMin"?u=this.xAxisScale.rangeMin():a==="rangeMax"?u=this.xAxisScale.rangeMax():u=0,{x:(n=this.xAxisScale.map(e.x,{position:s}))!==null&&n!==void 0?n:u,y:(i=this.yAxisScale.map(e.y,{position:s}))!==null&&i!==void 0?i:o}}isInRange(e){var{x:r,y:n}=e,i=r==null||this.xAxisScale.isInRange(r),s=n==null||this.yAxisScale.isInRange(n);return i&&s}}function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ak(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){iV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iV(t,e,r){return(e=sV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sV(t){var e=aV(t,"string");return typeof e=="symbol"?e:e+""}function aV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hd.apply(null,arguments)}var oV=(t,e)=>{var r;if(v.isValidElement(t))r=v.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{if(!xe(e.x1)||!xe(e.y1)||!xe(e.x2)||!xe(e.y2))return null;r=v.createElement("line",Hd({},e,{className:"recharts-reference-line-line"}))}return r},lV=(t,e,r,n,i,s)=>{var{x:a,width:o}=s,u=i.map(t,{position:r});if(!xe(u)||e==="discard"&&!i.isInRange(u))return null;var c=[{x:a+o,y:u},{x:a,y:u}];return n==="left"?c.reverse():c},uV=(t,e,r,n,i,s)=>{var{y:a,height:o}=s,u=i.map(t,{position:r});if(!xe(u)||e==="discard"&&!i.isInRange(u))return null;var c=[{x:u,y:a+o},{x:u,y:a}];return n==="top"?c.reverse():c},cV=(t,e,r,n)=>{var i=[n.mapWithFallback(t[0],{position:r,fallback:"rangeMin"}),n.mapWithFallback(t[1],{position:r,fallback:"rangeMax"})];return e==="discard"&&i.some(s=>!n.isInRange(s))?null:i},dV=(t,e,r,n,i,s,a)=>{var{x:o,y:u,segment:c,ifOverflow:d}=a,h=Yr(o),f=Yr(u);return f?lV(u,d,n,s,e,r):h?uV(o,d,n,i,t,r):c!=null&&c.length===2?cV(c,d,n,new nV({x:t,y:e})):null};function hV(t){var e=st();return v.useEffect(()=>(e(Q9(t)),()=>{e(J9(t))})),null}function fV(t){var{xAxisId:e,yAxisId:r,shape:n,className:i,ifOverflow:s}=t,a=ct(),o=rV(),u=me(P=>zn(P,e)),c=me(P=>Nn(P,r)),d=me(P=>Ka(P,"xAxis",e,a)),h=me(P=>Ka(P,"yAxis",r,a)),f=Xa();if(!o||!f||u==null||c==null||d==null||h==null)return null;var p=dV(d,h,f,t.position,u.orientation,c.orientation,t);if(!p)return null;var g=p[0],y=p[1];if(g==null||y==null)return null;var{x:_,y:x}=g,{x:b,y:S}=y,k=s==="hidden"?"url(#".concat(o,")"):void 0,m=ak(ak({clipPath:k},Ut(t)),{},{x1:_,y1:x,x2:b,y2:S}),w=G9({x1:_,y1:x,x2:b,y2:S});return v.createElement(Zt,{zIndex:t.zIndex},v.createElement(it,{className:ze("recharts-reference-line",i)},oV(n,m),v.createElement(eT,Hd({},w,{lowerWidth:w.width,upperWidth:w.width}),v.createElement(rT,{label:t.label}),t.children)))}var pV={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:nt.line};function bi(t){var e=pt(t,pV);return v.createElement(v.Fragment,null,v.createElement(hV,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),v.createElement(fV,e))}bi.displayName="ReferenceLine";function bT(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function mV(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return q9(n,r)}function vV(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Ll(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function gV(t,e){return bT(t,e+1)}function yV(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,u=0,c=1,d=a,h=function(){var g=n==null?void 0:n[u];if(g===void 0)return{v:bT(n,c)};var y=u,_,x=()=>(_===void 0&&(_=r(g,y)),_),b=g.coordinate,S=u===0||Ll(t,b,x,d,o);S||(u=0,d=a,c+=1),S&&(d=b+t*(x()/2+i),u+=c)},f;c<=s.length;)if(f=h(),f)return f.v;return[]}function xV(t,e,r,n,i){var s=(n||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:u}=e,c=1;c<=a;c++){for(var d=(a-1)%c,h=o,f=!0,p=function(){var k=n[y];if(k==null)return 0;var m=y,w,P=()=>(w===void 0&&(w=r(k,m)),w),C=k.coordinate,E=y===d||Ll(t,C,P,h,u);if(!E)return f=!1,1;E&&(h=C+t*(P()/2+i))},g,y=d;y<a&&(g=p(),!(g!==0&&g===1));y+=c);if(f){for(var _=[],x=d;x<a;x+=c){var b=n[x];b!=null&&_.push(b)}return _}}return[]}function ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(r),!0).forEach(function(n){_V(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _V(t,e,r){return(e=bV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bV(t){var e=wV(t,"string");return typeof e=="symbol"?e:e+""}function wV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SV(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:u}=e,c=function(f){var p=s[f];if(p==null)return 1;var g=p,y,_=()=>(y===void 0&&(y=r(p,f)),y);if(f===a-1){var x=t*(g.coordinate+t*_()/2-u);s[f]=g=Yt(Yt({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else s[f]=g=Yt(Yt({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var b=Ll(t,g.tickCoord,_,o,u);b&&(u=g.tickCoord-t*(_()/2+i),s[f]=Yt(Yt({},g),{},{isShow:!0}))}},d=a-1;d>=0;d--)c(d);return s}function jV(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:u,end:c}=e;if(s){var d=n[o-1];if(d!=null){var h=r(d,o-1),f=t*(d.coordinate+t*h/2-c);if(a[o-1]=d=Yt(Yt({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate}),d.tickCoord!=null){var p=Ll(t,d.tickCoord,()=>h,u,c);p&&(c=d.tickCoord-t*(h/2+i),a[o-1]=Yt(Yt({},d),{},{isShow:!0}))}}}for(var g=s?o-1:o,y=function(b){var S=a[b];if(S==null)return 1;var k=S,m,w=()=>(m===void 0&&(m=r(S,b)),m);if(b===0){var P=t*(k.coordinate-t*w()/2-u);a[b]=k=Yt(Yt({},k),{},{tickCoord:P<0?k.coordinate-P*t:k.coordinate})}else a[b]=k=Yt(Yt({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var C=Ll(t,k.tickCoord,w,u,c);C&&(u=k.tickCoord+t*(w()/2+i),a[b]=Yt(Yt({},k),{},{isShow:!0}))}},_=0;_<g;_++)y(_);return a}function F0(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:u,tickFormatter:c,unit:d,angle:h}=t;if(!i||!i.length||!n)return[];if(de(u)||Ql.isSsr){var f;return(f=gV(i,de(u)?u:0))!==null&&f!==void 0?f:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",y=d&&g==="width"?el(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=(m,w)=>{var P=typeof c=="function"?c(m.value,w):m.value;return g==="width"?mV(el(P,{fontSize:e,letterSpacing:r}),y,h):el(P,{fontSize:e,letterSpacing:r})[g]},x=i[0],b=i[1],S=i.length>=2&&x!=null&&b!=null?fr(b.coordinate-x.coordinate):1,k=vV(s,S,g);return u==="equidistantPreserveStart"?yV(S,k,_,i,a):u==="equidistantPreserveEnd"?xV(S,k,_,i,a):(u==="preserveStart"||u==="preserveStartEnd"?p=jV(S,k,_,i,a,u==="preserveStartEnd"):p=SV(S,k,_,i,a),p.filter(m=>m.isShow))}var kV=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=r?r.getBoundingClientRect().width:0,u=i+s,c=a+u+o+(r?n:0);return Math.round(c)}return 0},PV=["axisLine","width","height","className","hide","ticks","axisType"];function MV(t,e){if(t==null)return{};var r,n,i=CV(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function CV(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rs.apply(null,arguments)}function lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(r),!0).forEach(function(n){EV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EV(t,e,r){return(e=AV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AV(t){var e=OV(t,"string");return typeof e=="symbol"?e:e+""}function OV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:nt.axis};function TV(t){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:u}=t;if(!o)return null;var c=et(et(et({},u),ir(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);c=et(et({},c),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);c=et(et({},c),{},{x1:e+h*n,y1:r,x2:e+h*n,y2:r+i})}return v.createElement("line",Rs({},c,{className:ze("recharts-cartesian-axis-line",Ra(o,"className"))}))}function zV(t,e,r,n,i,s,a,o,u){var c,d,h,f,p,g,y=o?-1:1,_=t.tickSize||a,x=de(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":c=d=t.coordinate,f=r+ +!o*i,h=f-y*_,g=h-y*u,p=x;break;case"left":h=f=t.coordinate,d=e+ +!o*n,c=d-y*_,p=c-y*u,g=x;break;case"right":h=f=t.coordinate,d=e+ +o*n,c=d+y*_,p=c+y*u,g=x;break;default:c=d=t.coordinate,f=r+ +o*i,h=f+y*_,g=h+y*u,p=x;break}return{line:{x1:c,y1:h,x2:d,y2:f},tick:{x:p,y:g}}}function NV(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function IV(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function RV(t){var{option:e,tickProps:r,value:n}=t,i,s=ze(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(e))i=v.cloneElement(e,et(et({},r),{},{className:s}));else if(typeof e=="function")i=e(et(et({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=ze(a,zK(e))),i=v.createElement(z0,Rs({},r,{className:a}),n)}return i}var DV=v.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:u,tickTextProps:c,orientation:d,mirror:h,x:f,y:p,width:g,height:y,tickSize:_,tickMargin:x,fontSize:b,letterSpacing:S,getTicksConfig:k,events:m,axisType:w}=t,P=F0(et(et({},k),{},{ticks:r}),b,S),C=NV(d,h),E=IV(d,h),I=ir(k),D=Ga(n),z={};typeof i=="object"&&(z=i);var X=et(et({},I),{},{fill:"none"},z),Z=P.map(O=>et({entry:O},zV(O,f,p,g,y,d,_,h,x))),H=Z.map(O=>{var{entry:R,line:N}=O;return v.createElement(it,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},i&&v.createElement("line",Rs({},X,N,{className:ze("recharts-cartesian-axis-tick-line",Ra(i,"className"))})))}),oe=Z.map((O,R)=>{var N,L,{entry:Q,tick:G}=O,ye=et(et(et(et({verticalAnchor:E},I),{},{textAnchor:C,stroke:"none",fill:s},G),{},{index:R,payload:Q,visibleTicksCount:P.length,tickFormatter:a,padding:u},c),{},{angle:(N=(L=c==null?void 0:c.angle)!==null&&L!==void 0?L:I.angle)!==null&&N!==void 0?N:0}),pe=et(et({},ye),D);return v.createElement(it,Rs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},Mh(m,Q,R)),n&&v.createElement(RV,{option:n,tickProps:pe,value:"".concat(typeof a=="function"?a(Q.value,R):Q.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(w,"-ticks")},oe.length>0&&v.createElement(Zt,{zIndex:nt.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(w,"-tick-labels"),ref:e},oe)),H.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(w,"-tick-lines")},H))}),LV=v.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:o,axisType:u}=t,c=MV(t,PV),[d,h]=v.useState(""),[f,p]=v.useState(""),g=v.useRef(null);v.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return kV({ticks:g.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=v.useCallback(_=>{if(_){var x=_.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var b=x[0];if(b){var S=window.getComputedStyle(b),k=S.fontSize,m=S.letterSpacing;(k!==d||m!==f)&&(h(k),p(m))}}},[d,f]);return a||n!=null&&n<=0||i!=null&&i<=0?null:v.createElement(Zt,{zIndex:t.zIndex},v.createElement(it,{className:ze("recharts-cartesian-axis",s)},v.createElement(TV,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:ir(t)}),v.createElement(DV,{ref:y,axisType:u,events:c,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:f,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),v.createElement(eT,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},v.createElement(rT,{label:t.label,labelRef:t.labelRef}),t.children)))}),W0=v.forwardRef((t,e)=>{var r=pt(t,Xn);return v.createElement(LV,Rs({},r,{ref:e}))});W0.displayName="CartesianAxis";var $V=["x1","y1","x2","y2","key"],BV=["offset"],FV=["xAxisId","yAxisId"],WV=["xAxisId","yAxisId"];function uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(r),!0).forEach(function(n){UV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UV(t,e,r){return(e=KV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KV(t){var e=VV(t,"string");return typeof e=="symbol"?e:e+""}function VV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hs.apply(null,arguments)}function Yd(t,e){if(t==null)return{};var r,n,i=HV(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function HV(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var YV=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return v.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wT(t){var{option:e,lineItemProps:r}=t,n;if(v.isValidElement(e))n=v.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:s,y1:a,x2:o,y2:u,key:c}=r,d=Yd(r,$V),h=(i=ir(d))!==null&&i!==void 0?i:{},{offset:f}=h,p=Yd(h,BV);n=v.createElement("line",hs({},p,{x1:s,y1:a,x2:o,y2:u,fill:"none",key:c}))}return n}function GV(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=Yd(t,FV),u=i.map((c,d)=>{var h=Xt(Xt({},o),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return v.createElement(wT,{key:"line-".concat(d),option:n,lineItemProps:h})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function XV(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=Yd(t,WV),u=i.map((c,d)=>{var h=Xt(Xt({},o),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return v.createElement(wT,{option:n,lineItemProps:h,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function qV(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:u=!0}=t;if(!u||!e||!e.length||o==null)return null;var c=o.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var d=c.map((h,f)=>{var p=c[f+1],g=p==null,y=g?i+a-h:p-h;if(y<=0)return null;var _=f%e.length;return v.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:y,width:s,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ZV(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:u}=t;if(!e||!r||!r.length)return null;var c=u.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var d=c.map((h,f)=>{var p=c[f+1],g=p==null,y=g?i+a-h:p-h;if(y<=0)return null;var _=f%r.length;return v.createElement("rect",{key:"react-".concat(f),x:h,y:s,width:y,height:o,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var QV=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return YE(F0(Xt(Xt(Xt({},Xn),r),{},{ticks:GE(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},JV=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return YE(F0(Xt(Xt(Xt({},Xn),r),{},{ticks:GE(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},eH={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:nt.grid};function wr(t){var e=s2(),r=a2(),n=i2(),i=Xt(Xt({},pt(t,eH)),{},{x:de(t.x)?t.x:n.left,y:de(t.y)?t.y:n.top,width:de(t.width)?t.width:n.width,height:de(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:u,width:c,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,g=ct(),y=me(E=>cj(E,"xAxis",s,g)),_=me(E=>cj(E,"yAxis",a,g));if(!On(c)||!On(d)||!de(o)||!de(u))return null;var x=i.verticalCoordinatesGenerator||QV,b=i.horizontalCoordinatesGenerator||JV,{horizontalPoints:S,verticalPoints:k}=i;if((!S||!S.length)&&typeof b=="function"){var m=f&&f.length,w=b({yAxis:_?Xt(Xt({},_),{},{ticks:m?f:_.ticks}):void 0,width:e??c,height:r??d,offset:n},m?!0:h);vd(Array.isArray(w),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof w,"]")),Array.isArray(w)&&(S=w)}if((!k||!k.length)&&typeof x=="function"){var P=p&&p.length,C=x({xAxis:y?Xt(Xt({},y),{},{ticks:P?p:y.ticks}):void 0,width:e??c,height:r??d,offset:n},P?!0:h);vd(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(k=C)}return v.createElement(Zt,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(YV,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(qV,hs({},i,{horizontalPoints:S})),v.createElement(ZV,hs({},i,{verticalPoints:k})),v.createElement(GV,hs({},i,{offset:n,horizontalPoints:S,xAxis:y,yAxis:_})),v.createElement(XV,hs({},i,{offset:n,verticalPoints:k,xAxis:y,yAxis:_}))))}wr.displayName="CartesianGrid";var tH={},ST=br({name:"errorBars",initialState:tH,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:$Z,replaceErrorBar:BZ,removeErrorBar:FZ}=ST.actions,rH=ST.reducer,nH=["children"];function iH(t,e){if(t==null)return{};var r,n,i=sH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var aH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},oH=v.createContext(aH);function U0(t){var{children:e}=t,r=iH(t,nH);return v.createElement(oH.Provider,{value:r},e)}function cu(t,e){var r,n,i=me(c=>zn(c,t)),s=me(c=>Nn(c,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:St.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:jt.allowDataOverflow,u=a||o;return{needClip:u,needClipX:a,needClipY:o}}function Of(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=Af(),{needClipX:s,needClipY:a,needClip:o}=cu(e,r);if(!o||!i)return null;var{x:u,y:c,width:d,height:h}=i;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:s?u:u-d/2,y:a?c:c-h/2,width:s?d:d*2,height:a?h:h*2}))}var jT=(t,e,r,n)=>Zr(t,"xAxis",e,n),kT=(t,e,r,n)=>qr(t,"xAxis",e,n),PT=(t,e,r,n)=>Zr(t,"yAxis",r,n),MT=(t,e,r,n)=>qr(t,"yAxis",r,n),lH=F([Oe,jT,PT,kT,MT],(t,e,r,n,i)=>vn(t,"xAxis")?Fi(e,n,!1):Fi(r,i,!1)),uH=(t,e,r,n,i)=>i;function cH(t){return t.type==="line"}var dH=F([ro,uH],(t,e)=>t.filter(cH).find(r=>r.id===e)),hH=F([Oe,jT,PT,kT,MT,dH,lH,ef],(t,e,r,n,i,s,a,o)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=o;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:h,data:f}=s,p;if(f!=null&&f.length>0?p=f:p=u==null?void 0:u.slice(c,d+1),p!=null)return rY({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:h,bandSize:a,displayedData:p})}});function CT(t){var e=Ga(t),r=3,n=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=r),(Number.isNaN(o)||o<0)&&(o=n),{r:a,strokeWidth:o}}return{r,strokeWidth:n}}var fH={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=v;function pH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mH=typeof Object.is=="function"?Object.is:pH,vH=du.useSyncExternalStore,gH=du.useRef,yH=du.useEffect,xH=du.useMemo,_H=du.useDebugValue;fH.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=gH(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=xH(function(){function u(p){if(!c){if(c=!0,d=p,p=n(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return h=g}return h=p}if(g=h,mH(d,p))return g;var y=n(p);return i!==void 0&&i(g,y)?(d=p,g):(d=p,h=y)}var c=!1,d,h,f=r===void 0?null:r;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,r,n,i]);var o=vH(t,s[0],s[1]);return yH(function(){a.hasValue=!0,a.value=o},[o]),_H(o),o};function bH(t){t()}function wH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){bH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ck={notify(){},get:()=>[]};function SH(t,e){let r,n=ck,i=0,s=!1;function a(y){d();const _=n.subscribe(y);let x=!1;return()=>{x||(x=!0,_(),h())}}function o(){n.notify()}function u(){g.onStateChange&&g.onStateChange()}function c(){return s}function d(){i++,r||(r=t.subscribe(u),n=wH())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=ck)}function f(){s||(s=!0,d())}function p(){s&&(s=!1,h())}const g={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return g}var jH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kH=jH(),PH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MH=PH(),CH=()=>kH||MH?v.useLayoutEffect:v.useEffect,EH=CH();function dk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function AH(t,e){if(dk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!dk(t[r[i]],e[r[i]]))return!1;return!0}var Zp=Symbol.for("react-redux-context"),Qp=typeof globalThis<"u"?globalThis:{};function OH(){if(!v.createContext)return{};const t=Qp[Zp]??(Qp[Zp]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var TH=OH();function zH(t){const{children:e,context:r,serverState:n,store:i}=t,s=v.useMemo(()=>{const u=SH(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),a=v.useMemo(()=>i.getState(),[i]);EH(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const o=r||TH;return v.createElement(o.Provider,{value:s},e)}var NH=zH,IH=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function RH(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function lo(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(IH.has(n)){if(t[n]==null&&e[n]==null)continue;if(!AH(t[n],e[n]))return!1}else if(!RH(t[n],e[n]))return!1;return!0}var DH=["id"],LH=["type","layout","connectNulls","needClip","shape"],$H=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$l.apply(null,arguments)}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){BH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BH(t,e,r){return(e=FH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FH(t){var e=WH(t,"string");return typeof e=="symbol"?e:e+""}function WH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K0(t,e){if(t==null)return{};var r,n,i=UH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function UH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var KH=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Yi(r,e),payload:t}]},VH=v.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:u,tooltipType:c,id:d}=t,h={dataDefinedOnItem:r,getPosition:Hi,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Yi(a,e),hide:o,type:c,color:n,unit:u,graphicalItemId:d}};return v.createElement(Pf,{tooltipEntrySettings:h})}),ET=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function HH(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var YH=(t,e,r)=>{var n=r.reduce((p,g)=>p+g);if(!n)return ET(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,o=[],u=0,c=0;u<r.length;c+=(d=r[u])!==null&&d!==void 0?d:0,++u){var d,h=r[u];if(h!=null&&c+h>s){o=[...r.slice(0,u),s-c];break}}var f=o.length%2===0?[0,a]:[a];return[...HH(r,i),...o,...f].map(p=>"".concat(p,"px")).join(", ")};function GH(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n,{id:o}=n,u=K0(n,DH),c=ir(u);return v.createElement(mT,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:a,clipPathId:e})}function XH(t){var{showLabels:e,children:r,points:n}=t,i=v.useMemo(()=>n==null?void 0:n.map(s=>{var a,o,u={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return jn(jn({},u),{},{value:s.value,payload:s.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(pf,{value:e?i:void 0},r)}function fk(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s}=t,{type:a,layout:o,connectNulls:u,needClip:c,shape:d}=s,h=K0(s,LH),f=jn(jn({},Ut(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:n,type:a,layout:o,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return v.createElement(v.Fragment,null,(n==null?void 0:n.length)>1&&v.createElement(Kd,$l({shapeType:"curve",option:d},f,{pathRef:r})),v.createElement(GH,{points:n,clipPathId:e,props:s}))}function qH(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ZH(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:u,animationBegin:c,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:g,onAnimationEnd:y,onAnimationStart:_}=r,x=i.current,b=Za(a,"recharts-line-"),S=v.useRef(b),[k,m]=v.useState(!1),w=!k,P=v.useCallback(()=>{typeof y=="function"&&y(),m(!1)},[y]),C=v.useCallback(()=>{typeof _=="function"&&_(),m(!0)},[_]),E=qH(n.current),I=v.useRef(0);S.current!==b&&(I.current=s.current,S.current=b);var D=I.current;return v.createElement(XH,{points:a,showLabels:w},r.children,v.createElement(qa,{animationId:b,begin:c,duration:d,isActive:u,easing:h,onAnimationEnd:P,onAnimationStart:C,key:b},z=>{var X=Ee(D,E+D,z),Z=Math.min(X,E),H;if(u)if(o){var oe="".concat(o).split(/[,\s]+/gim).map(N=>parseFloat(N));H=YH(Z,E,oe)}else H=ET(E,Z);else H=o==null?void 0:String(o);if(z>0&&E>0&&(i.current=a,s.current=Math.max(s.current,Z)),x){var O=x.length/a.length,R=z===1?a:a.map((N,L)=>{var Q=Math.floor(L*O);if(x[Q]){var G=x[Q];return jn(jn({},N),{},{x:Ee(G.x,N.x,z),y:Ee(G.y,N.y,z)})}return f?jn(jn({},N),{},{x:Ee(p*2,N.x,z),y:Ee(g/2,N.y,z)}):jn(jn({},N),{},{x:N.x,y:N.y})});return i.current=R,v.createElement(fk,{props:r,points:R,clipPathId:e,pathRef:n,strokeDasharray:H})}return v.createElement(fk,{props:r,points:a,clipPathId:e,pathRef:n,strokeDasharray:H})}),v.createElement(mf,{label:r.label}))}function QH(t){var{clipPathId:e,props:r}=t,n=v.useRef(null),i=v.useRef(0),s=v.useRef(null);return v.createElement(ZH,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:s})}var JH=(t,e)=>{var r,n;return{x:(r=t.x)!==null&&r!==void 0?r:void 0,y:(n=t.y)!==null&&n!==void 0?n:void 0,value:t.value,errorVal:Ue(t.payload,e)}};class eY extends v.Component{render(){var{hide:e,dot:r,points:n,className:i,xAxisId:s,yAxisId:a,top:o,left:u,width:c,height:d,id:h,needClip:f,zIndex:p}=this.props;if(e)return null;var g=ze("recharts-line",i),y=h,{r:_,strokeWidth:x}=CT(r),b=D0(r),S=_*2+x,k=f?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return v.createElement(Zt,{zIndex:p},v.createElement(it,{className:g},f&&v.createElement("defs",null,v.createElement(Of,{clipPathId:y,xAxisId:s,yAxisId:a}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:u-S/2,y:o-S/2,width:c+S,height:d+S}))),v.createElement(U0,{xAxisId:s,yAxisId:a,data:n,dataPointFormatter:JH,errorBarOffset:0},v.createElement(QH,{props:this.props,clipPathId:y}))),v.createElement(Vv,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var AT={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:nt.line,type:"linear"};function tY(t){var e=pt(t,AT),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:u,hide:c,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:g,id:y}=e,_=K0(e,$H),{needClip:x}=cu(p,g),b=Af(),S=Gi(),k=ct(),m=me(I=>hH(I,p,g,k,y));if(S!=="horizontal"&&S!=="vertical"||m==null||b==null)return null;var{height:w,width:P,x:C,y:E}=b;return v.createElement(eY,$l({},_,{id:y,connectNulls:o,dot:u,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:c,label:h,legendType:f,xAxisId:p,yAxisId:g,points:m,layout:S,height:w,width:P,left:C,top:E,needClip:x}))}function rY(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:u}=t;return u.map((c,d)=>{var h=Ue(c,a);if(e==="horizontal"){var f=$a({axis:r,ticks:i,bandSize:o,entry:c,index:d}),p=Re(h)?null:n.scale.map(h);return{x:f,y:p??null,value:h,payload:c}}var g=Re(h)?null:r.scale.map(h),y=$a({axis:n,ticks:s,bandSize:o,entry:c,index:d});return g==null||y==null?null:{x:g,y,value:h,payload:c}}).filter(Boolean)}function nY(t){var e=pt(t,AT),r=ct();return v.createElement(Cf,{id:e.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(Mf,{legendPayload:KH(e)}),v.createElement(VH,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),v.createElement(Ef,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),v.createElement(tY,$l({},e,{id:n}))))}var fa=v.memo(nY,lo);fa.displayName="Line";function In(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:vT}function Rn(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:vT}var OT=(t,e,r)=>Zr(t,"xAxis",In(t,e),r),TT=(t,e,r)=>qr(t,"xAxis",In(t,e),r),zT=(t,e,r)=>Zr(t,"yAxis",Rn(t,e),r),NT=(t,e,r)=>qr(t,"yAxis",Rn(t,e),r),iY=F([Oe,OT,zT,TT,NT],(t,e,r,n,i)=>vn(t,"xAxis")?Fi(e,n,!1):Fi(r,i,!1)),sY=(t,e)=>e,IT=F([ro,sY],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),RT=t=>{var e=Oe(t),r=vn(e,"xAxis");return r?"yAxis":"xAxis"},aY=(t,e)=>{var r=RT(t);return r==="yAxis"?Rn(t,e):In(t,e)},oY=(t,e,r)=>Ld(t,RT(t),aY(t,e),r),lY=F([IT,oY],(t,e)=>{var r;if(!(t==null||e==null)){var{stackId:n}=t,i=of(t);if(!(n==null||i==null)){var s=(r=e[n])===null||r===void 0?void 0:r.stackedData,a=s==null?void 0:s.find(o=>o.key===i);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),uY=F([Oe,OT,zT,TT,NT,lY,lA,iY,IT,cF],(t,e,r,n,i,s,a,o,u,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:f}=a;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:p}=u,g;if(p&&p.length>0?g=p:g=d==null?void 0:d.slice(h,f+1),g!=null)return CY({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:h,areaSettings:u,stackedData:s,displayedData:g,chartBaseValue:c,bandSize:o})}}),cY=["id"],dY=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xs.apply(null,arguments)}function DT(t,e){if(t==null)return{};var r,n,i=hY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(r),!0).forEach(function(n){fY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fY(t,e,r){return(e=pY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pY(t){var e=mY(t,"string");return typeof e=="symbol"?e:e+""}function mY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gd(t,e){return t&&t!=="none"?t:e}var vY=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:Gd(n,i),value:Yi(r,e),payload:t}]},gY=v.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:u,tooltipType:c,id:d}=t,h={dataDefinedOnItem:r,getPosition:Hi,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Yi(a,e),hide:o,type:c,color:Gd(n,s),unit:u,graphicalItemId:d}};return v.createElement(Pf,{tooltipEntrySettings:h})});function yY(t){var{clipPathId:e,points:r,props:n}=t,{needClip:i,dot:s,dataKey:a}=n,o=ir(n);return v.createElement(mT,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:i,clipPathId:e})}function xY(t){var{showLabels:e,children:r,points:n}=t,i=n.map(s=>{var a,o,u={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return pa(pa({},u),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return v.createElement(pf,{value:e?i:void 0},r)}function mk(t){var{points:e,baseLine:r,needClip:n,clipPathId:i,props:s}=t,{layout:a,type:o,stroke:u,connectNulls:c,isRange:d}=s,{id:h}=s,f=DT(s,cY),p=ir(f),g=Ut(f);return v.createElement(v.Fragment,null,(e==null?void 0:e.length)>1&&v.createElement(it,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},v.createElement(ja,xs({},g,{id:h,points:e,connectNulls:c,type:o,baseLine:r,layout:a,stroke:"none",className:"recharts-area-area"})),u!=="none"&&v.createElement(ja,xs({},p,{className:"recharts-area-curve",layout:a,type:o,connectNulls:c,fill:"none",points:e})),u!=="none"&&d&&v.createElement(ja,xs({},p,{className:"recharts-area-curve",layout:a,type:o,connectNulls:c,fill:"none",points:r}))),v.createElement(yY,{points:e,props:f,clipPathId:i}))}function _Y(t){var e,r,{alpha:n,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.y,u=(r=s[s.length-1])===null||r===void 0?void 0:r.y;if(!xe(o)||!xe(u))return null;var c=n*Math.abs(o-u),d=Math.max(...s.map(h=>h.x||0));return de(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.x||0),d)),de(d)?v.createElement("rect",{x:0,y:o<u?o:o-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function bY(t){var e,r,{alpha:n,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.x,u=(r=s[s.length-1])===null||r===void 0?void 0:r.x;if(!xe(o)||!xe(u))return null;var c=n*Math.abs(o-u),d=Math.max(...s.map(h=>h.y||0));return de(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.y||0),d)),de(d)?v.createElement("rect",{x:o<u?o:o-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function wY(t){var{alpha:e,layout:r,points:n,baseLine:i,strokeWidth:s}=t;return r==="vertical"?v.createElement(_Y,{alpha:e,points:n,baseLine:i,strokeWidth:s}):v.createElement(bY,{alpha:e,points:n,baseLine:i,strokeWidth:s})}function SY(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:o,isAnimationActive:u,animationBegin:c,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=n,g=v.useMemo(()=>({points:a,baseLine:o}),[a,o]),y=Za(g,"recharts-area-"),_=Ny(),[x,b]=v.useState(!1),S=!x,k=v.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),m=v.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);if(_==null)return null;var w=i.current,P=s.current;return v.createElement(xY,{showLabels:S,points:a},n.children,v.createElement(qa,{animationId:y,begin:c,duration:d,isActive:u,easing:h,onAnimationEnd:k,onAnimationStart:m,key:y},C=>{if(w){var E=w.length/a.length,I=C===1?a:a.map((z,X)=>{var Z=Math.floor(X*E);if(w[Z]){var H=w[Z];return pa(pa({},z),{},{x:Ee(H.x,z.x,C),y:Ee(H.y,z.y,C)})}return z}),D;return de(o)?D=Ee(P,o,C):Re(o)||hn(o)?D=Ee(P,0,C):D=o.map((z,X)=>{var Z=Math.floor(X*E);if(Array.isArray(P)&&P[Z]){var H=P[Z];return pa(pa({},z),{},{x:Ee(H.x,z.x,C),y:Ee(H.y,z.y,C)})}return z}),C>0&&(i.current=I,s.current=D),v.createElement(mk,{points:I,baseLine:D,needClip:e,clipPathId:r,props:n})}return C>0&&(i.current=a,s.current=o),v.createElement(it,null,u&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(r)},v.createElement(wY,{alpha:C,points:a,baseLine:o,layout:_,strokeWidth:n.strokeWidth}))),v.createElement(it,{clipPath:"url(#animationClipPath-".concat(r,")")},v.createElement(mk,{points:a,baseLine:o,needClip:e,clipPathId:r,props:n})))}),v.createElement(mf,{label:n.label}))}function jY(t){var{needClip:e,clipPathId:r,props:n}=t,i=v.useRef(null),s=v.useRef();return v.createElement(SY,{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:s})}class kY extends v.PureComponent{render(){var{hide:e,dot:r,points:n,className:i,top:s,left:a,needClip:o,xAxisId:u,yAxisId:c,width:d,height:h,id:f,baseLine:p,zIndex:g}=this.props;if(e)return null;var y=ze("recharts-area",i),_=f,{r:x,strokeWidth:b}=CT(r),S=D0(r),k=x*2+b,m=o?"url(#clipPath-".concat(S?"":"dots-").concat(_,")"):void 0;return v.createElement(Zt,{zIndex:g},v.createElement(it,{className:y},o&&v.createElement("defs",null,v.createElement(Of,{clipPathId:_,xAxisId:u,yAxisId:c}),!S&&v.createElement("clipPath",{id:"clipPath-dots-".concat(_)},v.createElement("rect",{x:a-k/2,y:s-k/2,width:d+k,height:h+k}))),v.createElement(jY,{needClip:o,clipPathId:_,props:this.props})),v.createElement(Vv,{points:n,mainColor:Gd(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:m}),this.props.isRange&&Array.isArray(p)&&v.createElement(Vv,{points:p,mainColor:Gd(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:m}))}}var LT={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:nt.area};function PY(t){var e,r=pt(t,LT),{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:u,fill:c,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:g,xAxisId:y,yAxisId:_}=r,x=DT(r,dY),b=Gi(),S=RO(),{needClip:k}=cu(y,_),m=ct(),{points:w,isRange:P,baseLine:C}=(e=me(Z=>uY(Z,t.id,m)))!==null&&e!==void 0?e:{},E=Af();if(b!=="horizontal"&&b!=="vertical"||E==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:I,width:D,x:z,y:X}=E;return!w||!w.length?null:v.createElement(kY,xs({},x,{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:C,connectNulls:o,dot:u,fill:c,fillOpacity:d,height:I,hide:h,layout:b,isAnimationActive:f==="auto"?!Ql.isSsr:f,isRange:P,legendType:p,needClip:k,points:w,stroke:g,width:D,left:z,top:X,xAxisId:y,yAxisId:_}))}var MY=(t,e,r,n,i)=>{var s=r??e;if(de(s))return s;var a=t==="horizontal"?i:n,o=a.scale.domain();if(a.type==="number"){var u=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return s==="dataMin"?c:s==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function CY(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:u,displayedData:c,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=t,g=i&&i.length,y=MY(s,a,r,o,u),_=s==="horizontal",x=!1,b=c.map((k,m)=>{var w,P,C,E;if(g)E=i[d+m];else{var I=Ue(k,n);Array.isArray(I)?(E=I,x=!0):E=[y,I]}var D=(w=(P=E)===null||P===void 0?void 0:P[1])!==null&&w!==void 0?w:null,z=D==null||g&&!e&&Ue(k,n)==null;if(_){var X;return{x:$a({axis:o,ticks:h,bandSize:p,entry:k,index:m}),y:z?null:(X=u.scale.map(D))!==null&&X!==void 0?X:null,value:E,payload:k}}return{x:z?null:(C=o.scale.map(D))!==null&&C!==void 0?C:null,y:$a({axis:u,ticks:f,bandSize:p,entry:k,index:m}),value:E,payload:k}}),S;return g||x?S=b.map(k=>{var m,w=Array.isArray(k.value)?k.value[0]:null;if(_){var P;return{x:k.x,y:w!=null&&k.y!=null&&(P=u.scale.map(w))!==null&&P!==void 0?P:null,payload:k.payload}}return{x:w!=null&&(m=o.scale.map(w))!==null&&m!==void 0?m:null,y:k.y,payload:k.payload}}):S=_?u.scale.map(y):o.scale.map(y),{points:b,baseLine:S??0,isRange:x}}function EY(t){var e=pt(t,LT),r=ct();return v.createElement(Cf,{id:e.id,type:"area"},n=>v.createElement(v.Fragment,null,v.createElement(Mf,{legendPayload:vY(e)}),v.createElement(gY,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),v.createElement(Ef,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:XE(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),v.createElement(PY,xs({},e,{id:n}))))}var V0=v.memo(EY,lo);V0.displayName="Area";var AY="Invariant failed";function OY(t,e){throw new Error(AY)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hv.apply(null,arguments)}function Xd(t){return v.createElement(Kd,Hv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var TY=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(de(e))return e;var s=de(n)||Re(n);return s?e(n,i):(s||OY(),r)}},zY=(t,e,r)=>r,NY=(t,e)=>e,hu=F([ro,NY],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),IY=F([hu],t=>t==null?void 0:t.maxBarSize),RY=(t,e,r,n)=>n,DY=F([Oe,ro,In,Rn,zY],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),LY=(t,e,r)=>{var n=Oe(t),i=In(t,e),s=Rn(t,e);if(!(i==null||s==null))return n==="horizontal"?Ld(t,"yAxis",s,r):Ld(t,"xAxis",i,r)},$Y=(t,e)=>{var r=Oe(t),n=In(t,e),i=Rn(t,e);if(!(n==null||i==null))return r==="horizontal"?uj(t,"xAxis",n):uj(t,"yAxis",i)},BY=F([DY,uF,$Y],R9),FY=(t,e,r)=>{var n,i,s=hu(t,e);if(s==null)return 0;var a=In(t,e),o=Rn(t,e);if(a==null||o==null)return 0;var u=Oe(t),c=_A(t),{maxBarSize:d}=s,h=Re(d)?c:d,f,p;return u==="horizontal"?(f=Zr(t,"xAxis",a,r),p=qr(t,"xAxis",a,r)):(f=Zr(t,"yAxis",o,r),p=qr(t,"yAxis",o,r)),(n=(i=Fi(f,p,!0))!==null&&i!==void 0?i:h)!==null&&n!==void 0?n:0},$T=(t,e,r)=>{var n=Oe(t),i=In(t,e),s=Rn(t,e);if(!(i==null||s==null)){var a,o;return n==="horizontal"?(a=Zr(t,"xAxis",i,r),o=qr(t,"xAxis",i,r)):(a=Zr(t,"yAxis",s,r),o=qr(t,"yAxis",s,r)),Fi(a,o)}},WY=F([BY,_A,lF,bA,FY,$T,IY],F9),UY=(t,e,r)=>{var n=In(t,e);if(n!=null)return Zr(t,"xAxis",n,r)},KY=(t,e,r)=>{var n=Rn(t,e);if(n!=null)return Zr(t,"yAxis",n,r)},VY=(t,e,r)=>{var n=In(t,e);if(n!=null)return qr(t,"xAxis",n,r)},HY=(t,e,r)=>{var n=Rn(t,e);if(n!=null)return qr(t,"yAxis",n,r)},YY=F([WY,hu],U9),GY=F([LY,hu],W9),XY=F([Ct,Oy,UY,KY,VY,HY,YY,Oe,lA,$T,GY,hu,RY],(t,e,r,n,i,s,a,o,u,c,d,h,f)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:y}=u;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||s==null||c==null)){var{data:_}=h,x;if(_!=null&&_.length>0?x=_:x=p==null?void 0:p.slice(g,y+1),x!=null)return SG({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:x,offset:t,cells:f,dataStartIndex:g})}}),qY=["index"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yv.apply(null,arguments)}function ZY(t,e){if(t==null)return{};var r,n,i=QY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function QY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var BT=v.createContext(void 0),JY=t=>{var e=v.useContext(BT);if(e!=null)return e.stackId;if(t!=null)return XE(t)},eG=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),tG=t=>{var e=v.useContext(BT);if(e!=null){var{stackId:r}=e;return"url(#".concat(eG(r,t),")")}},FT=t=>{var{index:e}=t,r=ZY(t,qY),n=tG(e);return v.createElement(it,Yv({className:"recharts-bar-stack-layer",clipPath:n},r))},rG=["onMouseEnter","onMouseLeave","onClick"],nG=["value","background","tooltipPosition"],iG=["id"],sG=["onMouseEnter","onClick","onMouseLeave"];function ai(){return ai=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ai.apply(null,arguments)}function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){aG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aG(t,e,r){return(e=oG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oG(t){var e=lG(t,"string");return typeof e=="symbol"?e:e+""}function lG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qd(t,e){if(t==null)return{};var r,n,i=uG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var cG=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Yi(r,e),payload:t}]},dG=v.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o,tooltipType:u,id:c}=t,d={dataDefinedOnItem:void 0,getPosition:Hi,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Yi(s,e),hide:a,type:u,color:i,unit:o,graphicalItemId:c}};return v.createElement(Pf,{tooltipEntrySettings:d})});function hG(t){var e=me(Wi),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:u}=s,c=qd(s,rG),d=L0(a,n,s.id),h=$0(o),f=B0(u,n,s.id);if(!i||r==null)return null;var p=Ga(i);return v.createElement(Zt,{zIndex:K9(i,nt.barBackground)},r.map((g,y)=>{var{value:_,background:x,tooltipPosition:b}=g,S=qd(g,nG);if(!x)return null;var k=d(g,y),m=h(g,y),w=f(g,y),P=er(er(er(er(er({option:i,isActive:String(y)===e},S),{},{fill:"#eee"},x),p),Mh(c,g,y)),{},{onMouseEnter:k,onMouseLeave:m,onClick:w,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return v.createElement(Xd,ai({key:"background-bar-".concat(y)},P))}))}function fG(t){var{showLabels:e,children:r,rects:n}=t,i=n==null?void 0:n.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return er(er({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return v.createElement(pf,{value:e?i:void 0},r)}function pG(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:s,dataKey:a}=t,o=me(Wi),u=me(zO),c=r&&String(s)===o&&(u==null||a===u),d=c?r:e;return c?v.createElement(Zt,{zIndex:nt.activeBar},v.createElement(FT,{index:s},v.createElement(Xd,ai({},n,{name:String(n.name)},i,{isActive:c,option:d,index:s,dataKey:a})))):v.createElement(Xd,ai({},n,{name:String(n.name)},i,{isActive:c,option:d,index:s,dataKey:a}))}function mG(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:s}=t;return v.createElement(Xd,ai({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:i,dataKey:s}))}function vG(t){var e,{data:r,props:n}=t,i=(e=ir(n))!==null&&e!==void 0?e:{},{id:s}=i,a=qd(i,iG),{shape:o,dataKey:u,activeBar:c}=n,{onMouseEnter:d,onClick:h,onMouseLeave:f}=n,p=qd(n,sG),g=L0(d,u,s),y=$0(f),_=B0(h,u,s);return r?v.createElement(v.Fragment,null,r.map((x,b)=>v.createElement(FT,ai({index:b,key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},Mh(p,x,b),{onMouseEnter:g(x,b),onMouseLeave:y(x,b),onClick:_(x,b)}),c?v.createElement(pG,{shape:o,activeBar:c,baseProps:a,entry:x,index:b,dataKey:u}):v.createElement(mG,{shape:o,baseProps:a,entry:x,index:b,dataKey:u})))):null}function gG(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:u,onAnimationEnd:c,onAnimationStart:d}=e,h=r.current,f=Za(e,"recharts-bar-"),[p,g]=v.useState(!1),y=!p,_=v.useCallback(()=>{typeof c=="function"&&c(),g(!1)},[c]),x=v.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return v.createElement(fG,{showLabels:y,rects:n},v.createElement(qa,{animationId:f,begin:a,duration:o,isActive:s,easing:u,onAnimationEnd:_,onAnimationStart:x,key:f},b=>{var S=b===1?n:n==null?void 0:n.map((k,m)=>{var w=h&&h[m];if(w)return er(er({},k),{},{x:Ee(w.x,k.x,b),y:Ee(w.y,k.y,b),width:Ee(w.width,k.width,b),height:Ee(w.height,k.height,b)});if(i==="horizontal"){var P=Ee(0,k.height,b),C=Ee(k.stackedBarStart,k.y,b);return er(er({},k),{},{y:C,height:P})}var E=Ee(0,k.width,b),I=Ee(k.stackedBarStart,k.x,b);return er(er({},k),{},{width:E,x:I})});return b>0&&(r.current=S??null),S==null?null:v.createElement(it,null,v.createElement(vG,{props:e,data:S}))}),v.createElement(mf,{label:e.label}),e.children)}function yG(t){var e=v.useRef(null);return v.createElement(gG,{previousRectanglesRef:e,props:t})}var WT=0,xG=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Ue(t,e)}};class _G extends v.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:u,id:c}=this.props;if(e||r==null)return null;var d=ze("recharts-bar",i),h=c;return v.createElement(it,{className:d,id:c},o&&v.createElement("defs",null,v.createElement(Of,{clipPathId:h,xAxisId:s,yAxisId:a})),v.createElement(it,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},v.createElement(hG,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),v.createElement(yG,this.props)))}}var bG={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:WT,xAxisId:0,yAxisId:0,zIndex:nt.bar};function wG(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:u,animationEasing:c,isAnimationActive:d}=t,{needClip:h}=cu(e,r),f=Gi(),p=ct(),g=hT(t.children,ds),y=me(b=>XY(b,t.id,p,g));if(f!=="vertical"&&f!=="horizontal")return null;var _,x=y==null?void 0:y[0];return x==null||x.height==null||x.width==null?_=0:_=f==="vertical"?x.height/2:x.width/2,v.createElement(U0,{xAxisId:e,yAxisId:r,data:y,dataPointFormatter:xG,errorBarOffset:_},v.createElement(_G,ai({},t,{layout:f,needClip:h,data:y,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:u,animationEasing:c,isAnimationActive:d})))}function SG(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:u,yAxisTicks:c,stackedData:d,displayedData:h,offset:f,cells:p,parentViewBox:g,dataStartIndex:y}=t,_=e==="horizontal"?o:a,x=d?_.scale.domain():null,b=p3({numericAxis:_}),S=_.scale.map(b);return h.map((k,m)=>{var w,P,C,E,I,D;if(d){var z=d[m+y];if(z==null)return null;w=u3(z,x)}else w=Ue(k,r),Array.isArray(w)||(w=[b,w]);var X=TY(n,WT)(w[1],m);if(e==="horizontal"){var Z,H=o.scale.map(w[0]),oe=o.scale.map(w[1]);if(H==null||oe==null)return null;P=yw({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:k,index:m}),C=(Z=oe??H)!==null&&Z!==void 0?Z:void 0,E=i.size;var O=H-oe;if(I=hn(O)?0:O,D={x:P,y:f.top,width:E,height:f.height},Math.abs(X)>0&&Math.abs(I)<Math.abs(X)){var R=fr(I||X)*(Math.abs(X)-Math.abs(I));C-=R,I+=R}}else{var N=a.scale.map(w[0]),L=a.scale.map(w[1]);if(N==null||L==null)return null;if(P=N,C=yw({axis:o,ticks:c,bandSize:s,offset:i.offset,entry:k,index:m}),E=L-N,I=i.size,D={x:f.left,y:C,width:f.width,height:I},Math.abs(X)>0&&Math.abs(E)<Math.abs(X)){var Q=fr(E||X)*(Math.abs(X)-Math.abs(E));E+=Q}}if(P==null||C==null||E==null||I==null)return null;var G=er(er({},k),{},{stackedBarStart:S,x:P,y:C,width:E,height:I,value:d?w:w[1],payload:k,background:D,tooltipPosition:{x:P+E/2,y:C+I/2},parentViewBox:g},p&&p[m]&&p[m].props);return G}).filter(Boolean)}function jG(t){var e=pt(t,bG),r=JY(e.stackId),n=ct();return v.createElement(Cf,{id:e.id,type:"bar"},i=>v.createElement(v.Fragment,null,v.createElement(Mf,{legendPayload:cG(e)}),v.createElement(dG,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),v.createElement(Ef,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:r,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),v.createElement(Zt,{zIndex:e.zIndex},v.createElement(wG,ai({},e,{id:i})))))}var tl=v.memo(jG,lo);tl.displayName="Bar";var kG=["option","isActive"];function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rl.apply(null,arguments)}function PG(t,e){if(t==null)return{};var r,n,i=MG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function MG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function CG(t){var{option:e,isActive:r}=t,n=PG(t,kG);return typeof e=="string"?v.createElement(Kd,rl({option:v.createElement(hy,rl({type:e},n)),isActive:r,shapeType:"symbols"},n)):v.createElement(Kd,rl({option:e,isActive:r,shapeType:"symbols"},n))}var EG=(t,e,r,n,i,s,a)=>Zr(t,"xAxis",e,a),AG=(t,e,r,n,i,s,a)=>qr(t,"xAxis",e,a),OG=(t,e,r,n,i,s,a)=>Zr(t,"yAxis",r,a),TG=(t,e,r,n,i,s,a)=>qr(t,"yAxis",r,a),zG=(t,e,r,n)=>vW(t,"zAxis",n,!1),NG=(t,e,r,n,i)=>i,IG=(t,e,r,n,i,s)=>s,RG=(t,e,r,n,i,s,a)=>ef(t,void 0,void 0,a),DG=F([ro,NG],(t,e)=>t.filter(r=>r.type==="scatter").find(r=>r.id===e)),LG=F([RG,EG,AG,OG,TG,zG,DG,IG],(t,e,r,n,i,s,a,o)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=t;if(a!=null){var h;if((a==null?void 0:a.data)!=null&&a.data.length>0?h=a.data:h=u==null?void 0:u.slice(c,d+1),!(h==null||e==null||n==null||r==null||i==null||(r==null?void 0:r.length)===0||(i==null?void 0:i.length)===0))return QG({displayedData:h,xAxis:e,yAxis:n,zAxis:s,scatterSettings:a,xAxisTicks:r,yAxisTicks:i,cells:o})}}),$G=["id"],BG=["onMouseEnter","onClick","onMouseLeave"],FG=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Gv(t,e){if(t==null)return{};var r,n,i=WG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function WG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ds.apply(null,arguments)}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){UG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UG(t,e,r){return(e=KG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KG(t){var e=VG(t,"string");return typeof e=="symbol"?e:e+""}function VG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HG=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Yi(r,e),payload:t}]},YG=v.memo(t=>{var{dataKey:e,points:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,tooltipType:u,id:c}=t,d={dataDefinedOnItem:r==null?void 0:r.map(h=>h.tooltipPayload),getPosition:h=>{var f;return r==null||(f=r[Number(h)])===null||f===void 0?void 0:f.tooltipPosition},settings:{stroke:n,strokeWidth:i,fill:s,nameKey:void 0,dataKey:e,name:Yi(a,e),hide:o,type:u,color:s,unit:"",graphicalItemId:c}};return v.createElement(Pf,{tooltipEntrySettings:d})});function GG(t){var{points:e,props:r}=t,{line:n,lineType:i,lineJointType:s}=r;if(!n)return null;var a=ir(r),o=Ga(n),u,c;if(i==="joint")u=e.map(_=>{var x,b;return{x:(x=_.cx)!==null&&x!==void 0?x:null,y:(b=_.cy)!==null&&b!==void 0?b:null}});else if(i==="fitting"){var{xmin:d,xmax:h,a:f,b:p}=i5(e),g=_=>f*_+p;u=[{x:d,y:g(d)},{x:h,y:g(h)}]}var y=vr(vr(vr({},a),{},{fill:"none",stroke:a&&a.fill},o),{},{points:u});return v.isValidElement(n)?c=v.cloneElement(n,y):typeof n=="function"?c=n(y):c=v.createElement(ja,Ds({},y,{type:s})),v.createElement(it,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function XG(t){var{showLabels:e,points:r,children:n}=t,i=Xa(),s=v.useMemo(()=>r==null?void 0:r.map(a=>{var o,u,c={x:(o=a.x)!==null&&o!==void 0?o:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:a.width,height:a.height,lowerWidth:a.width,upperWidth:a.width};return vr(vr({},c),{},{value:void 0,payload:a.payload,viewBox:c,parentViewBox:i,fill:void 0})}),[i,r]);return v.createElement(pf,{value:e?s:void 0},n)}function qG(t){var{points:e,allOtherScatterProps:r}=t,{shape:n,activeShape:i,dataKey:s}=r,{id:a}=r,o=Gv(r,$G),u=me(Wi),{onMouseEnter:c,onClick:d,onMouseLeave:h}=r,f=Gv(r,BG),p=L0(c,s,a),g=$0(h),y=B0(d,s,a);if(!v5(e))return null;var _=ir(o);return v.createElement(v.Fragment,null,v.createElement(GG,{points:e,props:o}),e.map((x,b)=>{var S=i!=null&&i!==!1,k=S&&u===String(b),m=S&&k?i:n,w=vr(vr(vr({},_),x),{},{index:b,[ZE]:String(a)});return v.createElement(Zt,{key:"symbol-".concat(x==null?void 0:x.cx,"-").concat(x==null?void 0:x.cy,"-").concat(x==null?void 0:x.size,"-").concat(b),zIndex:k?nt.activeDot:void 0},v.createElement(it,Ds({className:"recharts-scatter-symbol"},Mh(f,x,b),{onMouseEnter:p(x,b),onMouseLeave:g(x,b),onClick:y(x,b)}),v.createElement(CG,Ds({option:m,isActive:k},w))))}))}function ZG(t){var{previousPointsRef:e,props:r}=t,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o}=r,u=e.current,c=Za(r,"recharts-scatter-"),[d,h]=v.useState(!1),f=v.useCallback(()=>{h(!1)},[]),p=v.useCallback(()=>{h(!0)},[]),g=!d;return v.createElement(XG,{showLabels:g,points:n},r.children,v.createElement(qa,{animationId:c,begin:s,duration:a,isActive:i,easing:o,onAnimationEnd:f,onAnimationStart:p,key:c},y=>{var _=y===1?n:n==null?void 0:n.map((x,b)=>{var S=u&&u[b];return S?vr(vr({},x),{},{cx:x.cx==null?void 0:Ee(S.cx,x.cx,y),cy:x.cy==null?void 0:Ee(S.cy,x.cy,y),size:Ee(S.size,x.size,y)}):vr(vr({},x),{},{size:Ee(0,x.size,y)})});return y>0&&(e.current=_),v.createElement(it,null,v.createElement(qG,{points:_,allOtherScatterProps:r,showLabels:g}))}),v.createElement(mf,{label:r.label}))}function QG(t){var{displayedData:e,xAxis:r,yAxis:n,zAxis:i,scatterSettings:s,xAxisTicks:a,yAxisTicks:o,cells:u}=t,c=Re(r.dataKey)?s.dataKey:r.dataKey,d=Re(n.dataKey)?s.dataKey:n.dataKey,h=i&&i.dataKey,f=i?i.range:TA.range,p=f&&f[0],g=r.scale.bandwidth?r.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0;return e.map((_,x)=>{var b=Ue(_,c),S=Ue(_,d),k=!Re(h)&&Ue(_,h)||"-",m=[{name:Re(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:b,payload:_,dataKey:c,type:s.tooltipType},{name:Re(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:S,payload:_,dataKey:d,type:s.tooltipType}];k!=="-"&&i!=null&&m.push({name:i.name||i.dataKey,unit:i.unit||"",value:k,payload:_,dataKey:h,type:s.tooltipType});var w=$a({axis:r,ticks:a,bandSize:g,entry:_,index:x,dataKey:c}),P=$a({axis:n,ticks:o,bandSize:y,entry:_,index:x,dataKey:d}),C=k!=="-"&&i!=null?i.scale.map(k):p,E=C==null?0:Math.sqrt(Math.max(C,0)/Math.PI);return vr(vr({},_),{},{cx:w,cy:P,x:w==null?void 0:w-E,y:P==null?void 0:P-E,width:2*E,height:2*E,size:C,node:{x:b,y:S,z:k},tooltipPayload:m,tooltipPosition:{x:w,y:P},payload:_},u&&u[x]&&u[x].props)})}var JG=(t,e,r)=>({x:t.cx,y:t.cy,value:Number(r==="x"?t.node.x:t.node.y),errorVal:Ue(t,e)});function eX(t){var{hide:e,points:r,className:n,needClip:i,xAxisId:s,yAxisId:a,id:o}=t,u=v.useRef(null);if(e)return null;var c=ze("recharts-scatter",n),d=o;return v.createElement(Zt,{zIndex:t.zIndex},v.createElement(it,{className:c,clipPath:i?"url(#clipPath-".concat(d,")"):void 0,id:o},i&&v.createElement("defs",null,v.createElement(Of,{clipPathId:d,xAxisId:s,yAxisId:a})),v.createElement(U0,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:JG,errorBarOffset:0},v.createElement(it,{key:"recharts-scatter-symbols"},v.createElement(ZG,{props:t,previousPointsRef:u})))))}var UT={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:nt.scatter};function tX(t){var e=pt(t,UT),{animationBegin:r,animationDuration:n,animationEasing:i,hide:s,isAnimationActive:a,legendType:o,lineJointType:u,lineType:c,shape:d,xAxisId:h,yAxisId:f,zAxisId:p}=e,g=Gv(e,FG),{needClip:y}=cu(h,f),_=v.useMemo(()=>hT(t.children,ds),[t.children]),x=ct(),b=me(S=>LG(S,h,f,p,t.id,_,x));return y==null||b==null?null:v.createElement(v.Fragment,null,v.createElement(YG,{dataKey:t.dataKey,points:b,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:t.id}),v.createElement(eX,Ds({},g,{xAxisId:h,yAxisId:f,zAxisId:p,lineType:c,lineJointType:u,legendType:o,shape:d,hide:s,isAnimationActive:a,animationBegin:r,animationDuration:n,animationEasing:i,points:b,needClip:y})))}function rX(t){var e=pt(t,UT),r=ct();return v.createElement(Cf,{id:e.id,type:"scatter"},n=>v.createElement(v.Fragment,null,v.createElement(Mf,{legendPayload:HG(e)}),v.createElement(Ef,{type:"scatter",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:r}),v.createElement(tX,Ds({},e,{id:n}))))}var Mc=v.memo(rX,lo);Mc.displayName="Scatter";var nX=["domain","range"],iX=["domain","range"];function yk(t,e){if(t==null)return{};var r,n,i=sX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function xk(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function KT(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=yk(t,nX),{domain:s,range:a}=e,o=yk(e,iX);return!xk(r,s)||!xk(n,a)?!1:lo(i,o)}var aX=["type"],oX=["dangerouslySetInnerHTML","ticks","scale"],lX=["id","scale"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xv.apply(null,arguments)}function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){uX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uX(t,e,r){return(e=cX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cX(t){var e=dX(t,"string");return typeof e=="symbol"?e:e+""}function dX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qv(t,e){if(t==null)return{};var r,n,i=hX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function fX(t){var e=st(),r=v.useRef(null),n=Ny(),{type:i}=t,s=qv(t,aX),a=nf(n,"xAxis",i),o=v.useMemo(()=>{if(a!=null)return bk(bk({},s),{},{type:a})},[s,a]);return v.useLayoutEffect(()=>{o!=null&&(r.current===null?e(b9(o)):r.current!==o&&e(w9({prev:r.current,next:o})),r.current=o)},[o,e]),v.useLayoutEffect(()=>()=>{r.current&&(e(S9(r.current)),r.current=null)},[e]),null}var pX=t=>{var{xAxisId:e,className:r}=t,n=me(Oy),i=ct(),s="xAxis",a=me(x=>hO(x,s,e,i)),o=me(x=>lO(x,e)),u=me(x=>cW(x,e)),c=me(x=>AA(x,e));if(o==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:h,scale:f}=t,p=qv(t,oX),{id:g,scale:y}=c,_=qv(c,lX);return v.createElement(W0,Xv({},p,_,{x:u.x,y:u.y,width:o.width,height:o.height,className:ze("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:a,axisType:s}))},mX={allowDataOverflow:St.allowDataOverflow,allowDecimals:St.allowDecimals,allowDuplicatedCategory:St.allowDuplicatedCategory,angle:St.angle,axisLine:Xn.axisLine,height:St.height,hide:!1,includeHidden:St.includeHidden,interval:St.interval,label:!1,minTickGap:St.minTickGap,mirror:St.mirror,orientation:St.orientation,padding:St.padding,reversed:St.reversed,scale:St.scale,tick:St.tick,tickCount:St.tickCount,tickLine:Xn.tickLine,tickSize:Xn.tickSize,type:St.type,xAxisId:0},vX=t=>{var e=pt(t,mX);return v.createElement(v.Fragment,null,v.createElement(fX,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),v.createElement(pX,e))},Sr=v.memo(vX,KT);Sr.displayName="XAxis";var gX=["type"],yX=["dangerouslySetInnerHTML","ticks","scale"],xX=["id","scale"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zv.apply(null,arguments)}function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){_X(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _X(t,e,r){return(e=bX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bX(t){var e=wX(t,"string");return typeof e=="symbol"?e:e+""}function wX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qv(t,e){if(t==null)return{};var r,n,i=SX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function SX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function jX(t){var e=st(),r=v.useRef(null),n=Ny(),{type:i}=t,s=Qv(t,gX),a=nf(n,"yAxis",i),o=v.useMemo(()=>{if(a!=null)return Sk(Sk({},s),{},{type:a})},[a,s]);return v.useLayoutEffect(()=>{o!=null&&(r.current===null?e(j9(o)):r.current!==o&&e(k9({prev:r.current,next:o})),r.current=o)},[o,e]),v.useLayoutEffect(()=>()=>{r.current&&(e(P9(r.current)),r.current=null)},[e]),null}function kX(t){var{yAxisId:e,className:r,width:n,label:i}=t,s=v.useRef(null),a=v.useRef(null),o=me(Oy),u=ct(),c=st(),d="yAxis",h=me(w=>uO(w,e)),f=me(w=>hW(w,e)),p=me(w=>hO(w,d,e,u)),g=me(w=>OA(w,e));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!h||N0(i)||v.isValidElement(i)||g==null)){var w=s.current;if(w){var P=w.getCalculatedWidth();Math.round(h.width)!==Math.round(P)&&c(M9({id:e,width:P}))}}},[p,h,c,i,e,n,g]),h==null||f==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:_,scale:x}=t,b=Qv(t,yX),{id:S,scale:k}=g,m=Qv(g,xX);return v.createElement(W0,Zv({},b,m,{ref:s,labelRef:a,x:f.x,y:f.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:ze("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:p,axisType:d}))}var PX={allowDataOverflow:jt.allowDataOverflow,allowDecimals:jt.allowDecimals,allowDuplicatedCategory:jt.allowDuplicatedCategory,angle:jt.angle,axisLine:Xn.axisLine,hide:!1,includeHidden:jt.includeHidden,interval:jt.interval,label:!1,minTickGap:jt.minTickGap,mirror:jt.mirror,orientation:jt.orientation,padding:jt.padding,reversed:jt.reversed,scale:jt.scale,tick:jt.tick,tickCount:jt.tickCount,tickLine:Xn.tickLine,tickSize:Xn.tickSize,type:jt.type,width:jt.width,yAxisId:0},MX=t=>{var e=pt(t,PX);return v.createElement(v.Fragment,null,v.createElement(jX,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),v.createElement(kX,e))},cr=v.memo(MX,KT);cr.displayName="YAxis";var CX=(t,e)=>e,H0=F([CX,Oe,CA,Ot,EO,fi,M7,Ct],N7),Y0=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},VT=Gr("mouseClick"),HT=Gl();HT.startListening({actionCreator:VT,effect:(t,e)=>{var r=t.payload,n=H0(e.getState(),Y0(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(MW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Jv=Gr("mouseMove"),YT=Gl(),ic=null;YT.startListening({actionCreator:Jv,effect:(t,e)=>{var r=t.payload;ic!==null&&cancelAnimationFrame(ic);var n=Y0(r);ic=requestAnimationFrame(()=>{var i=e.getState(),s=S0(i,i.tooltip.settings.shared);if(s==="axis"){var a=H0(i,n);(a==null?void 0:a.activeIndex)!=null?e.dispatch(_O({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(xO())}ic=null})}});function EX(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var jk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},GT=br({name:"rootProps",initialState:jk,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:jk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),AX=GT.reducer,{updateOptions:OX}=GT.actions,TX=null,zX={updatePolarOptions:(t,e)=>e.payload},XT=br({name:"polarOptions",initialState:TX,reducers:zX}),{updatePolarOptions:WZ}=XT.actions,NX=XT.reducer,qT=Gr("keyDown"),ZT=Gr("focus"),G0=Gl();G0.startListening({actionCreator:qT,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=j0(i,oo(r),su(r),ou(r)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var u=fi(r);if(s==="Enter"){var c=Bd(r,"axis","hover",String(i.index));e.dispatch(Bv({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=gW(r),h=d==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,p=o+f*h;if(!(u==null||p>=u.length||p<0)){var g=Bd(r,"axis","hover",String(p));e.dispatch(Bv({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});G0.startListening({actionCreator:ZT,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=Bd(r,"axis","hover",String(s));e.dispatch(Bv({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var $r=Gr("externalEvent"),QT=Gl(),Jp=new Map;QT.startListening({actionCreator:$r,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,s=Jp.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:h7(o),activeDataKey:zO(o),activeIndex:Wi(o),activeLabel:TO(o),activeTooltipIndex:Wi(o),isTooltipActive:f7(o)};r(u,n)}finally{Jp.delete(i)}});Jp.set(i,a)}}});var IX=F([so],t=>t.tooltipItemPayloads),RX=F([IX,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{if(e!=null){var n=t.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(e)}}}),JT=Gr("touchMove"),ez=Gl();ez.startListening({actionCreator:JT,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=S0(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var a=H0(n,Y0({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(_O({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(b3),h=(o=c.getAttribute(ZE))!==null&&o!==void 0?o:void 0,f=ao(n).find(y=>y.id===h);if(d==null||f==null||h==null)return;var{dataKey:p}=f,g=RX(n,d,h);e.dispatch(yO({activeDataKey:p,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:h}))}}}});var DX=yE({brush:H9,cartesianAxis:C9,chartData:cU,errorBars:rH,graphicalItems:o9,layout:i3,legend:l$,options:sU,polarAxis:TK,polarOptions:NX,referenceElements:eV,rootProps:AX,tooltip:CW,zIndex:G7}),LX=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return E4({reducer:DX,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([HT.middleware,YT.middleware,G0.middleware,QT.middleware,ez.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(zE({type:"raf"}))},devTools:{serialize:{replacer:EX},name:"recharts-".concat(r)}})};function $X(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=ct(),s=v.useRef(null);if(i)return r;s.current==null&&(s.current=LX(e,n));var a=wy;return v.createElement(NH,{context:a,store:s.current},r)}function BX(t){var{layout:e,margin:r}=t,n=st(),i=ct();return v.useEffect(()=>{i||(n(t3(e)),n(e3(r)))},[n,i,e,r]),null}var FX=v.memo(BX,lo);function WX(t){var e=st();return v.useEffect(()=>{e(OX(t))},[e,t]),null}function kk(t){var{zIndex:e,isPanorama:r}=t,n=v.useRef(null),i=st();return v.useLayoutEffect(()=>(n.current&&i(H7({zIndex:e,element:n.current,isPanorama:r})),()=>{i(Y7({zIndex:e,isPanorama:r}))}),[i,e,r]),v.createElement("g",{tabIndex:-1,ref:n})}function Pk(t){var{children:e,isPanorama:r}=t,n=me(R7);if(!n||n.length===0)return e;var i=n.filter(a=>a<0),s=n.filter(a=>a>0);return v.createElement(v.Fragment,null,i.map(a=>v.createElement(kk,{key:a,zIndex:a,isPanorama:r})),e,s.map(a=>v.createElement(kk,{key:a,zIndex:a,isPanorama:r})))}var UX=["children"];function KX(t,e){if(t==null)return{};var r,n,i=VX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function VX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zd.apply(null,arguments)}var HX={width:"100%",height:"100%",display:"block"},YX=v.forwardRef((t,e)=>{var r=s2(),n=a2(),i=m2();if(!On(r)||!On(n))return null;var{children:s,otherAttributes:a,title:o,desc:u}=t,c,d;return a!=null&&(typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),v.createElement(xC,Zd({},a,{title:o,desc:u,role:d,tabIndex:c,width:r,height:n,style:HX,ref:e}),s)}),GX=t=>{var{children:e}=t,r=me(Kh);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return v.createElement(xC,{width:n,height:i,x:a,y:s},e)},Mk=v.forwardRef((t,e)=>{var{children:r}=t,n=KX(t,UX),i=ct();return i?v.createElement(GX,null,v.createElement(Pk,{isPanorama:!0},r)):v.createElement(YX,Zd({ref:e},n),v.createElement(Pk,{isPanorama:!1},r))});function XX(){var t=st(),[e,r]=v.useState(null),n=me(_3);return v.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;xe(s)&&s!==n&&t(n3(s))}},[e,t,n]),r}function Ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(r),!0).forEach(function(n){ZX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZX(t,e,r){return(e=QX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QX(t){var e=JX(t,"string");return typeof e=="symbol"?e:e+""}function JX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Li(){return Li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Li.apply(null,arguments)}var eq=()=>(xU(),null);function Qd(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var tq=v.forwardRef((t,e)=>{var r,n,i=v.useRef(null),[s,a]=v.useState({containerWidth:Qd((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:Qd((n=t.style)===null||n===void 0?void 0:n.height)}),o=v.useCallback((c,d)=>{a(h=>{var f=Math.round(c),p=Math.round(d);return h.containerWidth===f&&h.containerHeight===p?h:{containerWidth:f,containerHeight:p}})},[]),u=v.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=c.getBoundingClientRect();o(d,h);var f=g=>{var y=g[0];if(y!=null){var{width:_,height:x}=y.contentRect;o(_,x)}},p=new ResizeObserver(f);p.observe(c),i.current=p}},[e,o]);return v.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(ql,{width:s.containerWidth,height:s.containerHeight}),v.createElement("div",Li({ref:u},t)))}),rq=v.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,s]=v.useState({containerWidth:Qd(r),containerHeight:Qd(n)}),a=v.useCallback((u,c)=>{s(d=>{var h=Math.round(u),f=Math.round(c);return d.containerWidth===h&&d.containerHeight===f?d:{containerWidth:h,containerHeight:f}})},[]),o=v.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:c,height:d}=u.getBoundingClientRect();a(c,d)}},[e,a]);return v.createElement(v.Fragment,null,v.createElement(ql,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Li({ref:o},t)))}),nq=v.forwardRef((t,e)=>{var{width:r,height:n}=t;return v.createElement(v.Fragment,null,v.createElement(ql,{width:r,height:n}),v.createElement("div",Li({ref:e},t)))}),iq=v.forwardRef((t,e)=>{var{width:r,height:n}=t;return typeof r=="string"||typeof n=="string"?v.createElement(rq,Li({},t,{ref:e})):typeof r=="number"&&typeof n=="number"?v.createElement(nq,Li({},t,{width:r,height:n,ref:e})):v.createElement(v.Fragment,null,v.createElement(ql,{width:r,height:n}),v.createElement("div",Li({ref:e},t)))});function sq(t){return t?tq:iq}var aq=v.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:u,onMouseEnter:c,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:y,style:_,width:x,responsive:b,dispatchTouchEvents:S=!0}=t,k=v.useRef(null),m=st(),[w,P]=v.useState(null),[C,E]=v.useState(null),I=XX(),D=Ty(),z=(D==null?void 0:D.width)>0?D.width:x,X=(D==null?void 0:D.height)>0?D.height:i,Z=v.useCallback(W=>{I(W),typeof e=="function"&&e(W),P(W),E(W),W!=null&&(k.current=W)},[I,e,P,E]),H=v.useCallback(W=>{m(VT(W)),m($r({handler:s,reactEvent:W}))},[m,s]),oe=v.useCallback(W=>{m(Jv(W)),m($r({handler:c,reactEvent:W}))},[m,c]),O=v.useCallback(W=>{m(xO()),m($r({handler:d,reactEvent:W}))},[m,d]),R=v.useCallback(W=>{m(Jv(W)),m($r({handler:h,reactEvent:W}))},[m,h]),N=v.useCallback(()=>{m(ZT())},[m]),L=v.useCallback(W=>{m(qT(W.key))},[m]),Q=v.useCallback(W=>{m($r({handler:a,reactEvent:W}))},[m,a]),G=v.useCallback(W=>{m($r({handler:o,reactEvent:W}))},[m,o]),ye=v.useCallback(W=>{m($r({handler:u,reactEvent:W}))},[m,u]),pe=v.useCallback(W=>{m($r({handler:f,reactEvent:W}))},[m,f]),ve=v.useCallback(W=>{m($r({handler:y,reactEvent:W}))},[m,y]),T=v.useCallback(W=>{S&&m(JT(W)),m($r({handler:g,reactEvent:W}))},[m,S,g]),B=v.useCallback(W=>{m($r({handler:p,reactEvent:W}))},[m,p]),ae=sq(b);return v.createElement(FO.Provider,{value:w},v.createElement(bL.Provider,{value:C},v.createElement(ae,{width:z??(_==null?void 0:_.width),height:X??(_==null?void 0:_.height),className:ze("recharts-wrapper",n),style:qX({position:"relative",cursor:"default",width:z,height:X},_),onClick:H,onContextMenu:Q,onDoubleClick:G,onFocus:N,onKeyDown:L,onMouseDown:ye,onMouseEnter:oe,onMouseLeave:O,onMouseMove:R,onMouseUp:pe,onTouchEnd:B,onTouchMove:T,onTouchStart:ve,ref:Z},v.createElement(eq,null),r)))}),oq=["width","height","responsive","children","className","style","compact","title","desc"];function lq(t,e){if(t==null)return{};var r,n,i=uq(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var cq=v.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:o,compact:u,title:c,desc:d}=t,h=lq(t,oq),f=ir(h);return u?v.createElement(v.Fragment,null,v.createElement(ql,{width:r,height:n}),v.createElement(Mk,{otherAttributes:f,title:c,desc:d},s)):v.createElement(aq,{className:a,style:o,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},v.createElement(Mk,{otherAttributes:f,title:c,desc:d,ref:e},v.createElement(tV,null,s)))});function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eg.apply(null,arguments)}var dq={top:5,right:5,bottom:5,left:5},hq={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:dq,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},fu=v.forwardRef(function(e,r){var n,i=pt(e.categoricalChartProps,hq),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:c}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return v.createElement($X,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:s},v.createElement(V9,{chartData:c.data}),v.createElement(FX,{layout:i.layout,margin:i.margin}),v.createElement(WX,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(cq,eg({},i,{ref:r})))}),fq=["axis"],sc=v.forwardRef((t,e)=>v.createElement(fu,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fq,tooltipPayloadSearcher:uu,categoricalChartProps:t,ref:e})),pq=["axis","item"],em=v.forwardRef((t,e)=>v.createElement(fu,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pq,tooltipPayloadSearcher:uu,categoricalChartProps:t,ref:e})),mq=["item"],tm=v.forwardRef((t,e)=>v.createElement(fu,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:mq,tooltipPayloadSearcher:uu,categoricalChartProps:t,ref:e})),vq=["axis"],gq=v.forwardRef((t,e)=>v.createElement(fu,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vq,tooltipPayloadSearcher:uu,categoricalChartProps:t,ref:e})),yq=["axis"],xq=v.forwardRef((t,e)=>v.createElement(fu,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yq,tooltipPayloadSearcher:uu,categoricalChartProps:t,ref:e}));const Se="/api";async function Me(t,e){const r=await fetch(t,e);if(!r.ok){const n=await r.text();throw new Error(`API error: ${r.status} - ${n}`)}return r.json()}async function _q(){return Me(`${Se}/profiles`)}async function tz(t){return Me(`${Se}/profiles/${encodeURIComponent(t)}`)}async function X0(t,e){await Me(`${Se}/profiles/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_data:e})})}async function bq(t){return Me(`${Se}/profiles`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})})}async function wq(t){return Me(`${Se}/profiles?path=${encodeURIComponent(t)}`,{method:"DELETE"})}async function Sq(t){return Me(`${Se}/auth/check?profile_path=${encodeURIComponent(t)}`)}async function jq(t,e){return Me(`${Se}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,password:e})})}async function tg(t,e,r){return Me(`${Se}/auth/set-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,current_password:e,new_password:r})})}async function kq(t,e){return Me(`${Se}/auth/remove-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,password:e})})}async function Pq(){return Me(`${Se}/presets`)}async function Mq(t,e){return Me(`${Se}/presets/${t}/preview?profile_path=${encodeURIComponent(e)}`)}async function Cq(t,e,r){const n={preset_id:t};return r&&Object.keys(r).length>0&&(n.options=r),Me(`${Se}/presets/${t}/apply?profile_path=${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}async function rg(t){return Me(`${Se}/runtime/${t}`)}async function Ek(t,e,r){await Me(`${Se}/runtime/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:e,kill_switch:r})})}async function Eq(t){return Me(`${Se}/runtime/${t}/temp-settings`)}async function Aq(t,e){await Me(`${Se}/runtime/${t}/temp-settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function rz(t,e){return Me(`${Se}/loop/${t}/start?profile_path=${encodeURIComponent(e)}`,{method:"POST"})}async function nz(t){return Me(`${Se}/loop/${t}/stop`,{method:"POST"})}async function iz(t,e=100){return Me(`${Se}/loop/${t}/log?lines=${e}`)}async function q0(t,e=50,r){const n=new URLSearchParams({limit:String(e)});r&&n.set("profile_path",r);const i=`${Se}/data/${t}/trades?${n}`,s=await Me(i);return s!=null&&typeof s=="object"&&"trades"in s&&Array.isArray(s.trades)?{trades:s.trades,display_currency:s.display_currency}:{trades:Array.isArray(s)?s:[],display_currency:void 0}}async function Oq(t,e,r=90){const n=new URLSearchParams({days_back:String(r)});return e&&n.set("profile_path",e),Me(`${Se}/data/${t}/trade-history?${n}`)}async function Tq(t,e,r=90){const n=new URLSearchParams({days_back:String(r)});return e&&n.set("profile_path",e),Me(`${Se}/data/${t}/trade-history-detail?${n}`)}async function zq(t,e=50){return Me(`${Se}/data/${t}/executions?limit=${e}`)}async function Nq(t){return Me(`${Se}/data/${t}/rejection-breakdown`)}async function Iq(t,e){const r=e?`${Se}/data/${t}/stats?profile_path=${encodeURIComponent(e)}`:`${Se}/data/${t}/stats`;return Me(r)}async function Rq(t,e){const r=e?`${Se}/data/${t}/stats-by-preset?profile_path=${encodeURIComponent(e)}`:`${Se}/data/${t}/stats-by-preset`;return Me(r)}async function Dq(t,e){const r=e?`${Se}/data/${t}/mt5-report?profile_path=${encodeURIComponent(e)}`:`${Se}/data/${t}/mt5-report`,n=await fetch(r);if(!n.ok)return null;const i=await n.json();return(i==null?void 0:i.source)==="mt5"?i:null}async function sz(t,e,r){return Me(`${Se}/trades/${t}/${e}/close?profile_path=${encodeURIComponent(r)}`,{method:"POST"})}async function Lq(t,e,r=!0){const n=new URLSearchParams({profile_path:e});return r&&n.set("force_profit_refresh","true"),Me(`${Se}/data/${t}/sync-trades?${n}`,{method:"POST"})}async function az(t,e){return Me(`${Se}/data/${t}/technical-analysis?profile_path=${encodeURIComponent(e)}`)}async function Tf(t,e){const r=e?`?profile_path=${encodeURIComponent(e)}`:"";return Me(`${Se}/data/${t}/open-trades${r}`)}async function $q(t,e,r=365){return Me(`${Se}/data/${t}/advanced-analytics?profile_path=${encodeURIComponent(e)}&days_back=${r}`)}async function Bq(t,e){return Me(`${Se}/data/${t}/filter-config?profile_path=${encodeURIComponent(e)}`)}async function Fq(t,e){const r=e?`?profile_path=${encodeURIComponent(e)}`:"";return Me(`${Se}/data/${t}/dashboard${r}`)}async function Wq(t,e=50){return Me(`${Se}/data/${t}/trade-events?limit=${e}`)}const Y={bg:"#0f172a",panel:"#1e293b",panelHover:"#334155",border:"#334155",textPrimary:"#e2e8f0",textSecondary:"#94a3b8",green:"#22c55e",red:"#ef4444",amber:"#f59e0b",blue:"#3b82f6"},lt={fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace'};function Uq({running:t}){return l.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",backgroundColor:t?Y.green:Y.red,marginRight:6,boxShadow:t?`0 0 6px ${Y.green}`:void 0}})}function Z0({side:t}){const e=t.toLowerCase()==="buy";return l.jsx("span",{style:{display:"inline-block",padding:"1px 6px",borderRadius:3,fontSize:11,fontWeight:700,backgroundColor:e?Y.green+"22":Y.red+"22",color:e?Y.green:Y.red,border:`1px solid ${e?Y.green+"44":Y.red+"44"}`},children:t.toUpperCase()})}function Kq({type:t}){return t?l.jsx("span",{style:{display:"inline-block",padding:"1px 5px",borderRadius:3,fontSize:10,backgroundColor:Y.blue+"22",color:Y.blue,border:`1px solid ${Y.blue}44`,marginLeft:4},children:t}):null}function Q0({pips:t}){const e=t>0?Y.green:t<0?Y.red:Y.textSecondary;return l.jsxs("span",{style:{color:e,...lt},children:[t>0?"+":"",t.toFixed(1),"p"]})}function Vq({loopRunning:t,profileName:e,mode:r,tick:n,onToggleLoop:i,presetName:s}){const[a,o]=v.useState(new Date().toISOString().slice(11,19));return v.useEffect(()=>{const u=setInterval(()=>o(new Date().toISOString().slice(11,19)),1e3);return()=>clearInterval(u)},[]),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"8px 16px",backgroundColor:Y.panel,borderBottom:`1px solid ${Y.border}`},children:[l.jsx("button",{onClick:i,style:{padding:"4px 14px",borderRadius:4,border:"none",cursor:"pointer",fontWeight:600,fontSize:12,backgroundColor:t?Y.red:Y.green,color:"#fff"},children:t?"Stop":"Start"}),l.jsx(Uq,{running:t}),l.jsxs("span",{style:{color:Y.textSecondary,fontSize:12,...lt},children:["UTC ",a]}),l.jsx("span",{style:{color:Y.textPrimary,fontSize:13,fontWeight:600},children:s||e}),l.jsxs("span",{style:{color:Y.textSecondary,fontSize:12},children:["Mode: ",r||""]}),l.jsx("div",{style:{flex:1}}),n&&l.jsxs("div",{style:{display:"flex",gap:12,...lt,fontSize:12},children:[l.jsxs("span",{style:{color:Y.textSecondary},children:["Bid: ",l.jsx("span",{style:{color:Y.textPrimary},children:n.bid.toFixed(3)})]}),l.jsxs("span",{style:{color:Y.textSecondary},children:["Ask: ",l.jsx("span",{style:{color:Y.textPrimary},children:n.ask.toFixed(3)})]}),l.jsxs("span",{style:{color:Y.textSecondary},children:["Spread: ",l.jsxs("span",{style:{color:Y.textPrimary},children:[n.spread.toFixed(1),"p"]})]})]})]})}const Hq={m3_trend:"M3 Trend",m1_emas:"M1 EMAs",trend:"Trend",zone_entry:"Zone Entry",ema_zone:"EMA Zone",filters:"Filters",price:"Price"};function Yq({items:t}){const e={};return t.forEach(r=>{e[r.category]||(e[r.category]=[]),e[r.category].push(r)}),l.jsxs("div",{style:{backgroundColor:Y.panel,borderRadius:6,padding:14,border:`1px solid ${Y.border}`,minHeight:120},children:[l.jsx("div",{style:{fontSize:15,fontWeight:700,color:Y.textSecondary,marginBottom:10,textTransform:"uppercase",letterSpacing:1},children:"Context"}),Object.entries(e).map(([r,n])=>l.jsxs("div",{style:{marginBottom:12},children:[l.jsx("div",{style:{fontSize:16,color:Y.blue,fontWeight:600,marginBottom:4,textTransform:"uppercase"},children:Hq[r]??r}),n.map(i=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 0"},children:[l.jsx("span",{style:{color:Y.textSecondary,fontSize:15},children:i.key}),l.jsx("span",{style:{color:i.valueColor==="green"?Y.green:i.valueColor==="red"?Y.red:Y.textPrimary,fontSize:15,...lt},children:i.value})]},i.key))]},r)),t.length===0&&l.jsx("div",{style:{color:Y.textSecondary,fontSize:15},children:"No context data (start loop for live context)"})]})}function Gq({trades:t,tick:e}){const r=e?(e.bid+e.ask)/2:null,n=t.filter(o=>o.side.toLowerCase()==="buy").length,i=t.filter(o=>o.side.toLowerCase()==="sell").length,[s,a]=v.useState(!0);return v.useEffect(()=>{a(t.length<=3)},[t.length]),l.jsxs("div",{style:{backgroundColor:Y.panel,borderRadius:6,padding:14,border:`1px solid ${Y.border}`,minHeight:120},children:[l.jsx("div",{style:{fontSize:15,fontWeight:700,color:Y.textSecondary,marginBottom:10,textTransform:"uppercase",letterSpacing:1},children:"Open Positions"}),t.length===0?l.jsx("div",{style:{color:Y.textSecondary,fontSize:15},children:"No open positions"}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[l.jsxs("span",{style:{color:Y.textPrimary,fontSize:15},children:[n," Longs | ",i," Shorts"]}),l.jsx("button",{type:"button",onClick:()=>a(o=>!o),style:{background:"none",border:`1px solid ${Y.border}`,borderRadius:4,padding:"4px 8px",color:Y.blue,fontSize:13,cursor:"pointer"},children:s?" Hide table":" Show table"})]}),s&&l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,marginTop:10},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{color:Y.textSecondary,borderBottom:`1px solid ${Y.border}`},children:[l.jsx("th",{style:{textAlign:"left",padding:"4px 6px",fontWeight:500},children:"Side"}),l.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"Entry"}),l.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"Current"}),l.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"P&L"}),l.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"SL"}),l.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"TP"}),l.jsx("th",{style:{textAlign:"right",padding:"4px 6px",fontWeight:500},children:"Size"})]})}),l.jsx("tbody",{children:t.map(o=>{var h,f;const u=o.side.toLowerCase()==="buy",c=r??o.entry_price,d=u?(c-o.entry_price)/.01:(o.entry_price-c)/.01;return l.jsxs("tr",{style:{borderBottom:`1px solid ${Y.border}22`},children:[l.jsx("td",{style:{padding:"4px 6px"},children:l.jsx(Z0,{side:o.side})}),l.jsx("td",{style:{padding:"4px 6px",textAlign:"right",...lt,color:Y.textPrimary},children:o.entry_price.toFixed(3)}),l.jsx("td",{style:{padding:"4px 6px",textAlign:"right",...lt,color:Y.textPrimary},children:c.toFixed(3)}),l.jsx("td",{style:{padding:"4px 6px",textAlign:"right"},children:o.unrealized_pl!=null?l.jsxs("span",{style:{color:o.unrealized_pl>=0?Y.green:Y.red,...lt},children:[o.unrealized_pl>=0?"+":"",o.unrealized_pl.toFixed(2)]}):l.jsx(Q0,{pips:d})}),l.jsx("td",{style:{padding:"4px 6px",textAlign:"right",color:Y.textSecondary,...lt},children:((h=o.stop_price)==null?void 0:h.toFixed(3))??""}),l.jsx("td",{style:{padding:"4px 6px",textAlign:"right",color:Y.textSecondary,...lt},children:((f=o.target_price)==null?void 0:f.toFixed(3))??""}),l.jsx("td",{style:{padding:"4px 6px",textAlign:"right",color:Y.textSecondary,...lt},children:o.size_lots})]},o.trade_id)})})]})]})]})}function oz({filter:t,depth:e=0}){const[r,n]=v.useState(!0);if(!t.enabled)return null;const i=t.sub_filters&&t.sub_filters.length>0;return l.jsxs(l.Fragment,{children:[l.jsxs("tr",{style:{borderBottom:`1px solid ${Y.border}22`,cursor:i?"pointer":"default"},onClick:i?()=>n(s=>!s):void 0,children:[l.jsxs("td",{style:{padding:"4px 8px",paddingLeft:8+e*16,borderLeft:`3px solid ${t.is_clear?Y.green:Y.red}`,color:Y.textPrimary,fontSize:12},children:[i&&l.jsx("span",{style:{marginRight:4,fontSize:10},children:r?"":""}),t.display_name]}),l.jsx("td",{style:{padding:"4px 8px",...lt,fontSize:12,color:Y.textPrimary},children:t.current_value}),l.jsx("td",{style:{padding:"4px 8px",fontSize:11,color:Y.textSecondary},children:t.threshold}),l.jsx("td",{style:{padding:"4px 8px",textAlign:"center"},children:t.is_clear?l.jsx("span",{style:{color:Y.green,fontSize:14},children:""}):l.jsx("span",{title:t.block_reason||"",style:{color:Y.red,fontSize:14,cursor:"help"},children:""})}),l.jsx("td",{style:{padding:"4px 8px",fontSize:11,color:Y.red},children:t.block_reason&&!t.is_clear?t.block_reason:""})]}),i&&r&&t.sub_filters.map(s=>l.jsx(oz,{filter:s,depth:e+1},s.filter_id))]})}function Xq({filters:t}){const e=t.filter(i=>i.enabled);if(e.length===0)return l.jsxs("div",{style:{backgroundColor:Y.panel,borderRadius:6,padding:12,border:`1px solid ${Y.border}`},children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:Y.textSecondary,marginBottom:8,textTransform:"uppercase",letterSpacing:1},children:"Filter Status"}),l.jsx("div",{style:{color:Y.textSecondary,fontSize:12},children:"No active filters (start loop for live filter status)"})]});const r=e.every(i=>i.is_clear),n=e.filter(i=>!i.is_clear).map(i=>i.display_name);return l.jsxs("div",{style:{backgroundColor:Y.panel,borderRadius:6,padding:12,border:`1px solid ${Y.border}`},children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:Y.textSecondary,marginBottom:8,textTransform:"uppercase",letterSpacing:1},children:"Filter Status"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{color:Y.textSecondary,borderBottom:`1px solid ${Y.border}`,fontSize:11},children:[l.jsx("th",{style:{textAlign:"left",padding:"4px 8px",fontWeight:500},children:"Filter"}),l.jsx("th",{style:{textAlign:"left",padding:"4px 8px",fontWeight:500},children:"Current Value"}),l.jsx("th",{style:{textAlign:"left",padding:"4px 8px",fontWeight:500},children:"Threshold"}),l.jsx("th",{style:{textAlign:"center",padding:"4px 8px",fontWeight:500},children:"Status"}),l.jsx("th",{style:{textAlign:"left",padding:"4px 8px",fontWeight:500},children:"Reason"})]})}),l.jsx("tbody",{children:e.map(i=>l.jsx(oz,{filter:i},i.filter_id))})]}),l.jsxs("div",{style:{marginTop:8,padding:"4px 8px",fontSize:12,borderRadius:4,backgroundColor:r?Y.green+"11":Y.red+"11",color:r?Y.green:Y.red,border:`1px solid ${r?Y.green+"33":Y.red+"33"}`},children:["Entry: ",r?"CLEAR":`BLOCKED by ${n.join(", ")}`]})]})}function qq({profileName:t,profilePath:e}){const[r,n]=v.useState([]);return v.useEffect(()=>{const i=()=>{q0(t,20,e).then(a=>n(a.trades)).catch(()=>{})};i();const s=setInterval(i,1e4);return()=>clearInterval(s)},[t,e]),l.jsxs("div",{style:{backgroundColor:Y.panel,borderRadius:6,padding:12,border:`1px solid ${Y.border}`},children:[l.jsxs("div",{style:{fontSize:11,fontWeight:700,color:Y.textSecondary,marginBottom:8,textTransform:"uppercase",letterSpacing:1},children:["Recent Trades (",r.length,")"]}),r.length===0?l.jsx("div",{style:{color:Y.textSecondary,fontSize:12,padding:8},children:"No trades recorded yet"}):l.jsx("div",{style:{maxHeight:300,overflowY:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{color:Y.textSecondary,borderBottom:`1px solid ${Y.border}`,fontSize:11},children:[l.jsx("th",{style:{textAlign:"left",padding:"2px 4px",fontWeight:500},children:"Time"}),l.jsx("th",{style:{textAlign:"left",padding:"2px 4px",fontWeight:500},children:"Side"}),l.jsx("th",{style:{textAlign:"right",padding:"2px 4px",fontWeight:500},children:"Entry"}),l.jsx("th",{style:{textAlign:"right",padding:"2px 4px",fontWeight:500},children:"Exit"}),l.jsx("th",{style:{textAlign:"right",padding:"2px 4px",fontWeight:500},children:"Pips"}),l.jsx("th",{style:{textAlign:"right",padding:"2px 4px",fontWeight:500},children:"Profit"})]})}),l.jsx("tbody",{children:r.map((i,s)=>{const a=i.pips!=null?Number(i.pips):null,o=i.profit!=null?Number(i.profit):null,u=String(i.timestamp_utc||"").slice(5,16);return l.jsxs("tr",{style:{borderBottom:`1px solid ${Y.border}22`},children:[l.jsx("td",{style:{padding:"3px 4px",color:Y.textSecondary,...lt,fontSize:11},children:u}),l.jsx("td",{style:{padding:"3px 4px"},children:l.jsx(Z0,{side:String(i.side||"")})}),l.jsx("td",{style:{padding:"3px 4px",textAlign:"right",...lt,color:Y.textPrimary},children:Number(i.entry_price||0).toFixed(3)}),l.jsx("td",{style:{padding:"3px 4px",textAlign:"right",...lt,color:Y.textPrimary},children:i.exit_price!=null?Number(i.exit_price).toFixed(3):""}),l.jsx("td",{style:{padding:"3px 4px",textAlign:"right"},children:a!=null?l.jsx(Q0,{pips:a}):l.jsx("span",{style:{color:Y.textSecondary},children:""})}),l.jsx("td",{style:{padding:"3px 4px",textAlign:"right",...lt},children:o!=null?l.jsxs("span",{style:{color:o>=0?Y.green:Y.red},children:[o>=0?"+":"",o.toFixed(2)]}):l.jsx("span",{style:{color:Y.textSecondary},children:""})})]},String(i.trade_id||s))})})]})})]})}function Zq({event:t,isNew:e}){var i;const r=t.event_type==="close",n=((i=t.timestamp_utc)==null?void 0:i.slice(11,19))||"";return l.jsxs("div",{style:{padding:"6px 10px",marginBottom:4,borderRadius:4,backgroundColor:Y.panelHover,borderLeft:`3px solid ${r?t.pips&&t.pips>0?Y.green:Y.red:Y.blue}`,animation:e?"dashHighlight 1.5s ease-out":void 0,fontSize:12},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:2},children:[l.jsx("span",{style:{color:Y.textSecondary,...lt,fontSize:11},children:n}),l.jsx("span",{style:{fontSize:10,fontWeight:700,padding:"0 4px",borderRadius:2,backgroundColor:r?Y.amber+"22":Y.blue+"22",color:r?Y.amber:Y.blue},children:r?"CLOSE":"OPEN"}),l.jsx(Z0,{side:t.side}),l.jsx(Kq,{type:t.entry_type}),t.trigger_type&&l.jsx("span",{style:{color:Y.textSecondary,fontSize:10},children:t.trigger_type}),l.jsx("span",{style:{...lt,color:Y.textPrimary},children:t.price.toFixed(3)})]}),r&&l.jsxs("div",{style:{display:"flex",gap:10,fontSize:11,marginTop:2},children:[t.pips!=null&&l.jsx(Q0,{pips:t.pips}),t.profit!=null&&l.jsxs("span",{style:{color:t.profit>0?Y.green:Y.red,...lt},children:[t.profit>0?"+":"",t.profit.toFixed(2)]}),t.exit_reason&&l.jsx("span",{style:{color:Y.textSecondary},children:t.exit_reason})]})]})}function Qq({events:t}){const e=v.useRef(t.length),r=t.length-e.current;return v.useEffect(()=>{e.current=t.length},[t.length]),l.jsxs("div",{style:{backgroundColor:Y.panel,borderRadius:6,padding:12,border:`1px solid ${Y.border}`},children:[l.jsxs("div",{style:{fontSize:11,fontWeight:700,color:Y.textSecondary,marginBottom:8,textTransform:"uppercase",letterSpacing:1},children:["Trade Log (",t.length,")"]}),l.jsx("div",{style:{maxHeight:300,overflowY:"auto"},children:t.length===0?l.jsx("div",{style:{color:Y.textSecondary,fontSize:12,padding:8},children:"No trade events yet"}):t.map((n,i)=>l.jsx(Zq,{event:n,isNew:i<Math.max(0,r)},n.trade_id+n.event_type+n.timestamp_utc))})]})}function Jq({summary:t}){if(!t||t.trades_today===0)return l.jsx("div",{style:{padding:"6px 16px",backgroundColor:Y.panel,borderTop:`1px solid ${Y.border}`,display:"flex",gap:16,fontSize:12,color:Y.textSecondary},children:"Today: No trades"});const e=t.total_pips>=0;return l.jsxs("div",{style:{padding:"6px 16px",backgroundColor:Y.panel,borderTop:`1px solid ${Y.border}`,display:"flex",gap:16,fontSize:12,color:e?Y.green:Y.red},children:[l.jsxs("span",{children:["Trades: ",l.jsx("strong",{children:t.trades_today})]}),l.jsxs("span",{children:["W/L: ",l.jsxs("strong",{children:[t.wins,"/",t.losses]})]}),l.jsxs("span",{children:["Win Rate: ",l.jsxs("strong",{children:[t.win_rate.toFixed(1),"%"]})]}),l.jsxs("span",{style:lt,children:["Pips: ",l.jsxs("strong",{children:[t.total_pips>0?"+":"",t.total_pips.toFixed(1)]})]}),l.jsxs("span",{style:lt,children:["Profit: ",l.jsxs("strong",{children:[t.total_profit>0?"+":"",t.total_profit.toFixed(2)]})]})]})}function eZ({profileName:t}){const[e,r]=v.useState(!1),[n,i]=v.useState("");return v.useEffect(()=>{if(!e)return;const s=()=>iz(t,100).then(o=>i(o.content)).catch(()=>{});s();const a=setInterval(s,3e3);return()=>clearInterval(a)},[e,t]),l.jsxs("div",{style:{backgroundColor:Y.panel,borderRadius:6,border:`1px solid ${Y.border}`,marginTop:8},children:[l.jsxs("button",{onClick:()=>r(s=>!s),style:{width:"100%",padding:"6px 12px",textAlign:"left",border:"none",backgroundColor:"transparent",color:Y.textSecondary,cursor:"pointer",fontSize:11,fontWeight:600,textTransform:"uppercase",letterSpacing:1},children:[e?"":""," Raw Logs"]}),e&&l.jsx("pre",{style:{padding:"8px 12px",margin:0,fontSize:11,...lt,color:Y.textSecondary,maxHeight:300,overflowY:"auto",backgroundColor:Y.bg,borderTop:`1px solid ${Y.border}`,whiteSpace:"pre-wrap",wordBreak:"break-all"},children:n||"No log output"})]})}function tZ({profileName:t,profilePath:e}){const[r,n]=v.useState(null),[i,s]=v.useState([]),[a,o]=v.useState(null),[u,c]=v.useState([]),[d,h]=v.useState(null),[f,p]=v.useState(null),g=(r==null?void 0:r.loop_running)??!1,y=a!=null&&a.current_tick?{bid:a.current_tick.bid,ask:a.current_tick.ask,spread:a.current_tick.spread_pips}:null;v.useEffect(()=>{let m=!0;const w=()=>{rg(t).then(C=>{m&&n(C)}).catch(()=>{})};w();const P=setInterval(w,3e3);return()=>{m=!1,clearInterval(P)}},[t]),v.useEffect(()=>{let m=!0;const w=()=>{Tf(t,e).then(C=>{m&&s(C)}).catch(()=>{})};w();const P=setInterval(w,5e3);return()=>{m=!1,clearInterval(P)}},[t,e]),v.useEffect(()=>{let m=!0;const w=()=>{az(t,e).then(C=>{m&&o(C)}).catch(()=>{})};w();const P=setInterval(w,3e3);return()=>{m=!1,clearInterval(P)}},[t,e]),v.useEffect(()=>{let m=!0;const w=()=>{Wq(t,100).then(C=>{m&&c(C)}).catch(()=>{})};w();const P=setInterval(w,5e3);return()=>{m=!1,clearInterval(P)}},[t]),v.useEffect(()=>{let m=!0;const w=()=>{Bq(t,e).then(C=>{m&&p(C)}).catch(()=>{})};w();const P=setInterval(w,1e4);return()=>{m=!1,clearInterval(P)}},[t,e]),v.useEffect(()=>{let m=!0;const w=()=>{Fq(t,e).then(C=>{m&&C&&!C.error&&h(C)}).catch(()=>{})};w();const P=setInterval(w,3e3);return()=>{m=!1,clearInterval(P)}},[t,e]);const _=v.useCallback(async()=>{try{g?await nz(t):await rz(t,e),rg(t).then(n).catch(()=>{})}catch(m){console.error("Loop toggle error:",m)}},[g,t,e]),x=(()=>{var X,Z,H,oe,O,R,N;if(d!=null&&d.context&&d.context.length>0)return d.context;if(!a)return[];const m=[],w=((d==null?void 0:d.preset_name)||"").toLowerCase(),P=w.includes("trial_4")||w.includes("trial_5")||w.includes("trial_6")||w.includes("trial 4")||w.includes("trial 5")||w.includes("trial 6")||w.includes("#6"),C=w.includes("trial_6")||w.includes("trial 6")||w.includes("#6"),E=w.includes("trial_2")||w.includes("trial_3")||w.includes("trial 2")||w.includes("trial 3")||w.includes("hybrid")||w.includes("counter_trend");y&&(m.push({key:"Bid",value:y.bid.toFixed(3),category:"price"}),m.push({key:"Ask",value:y.ask.toFixed(3),category:"price"}),m.push({key:"Spread",value:`${y.spread.toFixed(1)}p`,category:"price"}));const I=(L,Q)=>{var ye,pe;const G=(pe=(ye=a.timeframes[L])==null?void 0:ye.all_emas)==null?void 0:pe[Q];return G&&G.length>0?G[G.length-1].value:null},D=(L,Q)=>{var ye,pe;const G=(pe=(ye=a.timeframes[L])==null?void 0:ye.all_emas)==null?void 0:pe[Q];return G&&G.length>1?G[G.length-2].value:null},z=.01;if(C){const L=a.timeframes.M3;if(L&&!L.error){const Q=(L.regime||"unknown").toUpperCase();m.push({key:"M3 Trend",value:Q,category:"m3_trend"});const G=I("M3","ema5"),ye=I("M3","ema9"),pe=I("M3","ema21"),ve=D("M3","ema5"),T=D("M3","ema9"),B=D("M3","ema21"),ae=G!=null&&ve!=null?G-ve:null,W=ye!=null&&T!=null?ye-T:null,K=pe!=null&&B!=null?pe-B:null;if(G!=null){const ne=ae!=null?ae>0?"green":ae<0?"red":void 0:void 0;m.push({key:"M3 EMA 5",value:G.toFixed(3),category:"m3_trend",valueColor:ne})}ye!=null&&m.push({key:"M3 EMA 9",value:ye.toFixed(3),category:"m3_trend"}),pe!=null&&m.push({key:"M3 EMA 21",value:pe.toFixed(3),category:"m3_trend"}),m.push({key:"M3 Slope 5",value:ae!=null?ae>0?"+":ae<0?"-":"0":"",category:"m3_trend"}),m.push({key:"M3 Slope 9",value:W!=null?W>0?"+":W<0?"-":"0":"",category:"m3_trend"}),m.push({key:"M3 Slope 21",value:K!=null?K>0?"+":K<0?"-":"0":"",category:"m3_trend"});const V=(X=L.bollinger_series)==null?void 0:X.middle,M=V&&V.length>0?V[V.length-1].value:null;M!=null&&m.push({key:"M3 20 SMA",value:M.toFixed(3),category:"m3_trend"})}for(const Q of["ema5","ema9","ema21","ema34"]){const G=I("M1",Q);G!=null&&m.push({key:`M1 ${Q.replace("ema","EMA ")}`,value:G.toFixed(3),category:"m1_emas"})}}else if(P){const L=a.timeframes.M3;if(L&&!L.error){const ve=(L.regime||"unknown").toUpperCase();m.push({key:"M3 Trend",value:ve,category:"m3_trend"});const T=I("M3","ema5"),B=I("M3","ema9"),ae=I("M3","ema21");T!=null&&m.push({key:"M3 EMA 5",value:T.toFixed(3),category:"m3_trend"}),B!=null&&m.push({key:"M3 EMA 9",value:B.toFixed(3),category:"m3_trend"}),ae!=null&&m.push({key:"M3 EMA 21",value:ae.toFixed(3),category:"m3_trend"});const W=(Z=L.all_emas)==null?void 0:Z.ema9,K=W&&W.length>=2?W[W.length-1].value-W[W.length-2].value:null;m.push({key:"M3 Slope",value:K!=null?K>0?"+":K<0?"-":"0":"",category:"m3_trend"});const V=(H=L.bollinger_series)==null?void 0:H.middle,M=V&&V.length>0?V[V.length-1].value:null;M!=null&&m.push({key:"M3 20 SMA",value:M.toFixed(3),category:"m3_trend"})}for(const ve of["ema5","ema9","ema21","ema34"]){const T=I("M1",ve);T!=null&&m.push({key:`M1 ${ve.replace("ema","EMA ")}`,value:T.toFixed(3),category:"m1_emas"})}const Q=I("M1","ema5"),G=I("M1","ema9");Q!=null&&G!=null&&m.push({key:"EMA5-9 Spread",value:`${((Q-G)/z).toFixed(1)}p`,category:"zone_entry"});const ye=I("M1","ema17");if(G!=null&&ye!=null){const ve=(G-ye)/z;m.push({key:"EMA9-17 Spread",value:`${ve.toFixed(1)}p`,category:"ema_zone"});const T=D("M1","ema9");if(T!=null){const B=G>T?"UP":G<T?"DOWN":"FLAT";m.push({key:"EMA9 Direction",value:B,category:"ema_zone"});const ae=D("M1","ema17");if(ae!=null){const W=(T-ae)/z,K=ve-W;m.push({key:"Spread Change",value:`${K>0?"+":""}${K.toFixed(1)}p`,category:"ema_zone"})}}}const pe=a.timeframes.M1;((oe=pe==null?void 0:pe.atr)==null?void 0:oe.value_pips)!=null&&m.push({key:"M1 ATR",value:`${pe.atr.value_pips.toFixed(1)}p`,category:"filters"}),((O=L==null?void 0:L.atr)==null?void 0:O.value_pips)!=null&&m.push({key:"M3 ATR",value:`${L.atr.value_pips.toFixed(1)}p`,category:"filters"})}else if(E){const L=a.timeframes.M5;L&&!L.error&&m.push({key:"M5 Regime",value:L.regime,category:"trend"});for(const Q of["ema9","ema13","ema21"]){const G=I("M1",Q);G!=null&&m.push({key:`M1 ${Q.toUpperCase()}`,value:G.toFixed(3),category:"zone_entry"})}}else for(const[L,Q]of Object.entries(a.timeframes))Q.error||(m.push({key:`${L} Regime`,value:Q.regime,category:L}),((R=Q.rsi)==null?void 0:R.value)!=null&&m.push({key:`${L} RSI`,value:`${Q.rsi.value.toFixed(1)} (${Q.rsi.zone})`,category:L}),((N=Q.atr)==null?void 0:N.value_pips)!=null&&m.push({key:`${L} ATR`,value:`${Q.atr.value_pips.toFixed(1)}p`,category:L}));return m})(),b=(()=>{var E,I,D,z,X,Z,H,oe,O,R,N,L,Q,G,ye,pe,ve;const m=d==null?void 0:d.filters;if(m&&m.length>0)return m;const w=f==null?void 0:f.filters;if(!w)return[];const P=[],C=(T,B,ae,W,K,V,M)=>({filter_id:T,display_name:B,enabled:ae,is_clear:W,current_value:K,threshold:V,block_reason:M,sub_filters:[],metadata:{}});if(w.spread){const T=Number(w.spread.max_pips??5),B=(y==null?void 0:y.spread)??0,ae=B<=T;P.push(C("spread","Spread",!0,y?ae:!0,y?`${B.toFixed(1)}p`:"",`Max: ${T.toFixed(1)}p`,y&&!ae?`${B.toFixed(1)}p > ${T.toFixed(1)}p`:null))}if((E=w.session_filter)!=null&&E.enabled){const T=w.session_filter.sessions||[],ae=new Date().getUTCHours(),W=ae>=0&&ae<9,K=ae>=7&&ae<16,V=ae>=13&&ae<22,M=[];W&&M.push("Tokyo"),K&&M.push("London"),V&&M.push("NewYork");const ne=M.some(te=>T.includes(te));P.push(C("session","Session Filter",!0,ne,M.length>0?M.join(", "):"Off-hours",T.join(", "),ne?null:"Outside allowed sessions"))}if((I=w.ema_zone_filter)!=null&&I.enabled){const T=Number(w.ema_zone_filter.threshold??.35);P.push(C("ema_zone","EMA Zone Filter",!0,!0,"",`Score  ${T.toFixed(2)}`,null))}if((D=w.rolling_danger_zone)!=null&&D.enabled){const T=Number(w.rolling_danger_zone.pct??.15),B=Number(w.rolling_danger_zone.lookback??100);P.push(C("rolling_danger","Rolling Danger Zone",!0,!0,"",`${(T*100).toFixed(0)}% of ${B}-bar range`,null))}if((z=w.rsi_divergence)!=null&&z.enabled&&P.push(C("rsi_div","RSI Divergence",!0,!0,"","Active",null)),(X=w.tiered_atr)!=null&&X.enabled){const T=Number(w.tiered_atr.block_below??4),B=Number(w.tiered_atr.allow_all_max??12),ae=Number(w.tiered_atr.pullback_max??15),W=(H=(Z=a==null?void 0:a.timeframes.M3)==null?void 0:Z.atr)==null?void 0:H.value_pips;let K="",V=!0,M=null;W!=null&&(K=`${W.toFixed(1)}p`,W<T||W>ae?(V=!1,M=`${K} outside ${T}-${ae}p`):W>B&&(M=`${K} > ${B}p (pullback only)`)),P.push(C("tiered_atr","Tiered ATR",!0,V,K,`<${T}p block, ${T}-${B}p all, ${B}-${ae}p PB only, >${ae}p block`,M))}if((oe=w.m1_atr)!=null&&oe.enabled){const T=(R=(O=a==null?void 0:a.timeframes.M1)==null?void 0:O.atr)==null?void 0:R.value_pips,B=Number(w.m1_atr.tokyo_min??3),ae=Number(w.m1_atr.london_min??3),W=Number(w.m1_atr.ny_min??3.5),K=Number(w.m1_atr.tokyo_max??12),V=Number(w.m1_atr.london_max??14),M=Number(w.m1_atr.ny_max??16);P.push(C("m1_atr","M1 ATR(7)",!0,!0,T!=null?`${T.toFixed(1)}p`:"",`T: ${B}-${K}p, L: ${ae}-${V}p, NY: ${W}-${M}p`,null))}if((N=w.m3_atr)!=null&&N.enabled){const T=(Q=(L=a==null?void 0:a.timeframes.M3)==null?void 0:L.atr)==null?void 0:Q.value_pips,B=Number(w.m3_atr.min??5),ae=Number(w.m3_atr.max??16);let W=!0,K=null;T!=null&&(W=T>=B&&T<=ae,W||(K=`${T.toFixed(1)}p outside ${B}-${ae}p`)),P.push(C("m3_atr","M3 ATR(14)",!0,W,T!=null?`${T.toFixed(1)}p`:"",`${B}-${ae}p`,K))}if((G=w.daily_hl)!=null&&G.enabled){const T=Number(w.daily_hl.buffer??5);P.push(C("daily_hl","Daily H/L Filter",!0,!0,"",`Buffer: ${T.toFixed(1)}p`,null))}if((ye=w.trend_exhaustion)!=null&&ye.enabled){const T=Number(w.trend_exhaustion.fresh_max??2),B=Number(w.trend_exhaustion.mature_max??3.5);P.push(C("trend_exhaustion","Trend Exhaustion",!0,!0,"",`Fresh: ${T.toFixed(1)}p, Mature: ${B.toFixed(1)}p`,null))}if((pe=w.dead_zone)!=null&&pe.enabled){const T=new Date().getUTCHours(),B=T>=21||T<2;P.push(C("dead_zone","Dead Zone (21-02 UTC)",!0,!B,B?"IN DEAD ZONE":"Clear","21:00-02:00 UTC",B?"Currently in dead zone":null))}if((ve=w.max_trades)!=null&&ve.enabled){const T=Number(w.max_trades.per_side??5);P.push(C("max_trades","Max Trades/Side",!0,!0,"",`${T} per side`,null))}return P})(),S=(d==null?void 0:d.daily_summary)||null,k=(d==null?void 0:d.preset_name)||(f==null?void 0:f.preset_name)||"";return l.jsxs("div",{style:{backgroundColor:Y.bg,color:Y.textPrimary,minHeight:"100vh",display:"flex",flexDirection:"column"},children:[l.jsx("style",{children:`
        @keyframes dashHighlight {
          0% { background-color: ${Y.blue}33; }
          100% { background-color: ${Y.panelHover}; }
        }
      `}),l.jsx(Vq,{loopRunning:g,profileName:t,mode:(r==null?void 0:r.mode)||"",tick:y,onToggleLoop:_,presetName:k}),l.jsxs("div",{style:{flex:1,padding:12,display:"flex",flexDirection:"column",gap:8,overflowY:"auto"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsx(Yq,{items:x}),l.jsx(Gq,{trades:i,tick:y})]}),l.jsx(Xq,{filters:b}),l.jsx(qq,{profileName:t,profilePath:e}),u.length>0&&l.jsx(Qq,{events:u}),l.jsx(eZ,{profileName:t})]}),l.jsx(Jq,{summary:S})]})}class $o extends lg.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){var e;return this.state.hasError?this.props.fallback||l.jsxs("div",{className:"card mb-4",style:{padding:24,textAlign:"center"},children:[l.jsx("div",{style:{color:"var(--danger)",fontWeight:600,marginBottom:8},children:"Something went wrong"}),l.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginBottom:12},children:((e=this.state.error)==null?void 0:e.message)||"Unknown error"}),l.jsx("button",{className:"btn btn-secondary",onClick:()=>this.setState({hasError:!1,error:null}),children:"Try Again"})]}):this.props.children}}const rZ=()=>{try{const t=sessionStorage.getItem("unlockedProfiles");return t?new Set(JSON.parse(t)):new Set}catch{return new Set}},rm=t=>{sessionStorage.setItem("unlockedProfiles",JSON.stringify([...t]))};function nZ(){const[t,e]=v.useState("dashboard"),[r,n]=v.useState([]),[i,s]=v.useState(null),[a,o]=v.useState(null),[u,c]=v.useState(!1),[d,h]=v.useState(""),[f,p]=v.useState(null),[g,y]=v.useState(!1),[_,x]=v.useState(!1),[b,S]=v.useState(""),[k,m]=v.useState(""),[w,P]=v.useState(null),[C,E]=v.useState(!1),[I,D]=v.useState({}),[z,X]=v.useState(rZ),[Z,H]=v.useState(""),[oe,O]=v.useState(null),[R,N]=v.useState(!1),L=async()=>{try{const T=await _q();n(T);const B={};await Promise.all(T.map(async ae=>{try{const{has_password:W}=await Sq(ae.path);B[ae.path]=W}catch{B[ae.path]=!1}})),D(B),s(ae=>T.length===0?null:ae&&T.some(W=>W.path===ae.path)?ae:T[0])}catch(T){o(T.message)}};v.useEffect(()=>{L()},[]);const Q=i&&I[i.path]&&!z.has(i.path),G=async()=>{if(i){O(null),N(!0);try{const{success:T}=await jq(i.path,Z);if(T){const B=new Set(z);B.add(i.path),X(B),rm(B),H("")}else O("Incorrect password")}catch(T){O(T.message)}finally{N(!1)}}},ye=()=>{if(!i)return;const T=new Set(z);T.delete(i.path),X(T),rm(T),H(""),O(null)},pe=async()=>{const T=d.trim();if(!T){p("Enter a name");return}if(_){if(!b||b.length<4){p("Password must be at least 4 characters");return}if(b!==k){p("Passwords do not match");return}}p(null),y(!0);try{const B=await bq(T);if(_&&b){await tg(B.path,null,b);const ae=new Set(z);ae.add(B.path),X(ae),rm(ae)}await L(),s(B),h(""),S(""),m(""),x(!1),c(!1)}catch(B){p(B.message)}finally{y(!1)}},ve=async()=>{if(w){E(!0);try{await wq(w.path),L(),P(null)}catch(T){o(T.message)}finally{E(!1)}}};return l.jsxs("div",{className:"app",children:[l.jsxs("aside",{className:"sidebar",children:[l.jsx("h1",{children:"USDJPY Assistant"}),l.jsx("p",{className:"subtitle",children:"Trading Bot Dashboard"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Account"}),l.jsx("select",{value:(i==null?void 0:i.path)||"",onChange:T=>{const B=r.find(ae=>ae.path===T.target.value);s(B||null),H(""),O(null)},children:r.map(T=>l.jsxs("option",{value:T.path,children:[I[T.path]?" ":"",T.name]},T.path))}),l.jsxs("div",{style:{display:"flex",gap:8,marginTop:8,flexWrap:"wrap"},children:[l.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:()=>{c(!u),p(null),h(""),S(""),m(""),x(!1)},children:"Add account"}),l.jsx("button",{type:"button",className:"btn btn-danger",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:()=>i&&P(i),disabled:!i||r.length===0,children:"Remove account"}),i&&I[i.path]&&z.has(i.path)&&l.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:ye,children:"Lock"})]})]}),u&&l.jsxs("div",{className:"card",style:{marginTop:12,padding:12},children:[l.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[l.jsx("label",{children:"New account name"}),l.jsx("input",{type:"text",value:d,onChange:T=>h(T.target.value),placeholder:"e.g. uncle_demo"})]}),l.jsx("div",{className:"form-group",style:{marginBottom:8},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:_,onChange:T=>x(T.target.checked),style:{width:"auto"}}),"Set password (recommended)"]})}),_&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[l.jsx("label",{children:"Password"}),l.jsx("input",{type:"password",value:b,onChange:T=>S(T.target.value),placeholder:"Min 4 characters"})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[l.jsx("label",{children:"Confirm password"}),l.jsx("input",{type:"password",value:k,onChange:T=>m(T.target.value),placeholder:"Confirm password"})]}),l.jsx("p",{style:{fontSize:"0.7rem",color:"var(--warning)",marginBottom:8,background:"rgba(234, 179, 8, 0.1)",padding:8,borderRadius:4},children:"Write your password down in a safe location. There is no forgot-password option."})]}),f&&l.jsx("p",{style:{color:"var(--danger)",fontSize:"0.8rem",marginBottom:8},children:f}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{type:"button",className:"btn btn-primary",style:{fontSize:"0.8rem"},onClick:pe,disabled:g,children:g?"Creating":"Create"}),l.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem"},onClick:()=>{c(!1),p(null),h(""),S(""),m(""),x(!1)},disabled:g,children:"Cancel"})]})]}),w&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{className:"card",style:{maxWidth:400,margin:16},children:[l.jsx("h3",{className:"card-title",children:"Remove account"}),l.jsxs("p",{style:{marginBottom:16},children:["Remove ",l.jsx("strong",{children:w.name}),"? This will delete the profile file. Logs and trade history for this account are kept."]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{type:"button",className:"btn btn-danger",onClick:ve,disabled:C,children:C?"Removing":"Remove"}),l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>P(null),disabled:C,children:"Cancel"})]})]})}),l.jsxs("nav",{style:{marginTop:24},children:[l.jsx("button",{className:`nav-item ${t==="dashboard"?"active":""}`,onClick:()=>e("dashboard"),children:"Dashboard"}),l.jsx("button",{className:`nav-item ${t==="run"?"active":""}`,onClick:()=>e("run"),children:"Run / Status"}),l.jsx("button",{className:`nav-item ${t==="analysis"?"active":""}`,onClick:()=>e("analysis"),children:"Analysis"}),l.jsx("button",{className:`nav-item ${t==="presets"?"active":""}`,onClick:()=>e("presets"),children:"Presets"}),l.jsx("button",{className:`nav-item ${t==="profile"?"active":""}`,onClick:()=>e("profile"),children:"Profile Editor"}),l.jsx("button",{className:`nav-item ${t==="logs"?"active":""}`,onClick:()=>e("logs"),children:"Logs & Stats"}),l.jsx("button",{className:`nav-item ${t==="guide"?"active":""}`,onClick:()=>e("guide"),children:"Help / Guide"})]})]}),l.jsxs("main",{className:"main-content",children:[a&&l.jsxs("div",{className:"card",style:{borderColor:"var(--danger)"},children:[l.jsxs("p",{style:{color:"var(--danger)"},children:["Error: ",a]}),l.jsx("button",{className:"btn btn-secondary",onClick:()=>o(null),children:"Dismiss"})]}),i?Q?l.jsxs("div",{className:"card",style:{maxWidth:400,margin:"40px auto",textAlign:"center"},children:[l.jsx("h2",{style:{marginBottom:16},children:"Profile Locked"}),l.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:[l.jsx("strong",{children:i.name})," is password-protected. Enter your password to continue."]}),l.jsxs("div",{className:"form-group",style:{marginBottom:16,textAlign:"left"},children:[l.jsx("label",{children:"Password"}),l.jsx("input",{type:"password",value:Z,onChange:T=>H(T.target.value),onKeyDown:T=>T.key==="Enter"&&G(),placeholder:"Enter password",autoFocus:!0})]}),oe&&l.jsx("p",{style:{color:"var(--danger)",fontSize:"0.85rem",marginBottom:12},children:oe}),l.jsx("button",{className:"btn btn-primary",onClick:G,disabled:R||!Z,style:{width:"100%",marginBottom:16},children:R?"Unlocking...":"Unlock"}),l.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"There is no forgot-password option. If you've lost your password, contact the administrator."})]}):l.jsx(l.Fragment,{children:l.jsxs($o,{children:[t==="dashboard"&&l.jsx(tZ,{profileName:i.name,profilePath:i.path}),t==="run"&&l.jsx(iZ,{profile:i}),t==="analysis"&&l.jsx(oZ,{profile:i}),t==="presets"&&l.jsx(cZ,{profile:i}),t==="profile"&&l.jsx(dZ,{profile:i,authStatus:I,onAuthChange:L}),t==="logs"&&l.jsx(gZ,{profile:i}),t==="guide"&&l.jsx(yZ,{})]})}):l.jsx("div",{className:"card",children:l.jsxs("p",{children:["No accounts yet. Use ",l.jsx("strong",{children:"Add account"})," in the sidebar to create one, or add a profile JSON in the profiles/ folder."]})})]})]})}function iZ({profile:t}){const[e,r]=v.useState(null),[n,i]=v.useState(""),[s,a]=v.useState(!1),[o,u]=v.useState([]),c=()=>{rg(t.name).then(r).catch(console.error),iz(t.name,200).then(y=>i(y.content)).catch(console.error)},d=()=>{Tf(t.name,t.path).then(u).catch(console.error)};v.useEffect(()=>{c();const y=setInterval(c,3e3);return()=>clearInterval(y)},[t.name]),v.useEffect(()=>{d();const y=setInterval(d,15e3);return()=>clearInterval(y)},[t.name]);const h=async y=>{e&&(await Ek(t.name,y,e.kill_switch),c())},f=async y=>{e&&(await Ek(t.name,e.mode,y),c())},p=async()=>{a(!0);try{await rz(t.name,t.path),c()}finally{a(!1)}},g=async()=>{a(!0);try{await nz(t.name),c()}finally{a(!1)}};return l.jsxs("div",{children:[l.jsx("h2",{className:"page-title",children:"Run / Status"}),l.jsxs("div",{className:"grid-2",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Loop Control"}),l.jsxs("div",{className:"flex-between mb-4",children:[l.jsx("span",{children:"Status:"}),e!=null&&e.loop_running?l.jsxs("span",{className:"status status-running",children:[l.jsx("span",{className:"status-dot"}),"Running"]}):l.jsxs("span",{className:"status status-stopped",children:[l.jsx("span",{className:"status-dot"}),"Stopped"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-success",onClick:p,disabled:s||(e==null?void 0:e.loop_running),children:"Start Loop"}),l.jsx("button",{className:"btn btn-danger",onClick:g,disabled:s||!(e!=null&&e.loop_running),children:"Stop Loop"})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Runtime Settings"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Mode"}),l.jsxs("select",{value:(e==null?void 0:e.mode)||"DISARMED",onChange:y=>h(y.target.value),children:[l.jsx("option",{value:"DISARMED",children:"DISARMED"}),l.jsx("option",{value:"ARMED_MANUAL_CONFIRM",children:"ARMED_MANUAL_CONFIRM"}),l.jsx("option",{value:"ARMED_AUTO_DEMO",children:"ARMED_AUTO_DEMO"})]})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.kill_switch)||!1,onChange:y=>f(y.target.checked),style:{width:"auto"}}),"Kill Switch (disable all execution)"]})})]})]}),l.jsxs("div",{className:"card mt-4",children:[l.jsx("h3",{className:"card-title",children:"Open Positions"}),l.jsxs("div",{style:{display:"flex",gap:32},children:[l.jsxs("div",{children:[l.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Total"}),l.jsx("div",{style:{fontSize:"1.4rem",fontWeight:700},children:o.length})]}),l.jsxs("div",{children:[l.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Long"}),l.jsx("div",{style:{fontSize:"1.4rem",fontWeight:700,color:"#3b82f6"},children:o.filter(y=>y.side.toLowerCase()==="buy").length})]}),l.jsxs("div",{children:[l.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Short"}),l.jsx("div",{style:{fontSize:"1.4rem",fontWeight:700,color:"#ef4444"},children:o.filter(y=>y.side.toLowerCase()==="sell").length})]})]})]}),l.jsxs("div",{className:"card mt-4",children:[l.jsx("h3",{className:"card-title",children:"Loop Log (last 200 lines)"}),l.jsx("div",{className:"log-viewer",children:n||"(no log yet)"})]})]})}const Ak={master:!0,open:!0,closed:!0,closedFilter:"7d"};function sZ(){try{const t=localStorage.getItem("chart-trade-toggles");if(t)return{...Ak,...JSON.parse(t)}}catch{}return{...Ak}}function aZ(t){localStorage.setItem("chart-trade-toggles",JSON.stringify(t))}const ac={lastValueVisible:!1,priceLineVisible:!1},Ok={ema5:"#ec4899",ema7:"#f97316",ema9:"#f59e0b",ema11:"#eab308",ema13:"#3b82f6",ema15:"#14b8a6",ema17:"#8b5cf6",ema21:"#6366f1",ema50:"#10b981",ema200:"#a855f7"};function Tk({ohlc:t,emaStack:e,bollingerSeries:r,height:n=300,chartTrades:i}){var C;const s=v.useRef(null),a=v.useRef(null),o=v.useRef(null),u=v.useRef({}),c=v.useRef({}),d=v.useRef(!1),h=v.useRef([]),f=v.useRef(null),p=v.useRef(null),[g,y]=v.useState(sZ),[_,x]=v.useState(null),[b,S]=v.useState(null),k=v.useCallback(E=>{y(I=>{const D={...I,...E};return aZ(D),D})},[]);v.useEffect(()=>{if(!s.current)return;const E=UD(s.current,{width:s.current.clientWidth,height:n,layout:{background:{color:"#1a1a2e"},textColor:"#d1d5db"},grid:{vertLines:{color:"#2d2d44"},horzLines:{color:"#2d2d44"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2d2d44"},timeScale:{borderColor:"#2d2d44",timeVisible:!0,secondsVisible:!1}});a.current=E;const I=E.addSeries(eL,{upColor:"#10b981",downColor:"#ef4444",borderUpColor:"#10b981",borderDownColor:"#ef4444",wickUpColor:"#10b981",wickDownColor:"#ef4444"});I.setData([]),o.current=I,f.current=cL(I,[]);const D=()=>{s.current&&a.current&&a.current.applyOptions({width:s.current.clientWidth,height:n})};return window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D),E.remove(),a.current=null,o.current=null,u.current={},c.current={},h.current=[],f.current=null,d.current=!1}},[]),v.useEffect(()=>{var z,X,Z,H,oe,O;const E=a.current,I=o.current;if(!s.current||!E||!I)return;E.applyOptions({height:n});const D=t.map(R=>({time:R.time,open:R.open,high:R.high,low:R.low,close:R.close}));if(I.setData(D),e)for(const[R,N]of Object.entries(e)){if(!N)continue;const L=Ok[R]||"#94a3b8",Q=N.map(G=>({time:G.time,value:G.value}));if(u.current[R])u.current[R].setData(Q);else{const G=E.addSeries(Fu,{color:L,lineWidth:1,title:R.toUpperCase(),...ac});G.setData(Q),u.current[R]=G}}if(r){const R="#6b7280";c.current.upper||(c.current.upper=E.addSeries(Fu,{color:R,lineWidth:1,lineStyle:2,title:"BB Upper",...ac}),c.current.middle=E.addSeries(Fu,{color:R,lineWidth:1,title:"BB Mid",...ac}),c.current.lower=E.addSeries(Fu,{color:R,lineWidth:1,lineStyle:2,title:"BB Lower",...ac}));const N=(z=r.upper)!=null&&z.length?r.upper.map(G=>({time:G.time,value:G.value})):[],L=(X=r.middle)!=null&&X.length?r.middle.map(G=>({time:G.time,value:G.value})):[],Q=(Z=r.lower)!=null&&Z.length?r.lower.map(G=>({time:G.time,value:G.value})):[];(H=c.current.upper)==null||H.setData(N),(oe=c.current.middle)==null||oe.setData(L),(O=c.current.lower)==null||O.setData(Q)}t.length>0&&!d.current&&(E.timeScale().fitContent(),d.current=!0)},[t,e,r,n]),v.useEffect(()=>{var R,N;const E=o.current,I=a.current;if(!E||!I)return;for(const L of h.current)try{E.removePriceLine(L)}catch{}if(h.current=[],!i||!g.master){(R=f.current)==null||R.setMarkers([]),m([]);return}const D=Date.now()/1e3,z=i.filter(L=>!L.exit_time&&!L.exit_price),X=i.filter(L=>L.exit_time||L.exit_price),H=D-({"24h":86400,"7d":604800,"30d":2592e3,all:1/0}[g.closedFilter]??604800),oe=X.filter(L=>(L.exit_time||0)>=H);if(g.open){const L=t.length>0?t[t.length-1].close:null;for(const Q of z){if(Q.stop_price!=null){const G=L!=null&&Math.abs(Q.stop_price-L)<.05,ye=E.createPriceLine({price:Q.stop_price,color:"#ef4444",lineWidth:1,lineStyle:Xo.Dashed,axisLabelVisible:!G,title:""});h.current.push(ye)}if(Q.target_price!=null){const G=L!=null&&Math.abs(Q.target_price-L)<.05,ye=E.createPriceLine({price:Q.target_price,color:"#22c55e",lineWidth:1,lineStyle:Xo.Dashed,axisLabelVisible:!G,title:""});h.current.push(ye)}if(Q.entry_price){const G=E.createPriceLine({price:Q.entry_price,color:Q.side.toLowerCase()==="buy"?"#3b82f6":"#ef4444",lineWidth:1,lineStyle:Xo.Dotted,axisLabelVisible:!1,title:""});h.current.push(G)}}}const O=[];if(g.open)for(const L of z){if(!L.entry_time)continue;const Q=L.side.toLowerCase()==="buy";O.push({time:L.entry_time,position:Q?"belowBar":"aboveBar",color:Q?"#22c55e":"#ef4444",shape:Q?"arrowUp":"arrowDown",text:"",id:`open-${L.trade_id}`})}if(g.closed){const L=G=>b===G,Q=oe.length>20;for(const G of oe){const pe=(G.exit_price!=null?G.side.toLowerCase()==="buy"?G.exit_price-G.entry_price:G.entry_price-G.exit_price:0)>=0,ve=L(G.trade_id),T=ve?1:.2,B=pe?[34,197,94]:[239,68,68],ae=`rgba(${B[0]},${B[1]},${B[2]},${T})`,W=Q&&!ve?.5:1;G.entry_time&&O.push({time:G.entry_time,position:"inBar",color:ae,shape:"circle",text:"",id:`closed-entry-${G.trade_id}`,size:W}),G.exit_time&&O.push({time:G.exit_time,position:"inBar",color:ae,shape:"circle",text:"",id:`closed-exit-${G.trade_id}`,size:W})}}O.sort((L,Q)=>L.time-Q.time),(N=f.current)==null||N.setMarkers(O),g.closed?m(oe):m([])},[i,g,t,b]);const m=v.useCallback(E=>{const I=p.current,D=a.current,z=o.current;if(!I||!D||!z)return;const X=I.getContext("2d");if(!X)return;const Z=s.current;Z&&(I.width=Z.clientWidth,I.height=Z.clientHeight),X.clearRect(0,0,I.width,I.height);for(const H of E){if(!H.entry_time||!H.exit_time||H.exit_price==null)continue;const oe=D.timeScale().timeToCoordinate(H.entry_time),O=z.priceToCoordinate(H.entry_price),R=D.timeScale().timeToCoordinate(H.exit_time),N=z.priceToCoordinate(H.exit_price);if(oe==null||O==null||R==null||N==null)continue;const L=H.side.toLowerCase()==="buy"?H.exit_price-H.entry_price:H.entry_price-H.exit_price,Q=b===H.trade_id,G=Q?.8:.15;X.strokeStyle=L>=0?`rgba(34,197,94,${G})`:`rgba(239,68,68,${G})`,X.lineWidth=Q?2:1,X.setLineDash([4,4]),X.beginPath(),X.moveTo(oe,O),X.lineTo(R,N),X.stroke()}},[b]);v.useEffect(()=>{const E=a.current;if(!E||!i)return;let I;const D=i.filter(O=>O.exit_time||O.exit_price),Z=Date.now()/1e3-({"24h":86400,"7d":604800,"30d":2592e3,all:1/0}[g.closedFilter]??604800),H=D.filter(O=>(O.exit_time||0)>=Z),oe=()=>{clearTimeout(I),I=setTimeout(()=>{g.master&&g.closed&&m(H)},100)};return E.timeScale().subscribeVisibleTimeRangeChange(oe),()=>{clearTimeout(I),E.timeScale().unsubscribeVisibleTimeRangeChange(oe)}},[i,g,m]),v.useEffect(()=>{const E=a.current,I=o.current;if(!E||!I||!i)return;const D=z=>{if(!z.time||!z.point){x(null),S(null);return}const X=z.time,Z=z.point.y;let H=null,oe=1/0;for(const O of i)if(O.entry_time){if(Math.abs(O.entry_time-X)<=180){const R=I.priceToCoordinate(O.entry_price);if(R!=null){const N=Math.abs(R-Z);N<30&&N<oe&&(H=O,oe=N)}}if(O.exit_time&&O.exit_price!=null&&Math.abs(O.exit_time-X)<=180){const R=I.priceToCoordinate(O.exit_price);if(R!=null){const N=Math.abs(R-Z);N<30&&N<oe&&(H=O,oe=N)}}}if(H){const O=H.side.toLowerCase()==="buy",R=!H.exit_time&&H.exit_price==null;let N=`#${H.trade_id} ${H.side.toUpperCase()} @ ${H.entry_price.toFixed(3)}`;if(!R&&H.exit_price!=null){const L=O?H.exit_price-H.entry_price:H.entry_price-H.exit_price,Q=(L*100).toFixed(1);N+=`  ${H.exit_price.toFixed(3)} (${L>=0?"+":""}${Q}p)`}R&&(N+=" [OPEN]"),H.stop_price!=null&&(N+=` SL:${H.stop_price.toFixed(3)}`),H.target_price!=null&&(N+=` TP:${H.target_price.toFixed(3)}`),x({x:z.point.x,y:z.point.y,text:N}),S(H.trade_id)}else x(null),S(null)};return E.subscribeCrosshairMove(D),()=>{E.unsubscribeCrosshairMove(D)}},[i]);const w=e?Object.entries(e).filter(([,E])=>E&&E.length>0).map(([E,I])=>{var D;return{key:E,color:Ok[E]||"#94a3b8",value:(D=I[I.length-1])==null?void 0:D.value}}):[],P=E=>({background:E?"rgba(99,102,241,0.6)":"rgba(55,65,81,0.6)",color:E?"#fff":"#9ca3af",border:"none",borderRadius:10,padding:"1px 7px",fontSize:"0.6rem",fontWeight:600,cursor:"pointer",lineHeight:"16px"});return l.jsxs("div",{style:{position:"relative",width:"100%",height:n,borderRadius:6,overflow:"hidden"},children:[l.jsx("div",{ref:s,style:{width:"100%",height:n,borderRadius:6,overflow:"hidden"}}),l.jsx("canvas",{ref:p,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:5}}),w.length>0&&l.jsx("div",{style:{position:"absolute",top:6,left:6,zIndex:10,background:"rgba(13,17,28,0.85)",borderRadius:4,padding:"3px 7px",display:"flex",flexWrap:"wrap",gap:6,maxWidth:"50%"},children:w.map(E=>{var I;return l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:3,fontSize:"0.6rem",color:"#d1d5db"},children:[l.jsx("span",{style:{width:7,height:7,borderRadius:"50%",background:E.color,display:"inline-block",flexShrink:0}}),l.jsx("span",{style:{color:E.color,fontWeight:600},children:E.key.toUpperCase()}),l.jsx("span",{children:((I=E.value)==null?void 0:I.toFixed(3))??"-"})]},E.key)})}),i&&i.length>0&&l.jsxs("div",{style:{position:"absolute",top:6,right:60,zIndex:10,background:"rgba(13,17,28,0.85)",borderRadius:4,padding:"3px 7px",display:"flex",alignItems:"center",gap:4},children:[l.jsx("button",{type:"button",style:P(g.master),onClick:()=>k({master:!g.master}),children:"Trades"}),g.master&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",style:P(g.open),onClick:()=>k({open:!g.open}),children:"Open"}),l.jsx("button",{type:"button",style:P(g.closed),onClick:()=>k({closed:!g.closed}),children:"Closed"}),g.closed&&l.jsx("span",{style:{display:"flex",gap:2},children:["24h","7d","30d","all"].map(E=>l.jsx("button",{type:"button",style:{...P(g.closedFilter===E),fontSize:"0.55rem",padding:"1px 5px"},onClick:()=>k({closedFilter:E}),children:E},E))})]})]}),_&&l.jsx("div",{style:{position:"absolute",left:Math.min(_.x+12,(((C=s.current)==null?void 0:C.clientWidth)||400)-220),top:Math.max(_.y-30,4),zIndex:20,background:"rgba(13,17,28,0.95)",border:"1px solid rgba(99,102,241,0.4)",borderRadius:4,padding:"4px 8px",fontSize:"0.65rem",color:"#d1d5db",whiteSpace:"nowrap",pointerEvents:"none"},children:_.text}),t.length===0&&l.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-tertiary)",borderRadius:6,color:"var(--text-secondary)"},children:"No chart data available"})]})}function oZ({profile:t}){const[e,r]=v.useState(null),[n,i]=v.useState(!0),[s,a]=v.useState(null),[o,u]=v.useState(null),[c,d]=v.useState(null),[h,f]=v.useState(null),[p,g]=v.useState([]),[y,_]=v.useState(null),[x,b]=v.useState(null),[S,k]=v.useState(!1),[m,w]=v.useState({}),[P,C]=v.useState(!1),[E,I]=v.useState(!1),[D,z]=v.useState(()=>localStorage.getItem("ta_score_visible")==="true"),[X,Z]=v.useState(null),[H,oe]=v.useState({}),O=[5,7,9,11,13,15,17,21,50,200],R={ema5:"#ec4899",ema7:"#f97316",ema9:"#f59e0b",ema11:"#eab308",ema13:"#3b82f6",ema15:"#14b8a6",ema17:"#8b5cf6",ema21:"#6366f1",ema50:"#10b981",ema200:"#a855f7"},N=K=>{if(!K)return;const V={};for(const[M,ne]of Object.entries(K))m[M]&&ne&&ne.length>0&&(V[M]=ne);return Object.keys(V).length>0?V:void 0},L=async()=>{try{const[K,V,M]=await Promise.all([az(t.name,t.path),q0(t.name,250).then(A=>A.trades).catch(()=>[]),Tf(t.name,t.path).catch(()=>[])]);r(K),K!=null&&K.timeframes&&oe(A=>{var q;const se={...A};for(const J of["M1","M3","M5"]){const le=(q=K.timeframes[J])==null?void 0:q.scalp_score;if(le&&le.finalScore!=null){const ue=[...se[J]||[],le.finalScore];se[J]=ue.slice(-50)}}return se});const ne=M.map(A=>{const se=A.timestamp_utc?Math.floor(new Date(A.timestamp_utc).getTime()/1e3):void 0;return{trade_id:String(A.trade_id),entry_price:Number(A.entry_price),stop_price:A.stop_price!=null?Number(A.stop_price):null,target_price:A.target_price!=null?Number(A.target_price):null,side:String(A.side||"buy"),entry_time:se,exit_time:void 0,exit_price:void 0}}),te=new Set(M.map(A=>String(A.trade_id))),ce=V.filter(A=>A.trade_id&&A.entry_price&&!te.has(String(A.trade_id))).map(A=>{const se=A.timestamp_utc,q=A.exit_timestamp_utc,J=se?Math.floor(new Date(se).getTime()/1e3):void 0,le=q?Math.floor(new Date(q).getTime()/1e3):void 0;return{trade_id:String(A.trade_id),entry_price:Number(A.entry_price),stop_price:A.stop_price!=null?Number(A.stop_price):null,target_price:A.target_price!=null?Number(A.target_price):null,side:String(A.side||"buy"),entry_time:J,exit_time:le,exit_price:A.exit_price!=null?Number(A.exit_price):void 0}});g([...ne,...ce]),a(null),f(new Date)}catch(K){a(K.message)}finally{i(!1)}};v.useEffect(()=>{i(!0),L();const K=setInterval(L,3e4);return()=>clearInterval(K)},[t.name,t.path]),v.useEffect(()=>{const K=V=>{V.key==="Escape"&&y&&_(null)};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[y]);const Q=async K=>{k(!0);try{await sz(t.name,K.trade_id,t.path),b(null),L()}catch(V){alert(`Failed to close trade: ${V.message}`)}finally{k(!1)}},G=K=>{u(o===K?null:K)},ye=K=>{const V={bull:{bg:"rgba(16, 185, 129, 0.2)",color:"var(--success)"},bear:{bg:"rgba(239, 68, 68, 0.2)",color:"var(--danger)"},sideways:{bg:"rgba(156, 163, 175, 0.2)",color:"var(--text-secondary)"},unknown:{bg:"rgba(156, 163, 175, 0.2)",color:"var(--text-secondary)"}},M=V[K]||V.unknown;return l.jsx("span",{style:{padding:"4px 10px",borderRadius:4,background:M.bg,color:M.color,fontWeight:600,fontSize:"0.85rem",textTransform:"uppercase"},children:K})},pe=K=>{const V={oversold:"var(--success)",overbought:"var(--danger)",neutral:"var(--text-secondary)"};return l.jsxs("span",{children:[l.jsx("span",{style:{color:V[K.zone]||"inherit"},children:K.zone.charAt(0).toUpperCase()+K.zone.slice(1)}),K.value!==null&&l.jsxs("span",{style:{color:"var(--text-secondary)",marginLeft:4},children:["(",K.value.toFixed(1),")"]})]})},ve=K=>{const V={positive:"var(--success)",negative:"var(--danger)",neutral:"var(--text-secondary)"};return l.jsx("span",{style:{color:V[K.direction]||"inherit"},children:K.direction.charAt(0).toUpperCase()+K.direction.slice(1)})},T=K=>{const V={elevated:"var(--warning)",low:"var(--accent)",normal:"var(--text-secondary)"};return l.jsxs("span",{children:[l.jsx("span",{style:{color:V[K.state]||"inherit"},children:K.state.charAt(0).toUpperCase()+K.state.slice(1)}),K.value_pips!==null&&l.jsxs("span",{style:{color:"var(--text-secondary)",marginLeft:4},children:["(",K.value_pips," pips)"]})]})},B=["H4","H1","M30","M15","M5","M3","M1"],ae={H4:"4H",H1:"1H",M30:"30m",M15:"15m",M5:"5m",M3:"3m",M1:"1m"},W=()=>{const K=O.filter(M=>m[`ema${M}`]),V=[];return K.length>0&&V.push(`EMA ${K.join("/")}`),P&&V.push("BB"),V.length>0?V.join("  "):""};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex-between mb-4",children:[l.jsx("h2",{className:"page-title",style:{marginBottom:0,borderBottom:"none",paddingBottom:0},children:"Technical Analysis"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[h&&l.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:["Updated: ",h.toLocaleTimeString()]}),l.jsx("button",{className:"btn btn-secondary",style:{fontSize:"0.8rem"},onClick:()=>{const K=!D;z(K),localStorage.setItem("ta_score_visible",String(K))},children:D?"Score ON":"Score OFF"}),l.jsx("button",{className:"btn btn-secondary",onClick:L,disabled:n,children:n?"Loading...":"Refresh"})]})]}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16,fontSize:"0.9rem"},children:"Real-time technical analysis across multiple timeframes. Auto-refreshes every 30 seconds. Click on a timeframe to expand detailed view."}),s&&l.jsx("div",{className:"card mb-4",style:{borderColor:"var(--danger)"},children:l.jsxs("p",{style:{color:"var(--danger)"},children:["Error: ",s]})}),(e==null?void 0:e.current_tick)&&l.jsx("div",{className:"card mb-4",children:l.jsxs("div",{className:"grid-3",children:[l.jsxs("div",{className:"stat-box",children:[l.jsx("div",{className:"stat-value",children:e.current_tick.bid.toFixed(3)}),l.jsx("div",{className:"stat-label",children:"Bid"})]}),l.jsxs("div",{className:"stat-box",children:[l.jsx("div",{className:"stat-value",children:e.current_tick.ask.toFixed(3)}),l.jsx("div",{className:"stat-label",children:"Ask"})]}),l.jsxs("div",{className:"stat-box",children:[l.jsxs("div",{className:"stat-value",style:{color:e.current_tick.spread_pips>1?"var(--warning)":"var(--success)"},children:[e.current_tick.spread_pips," pips"]}),l.jsx("div",{className:"stat-label",children:"Spread"})]})]})}),e&&B.map(K=>{var ne,te,ce,A,se,q,J,le;const V=e.timeframes[K];if(!V)return null;const M=o===K;return l.jsxs("div",{className:"card mb-4",children:[l.jsxs("div",{className:"flex-between",style:{marginBottom:M?16:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",minWidth:40},children:K}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:ae[K]||K})]}),ye(V.regime)]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:24},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"RSI:"}),pe(V.rsi)]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"MACD:"}),ve(V.macd)]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"ATR:"}),T(V.atr)]}),l.jsx("button",{type:"button",onClick:()=>G(K),style:{background:"none",border:"none",padding:4,cursor:"pointer",color:"var(--accent)",fontSize:"0.9rem"},"aria-label":M?"Collapse chart":"Expand chart",children:M?"":""})]})]}),!M&&l.jsx("p",{style:{margin:"12px 0 0 0",color:"var(--text-secondary)",fontSize:"0.85rem",fontStyle:"italic"},children:V.summary}),D&&V.scalp_score&&(()=>{const ue=V.scalp_score,ge=ue.killSwitch,Pe=ge?"#1a1a2e":ue.direction==="LONG"?"rgba(16,185,129,0.15)":ue.direction==="SHORT"?"rgba(239,68,68,0.15)":"rgba(107,114,128,0.15)",ke=ge?"#ef4444":ue.direction==="LONG"?"#10b981":ue.direction==="SHORT"?"#ef4444":"#9ca3af",Te=ge?"":ue.direction==="LONG"?"":ue.direction==="SHORT"?"":"",dt=ge?"NO TRADE":`${ue.finalScore>0?"+":""}${ue.finalScore.toFixed(1)} ${ue.confidence}`,wt=X===K,mt=H[K]||[];return l.jsxs("div",{style:{marginTop:8},children:[l.jsxs("div",{onClick:()=>Z(wt?null:K),style:{display:"inline-flex",alignItems:"center",gap:6,background:Pe,border:`1px solid ${ke}33`,borderRadius:6,padding:"4px 12px",cursor:"pointer",userSelect:"none",transition:"all 0.2s"},children:[l.jsx("span",{style:{color:ke,fontWeight:700,fontSize:"0.95rem"},children:Te}),l.jsx("span",{style:{color:ke,fontWeight:600,fontSize:"0.85rem",letterSpacing:.5},children:dt}),ge&&ue.killReason&&l.jsxs("span",{style:{color:"#9ca3af",fontSize:"0.7rem",marginLeft:4},children:["(",ue.killReason,")"]}),l.jsx("span",{style:{color:"#6b7280",fontSize:"0.6rem",marginLeft:4},children:wt?"":""})]}),mt.length>1&&l.jsx("svg",{width:100,height:20,style:{marginLeft:8,verticalAlign:"middle"},children:(()=>{const Ke=Math.min(...mt,-10),j=Math.max(...mt,10)-Ke||1,ee=mt.map((_e,we)=>`${we/(mt.length-1)*96+2},${18-(_e-Ke)/j*16}`).join(" ");return l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:"2",y1:"10",x2:"98",y2:"10",stroke:"#374151",strokeWidth:"0.5"}),l.jsx("polyline",{points:ee,fill:"none",stroke:ke,strokeWidth:"1.5"})]})})()}),wt&&l.jsx("div",{style:{marginTop:8,padding:10,background:"var(--bg-tertiary)",borderRadius:6,fontSize:"0.8rem"},children:ue.layers.map(Ke=>{const Tt=Ke.score/Ke.max*100,j=Ke.score>0?"#10b981":Ke.score<0?"#ef4444":"#6b7280";return l.jsxs("div",{style:{marginBottom:6},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:2},children:[l.jsx("span",{style:{color:"var(--text-secondary)"},children:Ke.name}),l.jsxs("span",{style:{color:j,fontWeight:600},children:[Ke.score>0?"+":"",Ke.score.toFixed(2)," / ",Ke.max]})]}),l.jsx("div",{style:{height:6,background:"#1f2937",borderRadius:3,overflow:"hidden",position:"relative"},children:l.jsx("div",{style:{position:"absolute",left:Tt>=0?"50%":`${50+Tt/2}%`,width:`${Math.abs(Tt)/2}%`,height:"100%",background:j,borderRadius:3}})}),l.jsx("div",{style:{fontSize:"0.7rem",color:"#6b7280",marginTop:2},children:Object.entries(Ke.components).filter(([ee])=>ee!=="total").map(([ee,_e])=>`${ee}: ${typeof _e=="number"?_e.toFixed(2):_e}`).join(" | ")})]},Ke.name)})})]})})(),M&&l.jsxs("div",{style:{borderTop:"1px solid var(--border)",paddingTop:16},onClick:ue=>ue.stopPropagation(),children:[l.jsxs("div",{style:{marginBottom:16},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:8,marginBottom:8},children:[l.jsxs("h4",{style:{margin:0,color:"var(--accent)",fontSize:"0.9rem"},children:[K," Chart (",ae[K]||K,")"]}),W()&&l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:W()}),l.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.75rem",marginLeft:"auto"},onClick:()=>d(c===K?null:K),children:c===K?"Shrink":"Enlarge"}),l.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.75rem"},onClick:()=>_(K),children:"Fullscreen"})]}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginBottom:8},children:[O.map(ue=>{const ge=`ema${ue}`,Pe=!!m[ge];return l.jsx("button",{type:"button",onClick:()=>w(ke=>({...ke,[ge]:!ke[ge]})),style:{background:Pe?R[ge]:"#374151",color:Pe?"#fff":"#9ca3af",border:"none",borderRadius:12,padding:"2px 8px",fontSize:"0.65rem",fontWeight:600,cursor:"pointer"},children:ue},ge)}),l.jsx("button",{type:"button",onClick:()=>C(ue=>!ue),style:{background:P?"#6b7280":"#374151",color:P?"#fff":"#9ca3af",border:"none",borderRadius:12,padding:"2px 8px",fontSize:"0.65rem",fontWeight:600,cursor:"pointer"},children:"BB"})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(Tk,{ohlc:V.ohlc||[],emaStack:N(V.all_emas),bollingerSeries:P?V.bollinger_series:void 0,height:c===K?520:280,chartTrades:p}),(()=>{const ue=p.filter(ge=>!ge.exit_time&&!ge.exit_price);return ue.length===0?null:l.jsxs("div",{style:{position:"absolute",top:8,right:8,background:"rgba(26, 26, 46, 0.9)",border:"1px solid var(--border)",borderRadius:6,padding:8,fontSize:"0.75rem",maxWidth:200,zIndex:10},children:[l.jsxs("div",{style:{fontWeight:600,color:"var(--text-secondary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between"},onClick:()=>I(ge=>!ge),children:[l.jsxs("span",{children:["Active Trades (",ue.length,")"]}),l.jsx("span",{style:{fontSize:"0.6rem",marginLeft:6},children:E?"":""})]}),!E&&ue.map(ge=>l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,padding:"4px 0",borderTop:"1px solid var(--border)"},children:[l.jsxs("span",{style:{color:ge.side.toLowerCase()==="buy"?"#3b82f6":"#ef4444",fontWeight:500},children:[ge.side.toUpperCase()," @ ",ge.entry_price.toFixed(3)]}),l.jsx("button",{onClick:()=>b(ge),style:{background:"var(--danger)",border:"none",borderRadius:3,color:"white",padding:"2px 6px",fontSize:"0.65rem",cursor:"pointer"},children:"Close"})]},ge.trade_id))]})})()]})]}),l.jsx("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,marginBottom:16,borderLeft:"4px solid var(--accent)"},children:l.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:V.summary})}),l.jsxs("div",{className:"grid-2",children:[l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"RSI (14)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),l.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((ne=V.rsi.value)==null?void 0:ne.toFixed(2))??"-"})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Zone:"}),l.jsx("span",{style:{marginLeft:8},children:pe(V.rsi)})]})]}),l.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[V.rsi.zone==="oversold"&&"Price may be undervalued. Potential buy opportunity if trend supports.",V.rsi.zone==="overbought"&&"Price may be overextended. Consider caution with longs.",V.rsi.zone==="neutral"&&"Momentum is balanced. Follow the trend direction."]})]}),l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"MACD (12,26,9)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Line:"}),l.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((te=V.macd.line)==null?void 0:te.toFixed(5))??"-"})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Signal:"}),l.jsx("span",{style:{marginLeft:8},children:((ce=V.macd.signal)==null?void 0:ce.toFixed(5))??"-"})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Histogram:"}),l.jsx("span",{style:{marginLeft:8,color:V.macd.histogram&&V.macd.histogram>0?"var(--success)":"var(--danger)"},children:((A=V.macd.histogram)==null?void 0:A.toFixed(5))??"-"})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Direction:"}),l.jsx("span",{style:{marginLeft:8},children:ve(V.macd)})]})]})]}),l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"ATR (14)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),l.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((se=V.atr.value)==null?void 0:se.toFixed(5))??"-"})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Pips:"}),l.jsx("span",{style:{marginLeft:8},children:V.atr.value_pips??"-"})]})]}),l.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[V.atr.state==="elevated"&&"Volatility is high. Consider wider stops and smaller position sizes.",V.atr.state==="low"&&"Volatility is low. Smaller moves expected, watch for breakouts.",V.atr.state==="normal"&&"Volatility is within normal range."]})]}),(()=>{const ue=V.bollinger;return!ue||typeof ue!="object"?null:l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"Bollinger Bands (20, 2)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Upper:"}),l.jsx("span",{style:{marginLeft:8,fontWeight:600},children:ue.upper!=null?Number(ue.upper).toFixed(5):"-"})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Middle:"}),l.jsx("span",{style:{marginLeft:8},children:ue.middle!=null?Number(ue.middle).toFixed(5):"-"})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Lower:"}),l.jsx("span",{style:{marginLeft:8,fontWeight:600},children:ue.lower!=null?Number(ue.lower).toFixed(5):"-"})]})]}),l.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Price relative to bands indicates volatility and potential mean reversion. For display only; not used in automation."})]})})(),typeof V.vwap=="number"&&l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"VWAP"}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),l.jsx("span",{style:{marginLeft:8,fontWeight:600},children:Number(V.vwap).toFixed(5)})]}),l.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Volume-weighted average price (uses tick volume when available). For display only; not used in automation."})]}),l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"Price Levels (500-bar)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Current:"}),l.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((q=V.price.current)==null?void 0:q.toFixed(3))??"-"})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Recent High:"}),l.jsx("span",{style:{marginLeft:8,color:"var(--success)"},children:((J=V.price.recent_high)==null?void 0:J.toFixed(3))??"-"})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Recent Low:"}),l.jsx("span",{style:{marginLeft:8,color:"var(--danger)"},children:((le=V.price.recent_low)==null?void 0:le.toFixed(3))??"-"})]})]}),l.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:V.price.current&&V.price.recent_high&&V.price.recent_low&&l.jsxs(l.Fragment,{children:["Price is ",((V.price.current-V.price.recent_low)/(V.price.recent_high-V.price.recent_low)*100).toFixed(0),"% of the way from recent low to high."]})})]})]})]})]},K)}),n&&!e&&l.jsx("div",{className:"card",children:l.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center"},children:"Loading technical analysis..."})}),y&&e&&e.timeframes[y]&&(()=>{const K=e.timeframes[y],V=typeof window<"u"?window.innerHeight-200:500;return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"var(--bg-primary)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 20px",borderBottom:"1px solid var(--border)",background:"var(--bg-secondary)"},children:[l.jsxs("h2",{style:{margin:0,fontSize:"1.2rem"},children:[y," Chart (",ae[y]||y,")"]}),l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>_(null),children:"Close (ESC)"})]}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:4,padding:"0 16px"},children:[O.map(M=>{const ne=`ema${M}`,te=!!m[ne];return l.jsx("button",{type:"button",onClick:()=>w(ce=>({...ce,[ne]:!ce[ne]})),style:{background:te?R[ne]:"#374151",color:te?"#fff":"#9ca3af",border:"none",borderRadius:12,padding:"2px 8px",fontSize:"0.65rem",fontWeight:600,cursor:"pointer"},children:M},ne)}),l.jsx("button",{type:"button",onClick:()=>C(M=>!M),style:{background:P?"#6b7280":"#374151",color:P?"#fff":"#9ca3af",border:"none",borderRadius:12,padding:"2px 8px",fontSize:"0.65rem",fontWeight:600,cursor:"pointer"},children:"BB"})]}),l.jsx("div",{style:{flex:1,padding:16,overflow:"hidden"},children:l.jsx(Tk,{ohlc:K.ohlc||[],emaStack:N(K.all_emas),bollingerSeries:P?K.bollinger_series:void 0,height:V,chartTrades:p})}),l.jsxs("div",{style:{padding:"12px 20px",borderTop:"1px solid var(--border)",background:"var(--bg-secondary)",display:"flex",flexWrap:"wrap",gap:20,alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"Regime:"}),ye(K.regime)]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"RSI:"}),pe(K.rsi)]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"MACD:"}),ve(K.macd)]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"ATR:"}),T(K.atr)]}),l.jsx("div",{style:{flex:1,minWidth:200},children:l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",fontStyle:"italic"},children:K.summary})})]})]})})(),x&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",zIndex:1100,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:8,padding:24,maxWidth:400,width:"90%",border:"1px solid var(--border)"},children:[l.jsx("h3",{style:{margin:"0 0 16px 0"},children:"Close Trade?"}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:8},children:"Are you sure you want to close this trade?"}),l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,marginBottom:20},children:[l.jsxs("div",{style:{color:x.side.toLowerCase()==="buy"?"#3b82f6":"#ef4444",fontWeight:600,fontSize:"1rem"},children:[x.side.toUpperCase()," @ ",x.entry_price.toFixed(3)]}),x.stop_price&&l.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginTop:4},children:["SL: ",x.stop_price.toFixed(3)]}),x.target_price&&l.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:["TP: ",x.target_price.toFixed(3)]})]}),l.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>b(null),disabled:S,children:"Cancel"}),l.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>Q(x),disabled:S,style:{background:"var(--danger)"},children:S?"Closing...":"Close Trade"})]})]})})]})}const nm={scalper:{default:{label:"Default (5, 9, 13)",values:[5,9,13]},alt1:{label:"Ultra-fast (3, 5, 8)",values:[3,5,8]},alt2:{label:"Standard (8, 13, 21)",values:[8,13,21]}},day_trader:{default:{label:"Default (13, 21, 34)",values:[13,21,34]},alt1:{label:"Faster (8, 13, 21)",values:[8,13,21]},alt2:{label:"Slower (21, 34, 55)",values:[21,34,55]}},swing_trader:{default:{label:"Default (21, 50, 100)",values:[21,50,100]},alt1:{label:"Classic (20, 50, 200)",values:[20,50,200]},alt2:{label:"Medium (34, 89, 144)",values:[34,89,144]}}};function Ht({label:t,value:e,onAdjust:r,onChange:n,step:i=1,min:s,max:a}){if(e==null)return null;const o=u=>{const c=parseFloat(u.target.value);if(!isNaN(c)&&n){let d=c;s!==void 0&&(d=Math.max(s,d)),a!==void 0&&(d=Math.min(a,d)),n(d)}};return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"var(--bg-secondary)",borderRadius:6,border:"1px solid var(--border)"},children:[l.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:t}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("button",{onClick:()=>r(-1),style:{width:28,height:28,borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"-"}),l.jsx("input",{type:"number",value:i<1?e.toFixed(2):e,onChange:o,step:i,min:s,max:a,style:{width:60,textAlign:"center",fontWeight:600,fontFamily:"monospace",padding:"4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"0.85rem"}}),l.jsx("button",{onClick:()=>r(1),style:{width:28,height:28,borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"+"})]})]})}function lZ({profile:t,currentProfile:e,onComplete:r}){var H,oe,O,R,N,L,Q,G,ye,pe,ve,T,B,ae,W,K,V,M,ne,te,ce;const[n,i]=v.useState(1),[s,a]=v.useState({tradingStyle:null,riskTolerance:null,entryStyle:null,emaStack:"default",multipleStrategyA:null,multipleStrategyB:null}),[o,u]=v.useState(!1),[c,d]=v.useState(!1),[h,f]=v.useState(!1),[p,g]=v.useState(null),[y,_]=v.useState(null),x=s.entryStyle==="multiple"?[{num:1,title:"Trading Style",description:"How do you want to trade?"},{num:2,title:"Risk Tolerance",description:"How much risk per trade?"},{num:3,title:"Entry Style",description:"How should the bot enter trades?"},{num:4,title:"Choose Strategies",description:"Pick two strategies to combine"},{num:5,title:"Review",description:"Review your configuration"},{num:6,title:"Fine-Tune",description:"Adjust individual settings"}]:[{num:1,title:"Trading Style",description:"How do you want to trade?"},{num:2,title:"Risk Tolerance",description:"How much risk per trade?"},{num:3,title:"Entry Style",description:"How should the bot enter trades?"},{num:4,title:"Review",description:"Review your configuration"},{num:5,title:"Fine-Tune",description:"Adjust individual settings"}],[b,S]=v.useState(null),k=s.entryStyle==="multiple"?6:5;v.useEffect(()=>{s.entryStyle!=="multiple"&&n>5&&i(5)},[s.entryStyle,n]);const m=()=>{switch(n){case 1:return s.tradingStyle!==null;case 2:return s.riskTolerance!==null;case 3:return s.entryStyle!==null;case 4:return s.entryStyle==="multiple"?s.multipleStrategyA!==null&&s.multipleStrategyB!==null&&s.multipleStrategyA!==s.multipleStrategyB:!0;default:return!0}},w=()=>{const A=e,se={schema_version:1,profile_name:t.name,symbol:(A==null?void 0:A.symbol)??"USDJPY",pip_size:.01,broker_type:(A==null?void 0:A.broker_type)??"mt5",oanda_token:(A==null?void 0:A.oanda_token)??null,oanda_account_id:(A==null?void 0:A.oanda_account_id)??null,oanda_environment:(A==null?void 0:A.oanda_environment)??"practice",display_currency:(A==null?void 0:A.display_currency)??"USD",deposit_amount:(A==null?void 0:A.deposit_amount)??null,leverage_ratio:(A==null?void 0:A.leverage_ratio)??null,created_utc:(A==null?void 0:A.created_utc)??new Date().toISOString().slice(0,19).replace("T"," ")+"Z",risk:{},strategy:{timeframes:{},setups:{},filters:{alignment:{enabled:!1,method:"score",weights:{H4:1,M15:1,M1:1},min_score_to_trade:-3},ema_stack_filter:{enabled:!1,timeframe:"M1",periods:[8,13,21],min_separation_pips:0},atr_filter:{enabled:!1,timeframe:"M1",atr_period:14,min_atr_pips:0,max_atr_pips:null}}},trade_management:{target:{}},execution:{policies:[],loop_poll_seconds:5,loop_poll_seconds_fast:2}},q=se.risk,J=se.strategy,le=J.timeframes,ue=J.setups,ge=se.trade_management.target,Pe=se.execution,Te=(()=>{var Nt;if(!s.tradingStyle)return[8,13,21];const vt=nm[s.tradingStyle],zt=s.emaStack||"default";return((Nt=vt[zt])==null?void 0:Nt.values)||vt.default.values})();switch(s.tradingStyle){case"scalper":le.M1={ema_fast:9,sma_slow:21,ema_stack:Te},le.M15={ema_fast:9,sma_slow:21,ema_stack:Te},le.H4={ema_fast:13,sma_slow:30,ema_stack:Te},ue.m1_cross_entry={enabled:!0,timeframe:"M1",ema:Te[0],sma:Te[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:3}},ge.mode="fixed_pips",ge.pips_default=8,ge.rr_default=1,Pe.loop_poll_seconds=3,Pe.loop_poll_seconds_fast=1;break;case"day_trader":le.M1={ema_fast:13,sma_slow:30,ema_stack:Te},le.M15={ema_fast:13,sma_slow:30,ema_stack:Te},le.H4={ema_fast:13,sma_slow:30,ema_stack:Te},ue.m15_cross_entry={enabled:!0,timeframe:"M15",ema:Te[0],sma:Te[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:5}},ge.mode="fixed_pips",ge.pips_default=15,ge.rr_default=1.5,Pe.loop_poll_seconds=10,Pe.loop_poll_seconds_fast=5;break;case"swing_trader":le.M1={ema_fast:21,sma_slow:50,ema_stack:Te},le.M15={ema_fast:21,sma_slow:50,ema_stack:Te},le.H4={ema_fast:21,sma_slow:50,ema_stack:Te},ue.h4_cross_entry={enabled:!0,timeframe:"H4",ema:Te[0],sma:Te[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:2}},ge.mode="fixed_pips",ge.pips_default=30,ge.rr_default=2,Pe.loop_poll_seconds=60,Pe.loop_poll_seconds_fast=30;break}const dt=(e==null?void 0:e.risk)||{},wt=dt.max_lots??.1,mt=dt.max_spread_pips??2,Ke=dt.max_trades_per_day??10,Tt=dt.min_stop_pips,j=typeof Tt=="number"&&Tt>=0?Math.max(1,Math.min(100,Tt)):10;switch(s.riskTolerance){case"conservative":q.max_lots=Math.round(wt*.35*100)/100||.05,q.max_spread_pips=Math.round(mt*.25*10)/10||.5,q.min_stop_pips=j,q.max_trades_per_day=Math.max(1,Math.round(Ke*.5)),q.max_open_trades=1,q.cooldown_minutes_after_loss=15,q.require_stop=!0,q.risk_per_trade_pct=.5,q.max_daily_loss_pct=2;break;case"moderate":q.max_lots=Math.round(wt*.67*100)/100||.1,q.max_spread_pips=Math.round(mt*.5*10)/10||.8,q.min_stop_pips=j,q.max_trades_per_day=Math.max(1,Math.round(Ke*1)),q.max_open_trades=2,q.cooldown_minutes_after_loss=5,q.require_stop=!0,q.risk_per_trade_pct=1,q.max_daily_loss_pct=4;break;case"aggressive":q.max_lots=Math.round(wt*1*100)/100||.15,q.max_spread_pips=Math.round(mt*.6*10)/10||1.2,q.min_stop_pips=j,q.max_trades_per_day=Math.max(1,Math.round(Ke*1)),q.max_open_trades=3,q.cooldown_minutes_after_loss=0,q.require_stop=!0,q.risk_per_trade_pct=2,q.max_daily_loss_pct=6;break}const ee=[],_e=Object.keys(ue)[0]||"m1_cross_entry",we=s.tradingStyle==="swing_trader"?"H4":s.tradingStyle==="day_trader"?"M15":"M1",be=ge.pips_default,at=q.min_stop_pips;switch(s.entryStyle){case"ema_cross":ee.push({type:"confirmed_cross",id:"custom_confirmed_cross",enabled:!0,setup_id:_e});break;case"rsi_dips":ee.push({type:"indicator_based",id:"custom_rsi_buy",enabled:!0,timeframe:we,regime:"bull",side:"buy",rsi_period:14,rsi_oversold:30,rsi_overbought:70,rsi_zone:"oversold",use_macd_cross:!0,macd_fast:12,macd_slow:26,macd_signal:9,tp_pips:be,sl_pips:at}),ee.push({type:"indicator_based",id:"custom_rsi_sell",enabled:!0,timeframe:we,regime:"bear",side:"sell",rsi_period:14,rsi_oversold:30,rsi_overbought:70,rsi_zone:"overbought",use_macd_cross:!0,macd_fast:12,macd_slow:26,macd_signal:9,tp_pips:be,sl_pips:at});break;case"price_levels":J.filters.alignment={enabled:!0,method:"score",weights:{H4:2,M15:1,M1:1},min_score_to_trade:1},ee.push({type:"confirmed_cross",id:"custom_confirmed_cross",enabled:!0,setup_id:_e});break;case"bollinger_bands":ee.push({type:"bollinger_bands",id:"custom_bb_buy",enabled:!0,timeframe:we,period:20,std_dev:2,trigger:"lower_band_buy",regime:"bull",side:"buy",tp_pips:be,sl_pips:at}),ee.push({type:"bollinger_bands",id:"custom_bb_sell",enabled:!0,timeframe:we,period:20,std_dev:2,trigger:"upper_band_sell",regime:"bear",side:"sell",tp_pips:be,sl_pips:at});break;case"vwap":ee.push({type:"vwap",id:"custom_vwap_buy",enabled:!0,timeframe:we,trigger:"cross_above",side:"buy",tp_pips:be,sl_pips:at}),ee.push({type:"vwap",id:"custom_vwap_sell",enabled:!0,timeframe:we,trigger:"cross_below",side:"sell",tp_pips:be,sl_pips:at});break;case"multiple":{const vt=(zt,Nt)=>{if(zt==="ema_cross"){ee.push({type:"confirmed_cross",id:`${Nt}_ema_cross`,enabled:!0,setup_id:_e});return}if(zt==="price_levels"){J.filters.alignment={enabled:!0,method:"score",weights:{H4:2,M15:1,M1:1},min_score_to_trade:1},ee.push({type:"confirmed_cross",id:`${Nt}_confirmed_cross`,enabled:!0,setup_id:_e});return}if(zt==="bollinger_bands"){ee.push({type:"bollinger_bands",id:`${Nt}_bb_buy`,enabled:!0,timeframe:we,period:20,std_dev:2,trigger:"lower_band_buy",regime:"bull",side:"buy",tp_pips:be,sl_pips:at}),ee.push({type:"bollinger_bands",id:`${Nt}_bb_sell`,enabled:!0,timeframe:we,period:20,std_dev:2,trigger:"upper_band_sell",regime:"bear",side:"sell",tp_pips:be,sl_pips:at});return}zt==="vwap"&&(ee.push({type:"vwap",id:`${Nt}_vwap_buy`,enabled:!0,timeframe:we,trigger:"cross_above",side:"buy",tp_pips:be,sl_pips:at}),ee.push({type:"vwap",id:`${Nt}_vwap_sell`,enabled:!0,timeframe:we,trigger:"cross_below",side:"sell",tp_pips:be,sl_pips:at}))};s.multipleStrategyA&&vt(s.multipleStrategyA,"custom_ms_a"),s.multipleStrategyB&&vt(s.multipleStrategyB,"custom_ms_b");break}}Pe.policies=ee;const gn=s.tradingStyle==="scalper"?"Scalp":s.tradingStyle==="day_trader"?"DayT":"Swing",Qt=s.riskTolerance==="conservative"?"Cons":s.riskTolerance==="moderate"?"Mod":"Agg",ur=s.entryStyle==="ema_cross"?"EMAC":s.entryStyle==="rsi_dips"?"RSI":s.entryStyle==="price_levels"?"PL":s.entryStyle==="bollinger_bands"?"BB":s.entryStyle==="vwap"?"VWAP":"MS";return se.active_preset_name=`Custom: ${gn}/${Qt}/${ur}`,se},P=()=>{if(n<k&&i(n+1),n===3&&s.entryStyle!=="multiple"||n===4&&s.entryStyle==="multiple"){const A=w();_(A),S(JSON.parse(JSON.stringify(A)))}},C=()=>{n>1&&i(n-1)},E=async()=>{f(!0),g(null);try{const A=JSON.parse(JSON.stringify(b||y||w())),se=(e==null?void 0:e.risk)||{},q=A.risk||{};A.risk=se;const J=(le,ue)=>typeof le=="number"&&typeof ue=="number"?Math.min(le,ue):le;A.effective_risk={...q,max_lots:J(q.max_lots??.1,se.max_lots??1),max_spread_pips:J(q.max_spread_pips??2,se.max_spread_pips??5),max_trades_per_day:J(q.max_trades_per_day??10,se.max_trades_per_day??100),max_open_trades:J(q.max_open_trades??2,se.max_open_trades??10)},A.broker_type=(e==null?void 0:e.broker_type)??"mt5",A.oanda_token=(e==null?void 0:e.oanda_token)??null,A.oanda_account_id=(e==null?void 0:e.oanda_account_id)??null,A.oanda_environment=(e==null?void 0:e.oanda_environment)??"practice",A.display_currency=(e==null?void 0:e.display_currency)??"USD",A.deposit_amount=(e==null?void 0:e.deposit_amount)??null,A.leverage_ratio=(e==null?void 0:e.leverage_ratio)??null,e!=null&&e.created_utc&&(A.created_utc=e.created_utc),await X0(t.path,A),r()}catch(A){g(A.message)}finally{f(!1)}},I=()=>{y&&S(JSON.parse(JSON.stringify(y)))},D=(A,se)=>{if(!b)return;const q=JSON.parse(JSON.stringify(b));let J=q;for(let le=0;le<A.length-1;le++)J[A[le]]===void 0&&(J[A[le]]={}),J=J[A[le]];J[A[A.length-1]]=se,S(q)},z=(A,se,q,J,le)=>{if(!b)return;let ue=b;for(let ke=0;ke<A.length-1;ke++)if(ue=ue[A[ke]],!ue)return;const ge=ue[A[A.length-1]];if(typeof ge!="number")return;let Pe=ge+se*(le||1);q!==void 0&&(Pe=Math.max(q,Pe)),J!==void 0&&(Pe=Math.min(J,Pe)),D(A,Number(Pe.toFixed(4)))},X=(()=>{if(n!==5||!b||!e)return!1;const A=e.risk||{},se=A.max_lots,q=A.max_spread_pips,J=A.max_trades_per_day,le=b.risk||{},ue=le.max_lots,ge=le.max_spread_pips,Pe=le.max_trades_per_day,ke=se!=null&&ue!=null&&ue>se,Te=q!=null&&ge!=null&&ge>q,dt=J!=null&&Pe!=null&&Pe>J;return ke||Te||dt})(),Z=({selected:A,onClick:se,title:q,description:J,icon:le,details:ue})=>l.jsxs("div",{onClick:se,style:{padding:20,borderRadius:8,border:`2px solid ${A?"var(--accent)":"var(--border)"}`,background:A?"rgba(59, 130, 246, 0.1)":"var(--bg-secondary)",cursor:"pointer",transition:"all 0.2s ease"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[l.jsx("span",{style:{fontSize:"1.5rem"},children:le}),l.jsx("h4",{style:{margin:0,color:A?"var(--accent)":"var(--text-primary)"},children:q})]}),l.jsx("p",{style:{margin:"0 0 8px 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:J}),ue&&l.jsx("ul",{style:{margin:0,paddingLeft:20,fontSize:"0.8rem",color:"var(--text-secondary)"},children:ue.map((ge,Pe)=>l.jsx("li",{children:ge},Pe))})]});return l.jsxs("div",{children:[l.jsx("div",{className:"card mb-4",children:l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:x.map(A=>l.jsxs("div",{style:{flex:1,textAlign:"center",opacity:A.num<=n?1:.5},children:[l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:A.num<n?"var(--success)":A.num===n?"var(--accent)":"var(--bg-tertiary)",color:A.num<=n?"white":"var(--text-secondary)",display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:600,marginBottom:8},children:A.num<n?"":A.num}),l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:A.num===n?600:400},children:A.title})]},A.num))})}),n===1&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Step 1: Trading Style"}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How do you want to trade? This determines the timeframe focus and trade duration."}),l.jsxs("div",{style:{display:"grid",gap:16},children:[l.jsx(Z,{selected:s.tradingStyle==="scalper",onClick:()=>a({...s,tradingStyle:"scalper"}),title:"Scalper",icon:"",description:"Quick trades (1-5 minutes), small profits, many opportunities",details:["Focuses on M1 (1-minute) chart","8 pip profit targets","Fast polling (1-3 seconds)","Best for active monitoring"]}),l.jsx(Z,{selected:s.tradingStyle==="day_trader",onClick:()=>a({...s,tradingStyle:"day_trader"}),title:"Day Trader",icon:"",description:"Trades within the day (5-60 minutes), moderate targets",details:["Focuses on M15 (15-minute) chart","15 pip profit targets","Moderate polling (5-10 seconds)","Good balance of activity and patience"]}),l.jsx(Z,{selected:s.tradingStyle==="swing_trader",onClick:()=>a({...s,tradingStyle:"swing_trader"}),title:"Swing Trader",icon:"",description:"Hold for hours or days, larger moves, fewer trades",details:["Focuses on H4 (4-hour) chart","30+ pip profit targets","Slow polling (30-60 seconds)","Minimal monitoring needed"]})]}),s.tradingStyle&&l.jsxs("div",{style:{marginTop:20},children:[l.jsxs("button",{type:"button",onClick:()=>d(!c),style:{background:"transparent",border:"none",color:"var(--accent)",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:8,padding:0},children:[l.jsx("span",{style:{transform:c?"rotate(90deg)":"rotate(0)",transition:"transform 0.2s"},children:""}),"Advanced: EMA Stack (optional)"]}),c&&l.jsxs("div",{style:{marginTop:12,padding:16,background:"var(--bg-tertiary)",borderRadius:8,borderLeft:"3px solid var(--accent)"},children:[l.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.85rem",color:"var(--text-secondary)"},children:"The EMA Stack defines the moving average periods used for trend detection. Leave as default unless you have a specific preference."}),l.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[l.jsxs("label",{children:["EMA Stack for ",s.tradingStyle==="scalper"?"Scalping":s.tradingStyle==="day_trader"?"Day Trading":"Swing Trading"]}),l.jsx("select",{value:s.emaStack||"default",onChange:A=>a({...s,emaStack:A.target.value}),children:s.tradingStyle&&Object.entries(nm[s.tradingStyle]).map(([A,se])=>l.jsx("option",{value:A,children:se.label},A))})]}),l.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Current selection: ",s.tradingStyle&&s.emaStack&&((H=nm[s.tradingStyle][s.emaStack])==null?void 0:H.values.join(", "))," EMA periods"]})]})]})]}),n===2&&(()=>{const A=(e==null?void 0:e.risk)||{},se=A.max_lots??.1,q=A.max_spread_pips??2,J=A.max_trades_per_day??10,le=Math.round(se*.35*100)/100||.05,ue=Math.max(1,Math.round(J*.5)),ge=Math.round(q*.25*10)/10||.5,Pe=Math.round(se*.67*100)/100||.1,ke=Math.max(1,Math.round(J*1)),Te=Math.round(q*.5*10)/10||.8,dt=Math.round(se*1*100)/100||.15,wt=Math.max(1,Math.round(J*1)),mt=Math.round(q*.6*10)/10||1.2;return l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Step 2: Risk Tolerance"}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How much risk are you comfortable with per trade? Values scale from your Profile Editor limits."}),l.jsxs("div",{style:{display:"grid",gap:16},children:[l.jsx(Z,{selected:s.riskTolerance==="conservative",onClick:()=>a({...s,riskTolerance:"conservative"}),title:"Conservative",icon:"",description:"Lower risk, smaller positions, strict filters",details:[`${le} lots per trade`,`Max ${ue} trades per day`,`${ge} pip max spread`,"15 min cooldown after loss","2% max daily loss"]}),l.jsx(Z,{selected:s.riskTolerance==="moderate",onClick:()=>a({...s,riskTolerance:"moderate"}),title:"Moderate",icon:"",description:"Balanced risk and reward",details:[`${Pe} lots per trade`,`Max ${ke} trades per day`,`${Te} pip max spread`,"5 min cooldown after loss","4% max daily loss"]}),l.jsx(Z,{selected:s.riskTolerance==="aggressive",onClick:()=>a({...s,riskTolerance:"aggressive"}),title:"Aggressive",icon:"",description:"Higher risk for potentially higher returns",details:[`${dt} lots per trade`,`Max ${wt} trades per day`,`${mt} pip max spread`,"No cooldown after loss","6% max daily loss"]})]})]})})(),n===3&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Step 3: Entry Style"}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How should the bot decide when to enter a trade?"}),l.jsxs("div",{style:{display:"grid",gap:16},children:[l.jsx(Z,{selected:s.entryStyle==="ema_cross",onClick:()=>a({...s,entryStyle:"ema_cross",multipleStrategyA:null,multipleStrategyB:null}),title:"EMA Cross",icon:"",description:"Buy or sell based on EMA/SMA cross direction",details:["BUY: EMA crosses above SMA","SELL: EMA crosses below SMA","Waits for confirmation bar","Works in both trends"]}),l.jsx(Z,{selected:s.entryStyle==="rsi_dips",onClick:()=>a({...s,entryStyle:"rsi_dips",multipleStrategyA:null,multipleStrategyB:null}),title:"RSI Dips",icon:"",description:"Buy oversold dips, sell overbought rallies",details:["BUY: RSI < 30 in uptrend","SELL: RSI > 70 in downtrend","Mean-reversion style","MACD confirmation included"]}),l.jsx(Z,{selected:s.entryStyle==="price_levels",onClick:()=>a({...s,entryStyle:"price_levels",multipleStrategyA:null,multipleStrategyB:null}),title:"Price Levels",icon:"",description:"EMA cross with multi-timeframe alignment filter",details:["Bi-directional EMA cross","Requires H4/M15/M1 agreement","Higher quality signals","Fewer but better trades"]}),l.jsx(Z,{selected:s.entryStyle==="bollinger_bands",onClick:()=>a({...s,entryStyle:"bollinger_bands",multipleStrategyA:null,multipleStrategyB:null}),title:"Bollinger Bands",icon:"",description:"Mean reversion at lower/upper band",details:["BUY: price at/below lower band in uptrend","SELL: price at/above upper band in downtrend","M15, 20-period, 2 std dev","Clear levels for entry"]}),l.jsx(Z,{selected:s.entryStyle==="vwap",onClick:()=>a({...s,entryStyle:"vwap",multipleStrategyA:null,multipleStrategyB:null}),title:"VWAP",icon:"",description:"Entries on price vs VWAP",details:["BUY: price crosses above VWAP","SELL: price crosses below VWAP","Volume-weighted average price","Good for intraday trend"]}),l.jsx(Z,{selected:s.entryStyle==="multiple",onClick:()=>a({...s,entryStyle:"multiple"}),title:"Multiple Strategies",icon:"",description:"Combine two strategies of your choice (EMA Cross, Price Levels, Bollinger Bands, or VWAP)",details:["Pick Strategy A and Strategy B in the next step","EMA Cross, Price Levels, Bollinger Bands, VWAP","Maximum flexibility","Good for active traders"]})]})]}),n===4&&s.entryStyle==="multiple"&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Step 4: Choose two strategies to combine"}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Select Strategy A and Strategy B. They must be different. RSI is not available in combinations."}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24,marginBottom:16},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Strategy A"}),l.jsxs("select",{value:s.multipleStrategyA??"",onChange:A=>a({...s,multipleStrategyA:A.target.value||null}),style:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.95rem"},children:[l.jsx("option",{value:"",children:" Select "}),l.jsx("option",{value:"ema_cross",children:"EMA Cross"}),l.jsx("option",{value:"price_levels",children:"Price Levels"}),l.jsx("option",{value:"bollinger_bands",children:"Bollinger Bands"}),l.jsx("option",{value:"vwap",children:"VWAP"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Strategy B"}),l.jsxs("select",{value:s.multipleStrategyB??"",onChange:A=>a({...s,multipleStrategyB:A.target.value||null}),style:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.95rem"},children:[l.jsx("option",{value:"",children:" Select "}),l.jsx("option",{value:"ema_cross",children:"EMA Cross"}),l.jsx("option",{value:"price_levels",children:"Price Levels"}),l.jsx("option",{value:"bollinger_bands",children:"Bollinger Bands"}),l.jsx("option",{value:"vwap",children:"VWAP"})]})]})]}),s.multipleStrategyA&&s.multipleStrategyB&&s.multipleStrategyA===s.multipleStrategyB&&l.jsx("p",{style:{color:"var(--danger)",fontSize:"0.9rem",marginTop:8},children:"Please choose two different strategies."})]}),(n===4&&s.entryStyle!=="multiple"||n===5&&s.entryStyle==="multiple")&&l.jsx("div",{children:l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",children:s.entryStyle==="multiple"?"Step 5: Review & Save":"Step 4: Review & Save"}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Review your custom configuration before saving."}),l.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8,borderLeft:"4px solid var(--accent)",marginBottom:20},children:[l.jsx("h4",{style:{margin:"0 0 12px 0"},children:"Your Configuration Summary"}),l.jsxs("div",{className:"grid-3",children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Style:"}),l.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[s.tradingStyle==="scalper"&&" Scalper",s.tradingStyle==="day_trader"&&" Day Trader",s.tradingStyle==="swing_trader"&&" Swing Trader"]})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Risk:"}),l.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[s.riskTolerance==="conservative"&&" Conservative",s.riskTolerance==="moderate"&&" Moderate",s.riskTolerance==="aggressive"&&" Aggressive"]})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Entry:"}),l.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[s.entryStyle==="ema_cross"&&" EMA Cross",s.entryStyle==="rsi_dips"&&" RSI Dips",s.entryStyle==="price_levels"&&" Price Levels",s.entryStyle==="bollinger_bands"&&" Bollinger Bands",s.entryStyle==="vwap"&&" VWAP",s.entryStyle==="multiple"&&s.multipleStrategyA&&s.multipleStrategyB&&l.jsxs(l.Fragment,{children:[" Multiple (",s.multipleStrategyA.replace("_"," "),"+",s.multipleStrategyB.replace("_"," "),")"]}),s.entryStyle==="multiple"&&(!s.multipleStrategyA||!s.multipleStrategyB)&&" Multiple"]})]})]})]}),y&&l.jsxs("div",{style:{marginBottom:20},children:[l.jsx("h4",{style:{marginBottom:12},children:"What this means:"}),l.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"var(--text-secondary)",lineHeight:1.8},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Position Size:"})," ",String(((oe=y.risk)==null?void 0:oe.max_lots)??"-")," lots per trade"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Profit Target:"})," ",String(((R=(O=y.trade_management)==null?void 0:O.target)==null?void 0:R.pips_default)??"-")," pips"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Max Trades/Day:"})," ",String(((N=y.risk)==null?void 0:N.max_trades_per_day)??"-")]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Polling Speed:"})," Every ",String(((L=y.execution)==null?void 0:L.loop_poll_seconds)??"-")," seconds"]})]})]}),l.jsx("div",{style:{marginBottom:20},children:l.jsxs("button",{className:"btn btn-secondary",style:{fontSize:"0.85rem"},onClick:()=>u(!o),children:[o?"Hide":"Show"," Advanced Settings"]})}),o&&y&&l.jsxs("div",{style:{marginBottom:20},children:[l.jsx("h4",{style:{marginBottom:12},children:"Full Configuration (JSON):"}),l.jsx("pre",{style:{background:"var(--bg-primary)",padding:12,borderRadius:6,fontSize:"0.75rem",overflow:"auto",maxHeight:300},children:JSON.stringify(y,null,2)}),l.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:8},children:"For advanced customization, edit the profile directly in the Profile Editor after saving."})]}),p&&l.jsx("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.1)",borderRadius:6,marginBottom:16},children:l.jsxs("p",{style:{color:"var(--danger)",margin:0},children:["Error: ",p]})})]})}),(n===5&&s.entryStyle!=="multiple"||n===6&&s.entryStyle==="multiple")&&b&&l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[l.jsx("h3",{className:"card-title",style:{margin:0},children:s.entryStyle==="multiple"?"Step 6: Fine-Tune Settings":"Step 5: Fine-Tune Settings"}),l.jsx("button",{className:"btn btn-secondary",onClick:I,style:{fontSize:"0.8rem"},children:"Reset to Wizard Defaults"})]}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Adjust any settings using the +/- buttons or type directly. These values come from your wizard choices."}),X&&l.jsxs("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.15)",border:"1px solid var(--danger)",borderRadius:8,marginBottom:20},children:[l.jsx("strong",{style:{color:"var(--danger)"},children:"Profile limit exceeded"}),l.jsx("p",{style:{margin:"8px 0 0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"You have violated your Profile Editor risk settings. This change cannot be made until you update your risk settings in the Profile Editor."})]}),l.jsxs("div",{style:{marginBottom:20},children:[l.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Risk Settings"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[l.jsx(Ht,{label:"Max Lots",value:(Q=b.risk)==null?void 0:Q.max_lots,onAdjust:A=>z(["risk","max_lots"],A,.01,10,.01),onChange:A=>D(["risk","max_lots"],A),step:.01,min:.01,max:10}),l.jsx(Ht,{label:"Min Stop Pips",value:(G=b.risk)==null?void 0:G.min_stop_pips,onAdjust:A=>z(["risk","min_stop_pips"],A,1,100,1),onChange:A=>D(["risk","min_stop_pips"],A),step:1,min:1,max:100}),l.jsx(Ht,{label:"Max Spread Pips",value:(ye=b.risk)==null?void 0:ye.max_spread_pips,onAdjust:A=>z(["risk","max_spread_pips"],A,.1,5,.1),onChange:A=>D(["risk","max_spread_pips"],A),step:.1,min:.1,max:5}),l.jsx(Ht,{label:"Max Trades/Day",value:(pe=b.risk)==null?void 0:pe.max_trades_per_day,onAdjust:A=>z(["risk","max_trades_per_day"],A,1,100,1),onChange:A=>D(["risk","max_trades_per_day"],A),step:1,min:1,max:100}),l.jsx(Ht,{label:"Max Open Trades",value:(ve=b.risk)==null?void 0:ve.max_open_trades,onAdjust:A=>z(["risk","max_open_trades"],A,1,10,1),onChange:A=>D(["risk","max_open_trades"],A),step:1,min:1,max:10}),l.jsx(Ht,{label:"Loss Cooldown (min)",value:(T=b.risk)==null?void 0:T.cooldown_minutes_after_loss,onAdjust:A=>z(["risk","cooldown_minutes_after_loss"],A,0,60,1),onChange:A=>D(["risk","cooldown_minutes_after_loss"],A),step:1,min:0,max:60}),l.jsx(Ht,{label:"Max Daily Loss %",value:(B=b.risk)==null?void 0:B.max_daily_loss_pct,onAdjust:A=>z(["risk","max_daily_loss_pct"],A,.5,20,.5),onChange:A=>D(["risk","max_daily_loss_pct"],A),step:.5,min:.5,max:20})]})]}),l.jsxs("div",{style:{marginBottom:20},children:[l.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Profit Target"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[l.jsx(Ht,{label:"Target Pips",value:(W=(ae=b.trade_management)==null?void 0:ae.target)==null?void 0:W.pips_default,onAdjust:A=>z(["trade_management","target","pips_default"],A,1,100,1),onChange:A=>D(["trade_management","target","pips_default"],A),step:1,min:1,max:100}),l.jsx(Ht,{label:"R:R Ratio",value:(V=(K=b.trade_management)==null?void 0:K.target)==null?void 0:V.rr_default,onAdjust:A=>z(["trade_management","target","rr_default"],A,.5,5,.1),onChange:A=>D(["trade_management","target","rr_default"],A),step:.1,min:.5,max:5})]})]}),l.jsxs("div",{style:{marginBottom:20},children:[l.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Execution"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[l.jsx(Ht,{label:"Poll Interval (sec)",value:(M=b.execution)==null?void 0:M.loop_poll_seconds,onAdjust:A=>z(["execution","loop_poll_seconds"],A,1,120,1),onChange:A=>D(["execution","loop_poll_seconds"],A),step:1,min:1,max:120}),l.jsx(Ht,{label:"Fast Poll (sec)",value:(ne=b.execution)==null?void 0:ne.loop_poll_seconds_fast,onAdjust:A=>z(["execution","loop_poll_seconds_fast"],A,1,60,1),onChange:A=>D(["execution","loop_poll_seconds_fast"],A),step:1,min:1,max:60})]})]}),(ce=(te=b.execution)==null?void 0:te.policies)==null?void 0:ce.map((A,se)=>l.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsxs("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.9rem"},children:["Policy: ",A.id," (",A.type,")"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:10},children:[A.type==="indicator_based"&&l.jsxs(l.Fragment,{children:[l.jsx(Ht,{label:"RSI Period",value:A.rsi_period,onAdjust:q=>{const J=b.execution.policies;J[se].rsi_period=Math.max(2,Math.min(50,A.rsi_period+q)),D(["execution","policies"],J)},onChange:q=>{const J=b.execution.policies;J[se].rsi_period=Math.max(2,Math.min(50,q)),D(["execution","policies"],J)},step:1,min:2,max:50}),l.jsx(Ht,{label:"RSI Oversold",value:A.rsi_oversold,onAdjust:q=>{const J=b.execution.policies;J[se].rsi_oversold=Math.max(10,Math.min(50,A.rsi_oversold+q)),D(["execution","policies"],J)},onChange:q=>{const J=b.execution.policies;J[se].rsi_oversold=Math.max(10,Math.min(50,q)),D(["execution","policies"],J)},step:1,min:10,max:50}),l.jsx(Ht,{label:"RSI Overbought",value:A.rsi_overbought,onAdjust:q=>{const J=b.execution.policies;J[se].rsi_overbought=Math.max(50,Math.min(90,A.rsi_overbought+q)),D(["execution","policies"],J)},onChange:q=>{const J=b.execution.policies;J[se].rsi_overbought=Math.max(50,Math.min(90,q)),D(["execution","policies"],J)},step:1,min:50,max:90}),l.jsx(Ht,{label:"TP Pips",value:A.tp_pips,onAdjust:q=>{const J=b.execution.policies;J[se].tp_pips=Math.max(1,Math.min(100,A.tp_pips+q)),D(["execution","policies"],J)},onChange:q=>{const J=b.execution.policies;J[se].tp_pips=Math.max(1,Math.min(100,q)),D(["execution","policies"],J)},step:1,min:1,max:100}),l.jsx(Ht,{label:"SL Pips",value:A.sl_pips,onAdjust:q=>{const J=b.execution.policies;J[se].sl_pips=Math.max(1,Math.min(100,A.sl_pips+q)),D(["execution","policies"],J)},onChange:q=>{const J=b.execution.policies;J[se].sl_pips=Math.max(1,Math.min(100,q)),D(["execution","policies"],J)},step:1,min:1,max:100}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[l.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Side:"}),l.jsx("span",{style:{fontWeight:600,color:A.side==="buy"?"var(--success)":"var(--danger)"},children:A.side.toUpperCase()})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[l.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Regime:"}),l.jsx("span",{style:{fontWeight:600},children:A.regime})]})]}),A.type==="confirmed_cross"&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[l.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Setup:"}),l.jsx("span",{style:{fontWeight:600},children:A.setup_id}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"(bi-directional)"})]})]})]},se)),p&&l.jsx("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.1)",borderRadius:6,marginTop:16},children:l.jsxs("p",{style:{color:"var(--danger)",margin:0},children:["Error: ",p]})})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20},children:[l.jsx("button",{className:"btn btn-secondary",onClick:C,disabled:n===1,children:" Back"}),l.jsxs("div",{style:{display:"flex",gap:12},children:[n<k&&l.jsx("button",{className:"btn btn-primary",onClick:P,disabled:!m(),children:n===4&&s.entryStyle!=="multiple"||n===5&&s.entryStyle==="multiple"?"Fine-Tune Settings ":"Next "}),(n>=4&&s.entryStyle!=="multiple"||n>=5&&s.entryStyle==="multiple")&&l.jsx("button",{className:"btn btn-success",onClick:E,disabled:h||X,style:{minWidth:160},children:h?"Saving...":" Save Configuration"})]})]})]})}const ng=[9,...Array.from({length:24},(t,e)=>e+11)],uZ=new Set(ng);function zk(t){if(!Array.isArray(t))return[...ng];const e=Array.from(new Set(t.map(r=>Math.trunc(Number(r))).filter(r=>uZ.has(r)))).sort((r,n)=>r-n);return e.length>0?e:[...ng]}function cZ({profile:t}){var R,N,L,Q,G,ye,pe,ve,T,B,ae,W,K,V,M,ne,te,ce,A,se,q,J,le,ue,ge,Pe,ke,Te,dt,wt,mt,Ke,Tt;const[e,r]=v.useState([]),[n,i]=v.useState(null),[s,a]=v.useState(null),[o,u]=v.useState(null),[c,d]=v.useState(!1),[h,f]=v.useState(null),[p,g]=v.useState(null),[y,_]=v.useState(!1),[x,b]=v.useState(!0),[S,k]=v.useState(null),[m,w]=v.useState(null),[P,C]=v.useState(!1),E=()=>{tz(t.path).then(g).catch(console.error),Eq(t.name).then(k).catch(console.error)};v.useEffect(()=>{Pq().then(j=>{r(j)}).catch(console.error),E()},[t.path,t.name]),v.useEffect(()=>{n&&n!=="custom"?Mq(n,t.path).then(j=>u(j)).catch(console.error):u(null)},[n,t.path]),v.useEffect(()=>{if(y&&p){const j=p.effective_risk,ee=p.risk,_e=p.execution,we=p.trade_management,be=we==null?void 0:we.target,at=_e==null?void 0:_e.policies;let gn=0,Qt=20,ur=!1,vt=.15,zt=5,Nt=100,Zi=!1,pu=100,pi=.15,mu=!1,uo=14,co=50,ho=5,Ne=!0,$=3,J0=.35,ex=.1,tx=.08,rx=.05,nx=.45,ix=.4,sx=.15,ax=0,ox=4,lx=-1,ux=3,cx=-3,dx=3,hx=!0,fx=2,px=3.5,mx=5,vx=12,gx=!1,yx="session_and_side",xx=!0,_x=.5,bx=12.03,wx=17.02,Sx=12.67,jx=17.63,kx=11.06,Px=14.41,Mx=12.66,Cx=18.83,Ex=11.85,Ax=15.52,Ox=10.21,Tx=12.97,zx=11.21,Nx=15.84,Ix=13.44,Rx=19.73,Dx=12.01,Lx=17.44,$x=13.97,Bx=21.51,Fx=!0,Wx=!0,Ux=21,Kx=29,Vx=!0,Hx=.5,Yx=1,zf=5,Gx=3,Xx=8,qx=9,Zx=21,Qx=1,fo="ema_cross",Jx=!0,e_=4,t_=12,r_=15,n_=!1,i_=5,Nf=!1,If="fixed_pips",Rf=5,Df=1,s_=!0,a_=!0,o_=!0,Lf=[9,11,12,13,14,15,16,17],l_=!0,u_=7,c_=2.5,d_=!0,h_=!0,f_=2.2,p_=2.5,m_=2.8,v_=!0,g_=14,y_=4.5,x_=11,__=!0,b_=11,w_=8,S_=10,j_=11,k_=2,P_=20,M_=2,C_=20,E_=2,A_=!0,O_=[9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34],T_=7,z_=!0,N_=21,I_=2,R_=!0;if(at){for(const U of at)if(U.type==="kt_cg_trial_6"&&(k_=U.m3_slope_lookback??2,P_=U.m3_bb_period??20,M_=U.m3_bb_std??2,C_=U.m1_bb_period??20,E_=U.m1_bb_std??2,A_=U.ema_tier_enabled??!0,O_=U.tier_ema_periods??[9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34],T_=U.ema_tier_tp_pips??7,z_=U.dead_zone_enabled??!0,N_=U.dead_zone_start_hour_utc??21,I_=U.dead_zone_end_hour_utc??2,R_=U.spread_aware_be_apply_to_ema_tier??!0,"sl_pips"in U&&(Qt=U.sl_pips),"spread_aware_be_enabled"in U&&(Nf=U.spread_aware_be_enabled,If="spread_relative",Rf=U.spread_aware_be_fixed_trigger_pips??7,Df=U.spread_aware_be_spread_buffer_pips??1.5),"max_open_trades_per_side"in U&&(zf=U.max_open_trades_per_side??15)),"cooldown_minutes"in U&&(gn=U.cooldown_minutes),"sl_pips"in U&&(Qt=U.sl_pips),"swing_level_filter_enabled"in U&&(ur=U.swing_level_filter_enabled,vt=U.swing_danger_zone_pct??.15,zt=U.swing_confirmation_bars??5,Nt=U.swing_lookback_bars??100),"rolling_danger_zone_enabled"in U&&(Zi=U.rolling_danger_zone_enabled,pu=U.rolling_danger_lookback_bars??100,pi=U.rolling_danger_zone_pct??.15),"rsi_divergence_enabled"in U&&(mu=U.rsi_divergence_enabled,uo=U.rsi_divergence_period??14,co=U.rsi_divergence_lookback_bars??50,ho=U.rsi_divergence_block_minutes??5),"ema_zone_filter_enabled"in U&&(Ne=U.ema_zone_filter_enabled,$=U.ema_zone_filter_lookback_bars??3,J0=U.ema_zone_filter_block_threshold??.35),"ema_zone_filter_ema5_min_slope_pips_per_bar"in U&&(ex=U.ema_zone_filter_ema5_min_slope_pips_per_bar??.1,tx=U.ema_zone_filter_ema9_min_slope_pips_per_bar??.08,rx=U.ema_zone_filter_ema21_min_slope_pips_per_bar??.05),"tiered_atr_filter_enabled"in U&&(Jx=U.tiered_atr_filter_enabled,e_=U.tiered_atr_block_below_pips??4,t_=U.tiered_atr_allow_all_max_pips??12,r_=U.tiered_atr_pullback_only_max_pips??15),"daily_hl_filter_enabled"in U&&(n_=U.daily_hl_filter_enabled,i_=U.daily_hl_buffer_pips??5),"spread_aware_be_enabled"in U&&(Nf=U.spread_aware_be_enabled,If=U.spread_aware_be_trigger_mode??"fixed_pips",Rf=U.spread_aware_be_fixed_trigger_pips??5,Df=U.spread_aware_be_spread_buffer_pips??1,s_=U.spread_aware_be_apply_to_zone_entry??!0,a_=U.spread_aware_be_apply_to_tiered_pullback??!0),"zone_entry_enabled"in U&&(o_=U.zone_entry_enabled??!0),"tier_ema_periods"in U&&(Lf=U.tier_ema_periods??[9,11,12,13,14,15,16,17]),"m1_atr_filter_enabled"in U&&(l_=U.m1_atr_filter_enabled??!0),"m1_atr_period"in U&&(u_=U.m1_atr_period??7,c_=U.m1_atr_min_pips??2.5,d_=U.session_dynamic_atr_enabled??!0,h_=U.auto_session_detection_enabled??!0,f_=U.m1_atr_tokyo_min_pips??2.2,p_=U.m1_atr_london_min_pips??2.5,m_=U.m1_atr_ny_min_pips??2.8),"m3_atr_filter_enabled"in U&&(v_=U.m3_atr_filter_enabled??!0,g_=U.m3_atr_period??14,y_=U.m3_atr_min_pips??4.5,x_=U.m3_atr_max_pips??11),"daily_reset_block_enabled"in U&&(__=U.daily_reset_block_enabled??!0),"m1_atr_max_pips"in U&&(b_=U.m1_atr_max_pips??11,w_=U.m1_atr_tokyo_max_pips??8,S_=U.m1_atr_london_max_pips??10,j_=U.m1_atr_ny_max_pips??11),"ema_zone_filter_spread_weight"in U&&(nx=U.ema_zone_filter_spread_weight??.45,ix=U.ema_zone_filter_slope_weight??.4,sx=U.ema_zone_filter_direction_weight??.15,ax=U.ema_zone_filter_spread_min_pips??0,ox=U.ema_zone_filter_spread_max_pips??4,lx=U.ema_zone_filter_slope_min_pips??-1,ux=U.ema_zone_filter_slope_max_pips??3,cx=U.ema_zone_filter_dir_min_pips??-3,dx=U.ema_zone_filter_dir_max_pips??3),"trend_exhaustion_enabled"in U&&(hx=U.trend_exhaustion_enabled??!0,fx=U.trend_exhaustion_fresh_max??2,px=U.trend_exhaustion_mature_max??3.5,mx=U.trend_exhaustion_extended_max??5,vx=U.trend_exhaustion_ramp_minutes??12),"max_open_trades_per_side"in U&&(zf=U.max_open_trades_per_side??5),"max_zone_entry_open"in U&&(Gx=U.max_zone_entry_open??3),"max_tiered_pullback_open"in U&&(Xx=U.max_tiered_pullback_open??8),U.type==="kt_cg_trial_7"&&(qx=U.m5_trend_ema_fast??9,Zx=U.m5_trend_ema_slow??21,Qx=U.m5_min_ema_distance_pips??1,fo=U.zone_entry_mode??"ema_cross",fo!=="ema_cross"&&fo!=="price_vs_ema5"&&(fo="ema_cross"),Lf=zk(U.tier_ema_periods),Qt=U.sl_pips??20,gx=U.trend_exhaustion_enabled??!1,yx=U.trend_exhaustion_mode??"session_and_side",xx=U.trend_exhaustion_use_current_price??!0,_x=U.trend_exhaustion_hysteresis_pips??.5,bx=U.trend_exhaustion_p80_global??12.03,wx=U.trend_exhaustion_p90_global??17.02,Sx=U.trend_exhaustion_p80_tokyo??12.67,jx=U.trend_exhaustion_p90_tokyo??17.63,kx=U.trend_exhaustion_p80_london??11.06,Px=U.trend_exhaustion_p90_london??14.41,Mx=U.trend_exhaustion_p80_ny??12.66,Cx=U.trend_exhaustion_p90_ny??18.83,Ex=U.trend_exhaustion_p80_bull_tokyo??11.85,Ax=U.trend_exhaustion_p90_bull_tokyo??15.52,Ox=U.trend_exhaustion_p80_bull_london??10.21,Tx=U.trend_exhaustion_p90_bull_london??12.97,zx=U.trend_exhaustion_p80_bull_ny??11.21,Nx=U.trend_exhaustion_p90_bull_ny??15.84,Ix=U.trend_exhaustion_p80_bear_tokyo??13.44,Rx=U.trend_exhaustion_p90_bear_tokyo??19.73,Dx=U.trend_exhaustion_p80_bear_london??12.01,Lx=U.trend_exhaustion_p90_bear_london??17.44,$x=U.trend_exhaustion_p80_bear_ny??13.97,Bx=U.trend_exhaustion_p90_bear_ny??21.51,Fx=U.trend_exhaustion_extended_disable_zone_entry??!0,Wx=U.trend_exhaustion_very_extended_disable_zone_entry??!0,Ux=U.trend_exhaustion_extended_min_tier_period??21,Kx=U.trend_exhaustion_very_extended_min_tier_period??29,Vx=U.trend_exhaustion_very_extended_tighten_caps??!0,Hx=U.trend_exhaustion_very_extended_cap_multiplier??.5,Yx=U.trend_exhaustion_very_extended_cap_min??1),gn>0||Qt!==20)break}w({max_lots:(j==null?void 0:j.max_lots)??(ee==null?void 0:ee.max_lots)??.01,min_stop_pips:(j==null?void 0:j.min_stop_pips)??(ee==null?void 0:ee.min_stop_pips)??5,max_spread_pips:(j==null?void 0:j.max_spread_pips)??(ee==null?void 0:ee.max_spread_pips)??2,max_trades_per_day:(j==null?void 0:j.max_trades_per_day)??(ee==null?void 0:ee.max_trades_per_day)??10,max_open_trades:(j==null?void 0:j.max_open_trades)??(ee==null?void 0:ee.max_open_trades)??5,cooldown_minutes_after_loss:(j==null?void 0:j.cooldown_minutes_after_loss)??(ee==null?void 0:ee.cooldown_minutes_after_loss)??0,target_pips:(be==null?void 0:be.pips_default)??.5,loop_poll_seconds:(_e==null?void 0:_e.loop_poll_seconds)??5,policy_cooldown_minutes:gn,policy_sl_pips:Qt,swing_level_filter_enabled:ur,swing_danger_zone_pct:vt,swing_confirmation_bars:zt,swing_lookback_bars:Nt,rolling_danger_zone_enabled:Zi,rolling_danger_lookback_bars:pu,rolling_danger_zone_pct:pi,rsi_divergence_enabled:mu,rsi_divergence_period:uo,rsi_divergence_lookback_bars:co,rsi_divergence_block_minutes:ho,ema_zone_filter_enabled:Ne,ema_zone_filter_lookback_bars:$,ema_zone_filter_block_threshold:J0,ema_zone_filter_ema5_min_slope_pips_per_bar:ex,ema_zone_filter_ema9_min_slope_pips_per_bar:tx,ema_zone_filter_ema21_min_slope_pips_per_bar:rx,ema_zone_filter_spread_weight:nx,ema_zone_filter_slope_weight:ix,ema_zone_filter_direction_weight:sx,ema_zone_filter_spread_min_pips:ax,ema_zone_filter_spread_max_pips:ox,ema_zone_filter_slope_min_pips:lx,ema_zone_filter_slope_max_pips:ux,ema_zone_filter_dir_min_pips:cx,ema_zone_filter_dir_max_pips:dx,trend_exhaustion_enabled:hx,trend_exhaustion_fresh_max:fx,trend_exhaustion_mature_max:px,trend_exhaustion_extended_max:mx,trend_exhaustion_ramp_minutes:vx,t7_trend_exhaustion_enabled:gx,t7_trend_exhaustion_mode:yx,t7_trend_exhaustion_use_current_price:xx,t7_trend_exhaustion_hysteresis_pips:_x,t7_trend_exhaustion_p80_global:bx,t7_trend_exhaustion_p90_global:wx,t7_trend_exhaustion_p80_tokyo:Sx,t7_trend_exhaustion_p90_tokyo:jx,t7_trend_exhaustion_p80_london:kx,t7_trend_exhaustion_p90_london:Px,t7_trend_exhaustion_p80_ny:Mx,t7_trend_exhaustion_p90_ny:Cx,t7_trend_exhaustion_p80_bull_tokyo:Ex,t7_trend_exhaustion_p90_bull_tokyo:Ax,t7_trend_exhaustion_p80_bull_london:Ox,t7_trend_exhaustion_p90_bull_london:Tx,t7_trend_exhaustion_p80_bull_ny:zx,t7_trend_exhaustion_p90_bull_ny:Nx,t7_trend_exhaustion_p80_bear_tokyo:Ix,t7_trend_exhaustion_p90_bear_tokyo:Rx,t7_trend_exhaustion_p80_bear_london:Dx,t7_trend_exhaustion_p90_bear_london:Lx,t7_trend_exhaustion_p80_bear_ny:$x,t7_trend_exhaustion_p90_bear_ny:Bx,t7_trend_exhaustion_extended_disable_zone_entry:Fx,t7_trend_exhaustion_very_extended_disable_zone_entry:Wx,t7_trend_exhaustion_extended_min_tier_period:Ux,t7_trend_exhaustion_very_extended_min_tier_period:Kx,t7_trend_exhaustion_very_extended_tighten_caps:Vx,t7_trend_exhaustion_very_extended_cap_multiplier:Hx,t7_trend_exhaustion_very_extended_cap_min:Yx,max_open_trades_per_side:zf,max_zone_entry_open:Gx,max_tiered_pullback_open:Xx,t7_m5_trend_ema_fast:qx,t7_m5_trend_ema_slow:Zx,t7_m5_min_ema_distance_pips:Qx,t7_zone_entry_mode:fo,tiered_atr_filter_enabled:Jx,tiered_atr_block_below_pips:e_,tiered_atr_allow_all_max_pips:t_,tiered_atr_pullback_only_max_pips:r_,daily_reset_block_enabled:__,m1_atr_max_pips:b_,m1_atr_tokyo_max_pips:w_,m1_atr_london_max_pips:S_,m1_atr_ny_max_pips:j_,daily_hl_filter_enabled:n_,daily_hl_buffer_pips:i_,spread_aware_be_enabled:Nf,spread_aware_be_trigger_mode:If,spread_aware_be_fixed_trigger_pips:Rf,spread_aware_be_spread_buffer_pips:Df,spread_aware_be_apply_to_zone_entry:s_,spread_aware_be_apply_to_tiered_pullback:a_,zone_entry_enabled:o_,tier_ema_periods:Lf,m5_trend_ema_fast:(S==null?void 0:S.m5_trend_ema_fast)??null,m5_trend_ema_slow:(S==null?void 0:S.m5_trend_ema_slow)??null,m1_zone_entry_ema_slow:(S==null?void 0:S.m1_zone_entry_ema_slow)??null,m1_pullback_cross_ema_slow:(S==null?void 0:S.m1_pullback_cross_ema_slow)??null,m3_trend_ema_fast:(S==null?void 0:S.m3_trend_ema_fast)??null,m3_trend_ema_slow:(S==null?void 0:S.m3_trend_ema_slow)??null,m1_t4_zone_entry_ema_fast:(S==null?void 0:S.m1_t4_zone_entry_ema_fast)??null,m1_t4_zone_entry_ema_slow:(S==null?void 0:S.m1_t4_zone_entry_ema_slow)??null,m1_atr_filter_enabled:l_,m1_atr_period:u_,m1_atr_min_pips:c_,session_dynamic_atr_enabled:d_,auto_session_detection_enabled:h_,m1_atr_tokyo_min_pips:f_,m1_atr_london_min_pips:p_,m1_atr_ny_min_pips:m_,m3_atr_filter_enabled:v_,m3_atr_period:g_,m3_atr_min_pips:y_,m3_atr_max_pips:x_,t6_m3_slope_lookback:k_,t6_m3_bb_period:P_,t6_m3_bb_std:M_,t6_m1_bb_period:C_,t6_m1_bb_std:E_,t6_ema_tier_enabled:A_,t6_tier_ema_periods:O_,t6_ema_tier_tp_pips:T_,t6_dead_zone_enabled:z_,t6_dead_zone_start_hour_utc:N_,t6_dead_zone_end_hour_utc:I_,t6_spread_aware_be_apply_to_ema_tier:R_})}},[y,p,S]);const I=async()=>{var j;if(!(!m||!p)){C(!0);try{const ee=p.risk,_e=p.effective_risk,we=p.execution,be=p.trade_management,at=Math.min(m.max_lots,(ee==null?void 0:ee.max_lots)??m.max_lots),gn=Math.min(m.max_spread_pips,(ee==null?void 0:ee.max_spread_pips)??m.max_spread_pips),Qt=Math.min(m.max_trades_per_day,(ee==null?void 0:ee.max_trades_per_day)??m.max_trades_per_day),ur=Math.min(m.max_open_trades,(ee==null?void 0:ee.max_open_trades)??m.max_open_trades),vt=Math.max(m.min_stop_pips,(ee==null?void 0:ee.min_stop_pips)??0),zt={..._e||{},max_lots:at,min_stop_pips:vt,max_spread_pips:gn,max_trades_per_day:Qt,max_open_trades:ur,cooldown_minutes_after_loss:Math.max(0,m.cooldown_minutes_after_loss)},Nt={...be||{},target:{...(be==null?void 0:be.target)||{},pips_default:m.target_pips}},Zi=((j=we==null?void 0:we.policies)==null?void 0:j.map(Ne=>{const $={};return"cooldown_minutes"in Ne&&($.cooldown_minutes=Math.max(0,m.policy_cooldown_minutes)),"sl_pips"in Ne&&($.sl_pips=Math.max(1,m.policy_sl_pips)),"tp_pips"in Ne&&($.tp_pips=Math.max(.1,m.target_pips)),(Ne.type==="kt_cg_hybrid"||Ne.type==="kt_cg_counter_trend_pullback")&&($.swing_level_filter_enabled=m.swing_level_filter_enabled,$.swing_danger_zone_pct=Math.max(.05,Math.min(.5,m.swing_danger_zone_pct)),$.swing_confirmation_bars=Math.max(2,Math.min(20,m.swing_confirmation_bars)),$.swing_lookback_bars=Math.max(20,Math.min(500,m.swing_lookback_bars))),Ne.type==="kt_cg_trial_4"&&($.rolling_danger_zone_enabled=m.rolling_danger_zone_enabled,$.rolling_danger_lookback_bars=Math.max(20,Math.min(1500,m.rolling_danger_lookback_bars)),$.rolling_danger_zone_pct=Math.max(.05,Math.min(.5,m.rolling_danger_zone_pct)),$.rsi_divergence_enabled=m.rsi_divergence_enabled,$.rsi_divergence_period=Math.max(5,Math.min(50,m.rsi_divergence_period)),$.rsi_divergence_lookback_bars=Math.max(20,Math.min(1500,m.rsi_divergence_lookback_bars)),$.rsi_divergence_block_minutes=Math.max(1,Math.min(30,m.rsi_divergence_block_minutes)),$.ema_zone_filter_enabled=m.ema_zone_filter_enabled,$.ema_zone_filter_lookback_bars=Math.max(2,Math.min(10,m.ema_zone_filter_lookback_bars)),$.ema_zone_filter_block_threshold=Math.max(.1,Math.min(.8,m.ema_zone_filter_block_threshold)),$.tiered_atr_filter_enabled=m.tiered_atr_filter_enabled,$.tiered_atr_block_below_pips=m.tiered_atr_block_below_pips,$.tiered_atr_allow_all_max_pips=m.tiered_atr_allow_all_max_pips,$.tiered_atr_pullback_only_max_pips=m.tiered_atr_pullback_only_max_pips,$.daily_hl_filter_enabled=m.daily_hl_filter_enabled,$.daily_hl_buffer_pips=m.daily_hl_buffer_pips,$.spread_aware_be_enabled=m.spread_aware_be_enabled,$.spread_aware_be_trigger_mode=m.spread_aware_be_trigger_mode,$.spread_aware_be_fixed_trigger_pips=m.spread_aware_be_fixed_trigger_pips,$.spread_aware_be_spread_buffer_pips=m.spread_aware_be_spread_buffer_pips,$.spread_aware_be_apply_to_zone_entry=m.spread_aware_be_apply_to_zone_entry,$.spread_aware_be_apply_to_tiered_pullback=m.spread_aware_be_apply_to_tiered_pullback,$.zone_entry_enabled=m.zone_entry_enabled,$.tier_ema_periods=m.tier_ema_periods),Ne.type==="kt_cg_trial_5"&&($.ema_zone_filter_enabled=m.ema_zone_filter_enabled,$.ema_zone_filter_lookback_bars=Math.max(2,Math.min(10,m.ema_zone_filter_lookback_bars)),$.ema_zone_filter_block_threshold=Math.max(.1,Math.min(.8,m.ema_zone_filter_block_threshold)),$.daily_reset_block_enabled=m.daily_reset_block_enabled,$.m1_atr_max_pips=Math.max(0,m.m1_atr_max_pips),$.m1_atr_tokyo_max_pips=Math.max(0,m.m1_atr_tokyo_max_pips),$.m1_atr_london_max_pips=Math.max(0,m.m1_atr_london_max_pips),$.m1_atr_ny_max_pips=Math.max(0,m.m1_atr_ny_max_pips),$.daily_hl_filter_enabled=m.daily_hl_filter_enabled,$.daily_hl_buffer_pips=m.daily_hl_buffer_pips,$.spread_aware_be_enabled=m.spread_aware_be_enabled,$.spread_aware_be_trigger_mode=m.spread_aware_be_trigger_mode,$.spread_aware_be_fixed_trigger_pips=m.spread_aware_be_fixed_trigger_pips,$.spread_aware_be_spread_buffer_pips=m.spread_aware_be_spread_buffer_pips,$.spread_aware_be_apply_to_zone_entry=m.spread_aware_be_apply_to_zone_entry,$.spread_aware_be_apply_to_tiered_pullback=m.spread_aware_be_apply_to_tiered_pullback,$.zone_entry_enabled=m.zone_entry_enabled,$.tier_ema_periods=m.tier_ema_periods,$.m1_atr_filter_enabled=m.m1_atr_filter_enabled,$.m1_atr_period=Math.max(1,Math.min(50,m.m1_atr_period)),$.m1_atr_min_pips=Math.max(0,m.m1_atr_min_pips),$.session_dynamic_atr_enabled=m.session_dynamic_atr_enabled,$.auto_session_detection_enabled=m.auto_session_detection_enabled,$.m1_atr_tokyo_min_pips=Math.max(0,m.m1_atr_tokyo_min_pips),$.m1_atr_london_min_pips=Math.max(0,m.m1_atr_london_min_pips),$.m1_atr_ny_min_pips=Math.max(0,m.m1_atr_ny_min_pips),$.m3_atr_filter_enabled=m.m3_atr_filter_enabled,$.m3_atr_period=Math.max(1,Math.min(50,m.m3_atr_period)),$.m3_atr_min_pips=Math.max(0,m.m3_atr_min_pips),$.m3_atr_max_pips=Math.max(0,m.m3_atr_max_pips),$.ema_zone_filter_spread_weight=m.ema_zone_filter_spread_weight,$.ema_zone_filter_slope_weight=m.ema_zone_filter_slope_weight,$.ema_zone_filter_direction_weight=m.ema_zone_filter_direction_weight,$.ema_zone_filter_spread_min_pips=m.ema_zone_filter_spread_min_pips,$.ema_zone_filter_spread_max_pips=m.ema_zone_filter_spread_max_pips,$.ema_zone_filter_slope_min_pips=m.ema_zone_filter_slope_min_pips,$.ema_zone_filter_slope_max_pips=m.ema_zone_filter_slope_max_pips,$.ema_zone_filter_dir_min_pips=m.ema_zone_filter_dir_min_pips,$.ema_zone_filter_dir_max_pips=m.ema_zone_filter_dir_max_pips,$.trend_exhaustion_enabled=m.trend_exhaustion_enabled,$.trend_exhaustion_fresh_max=m.trend_exhaustion_fresh_max,$.trend_exhaustion_mature_max=m.trend_exhaustion_mature_max,$.trend_exhaustion_extended_max=m.trend_exhaustion_extended_max,$.trend_exhaustion_ramp_minutes=Math.max(1,Math.min(60,m.trend_exhaustion_ramp_minutes??12)),$.max_open_trades_per_side=Math.max(1,Math.min(20,m.max_open_trades_per_side))),Ne.type==="kt_cg_trial_7"&&($.m5_trend_ema_fast=Math.max(2,m.t7_m5_trend_ema_fast),$.m5_trend_ema_slow=Math.max(3,m.t7_m5_trend_ema_slow),$.m5_min_ema_distance_pips=Math.max(0,m.t7_m5_min_ema_distance_pips),$.zone_entry_mode=m.t7_zone_entry_mode,$.zone_entry_enabled=m.zone_entry_enabled,$.tier_ema_periods=zk(m.tier_ema_periods),$.ema_zone_filter_enabled=m.ema_zone_filter_enabled,$.ema_zone_filter_lookback_bars=Math.max(1,m.ema_zone_filter_lookback_bars),$.ema_zone_filter_ema5_min_slope_pips_per_bar=Math.max(0,m.ema_zone_filter_ema5_min_slope_pips_per_bar),$.ema_zone_filter_ema9_min_slope_pips_per_bar=Math.max(0,m.ema_zone_filter_ema9_min_slope_pips_per_bar),$.ema_zone_filter_ema21_min_slope_pips_per_bar=Math.max(0,m.ema_zone_filter_ema21_min_slope_pips_per_bar),$.spread_aware_be_enabled=m.spread_aware_be_enabled,$.spread_aware_be_trigger_mode=m.spread_aware_be_trigger_mode,$.spread_aware_be_fixed_trigger_pips=m.spread_aware_be_fixed_trigger_pips,$.spread_aware_be_spread_buffer_pips=m.spread_aware_be_spread_buffer_pips,$.spread_aware_be_apply_to_zone_entry=m.spread_aware_be_apply_to_zone_entry,$.spread_aware_be_apply_to_tiered_pullback=m.spread_aware_be_apply_to_tiered_pullback,$.max_open_trades_per_side=Math.max(1,m.max_open_trades_per_side),$.max_zone_entry_open=Math.max(1,m.max_zone_entry_open),$.max_tiered_pullback_open=Math.max(1,m.max_tiered_pullback_open),$.sl_pips=Math.max(.1,m.policy_sl_pips),$.cooldown_minutes=Math.max(0,m.policy_cooldown_minutes),$.tp_pips=Math.max(.1,m.target_pips),$.trend_exhaustion_enabled=m.t7_trend_exhaustion_enabled,$.trend_exhaustion_mode=m.t7_trend_exhaustion_mode,$.trend_exhaustion_use_current_price=m.t7_trend_exhaustion_use_current_price,$.trend_exhaustion_hysteresis_pips=Math.max(0,m.t7_trend_exhaustion_hysteresis_pips),$.trend_exhaustion_p80_global=Math.max(.1,m.t7_trend_exhaustion_p80_global),$.trend_exhaustion_p90_global=Math.max(.1,m.t7_trend_exhaustion_p90_global),$.trend_exhaustion_p80_tokyo=Math.max(.1,m.t7_trend_exhaustion_p80_tokyo),$.trend_exhaustion_p90_tokyo=Math.max(.1,m.t7_trend_exhaustion_p90_tokyo),$.trend_exhaustion_p80_london=Math.max(.1,m.t7_trend_exhaustion_p80_london),$.trend_exhaustion_p90_london=Math.max(.1,m.t7_trend_exhaustion_p90_london),$.trend_exhaustion_p80_ny=Math.max(.1,m.t7_trend_exhaustion_p80_ny),$.trend_exhaustion_p90_ny=Math.max(.1,m.t7_trend_exhaustion_p90_ny),$.trend_exhaustion_p80_bull_tokyo=Math.max(.1,m.t7_trend_exhaustion_p80_bull_tokyo),$.trend_exhaustion_p90_bull_tokyo=Math.max(.1,m.t7_trend_exhaustion_p90_bull_tokyo),$.trend_exhaustion_p80_bull_london=Math.max(.1,m.t7_trend_exhaustion_p80_bull_london),$.trend_exhaustion_p90_bull_london=Math.max(.1,m.t7_trend_exhaustion_p90_bull_london),$.trend_exhaustion_p80_bull_ny=Math.max(.1,m.t7_trend_exhaustion_p80_bull_ny),$.trend_exhaustion_p90_bull_ny=Math.max(.1,m.t7_trend_exhaustion_p90_bull_ny),$.trend_exhaustion_p80_bear_tokyo=Math.max(.1,m.t7_trend_exhaustion_p80_bear_tokyo),$.trend_exhaustion_p90_bear_tokyo=Math.max(.1,m.t7_trend_exhaustion_p90_bear_tokyo),$.trend_exhaustion_p80_bear_london=Math.max(.1,m.t7_trend_exhaustion_p80_bear_london),$.trend_exhaustion_p90_bear_london=Math.max(.1,m.t7_trend_exhaustion_p90_bear_london),$.trend_exhaustion_p80_bear_ny=Math.max(.1,m.t7_trend_exhaustion_p80_bear_ny),$.trend_exhaustion_p90_bear_ny=Math.max(.1,m.t7_trend_exhaustion_p90_bear_ny),$.trend_exhaustion_extended_disable_zone_entry=m.t7_trend_exhaustion_extended_disable_zone_entry,$.trend_exhaustion_very_extended_disable_zone_entry=m.t7_trend_exhaustion_very_extended_disable_zone_entry,$.trend_exhaustion_extended_min_tier_period=Math.max(1,m.t7_trend_exhaustion_extended_min_tier_period),$.trend_exhaustion_very_extended_min_tier_period=Math.max(1,m.t7_trend_exhaustion_very_extended_min_tier_period),$.trend_exhaustion_very_extended_tighten_caps=m.t7_trend_exhaustion_very_extended_tighten_caps,$.trend_exhaustion_very_extended_cap_multiplier=Math.max(.05,m.t7_trend_exhaustion_very_extended_cap_multiplier),$.trend_exhaustion_very_extended_cap_min=Math.max(1,m.t7_trend_exhaustion_very_extended_cap_min)),Ne.type==="kt_cg_trial_6"&&($.m3_slope_lookback=Math.max(1,Math.min(10,m.t6_m3_slope_lookback)),$.m3_bb_period=Math.max(5,Math.min(50,m.t6_m3_bb_period)),$.m3_bb_std=Math.max(.5,Math.min(4,m.t6_m3_bb_std)),$.m1_bb_period=Math.max(5,Math.min(50,m.t6_m1_bb_period)),$.m1_bb_std=Math.max(.5,Math.min(4,m.t6_m1_bb_std)),$.ema_tier_enabled=m.t6_ema_tier_enabled,$.tier_ema_periods=m.t6_tier_ema_periods,$.ema_tier_tp_pips=Math.max(.1,m.t6_ema_tier_tp_pips),$.dead_zone_enabled=m.t6_dead_zone_enabled,$.dead_zone_start_hour_utc=Math.max(0,Math.min(23,m.t6_dead_zone_start_hour_utc)),$.dead_zone_end_hour_utc=Math.max(0,Math.min(23,m.t6_dead_zone_end_hour_utc)),$.spread_aware_be_enabled=m.spread_aware_be_enabled,$.spread_aware_be_trigger_mode="spread_relative",$.spread_aware_be_fixed_trigger_pips=m.spread_aware_be_fixed_trigger_pips,$.spread_aware_be_spread_buffer_pips=m.spread_aware_be_spread_buffer_pips,$.spread_aware_be_apply_to_ema_tier=m.t6_spread_aware_be_apply_to_ema_tier,$.max_open_trades_per_side=Math.max(1,m.max_open_trades_per_side)),Object.keys($).length>0?{...Ne,...$}:Ne}))||[],pu={...we||{},loop_poll_seconds:Math.max(.25,m.loop_poll_seconds),policies:Zi};let pi=p.active_preset_name||"";pi.includes("(customized)")||(pi=pi?`${pi} (customized)`:"custom (customized)");const mu={...p,active_preset_name:pi,effective_risk:zt,trade_management:Nt,execution:pu};await X0(t.path,mu);const uo=Zi.some(Ne=>Ne.type==="kt_cg_counter_trend_pullback"),co=Zi.some(Ne=>Ne.type==="kt_cg_trial_4"),ho=Zi.some(Ne=>Ne.type==="kt_cg_trial_5");if(uo||co||ho){const Ne={};uo&&(Ne.m5_trend_ema_fast=m.m5_trend_ema_fast,Ne.m5_trend_ema_slow=m.m5_trend_ema_slow,Ne.m1_zone_entry_ema_slow=m.m1_zone_entry_ema_slow,Ne.m1_pullback_cross_ema_slow=m.m1_pullback_cross_ema_slow),(co||ho)&&(Ne.m3_trend_ema_fast=m.m3_trend_ema_fast,Ne.m3_trend_ema_slow=m.m3_trend_ema_slow,Ne.m1_t4_zone_entry_ema_fast=m.m1_t4_zone_entry_ema_fast,Ne.m1_t4_zone_entry_ema_slow=m.m1_t4_zone_entry_ema_slow),await Aq(t.name,Ne)}f("Temporary settings applied successfully!"),await E(),setTimeout(()=>f(null),3e3)}catch(ee){f(`Error: ${ee.message}`)}finally{C(!1)}}},D=async()=>{if(!(!n||n==="custom")){d(!0);try{const j=n==="vwap_trend"?{vwap_session_filter_enabled:x}:void 0;await Cq(n,t.path,j),f(`Preset "${n}" applied successfully!`),E(),setTimeout(()=>f(null),3e3)}catch(j){f(`Error: ${j.message}`)}finally{d(!1)}}},z=(j,ee)=>{ee.stopPropagation(),a(s===j?null:j)},X=e.find(j=>j.id===n),Z=p==null?void 0:p.active_preset_name,H=p==null?void 0:p.risk,oe=p==null?void 0:p.effective_risk,O=p==null?void 0:p.execution;return l.jsxs("div",{children:[l.jsx("h2",{className:"page-title",children:"Presets"}),l.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:'Select a preset to preview changes, then apply to your profile. Click "Pros & Cons" to see details.'}),Z&&l.jsxs("div",{className:"card mb-4",style:{borderColor:"var(--accent)",borderWidth:2,background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, var(--bg-secondary) 100%)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:4},children:"ACTIVE PRESET"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--accent)"},children:Z})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"btn btn-secondary",onClick:()=>_(!y),style:{fontSize:"0.8rem"},children:y?"Hide Settings":"View Settings"}),y&&l.jsx("button",{className:"btn btn-primary",onClick:I,disabled:P||!m,style:{fontSize:"0.8rem"},children:P?"Applying...":"Apply Temporary Settings"})]})]}),y&&H&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[oe&&l.jsx("div",{style:{marginBottom:12,fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Effective (used when running): preset risk capped by Profile Editor limits."}),S&&l.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--bg-tertiary)",borderRadius:6,border:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--success)",marginBottom:8,fontWeight:600},children:" Current Temporary Overrides Saved:"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:8,fontSize:"0.75rem"},children:[S.m5_trend_ema_fast&&l.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #3: M5 Trend EMA: ",S.m5_trend_ema_fast,"/",S.m5_trend_ema_slow]}),S.m1_zone_entry_ema_slow&&l.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #3: M1 Zone EMA: 9/",S.m1_zone_entry_ema_slow]}),S.m1_pullback_cross_ema_slow&&l.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #3: M1 Pullback EMA: 9/",S.m1_pullback_cross_ema_slow]}),S.m3_trend_ema_fast&&l.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #4: M3 Trend EMA: ",S.m3_trend_ema_fast,"/",S.m3_trend_ema_slow]}),S.m1_t4_zone_entry_ema_fast&&l.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Trial #4: M1 Zone EMA: ",S.m1_t4_zone_entry_ema_fast,"/",S.m1_t4_zone_entry_ema_slow]})]}),!S.m5_trend_ema_fast&&!S.m3_trend_ema_fast&&l.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"(No temp overrides currently saved)"})]}),m&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:[l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Lots (effective)"}),l.jsx("input",{type:"number",step:"0.01",min:"0.01",value:m.max_lots,onChange:j=>w({...m,max_lots:parseFloat(j.target.value)||.01}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Max: ",H.max_lots]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Min Stop Pips"}),l.jsx("input",{type:"number",step:"0.5",min:"0",value:m.min_stop_pips,onChange:j=>w({...m,min_stop_pips:parseFloat(j.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Floor: ",H.min_stop_pips]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Spread (pips)"}),l.jsx("input",{type:"number",step:"0.1",min:"0.1",value:m.max_spread_pips,onChange:j=>w({...m,max_spread_pips:parseFloat(j.target.value)||.1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Max: ",H.max_spread_pips]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Trades/Day"}),l.jsx("input",{type:"number",step:"1",min:"1",value:m.max_trades_per_day,onChange:j=>w({...m,max_trades_per_day:parseInt(j.target.value)||1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Max: ",H.max_trades_per_day]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Open Trades"}),l.jsx("input",{type:"number",step:"1",min:"1",value:m.max_open_trades,onChange:j=>w({...m,max_open_trades:parseInt(j.target.value)||1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Max: ",H.max_open_trades]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Cooldown After Loss (min)"}),l.jsx("input",{type:"number",step:"1",min:"0",value:m.cooldown_minutes_after_loss,onChange:j=>w({...m,cooldown_minutes_after_loss:parseInt(j.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Target Pips"}),l.jsx("input",{type:"number",step:"0.1",min:"0.1",value:m.target_pips,onChange:j=>w({...m,target_pips:parseFloat(j.target.value)||.1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Stop Loss Pips"}),l.jsx("input",{type:"number",step:"1",min:"1",max:"500",value:m.policy_sl_pips,onChange:j=>w({...m,policy_sl_pips:parseFloat(j.target.value)||20}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:["Must be  Min Stop Pips (",m.min_stop_pips,")"]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Poll Interval (s)"}),l.jsx("input",{type:"number",step:"0.25",min:"0.25",value:m.loop_poll_seconds,onChange:j=>w({...m,loop_poll_seconds:parseFloat(j.target.value)||.25}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),!((R=O==null?void 0:O.policies)!=null&&R.some(j=>j.type==="kt_cg_trial_5"))&&l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Cooldown After Trade (min)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",value:m.policy_cooldown_minutes,onChange:j=>w({...m,policy_cooldown_minutes:parseFloat(j.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),m&&((N=O==null?void 0:O.policies)==null?void 0:N.some(j=>j.type==="kt_cg_hybrid"||j.type==="kt_cg_counter_trend_pullback"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:"Swing Level Filter (blocks trades near M15 swing highs/lows)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:[l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Swing Filter Enabled"}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.swing_level_filter_enabled,onChange:j=>w({...m,swing_level_filter_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.swing_level_filter_enabled?"var(--success)":"var(--text-secondary)"},children:m.swing_level_filter_enabled?"ON":"OFF"})]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Danger Zone %"}),l.jsx("input",{type:"number",step:"0.01",min:"0.05",max:"0.50",value:m.swing_danger_zone_pct,onChange:j=>w({...m,swing_danger_zone_pct:parseFloat(j.target.value)||.15}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"0.15 = 15% of range"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Confirmation Bars"}),l.jsx("input",{type:"number",step:"1",min:"2",max:"20",value:m.swing_confirmation_bars,onChange:j=>w({...m,swing_confirmation_bars:parseInt(j.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Bars before/after swing"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Lookback Bars"}),l.jsx("input",{type:"number",step:"10",min:"20",max:"500",value:m.swing_lookback_bars,onChange:j=>w({...m,swing_lookback_bars:parseInt(j.target.value)||100}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"M15 bars to scan"})]})]})]}),m&&((L=O==null?void 0:O.policies)==null?void 0:L.some(j=>j.type==="kt_cg_trial_4"||j.type==="kt_cg_trial_5"||j.type==="kt_cg_trial_7"))&&l.jsxs(l.Fragment,{children:[((Q=O==null?void 0:O.policies)==null?void 0:Q.some(j=>j.type==="kt_cg_trial_4"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:"Rolling Danger Zone (blocks trades near M1 rolling high/low extremes)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:[l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Danger Zone Enabled"}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.rolling_danger_zone_enabled,onChange:j=>w({...m,rolling_danger_zone_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.rolling_danger_zone_enabled?"var(--success)":"var(--text-secondary)"},children:m.rolling_danger_zone_enabled?"ON":"OFF"})]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Danger Zone %"}),l.jsx("input",{type:"number",step:"0.01",min:"0.05",max:"0.50",value:m.rolling_danger_zone_pct,onChange:j=>w({...m,rolling_danger_zone_pct:parseFloat(j.target.value)||.15}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"0.15 = top/bottom 15%"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Lookback Bars"}),l.jsx("input",{type:"number",step:"10",min:"20",max:"1500",value:m.rolling_danger_lookback_bars,onChange:j=>w({...m,rolling_danger_lookback_bars:parseInt(j.target.value)||100}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"M1 bars for high/low"})]})]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["Upper zone (top ",(m.rolling_danger_zone_pct*100).toFixed(0),"%) blocks BUY  Lower zone (bottom ",(m.rolling_danger_zone_pct*100).toFixed(0),"%) blocks SELL"]}),l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"RSI Divergence Detection (M5, rolling window)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Divergence Enabled"}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.rsi_divergence_enabled,onChange:j=>w({...m,rsi_divergence_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.rsi_divergence_enabled?"var(--success)":"var(--text-secondary)"},children:m.rsi_divergence_enabled?"ON":"OFF"})]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"RSI Period"}),l.jsx("input",{type:"number",step:"1",min:"5",max:"50",value:m.rsi_divergence_period,onChange:j=>w({...m,rsi_divergence_period:parseInt(j.target.value)||14}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Default: 14"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Lookback Bars"}),l.jsx("input",{type:"number",step:"10",min:"20",max:"1500",value:m.rsi_divergence_lookback_bars,onChange:j=>w({...m,rsi_divergence_lookback_bars:parseInt(j.target.value)||50}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"M5 bars (split into ref/recent halves)"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Block Minutes"}),l.jsx("input",{type:"number",step:"0.5",min:"1",max:"30",value:m.rsi_divergence_block_minutes,onChange:j=>w({...m,rsi_divergence_block_minutes:parseFloat(j.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Duration of entry block"})]})]}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:"BULL + bearish divergence  blocks BUY  BEAR + bullish divergence  blocks SELL"})]})]}),l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:(G=O==null?void 0:O.policies)!=null&&G.some(j=>j.type==="kt_cg_trial_7")?"EMA Zone Entry Filter (Slope-Only Gate)":"EMA Zone Entry Filter (M1 EMA 9 vs 17)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.ema_zone_filter_enabled,onChange:j=>w({...m,ema_zone_filter_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.ema_zone_filter_enabled?"var(--success)":"var(--text-secondary)"},children:m.ema_zone_filter_enabled?"ON":"OFF"})]})}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Lookback Bars"}),l.jsx("input",{type:"number",step:"1",min:"1",max:"10",value:m.ema_zone_filter_lookback_bars,onChange:j=>w({...m,ema_zone_filter_lookback_bars:parseInt(j.target.value)||3}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Bars for slope calculation"})]}),!((ye=O==null?void 0:O.policies)!=null&&ye.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Block Threshold"}),l.jsx("input",{type:"number",step:"0.05",min:"0.1",max:"0.8",value:m.ema_zone_filter_block_threshold,onChange:j=>w({...m,ema_zone_filter_block_threshold:parseFloat(j.target.value)||.35}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Block if score below"})]}),((pe=O==null?void 0:O.policies)==null?void 0:pe.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"EMA5 Min Slope (p/b)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:m.ema_zone_filter_ema5_min_slope_pips_per_bar,onChange:j=>w({...m,ema_zone_filter_ema5_min_slope_pips_per_bar:parseFloat(j.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"EMA9 Min Slope (p/b)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:m.ema_zone_filter_ema9_min_slope_pips_per_bar,onChange:j=>w({...m,ema_zone_filter_ema9_min_slope_pips_per_bar:parseFloat(j.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"EMA21 Min Slope (p/b)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:m.ema_zone_filter_ema21_min_slope_pips_per_bar,onChange:j=>w({...m,ema_zone_filter_ema21_min_slope_pips_per_bar:parseFloat(j.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]})]}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:(ve=O==null?void 0:O.policies)!=null&&ve.some(j=>j.type==="kt_cg_trial_7")?"BUY requires EMA5/EMA9/EMA21 slopes above mins. SELL requires slopes below negative mins. Tiered pullback unaffected.":"Blocks zone entries during EMA compression. Tiered pullback unaffected."}),((T=O==null?void 0:O.policies)==null?void 0:T.some(j=>j.type==="kt_cg_trial_5"))&&m.ema_zone_filter_enabled&&l.jsxs("div",{style:{marginTop:12},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Weights (auto-normalize to 1.0)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:[l.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Spread"}),l.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:m.ema_zone_filter_spread_weight??.45,onChange:j=>w({...m,ema_zone_filter_spread_weight:parseFloat(j.target.value)||.45}),style:{width:"100%",padding:"3px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.8rem"}}),l.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:1},children:"EMA9-EMA17 gap"})]}),l.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Slope"}),l.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:m.ema_zone_filter_slope_weight??.4,onChange:j=>w({...m,ema_zone_filter_slope_weight:parseFloat(j.target.value)||.4}),style:{width:"100%",padding:"3px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.8rem"}}),l.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:1},children:"EMA9 direction"})]}),l.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Direction"}),l.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:m.ema_zone_filter_direction_weight??.15,onChange:j=>w({...m,ema_zone_filter_direction_weight:parseFloat(j.target.value)||.15}),style:{width:"100%",padding:"3px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.8rem"}}),l.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:1},children:"Spread change"})]})]}),l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,marginTop:12},children:"Interpolation Ranges (min/max pips)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:[l.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Spread Range"}),l.jsxs("div",{style:{display:"flex",gap:4},children:[l.jsx("input",{type:"number",step:"0.5",value:m.ema_zone_filter_spread_min_pips??0,onChange:j=>w({...m,ema_zone_filter_spread_min_pips:parseFloat(j.target.value)??0}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}}),l.jsx("input",{type:"number",step:"0.5",value:m.ema_zone_filter_spread_max_pips??4,onChange:j=>w({...m,ema_zone_filter_spread_max_pips:parseFloat(j.target.value)??4}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}})]})]}),l.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Slope Range"}),l.jsxs("div",{style:{display:"flex",gap:4},children:[l.jsx("input",{type:"number",step:"0.5",value:m.ema_zone_filter_slope_min_pips??-1,onChange:j=>w({...m,ema_zone_filter_slope_min_pips:parseFloat(j.target.value)??-1}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}}),l.jsx("input",{type:"number",step:"0.5",value:m.ema_zone_filter_slope_max_pips??3,onChange:j=>w({...m,ema_zone_filter_slope_max_pips:parseFloat(j.target.value)??3}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}})]})]}),l.jsxs("div",{style:{padding:6,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:2},children:"Direction Range"}),l.jsxs("div",{style:{display:"flex",gap:4},children:[l.jsx("input",{type:"number",step:"0.5",value:m.ema_zone_filter_dir_min_pips??-3,onChange:j=>w({...m,ema_zone_filter_dir_min_pips:parseFloat(j.target.value)??-3}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}}),l.jsx("input",{type:"number",step:"0.5",value:m.ema_zone_filter_dir_max_pips??3,onChange:j=>w({...m,ema_zone_filter_dir_max_pips:parseFloat(j.target.value)??3}),style:{flex:1,padding:"3px 4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600,fontSize:"0.75rem"}})]})]})]})]})]}),((B=O==null?void 0:O.policies)==null?void 0:B.some(j=>j.type==="kt_cg_trial_5"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Trend Extension Exhaustion (M3 EMA9/EMA21)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.trend_exhaustion_enabled??!0,onChange:j=>w({...m,trend_exhaustion_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.trend_exhaustion_enabled??!0?"var(--success)":"var(--text-secondary)"},children:m.trend_exhaustion_enabled??!0?"ON":"OFF"})]})}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Fresh Max (ATR)"}),l.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"10",value:m.trend_exhaustion_fresh_max??2,onChange:j=>w({...m,trend_exhaustion_fresh_max:parseFloat(j.target.value)||2}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"All entries allowed"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Mature Max (ATR)"}),l.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"15",value:m.trend_exhaustion_mature_max??3.5,onChange:j=>w({...m,trend_exhaustion_mature_max:parseFloat(j.target.value)||3.5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Shallowest tier + zone blocked"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Extended Max (ATR)"}),l.jsx("input",{type:"number",step:"0.5",min:"0.5",max:"20",value:m.trend_exhaustion_extended_max??5,onChange:j=>w({...m,trend_exhaustion_extended_max:parseFloat(j.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Only deep tiers (29,34)"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Ramp Minutes"}),l.jsx("input",{type:"number",step:"1",min:"1",max:"60",value:m.trend_exhaustion_ramp_minutes??12,onChange:j=>w({...m,trend_exhaustion_ramp_minutes:parseFloat(j.target.value)||12}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Mins to full exhaustion sensitivity after flip"})]})]}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:"Measures extension from M3 EMA9/21 flip as ratio of M3 ATR(14). FRESH: all entries. MATURE: blocks zone entry + shallowest tier. EXTENDED: only tiers 29,34. EXHAUSTED: blocks ALL."})]}),((ae=O==null?void 0:O.policies)==null?void 0:ae.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Trial #7 Trend Exhaustion (M5 stretch from EMA21)"}),l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6,marginBottom:10},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.t7_trend_exhaustion_enabled,onChange:j=>w({...m,t7_trend_exhaustion_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.t7_trend_exhaustion_enabled?"var(--success)":"var(--text-secondary)"},children:m.t7_trend_exhaustion_enabled?"ON":"OFF"})]})}),m.t7_trend_exhaustion_enabled&&l.jsxs("details",{style:{background:"var(--bg-tertiary)",borderRadius:8,padding:10},children:[l.jsx("summary",{style:{cursor:"pointer",fontWeight:700,color:"var(--text-primary)"},children:"Advanced Thresholds & Behavior"}),l.jsxs("div",{style:{marginTop:10,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:10},children:[l.jsxs("div",{style:{padding:8,background:"var(--bg-secondary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-secondary)",marginBottom:4},children:"Threshold Mode"}),l.jsxs("select",{value:m.t7_trend_exhaustion_mode,onChange:j=>w({...m,t7_trend_exhaustion_mode:j.target.value}),style:{width:"100%",padding:"5px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontWeight:600},children:[l.jsx("option",{value:"session_and_side",children:"Session + Side"}),l.jsx("option",{value:"session",children:"Session only"}),l.jsx("option",{value:"global",children:"Global"})]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-secondary)",borderRadius:6},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:m.t7_trend_exhaustion_use_current_price,onChange:j=>w({...m,t7_trend_exhaustion_use_current_price:j.target.checked})}),l.jsx("span",{style:{fontSize:"0.75rem"},children:"Use current poll price"})]}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"Else uses last M5 close"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-secondary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-secondary)",marginBottom:4},children:"Hysteresis (pips)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:m.t7_trend_exhaustion_hysteresis_pips,onChange:j=>w({...m,t7_trend_exhaustion_hysteresis_pips:parseFloat(j.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontWeight:600}})]})]}),l.jsx("div",{style:{marginTop:12,fontSize:"0.72rem",color:"var(--text-secondary)"},children:"Global thresholds"}),l.jsxs("div",{style:{marginTop:6,display:"grid",gridTemplateColumns:"repeat(2, minmax(110px, 1fr))",gap:8},children:[l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_global,onChange:j=>w({...m,t7_trend_exhaustion_p80_global:parseFloat(j.target.value)||12.03}),style:{padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_global,onChange:j=>w({...m,t7_trend_exhaustion_p90_global:parseFloat(j.target.value)||17.02}),style:{padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsx("div",{style:{marginTop:12,fontSize:"0.72rem",color:"var(--text-secondary)"},children:"Session thresholds (Tokyo/London/NY P80 then P90)"}),l.jsxs("div",{style:{marginTop:6,display:"grid",gridTemplateColumns:"repeat(6, minmax(85px, 1fr))",gap:6},children:[l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_tokyo,onChange:j=>w({...m,t7_trend_exhaustion_p80_tokyo:parseFloat(j.target.value)||12.67}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_tokyo,onChange:j=>w({...m,t7_trend_exhaustion_p90_tokyo:parseFloat(j.target.value)||17.63}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_london,onChange:j=>w({...m,t7_trend_exhaustion_p80_london:parseFloat(j.target.value)||11.06}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_london,onChange:j=>w({...m,t7_trend_exhaustion_p90_london:parseFloat(j.target.value)||14.41}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_ny,onChange:j=>w({...m,t7_trend_exhaustion_p80_ny:parseFloat(j.target.value)||12.66}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_ny,onChange:j=>w({...m,t7_trend_exhaustion_p90_ny:parseFloat(j.target.value)||18.83}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}})]}),l.jsx("div",{style:{marginTop:12,fontSize:"0.72rem",color:"var(--text-secondary)"},children:"Session + side thresholds (bull then bear, each Tokyo/London/NY P80,P90)"}),l.jsxs("div",{style:{marginTop:6,display:"grid",gridTemplateColumns:"repeat(6, minmax(85px, 1fr))",gap:6},children:[l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_bull_tokyo,onChange:j=>w({...m,t7_trend_exhaustion_p80_bull_tokyo:parseFloat(j.target.value)||11.85}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_bull_tokyo,onChange:j=>w({...m,t7_trend_exhaustion_p90_bull_tokyo:parseFloat(j.target.value)||15.52}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_bull_london,onChange:j=>w({...m,t7_trend_exhaustion_p80_bull_london:parseFloat(j.target.value)||10.21}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_bull_london,onChange:j=>w({...m,t7_trend_exhaustion_p90_bull_london:parseFloat(j.target.value)||12.97}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_bull_ny,onChange:j=>w({...m,t7_trend_exhaustion_p80_bull_ny:parseFloat(j.target.value)||11.21}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_bull_ny,onChange:j=>w({...m,t7_trend_exhaustion_p90_bull_ny:parseFloat(j.target.value)||15.84}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_bear_tokyo,onChange:j=>w({...m,t7_trend_exhaustion_p80_bear_tokyo:parseFloat(j.target.value)||13.44}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_bear_tokyo,onChange:j=>w({...m,t7_trend_exhaustion_p90_bear_tokyo:parseFloat(j.target.value)||19.73}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_bear_london,onChange:j=>w({...m,t7_trend_exhaustion_p80_bear_london:parseFloat(j.target.value)||12.01}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_bear_london,onChange:j=>w({...m,t7_trend_exhaustion_p90_bear_london:parseFloat(j.target.value)||17.44}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p80_bear_ny,onChange:j=>w({...m,t7_trend_exhaustion_p80_bear_ny:parseFloat(j.target.value)||13.97}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.1",value:m.t7_trend_exhaustion_p90_bear_ny,onChange:j=>w({...m,t7_trend_exhaustion_p90_bear_ny:parseFloat(j.target.value)||21.51}),style:{padding:"4px 6px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}})]}),l.jsxs("div",{style:{marginTop:12,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(170px, 1fr))",gap:8},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:m.t7_trend_exhaustion_extended_disable_zone_entry,onChange:j=>w({...m,t7_trend_exhaustion_extended_disable_zone_entry:j.target.checked})}),"Extended: block zone"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:m.t7_trend_exhaustion_very_extended_disable_zone_entry,onChange:j=>w({...m,t7_trend_exhaustion_very_extended_disable_zone_entry:j.target.checked})}),"Very Extended: block zone"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:m.t7_trend_exhaustion_very_extended_tighten_caps,onChange:j=>w({...m,t7_trend_exhaustion_very_extended_tighten_caps:j.target.checked})}),"Very Extended: tighten caps"]})]}),l.jsxs("div",{style:{marginTop:8,display:"grid",gridTemplateColumns:"repeat(4, minmax(100px, 1fr))",gap:8},children:[l.jsx("input",{type:"number",min:"1",value:m.t7_trend_exhaustion_extended_min_tier_period,onChange:j=>w({...m,t7_trend_exhaustion_extended_min_tier_period:parseInt(j.target.value)||21}),style:{padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",min:"1",value:m.t7_trend_exhaustion_very_extended_min_tier_period,onChange:j=>w({...m,t7_trend_exhaustion_very_extended_min_tier_period:parseInt(j.target.value)||29}),style:{padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",step:"0.05",min:"0.05",value:m.t7_trend_exhaustion_very_extended_cap_multiplier,onChange:j=>w({...m,t7_trend_exhaustion_very_extended_cap_multiplier:parseFloat(j.target.value)||.5}),style:{padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}}),l.jsx("input",{type:"number",min:"1",value:m.t7_trend_exhaustion_very_extended_cap_min,onChange:j=>w({...m,t7_trend_exhaustion_very_extended_cap_min:parseInt(j.target.value)||1}),style:{padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"}})]}),l.jsx("div",{style:{marginTop:6,fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Numeric row order: Extended min tier, Very-Extended min tier, Very-Extended cap multiplier, Very-Extended minimum cap."})]})]}),((W=O==null?void 0:O.policies)==null?void 0:W.some(j=>j.type==="kt_cg_trial_4"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Tiered ATR(14) Filter"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.tiered_atr_filter_enabled,onChange:j=>w({...m,tiered_atr_filter_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.tiered_atr_filter_enabled?"var(--success)":"var(--text-secondary)"},children:m.tiered_atr_filter_enabled?"ON":"OFF"})]})}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Block Below (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"20",value:m.tiered_atr_block_below_pips,onChange:j=>w({...m,tiered_atr_block_below_pips:parseFloat(j.target.value)||4}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"< this: ALL blocked"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Allow All Max (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:m.tiered_atr_allow_all_max_pips,onChange:j=>w({...m,tiered_atr_allow_all_max_pips:parseFloat(j.target.value)||12}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"< this: allow ALL"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Pullback Only Max (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"40",value:m.tiered_atr_pullback_only_max_pips,onChange:j=>w({...m,tiered_atr_pullback_only_max_pips:parseFloat(j.target.value)||15}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"< this: pullback only"})]})]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["< ",m.tiered_atr_block_below_pips,"p: block ALL ",m.tiered_atr_block_below_pips,"-",m.tiered_atr_allow_all_max_pips,"p: allow ALL ",m.tiered_atr_allow_all_max_pips,"-",m.tiered_atr_pullback_only_max_pips,"p: pullback only ","> ",m.tiered_atr_pullback_only_max_pips,"p: block ALL"]})]}),((K=O==null?void 0:O.policies)==null?void 0:K.some(j=>j.type==="kt_cg_trial_5"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Dead Zone (21:00-02:00 UTC)"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.daily_reset_block_enabled,onChange:j=>w({...m,daily_reset_block_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.daily_reset_block_enabled?"var(--success)":"var(--text-secondary)"},children:m.daily_reset_block_enabled?"ON":"OFF"})]}),l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Blocks ALL trades 21:00-02:00 UTC. Daily H/L tracked live from ticks after 02:00."})]})]}),((V=O==null?void 0:O.policies)==null?void 0:V.some(j=>j.type==="kt_cg_trial_5"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 ATR Session-Dynamic Filter (Trial #5)"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.m1_atr_filter_enabled,onChange:j=>w({...m,m1_atr_filter_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,fontSize:"0.85rem",color:m.m1_atr_filter_enabled?"var(--success)":"var(--text-secondary)"},children:m.m1_atr_filter_enabled?"ON":"OFF"})]}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"When OFF, M1 ATR min and tiered logic are skipped; only M3 ATR range (if enabled) applies."})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.session_dynamic_atr_enabled,onChange:j=>w({...m,session_dynamic_atr_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,fontSize:"0.75rem",color:m.session_dynamic_atr_enabled?"var(--success)":"var(--text-secondary)"},children:"Session Dynamic"})]})}),l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.auto_session_detection_enabled,onChange:j=>w({...m,auto_session_detection_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,fontSize:"0.75rem",color:m.auto_session_detection_enabled?"var(--success)":"var(--text-secondary)"},children:"Auto Detect"})]})})]}),m.session_dynamic_atr_enabled&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12,marginTop:12},children:[l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Tokyo Min (pips)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",value:m.m1_atr_tokyo_min_pips,onChange:j=>w({...m,m1_atr_tokyo_min_pips:parseFloat(j.target.value)||2.2}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:2},children:"00:00-09:00 UTC"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"London Min (pips)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",value:m.m1_atr_london_min_pips,onChange:j=>w({...m,m1_atr_london_min_pips:parseFloat(j.target.value)||2.5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:2},children:"07:00-16:00 UTC"})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"NY Min (pips)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",max:"20",value:m.m1_atr_ny_min_pips,onChange:j=>w({...m,m1_atr_ny_min_pips:parseFloat(j.target.value)||2.8}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",marginTop:2},children:"12:00-21:00 UTC"})]})]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["M1 ATR(",m.m1_atr_period,") must be >= min threshold (overlaps: highest) and <= max threshold (overlaps: lowest/conservative)."]}),l.jsxs("div",{style:{marginTop:12},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 ATR Max Thresholds (per session)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Tokyo Max (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:m.m1_atr_tokyo_max_pips,onChange:j=>w({...m,m1_atr_tokyo_max_pips:parseFloat(j.target.value)||8}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"London Max (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:m.m1_atr_london_max_pips,onChange:j=>w({...m,m1_atr_london_max_pips:parseFloat(j.target.value)||10}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"NY Max (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:m.m1_atr_ny_max_pips,onChange:j=>w({...m,m1_atr_ny_max_pips:parseFloat(j.target.value)||11}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]})]}),l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"M3 ATR Range Filter (Trial #5)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.m3_atr_filter_enabled,onChange:j=>w({...m,m3_atr_filter_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.m3_atr_filter_enabled?"var(--success)":"var(--text-secondary)"},children:m.m3_atr_filter_enabled?"ON":"OFF"})]})}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Min (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:m.m3_atr_min_pips,onChange:j=>w({...m,m3_atr_min_pips:parseFloat(j.target.value)||4.5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"30",value:m.m3_atr_max_pips,onChange:j=>w({...m,m3_atr_max_pips:parseFloat(j.target.value)||11}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["M3 ATR(",m.m3_atr_period,") must be between ",m.m3_atr_min_pips,"p and ",m.m3_atr_max_pips,"p. Outside range: block ALL."]})]})]}),!((M=O==null?void 0:O.policies)!=null&&M.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Daily High/Low Filter (zone entry + pullback for Trial #5)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.daily_hl_filter_enabled,onChange:j=>w({...m,daily_hl_filter_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.daily_hl_filter_enabled?"var(--success)":"var(--text-secondary)"},children:m.daily_hl_filter_enabled?"ON":"OFF"})]})}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Buffer (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"1",max:"20",value:m.daily_hl_buffer_pips,onChange:j=>w({...m,daily_hl_buffer_pips:parseFloat(j.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:2},children:"Distance from daily H/L"})]})]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:8},children:["Blocks BUY within ",m.daily_hl_buffer_pips,"p of daily high  Blocks SELL within ",m.daily_hl_buffer_pips,"p of daily low"]})]}),l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Spread-Aware Breakeven Stop Loss"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.spread_aware_be_enabled,onChange:j=>w({...m,spread_aware_be_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.spread_aware_be_enabled?"var(--success)":"var(--text-secondary)"},children:m.spread_aware_be_enabled?"ON":"OFF"})]})}),!((ne=O==null?void 0:O.policies)!=null&&ne.some(j=>j.type==="kt_cg_trial_5"))&&l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Trigger Mode"}),l.jsxs("select",{value:m.spread_aware_be_trigger_mode,onChange:j=>w({...m,spread_aware_be_trigger_mode:j.target.value}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600},children:[l.jsx("option",{value:"fixed_pips",children:"Fixed Pips"}),l.jsx("option",{value:"spread_relative",children:"Spread + Buffer"})]})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Fixed Trigger (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"1",max:"30",value:m.spread_aware_be_fixed_trigger_pips,onChange:j=>w({...m,spread_aware_be_fixed_trigger_pips:parseFloat(j.target.value)||5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Spread Buffer (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"10",value:m.spread_aware_be_spread_buffer_pips,onChange:j=>w({...m,spread_aware_be_spread_buffer_pips:parseFloat(j.target.value)||1}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),!((te=O==null?void 0:O.policies)!=null&&te.some(j=>j.type==="kt_cg_trial_5"))&&l.jsxs("div",{style:{display:"flex",gap:16,marginTop:8},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",fontSize:"0.7rem"},children:[l.jsx("input",{type:"checkbox",checked:m.spread_aware_be_apply_to_zone_entry,onChange:j=>w({...m,spread_aware_be_apply_to_zone_entry:j.target.checked}),style:{width:14,height:14,cursor:"pointer"}}),"Apply to Zone Entry"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",fontSize:"0.7rem"},children:[l.jsx("input",{type:"checkbox",checked:m.spread_aware_be_apply_to_tiered_pullback,onChange:j=>w({...m,spread_aware_be_apply_to_tiered_pullback:j.target.checked}),style:{width:14,height:14,cursor:"pointer"}}),"Apply to Tiered Pullback"]})]}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"SL = entry  current spread. Ratchets favorably (never moves back toward entry)."})]})]}),m&&((ce=O==null?void 0:O.policies)==null?void 0:ce.some(j=>j.type==="kt_cg_counter_trend_pullback"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:"EMA Override Settings (Trial #3)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:12},children:[l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M5 Trend  fast / slow EMAs (default 9 / 21)"}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"number",step:"1",min:"1",placeholder:"9",value:m.m5_trend_ema_fast??"",onChange:j=>w({...m,m5_trend_ema_fast:j.target.value?parseInt(j.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:600},children:"/"}),l.jsx("input",{type:"number",step:"1",min:"1",placeholder:"21",value:m.m5_trend_ema_slow??"",onChange:j=>w({...m,m5_trend_ema_slow:j.target.value?parseInt(j.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:["Determines trend: fast ",">"," slow = BULL"]})]}),l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 Zone Entry  slow EMA (default 13)"}),l.jsx("input",{type:"number",step:"1",min:"1",placeholder:"13",value:m.m1_zone_entry_ema_slow??"",onChange:j=>w({...m,m1_zone_entry_ema_slow:j.target.value?parseInt(j.target.value):null}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:["BUY zone when M1 EMA 9 ",">"," this EMA"]})]}),l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 Pullback Cross  slow EMA (default 15)"}),l.jsx("input",{type:"number",step:"1",min:"1",placeholder:"15",value:m.m1_pullback_cross_ema_slow??"",onChange:j=>w({...m,m1_pullback_cross_ema_slow:j.target.value?parseInt(j.target.value):null}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"Trigger when M1 EMA 9 crosses this EMA"})]})]}),l.jsx("button",{className:"btn btn-secondary mt-3",onClick:()=>w({...m,m5_trend_ema_fast:null,m5_trend_ema_slow:null,m1_zone_entry_ema_slow:null,m1_pullback_cross_ema_slow:null}),style:{fontSize:"0.8rem"},children:"Reset EMAs to Defaults"})]}),m&&((A=O==null?void 0:O.policies)==null?void 0:A.some(j=>j.type==="kt_cg_trial_4"||j.type==="kt_cg_trial_5"||j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:(se=O==null?void 0:O.policies)!=null&&se.some(j=>j.type==="kt_cg_trial_7")?"View Settings (Trial #7)":(q=O==null?void 0:O.policies)!=null&&q.some(j=>j.type==="kt_cg_trial_5")?"View Settings (Trial #5)":"EMA Override Settings (Trial #4)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:12},children:[!((J=O==null?void 0:O.policies)!=null&&J.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M3 Trend  fast / slow EMAs (default 5 / 9)"}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"number",step:"1",min:"1",placeholder:"5",value:m.m3_trend_ema_fast??"",onChange:j=>w({...m,m3_trend_ema_fast:j.target.value?parseInt(j.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:600},children:"/"}),l.jsx("input",{type:"number",step:"1",min:"1",placeholder:"9",value:m.m3_trend_ema_slow??"",onChange:j=>w({...m,m3_trend_ema_slow:j.target.value?parseInt(j.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:["M3 Trend: fast ",">"," slow = BULL"]})]}),((le=O==null?void 0:O.policies)==null?void 0:le.some(j=>j.type==="kt_cg_trial_4"))&&l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M1 Zone Entry  fast / slow EMAs (default 5 / 9)"}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"number",step:"1",min:"1",placeholder:"5",value:m.m1_t4_zone_entry_ema_fast??"",onChange:j=>w({...m,m1_t4_zone_entry_ema_fast:j.target.value?parseInt(j.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:600},children:"/"}),l.jsx("input",{type:"number",step:"1",min:"1",placeholder:"9",value:m.m1_t4_zone_entry_ema_slow??"",onChange:j=>w({...m,m1_t4_zone_entry_ema_slow:j.target.value?parseInt(j.target.value):null}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:["Zone Entry: fast ",">"," slow = BUY"]})]}),l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",marginBottom:8},children:[l.jsx("input",{type:"checkbox",checked:m.zone_entry_enabled,onChange:j=>w({...m,zone_entry_enabled:j.target.checked}),style:{width:16,height:16,cursor:"pointer"}}),l.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600},children:"Zone Entry Enabled"})]}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"When OFF, only tiered pullback entries are active (zone entry trades are blocked)."}),((ue=O==null?void 0:O.policies)==null?void 0:ue.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{marginTop:10},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:6},children:"Zone Entry Type"}),l.jsxs("select",{value:m.t7_zone_entry_mode,onChange:j=>w({...m,t7_zone_entry_mode:j.target.value}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600},children:[l.jsx("option",{value:"ema_cross",children:"EMA Cross (M1 EMA fast vs slow)"}),l.jsx("option",{value:"price_vs_ema5",children:"Price vs M1 EMA5"})]}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:6},children:m.t7_zone_entry_mode==="ema_cross"?"EMA Cross: Uses M1 EMA fast/slow relationship in M5 trend direction.":"Price vs EMA5: Uses live poll price relative to M1 EMA5 in M5 trend direction."}),!m.zone_entry_enabled&&l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--warning)",marginTop:4},children:"Inactive while Zone Entry Enabled is OFF."})]})]}),l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Tiered Pullback  Tiers 917"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[9,11,12,13,14,15,16,17].map(j=>l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",padding:"2px 6px",background:m.tier_ema_periods.includes(j)?"var(--success)":"var(--bg-secondary)",borderRadius:4,fontSize:"0.7rem",fontWeight:600,color:m.tier_ema_periods.includes(j)?"#fff":"var(--text-secondary)"},children:[l.jsx("input",{type:"checkbox",checked:m.tier_ema_periods.includes(j),onChange:ee=>{const _e=ee.target.checked?[...m.tier_ema_periods,j].sort((we,be)=>we-be):m.tier_ema_periods.filter(we=>we!==j);w({...m,tier_ema_periods:_e})},style:{width:14,height:14,cursor:"pointer"}}),"EMA ",j]},j))}),l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,marginTop:12},children:"Tiered Pullback  Tiers 1834"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34].map(j=>l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",padding:"2px 6px",background:m.tier_ema_periods.includes(j)?"var(--success)":"var(--bg-secondary)",borderRadius:4,fontSize:"0.7rem",fontWeight:600,color:m.tier_ema_periods.includes(j)?"#fff":"var(--text-secondary)"},children:[l.jsx("input",{type:"checkbox",checked:m.tier_ema_periods.includes(j),onChange:ee=>{const _e=ee.target.checked?[...m.tier_ema_periods,j].sort((we,be)=>we-be):m.tier_ema_periods.filter(we=>we!==j);w({...m,tier_ema_periods:_e})},style:{width:14,height:14,cursor:"pointer"}}),"EMA ",j]},j))}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"When price touches M1 EMA tiers, triggers entry. Each tier fires once per touch and resets when price moves away."})]}),((ge=O==null?void 0:O.policies)==null?void 0:ge.some(j=>j.type==="kt_cg_trial_5"||j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Max Open Trades Per Side"}),l.jsx("input",{type:"number",step:"1",min:"1",value:m.max_open_trades_per_side,onChange:j=>w({...m,max_open_trades_per_side:parseInt(j.target.value)||5}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"Max simultaneous open trades per direction (BUY/SELL independently). Recommended: 5."})]}),((Pe=O==null?void 0:O.policies)==null?void 0:Pe.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Max Zone Entries Open"}),l.jsx("input",{type:"number",step:"1",min:"1",value:m.max_zone_entry_open,onChange:j=>w({...m,max_zone_entry_open:parseInt(j.target.value)||3}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),((ke=O==null?void 0:O.policies)==null?void 0:ke.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"Max Tiered Pullback Open"}),l.jsx("input",{type:"number",step:"1",min:"1",value:m.max_tiered_pullback_open,onChange:j=>w({...m,max_tiered_pullback_open:parseInt(j.target.value)||8}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),((Te=O==null?void 0:O.policies)==null?void 0:Te.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M5 Trend EMAs (fast/slow)"}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"number",step:"1",min:"2",value:m.t7_m5_trend_ema_fast,onChange:j=>w({...m,t7_m5_trend_ema_fast:parseInt(j.target.value)||9}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:600},children:"/"}),l.jsx("input",{type:"number",step:"1",min:"3",value:m.t7_m5_trend_ema_slow,onChange:j=>w({...m,t7_m5_trend_ema_slow:parseInt(j.target.value)||21}),style:{flex:1,padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),((dt=O==null?void 0:O.policies)==null?void 0:dt.some(j=>j.type==="kt_cg_trial_7"))&&l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8},children:"M5 EMA9/21 Min Distance (pips)"}),l.jsx("input",{type:"number",step:"0.1",min:"0",value:m.t7_m5_min_ema_distance_pips,onChange:j=>w({...m,t7_m5_min_ema_distance_pips:parseFloat(j.target.value)||0}),style:{width:"100%",padding:"6px 10px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:4},children:"Blocks all Trial #7 entries while |EMA9-EMA21| on M5 is below this threshold."})]})]}),!((wt=O==null?void 0:O.policies)!=null&&wt.some(j=>j.type==="kt_cg_trial_7"))&&l.jsx("button",{className:"btn btn-secondary mt-3",onClick:()=>w({...m,m3_trend_ema_fast:null,m3_trend_ema_slow:null,m1_t4_zone_entry_ema_fast:null,m1_t4_zone_entry_ema_slow:null}),style:{fontSize:"0.8rem"},children:"Reset EMAs to Defaults"})]}),m&&((mt=O==null?void 0:O.policies)==null?void 0:mt.some(j=>j.type==="kt_cg_trial_6"))&&l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:12},children:"View Settings (Trial #6)"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,fontWeight:600},children:"M3 Slope Trend Engine"}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:16},children:["BULL = M3 EMA9 ",">"," EMA21. BEAR = M3 EMA9 ","<"," EMA21. NONE blocks all entries."]}),l.jsxs("div",{style:{marginTop:8,paddingTop:12,borderTop:"1px solid var(--border)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",fontWeight:600},children:"System A: EMA Tier Pullback"}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.t6_ema_tier_enabled,onChange:j=>w({...m,t6_ema_tier_enabled:j.target.checked}),style:{width:16,height:16,cursor:"pointer"}}),l.jsx("span",{style:{fontSize:"0.7rem",fontWeight:600,color:m.t6_ema_tier_enabled?"var(--success)":"var(--text-secondary)"},children:m.t6_ema_tier_enabled?"ON":"OFF"})]})]}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:8},children:[9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34].map(j=>l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",padding:"2px 6px",background:m.t6_tier_ema_periods.includes(j)?"var(--success)":"var(--bg-secondary)",borderRadius:4,fontSize:"0.7rem",fontWeight:600,color:m.t6_tier_ema_periods.includes(j)?"#fff":"var(--text-secondary)"},children:[l.jsx("input",{type:"checkbox",checked:m.t6_tier_ema_periods.includes(j),onChange:ee=>{const _e=ee.target.checked?[...m.t6_tier_ema_periods,j].sort((we,be)=>we-be):m.t6_tier_ema_periods.filter(we=>we!==j);w({...m,t6_tier_ema_periods:_e})},style:{width:14,height:14,cursor:"pointer"}}),"EMA ",j]},j))}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12,marginBottom:8},children:l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"TP (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0.1",max:"50",value:m.t6_ema_tier_tp_pips,onChange:j=>w({...m,t6_ema_tier_tp_pips:parseFloat(j.target.value)||7}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Tiers reset when price moves away by buffer."})]}),l.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid var(--border)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",fontWeight:600},children:"Dead Zone"}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.t6_dead_zone_enabled,onChange:j=>w({...m,t6_dead_zone_enabled:j.target.checked}),style:{width:16,height:16,cursor:"pointer"}}),l.jsx("span",{style:{fontSize:"0.7rem",fontWeight:600,color:m.t6_dead_zone_enabled?"var(--success)":"var(--text-secondary)"},children:m.t6_dead_zone_enabled?"ON":"OFF"})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12,marginBottom:8},children:[l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Start Hour (UTC)"}),l.jsx("input",{type:"number",step:"1",min:"0",max:"23",value:m.t6_dead_zone_start_hour_utc,onChange:j=>w({...m,t6_dead_zone_start_hour_utc:parseInt(j.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"End Hour (UTC)"}),l.jsx("input",{type:"number",step:"1",min:"0",max:"23",value:m.t6_dead_zone_end_hour_utc,onChange:j=>w({...m,t6_dead_zone_end_hour_utc:parseInt(j.target.value)||0}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Blocks all entries between start and end hours UTC. Handles midnight wrap."})]}),l.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid var(--border)"},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:8,fontWeight:600},children:"Spread-Aware Breakeven"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12,marginBottom:8},children:[l.jsx("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:m.spread_aware_be_enabled,onChange:j=>w({...m,spread_aware_be_enabled:j.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),l.jsx("span",{style:{fontWeight:600,color:m.spread_aware_be_enabled?"var(--success)":"var(--text-secondary)"},children:m.spread_aware_be_enabled?"ON":"OFF"})]})}),l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Buffer (pips)"}),l.jsx("input",{type:"number",step:"0.5",min:"0",max:"10",value:m.spread_aware_be_spread_buffer_pips,onChange:j=>w({...m,spread_aware_be_spread_buffer_pips:parseFloat(j.target.value)||1.5}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})]}),l.jsx("div",{style:{display:"flex",gap:16,marginBottom:8},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",fontSize:"0.7rem"},children:[l.jsx("input",{type:"checkbox",checked:m.t6_spread_aware_be_apply_to_ema_tier,onChange:j=>w({...m,t6_spread_aware_be_apply_to_ema_tier:j.target.checked}),style:{width:14,height:14,cursor:"pointer"}}),"Apply to EMA Tier"]})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:l.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Max Open Trades Per Side"}),l.jsx("input",{type:"number",step:"1",min:"1",value:m.max_open_trades_per_side,onChange:j=>w({...m,max_open_trades_per_side:parseInt(j.target.value)||15}),style:{width:"100%",padding:"4px 8px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontWeight:600}})]})})]})]}),((Ke=O==null?void 0:O.policies)==null?void 0:Ke.length)>0&&l.jsxs("div",{style:{marginTop:12},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Active Policies:"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:(Tt=O==null?void 0:O.policies)==null?void 0:Tt.map((j,ee)=>l.jsxs("span",{style:{padding:"4px 8px",background:"var(--bg-tertiary)",borderRadius:4,fontSize:"0.75rem",fontWeight:600},children:[j.type,": ",j.id]},ee))})]})]})]}),h&&l.jsx("div",{className:"card mb-4",style:{borderColor:"var(--success)"},children:l.jsx("p",{children:h})}),l.jsxs("div",{className:"grid-3 mb-4",children:[e.map(j=>{const ee=Z===j.id;return l.jsxs("div",{className:`preset-card ${n===j.id?"selected":""}`,onClick:()=>i(j.id),style:ee?{borderColor:"var(--success)",borderWidth:2}:{},children:[ee&&l.jsx("div",{style:{position:"absolute",top:-10,right:10,background:"var(--success)",color:"white",fontSize:"0.65rem",fontWeight:700,padding:"2px 8px",borderRadius:4},children:"ACTIVE"}),l.jsx("div",{className:"preset-name",children:j.name}),l.jsx("div",{className:"preset-description",children:j.description}),l.jsx("button",{className:"btn btn-secondary",style:{marginTop:8,fontSize:"0.75rem",padding:"4px 8px"},onClick:_e=>z(j.id,_e),children:s===j.id?"Hide":"Pros & Cons"}),s===j.id&&l.jsxs("div",{className:"proscons-dropdown",style:{marginTop:12,textAlign:"left"},children:[j.pros.length>0&&l.jsxs("div",{style:{marginBottom:8},children:[l.jsx("div",{style:{fontWeight:600,color:"var(--success)",fontSize:"0.8rem",marginBottom:4},children:"Pros"}),l.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.75rem",color:"var(--text-secondary)"},children:j.pros.map((_e,we)=>l.jsx("li",{style:{marginBottom:2},children:_e},we))})]}),j.cons.length>0&&l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,color:"var(--warning)",fontSize:"0.8rem",marginBottom:4},children:"Cons"}),l.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.75rem",color:"var(--text-secondary)"},children:j.cons.map((_e,we)=>l.jsx("li",{style:{marginBottom:2},children:_e},we))})]})]})]},j.id)}),(()=>{const j=Z==null?void 0:Z.startsWith("Custom:");return l.jsxs("div",{className:`preset-card ${n==="custom"?"selected":""}`,onClick:()=>i("custom"),style:{borderStyle:"dashed",...j?{borderColor:"var(--success)",borderWidth:2}:{}},children:[j&&l.jsx("div",{style:{position:"absolute",top:-10,right:10,background:"var(--success)",color:"white",fontSize:"0.65rem",fontWeight:700,padding:"2px 8px",borderRadius:4},children:"ACTIVE"}),l.jsx("div",{className:"preset-name",children:"Custom"}),l.jsx("div",{className:"preset-description",children:j?`Currently running: ${Z}`:"Use the wizard to create a custom configuration."})]})})()]}),n&&n!=="custom"&&o&&l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex-between mb-4",children:[l.jsxs("h3",{className:"card-title",style:{margin:0},children:["Preview: ",(X==null?void 0:X.name)||n]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[n==="vwap_trend"&&l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"var(--text-secondary)"},children:"Optional: Session Filter (London + NY)"}),l.jsxs("select",{value:x?"on":"off",onChange:j=>b(j.target.value==="on"),title:"Turn On to only allow trades during London (816 UTC) or NY (1321 UTC) sessions; Off to trade any time.",style:{padding:"6px 10px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)"},children:[l.jsx("option",{value:"on",children:"On"}),l.jsx("option",{value:"off",children:"Off"})]})]}),l.jsx("button",{className:"btn btn-primary",onClick:D,disabled:c,children:c?"Applying...":"Apply Preset"})]})]}),X&&(X.pros.length>0||X.cons.length>0)&&l.jsxs("div",{className:"grid-2 mb-4",children:[X.pros.length>0&&l.jsxs("div",{style:{padding:12,background:"rgba(16, 185, 129, 0.1)",borderRadius:6,border:"1px solid var(--success)"},children:[l.jsx("div",{style:{fontWeight:600,color:"var(--success)",marginBottom:8,fontSize:"0.85rem"},children:"Pros"}),l.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.8rem"},children:X.pros.map((j,ee)=>l.jsx("li",{style:{marginBottom:4},children:j},ee))})]}),X.cons.length>0&&l.jsxs("div",{style:{padding:12,background:"rgba(245, 158, 11, 0.1)",borderRadius:6,border:"1px solid var(--warning)"},children:[l.jsx("div",{style:{fontWeight:600,color:"var(--warning)",marginBottom:8,fontSize:"0.85rem"},children:"Cons"}),l.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.8rem"},children:X.cons.map((j,ee)=>l.jsx("li",{style:{marginBottom:4},children:j},ee))})]})]}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12,fontSize:"0.8rem"},children:"These settings will be changed when you apply:"}),l.jsx("pre",{style:{background:"var(--bg-primary)",padding:12,borderRadius:6,fontSize:"0.75rem",overflow:"auto",maxHeight:300},children:JSON.stringify(o.changes||o,null,2)})]}),n==="custom"&&l.jsx(lZ,{profile:t,currentProfile:p,onComplete:()=>{f("Custom configuration saved!"),setTimeout(()=>f(null),3e3)}})]})}function dZ({profile:t,authStatus:e,onAuthChange:r}){const[n,i]=v.useState(null),[s,a]=v.useState(!1),[o,u]=v.useState(null),[c,d]=v.useState(null),[h,f]=v.useState(0),[p,g]=v.useState(null),[y,_]=v.useState(""),[x,b]=v.useState(""),[S,k]=v.useState(""),[m,w]=v.useState(null),[P,C]=v.useState(!1),E=e[t.path]||!1,I=()=>{g(null),_(""),b(""),k(""),w(null)},D=async()=>{if(!x||x.length<4){w("Password must be at least 4 characters");return}if(x!==S){w("Passwords do not match");return}C(!0),w(null);try{await tg(t.path,null,x),r(),I(),u("Password set successfully!"),setTimeout(()=>u(null),3e3)}catch(N){w(N.message)}finally{C(!1)}},z=async()=>{if(!y){w("Enter current password");return}if(!x||x.length<4){w("New password must be at least 4 characters");return}if(x!==S){w("New passwords do not match");return}C(!0),w(null);try{await tg(t.path,y,x),r(),I(),u("Password changed successfully!"),setTimeout(()=>u(null),3e3)}catch(N){w(N.message)}finally{C(!1)}},X=async()=>{if(!y){w("Enter current password");return}C(!0),w(null);try{await kq(t.path,y),r(),I(),u("Password removed. Profile is now non-secure."),setTimeout(()=>u(null),3e3)}catch(N){w(N.message)}finally{C(!1)}};v.useEffect(()=>{i(null),d(null),tz(t.path).then(N=>{i(N),d(null)}).catch(N=>{d(N.message),i(null)})},[t.path,h]);const Z=async()=>{if(n){a(!0),u(null);try{await X0(t.path,n),u("Profile saved!"),setTimeout(()=>u(null),2e3)}catch(N){u(`Error: ${N.message}`)}finally{a(!1)}}};if(!n)return l.jsxs("div",{children:[l.jsx("h2",{className:"page-title",children:"Profile Editor"}),c?l.jsxs("div",{className:"card",style:{borderColor:"var(--danger)"},children:[l.jsxs("p",{style:{color:"var(--danger)"},children:["Failed to load profile: ",c]}),l.jsx("button",{className:"btn btn-primary",onClick:()=>f(N=>N+1),children:"Retry"})]}):l.jsx("div",{className:"card",children:"Loading profile..."})]});const H=n.risk||{},oe=n.execution||{},O=(N,L,Q)=>{i({...n,[N]:{...n[N]||{},[L]:Q}})},R=(N,L)=>{i({...n,[N]:L})};return l.jsxs("div",{children:[l.jsx("h2",{className:"page-title",children:"Profile Editor"}),o&&l.jsx("div",{className:"card mb-4",style:{borderColor:"var(--success)"},children:l.jsx("p",{children:o})}),l.jsxs("div",{className:"grid-2",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Basic Settings"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Symbol"}),l.jsx("input",{value:n.symbol||"",onChange:N=>i({...n,symbol:N.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Pip Size"}),l.jsx("input",{type:"number",step:"0.001",value:n.pip_size||.01,onChange:N=>i({...n,pip_size:parseFloat(N.target.value)})})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Account Settings"}),l.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Deposit amount and leverage ratio for your reference."}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Deposit Amount ($)"}),l.jsx("input",{type:"number",placeholder:"e.g., 100000",value:n.deposit_amount||"",onChange:N=>R("deposit_amount",N.target.value?parseFloat(N.target.value):null)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Leverage Ratio"}),l.jsxs("select",{value:n.leverage_ratio||"",onChange:N=>R("leverage_ratio",N.target.value?parseInt(N.target.value):null),children:[l.jsx("option",{value:"",children:"Select leverage..."}),l.jsx("option",{value:"50",children:"1:50"}),l.jsx("option",{value:"100",children:"1:100"}),l.jsx("option",{value:"200",children:"1:200"}),l.jsx("option",{value:"400",children:"1:400"}),l.jsx("option",{value:"500",children:"1:500"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Display Currency (Stats & Logs)"}),l.jsxs("select",{value:n.display_currency||"USD",onChange:N=>R("display_currency",N.target.value),children:[l.jsx("option",{value:"USD",children:"USD"}),l.jsx("option",{value:"JPY",children:"JPY"})]}),l.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Profits and balances will be shown in this currency. JPY uses current rate from your symbol."})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Broker Connection"}),l.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Choose MetaTrader 5 (Windows) or OANDA (works on Mac/Linux and PaaS like Railway). OANDA is available in Japan and Canada."}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Broker Type"}),l.jsxs("select",{value:n.broker_type||"mt5",onChange:N=>R("broker_type",N.target.value),children:[l.jsx("option",{value:"mt5",children:"MetaTrader 5 (MT5)"}),l.jsx("option",{value:"oanda",children:"OANDA"})]})]}),n.broker_type==="oanda"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"OANDA API Key"}),l.jsx("input",{type:"password",autoComplete:"off",placeholder:"Paste your OANDA API token",value:n.oanda_token||"",onChange:N=>R("oanda_token",N.target.value||null)}),l.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Create a token in OANDA Practice or Live account: Account  Manage API Access."})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"OANDA Account ID (optional)"}),l.jsx("input",{type:"text",placeholder:"Leave blank to use first account",value:n.oanda_account_id||"",onChange:N=>R("oanda_account_id",N.target.value||null)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"OANDA Environment"}),l.jsxs("select",{value:n.oanda_environment||"practice",onChange:N=>R("oanda_environment",N.target.value),children:[l.jsx("option",{value:"practice",children:"Practice (demo)"}),l.jsx("option",{value:"live",children:"Live"})]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Risk Settings"}),l.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16,marginTop:-8},children:"These limits are final and cannot be overridden by presets or the custom wizard."}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Lots"}),l.jsx("input",{type:"number",step:"0.01",value:H.max_lots||.1,onChange:N=>O("risk","max_lots",parseFloat(N.target.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Spread (pips)"}),l.jsx("input",{type:"number",step:"0.1",value:H.max_spread_pips||2,onChange:N=>O("risk","max_spread_pips",parseFloat(N.target.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Trades/Day"}),l.jsx("input",{type:"number",value:H.max_trades_per_day||10,onChange:N=>O("risk","max_trades_per_day",parseInt(N.target.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Open Trades"}),l.jsx("input",{type:"number",min:1,max:20,value:H.max_open_trades??2,onChange:N=>O("risk","max_open_trades",parseInt(N.target.value)||1)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Cooldown After Loss (minutes)"}),l.jsx("input",{type:"number",min:0,max:120,value:H.cooldown_minutes_after_loss??0,onChange:N=>O("risk","cooldown_minutes_after_loss",parseInt(N.target.value)||0)})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("input",{type:"checkbox",checked:H.require_stop||!1,onChange:N=>O("risk","require_stop",N.target.checked),style:{width:"auto"}}),"Require Stop Loss"]})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Min Stop Pips"}),l.jsx("input",{type:"number",step:"1",min:1,max:500,value:H.min_stop_pips??10,onChange:N=>O("risk","min_stop_pips",parseFloat(N.target.value)||10)}),l.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Minimum stop loss distance in pips. Default is 10."})]})]})]}),l.jsxs("div",{className:"card mt-4",children:[l.jsx("h3",{className:"card-title",children:"Profile Security"}),E?l.jsxs(l.Fragment,{children:[l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16},children:"This profile is protected by a password."}),l.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[l.jsx("button",{className:"btn btn-secondary",onClick:()=>g("change"),children:"Change Password"}),l.jsx("button",{className:"btn btn-danger",onClick:()=>g("remove"),children:"Remove Password"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16},children:"This profile has no password. Anyone with access to this computer can open it."}),l.jsx("button",{className:"btn btn-primary",onClick:()=>g("add"),children:"Add Password"})]})]}),p&&l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{className:"card",style:{maxWidth:400,margin:16},children:[l.jsxs("h3",{className:"card-title",children:[p==="add"&&"Add Password",p==="change"&&"Change Password",p==="remove"&&"Remove Password"]}),(p==="change"||p==="remove")&&l.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[l.jsx("label",{children:"Current Password"}),l.jsx("input",{type:"password",value:y,onChange:N=>_(N.target.value),placeholder:"Enter current password"})]}),(p==="add"||p==="change")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[l.jsx("label",{children:p==="change"?"New Password":"Password"}),l.jsx("input",{type:"password",value:x,onChange:N=>b(N.target.value),placeholder:"Min 4 characters"})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[l.jsxs("label",{children:["Confirm ",p==="change"?"New ":"","Password"]}),l.jsx("input",{type:"password",value:S,onChange:N=>k(N.target.value),placeholder:"Confirm password"})]})]}),p==="remove"&&l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12},children:"This will remove password protection. Anyone with access to this computer will be able to open this profile."}),(p==="add"||p==="change")&&l.jsx("p",{style:{fontSize:"0.75rem",color:"var(--warning)",marginBottom:12,background:"rgba(234, 179, 8, 0.1)",padding:8,borderRadius:4},children:"Write your password down in a safe location. There is no forgot-password option."}),m&&l.jsx("p",{style:{color:"var(--danger)",fontSize:"0.85rem",marginBottom:12},children:m}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:p==="remove"?"btn btn-danger":"btn btn-primary",onClick:p==="add"?D:p==="change"?z:X,disabled:P,children:P?"Processing...":p==="add"?"Set Password":p==="change"?"Change Password":"Remove Password"}),l.jsx("button",{className:"btn btn-secondary",onClick:I,disabled:P,children:"Cancel"})]})]})}),l.jsxs("div",{className:"card mt-4",children:[l.jsx("h3",{className:"card-title",children:"Execution Settings"}),l.jsxs("div",{className:"grid-2",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Loop Poll Seconds"}),l.jsx("input",{type:"number",step:"0.5",value:oe.loop_poll_seconds||5,onChange:N=>O("execution","loop_poll_seconds",parseFloat(N.target.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Fast Poll Seconds"}),l.jsx("input",{type:"number",step:"0.5",value:oe.loop_poll_seconds_fast||2,onChange:N=>O("execution","loop_poll_seconds_fast",parseFloat(N.target.value))})]})]}),l.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:8},children:["Policies: ",(oe.policies||[]).length," configured. Use the Streamlit UI or edit JSON directly for full policy management."]})]}),l.jsx("div",{className:"mt-4",children:l.jsx("button",{className:"btn btn-primary",onClick:Z,disabled:s,children:s?"Saving...":"Save Profile"})})]})}function hZ({profileName:t,profilePath:e}){const[r,n]=v.useState([]),[i,s]=v.useState("USD"),[a,o]=v.useState(!0);if(v.useEffect(()=>{o(!0),Oq(t,e,365).then(d=>{s(d.display_currency||"USD"),n(d.days.map(h=>({date:`${h.date.slice(5,7)}/${h.date.slice(8,10)}`,dailyProfit:h.daily_profit,cumProfit:h.cum_profit,tradeCount:h.trade_count})))}).catch(console.error).finally(()=>o(!1))},[t,e]),a)return l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Equity Curve"}),l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Loading chart data from broker..."})]});if(r.length<2)return l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Equity Curve"}),l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Chart will appear after 2+ trading days with closed trades."})]});const u=i,c=({active:d,payload:h,label:f})=>{if(!d||!h||!h.length)return null;const p=h.find(_=>_.dataKey==="cumProfit"),g=h.find(_=>_.dataKey==="dailyProfit"),y=h.find(_=>_.dataKey==="tradeCount");return l.jsxs("div",{style:{background:"#1a1d24",border:"1px solid #3a3d45",borderRadius:6,padding:"10px 14px",fontSize:"0.8rem",lineHeight:1.6},children:[l.jsx("div",{style:{fontWeight:600,marginBottom:4,color:"#e0e0e0"},children:f}),p&&l.jsxs("div",{style:{color:p.value>=0?"#28a745":"#dc3545"},children:["Cumulative: ",p.value>=0?"+":"",p.value.toFixed(2)," ",u]}),g&&l.jsxs("div",{style:{color:g.value>=0?"#28a745":"#dc3545"},children:["Daily P/L: ",g.value>=0?"+":"",g.value.toFixed(2)," ",u]}),y&&l.jsxs("div",{style:{color:"#4a90d9"},children:["Trades: ",y.value]})]})};return l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:16},children:"Equity Curve"}),l.jsx("div",{style:{width:"100%",height:300},children:l.jsx(Dr,{width:"100%",height:"100%",children:l.jsxs(xq,{data:r,margin:{top:5,right:10,left:10,bottom:5},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"profitGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#28a745",stopOpacity:.3}),l.jsx("stop",{offset:"100%",stopColor:"#28a745",stopOpacity:.02})]})}),l.jsx(wr,{strokeDasharray:"3 3",stroke:"#3a3d45",vertical:!1}),l.jsx(Sr,{dataKey:"date",tick:{fontSize:11,fill:"#a0a0a0"},tickLine:!1,axisLine:{stroke:"#3a3d45"}}),l.jsx(cr,{yAxisId:"left",tick:{fontSize:11,fill:"#a0a0a0"},tickLine:!1,axisLine:!1,tickFormatter:d=>`${d>=0?"+":""}${d}`}),l.jsx(cr,{yAxisId:"right",orientation:"right",tick:{fontSize:11,fill:"#4a90d9"},tickLine:!1,axisLine:!1,allowDecimals:!1}),l.jsx(Lr,{content:l.jsx(c,{})}),l.jsx(bi,{yAxisId:"left",y:0,stroke:"#3a3d45",strokeDasharray:"3 3"}),l.jsx(V0,{yAxisId:"left",type:"monotone",dataKey:"cumProfit",stroke:"#28a745",strokeWidth:2,fill:"url(#profitGradient)"}),l.jsx(tl,{yAxisId:"left",dataKey:"dailyProfit",barSize:r.length>60?4:r.length>30?8:14,fill:"#28a745",shape:d=>{const{x:h,y:f,width:p,height:g,payload:y}=d;return l.jsx("rect",{x:h,y:g<0?f+g:f,width:p,height:Math.abs(g),fill:y.dailyProfit>=0?"#28a745":"#dc3545",opacity:.7,rx:1})}}),l.jsx(fa,{yAxisId:"right",type:"monotone",dataKey:"tradeCount",stroke:"#4a90d9",strokeWidth:1.5,dot:!1,opacity:.7})]})})}),l.jsxs("div",{style:{display:"flex",gap:16,marginTop:8,fontSize:"0.7rem",color:"#a0a0a0",justifyContent:"center"},children:[l.jsxs("span",{children:[l.jsx("span",{style:{display:"inline-block",width:12,height:3,background:"#28a745",marginRight:4,verticalAlign:"middle"}}),"Cumulative P/L"]}),l.jsxs("span",{children:[l.jsx("span",{style:{display:"inline-block",width:8,height:8,background:"#28a745",marginRight:4,verticalAlign:"middle",opacity:.7}}),"Daily P/L"]}),l.jsxs("span",{children:[l.jsx("span",{style:{display:"inline-block",width:12,height:3,background:"#4a90d9",marginRight:4,verticalAlign:"middle"}}),"Trades/Day"]})]})]})}function fZ({trades:t}){if(t.length===0)return l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Session Performance"}),l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"No closed trades yet."})]});const r=[{name:"Tokyo",startHour:0,endHour:9},{name:"London",startHour:7,endHour:16},{name:"New York",startHour:12,endHour:21}].map(n=>{const i=t.filter(u=>{const c=new Date(u.entry_time_utc).getUTCHours();return c>=n.startHour&&c<n.endHour}),s=i.filter(u=>u.pips!==null&&u.pips>0).length,a=i.reduce((u,c)=>u+(c.pips||0),0),o=i.length>0?a/i.length:0;return{...n,count:i.length,winRate:i.length>0?s/i.length:0,totalPips:a,avgPips:o}});return l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:16},children:"Session Performance"}),l.jsx("div",{className:"grid-3",children:r.map(n=>l.jsxs("div",{className:"stat-box",children:[l.jsx("div",{style:{fontWeight:700,fontSize:"1rem",marginBottom:4},children:n.name}),l.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:8},children:[String(n.startHour).padStart(2,"0"),":00",String(n.endHour).padStart(2,"0"),":00 UTC"]}),l.jsxs("div",{style:{fontSize:"0.85rem"},children:[n.count," trades"]}),l.jsxs("div",{style:{fontSize:"0.85rem",color:n.winRate>=.5?"var(--success)":"var(--warning)"},children:[(n.winRate*100).toFixed(0),"% win rate"]}),l.jsxs("div",{style:{fontSize:"0.85rem",color:n.totalPips>=0?"var(--success)":"var(--danger)"},children:[n.totalPips>=0?"+":"",n.totalPips.toFixed(1)," pips"]}),l.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Avg: ",n.avgPips>=0?"+":"",n.avgPips.toFixed(2)," pips"]})]},n.name))})]})}function pZ({trades:t,displayCurrency:e="USD"}){if(t.length===0)return l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Long vs Short"}),l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"No closed trades yet."})]});const r=a=>{const o=t.filter(f=>f.side===a),u=o.filter(f=>f.pips!==null&&f.pips>0).length,c=o.reduce((f,p)=>f+(p.pips||0),0),d=o.reduce((f,p)=>f+(p.profit||0),0),h=o.length>0?c/o.length:0;return{count:o.length,winRate:o.length>0?u/o.length:0,totalPips:c,totalProfit:d,avgPips:h}},n=r("buy"),i=r("sell"),s=({label:a,stats:o,color:u})=>l.jsxs("div",{className:"stat-box",children:[l.jsx("div",{style:{fontWeight:700,fontSize:"1rem",marginBottom:8,color:u},children:a}),l.jsxs("div",{style:{fontSize:"0.85rem"},children:[o.count," trades"]}),l.jsxs("div",{style:{fontSize:"0.85rem",color:o.winRate>=.5?"var(--success)":"var(--warning)"},children:[(o.winRate*100).toFixed(0),"% win rate"]}),l.jsxs("div",{style:{fontSize:"0.85rem",color:o.totalPips>=0?"var(--success)":"var(--danger)"},children:[o.totalPips>=0?"+":"",o.totalPips.toFixed(1)," pips"]}),l.jsxs("div",{style:{fontSize:"0.85rem",color:o.totalProfit>=0?"var(--success)":"var(--danger)"},children:[o.totalProfit>=0?"+":"",o.totalProfit.toFixed(2)," ",e]}),l.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Avg: ",o.avgPips>=0?"+":"",o.avgPips.toFixed(2)," pips"]})]});return l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:16},children:"Long vs Short"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[l.jsx(s,{label:"Long (Buy)",stats:n,color:"var(--success)"}),l.jsx(s,{label:"Short (Sell)",stats:i,color:"var(--danger)"})]})]})}function mZ({trades:t}){const e=t.filter(i=>i.spread_pips!==null&&i.spread_pips!==void 0);if(e.length===0)return l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:8},children:"Spread Analysis"}),l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Spread analysis available after bot-placed trades accumulate."})]});const n=[{name:"Tight",label:"< 1.0 pip",filter:i=>i<1},{name:"Normal",label:"1.02.0 pips",filter:i=>i>=1&&i<=2},{name:"Wide",label:"> 2.0 pips",filter:i=>i>2}].map(i=>{const s=e.filter(c=>i.filter(c.spread_pips)),a=s.filter(c=>c.pips!==null&&c.pips>0).length,o=s.reduce((c,d)=>c+(d.pips||0),0),u=s.length>0?o/s.length:0;return{...i,count:s.length,winRate:s.length>0?a/s.length:0,avgPips:u}});return l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",style:{margin:0,marginBottom:16},children:"Spread Analysis"}),l.jsx("div",{className:"grid-3",children:n.map(i=>l.jsxs("div",{className:"stat-box",children:[l.jsx("div",{style:{fontWeight:700,fontSize:"1rem",marginBottom:4},children:i.name}),l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:8},children:i.label}),l.jsxs("div",{style:{fontSize:"0.85rem"},children:[i.count," trades"]}),i.count>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{fontSize:"0.85rem",color:i.winRate>=.5?"var(--success)":"var(--warning)"},children:[(i.winRate*100).toFixed(0),"% win rate"]}),l.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Avg: ",i.avgPips>=0?"+":"",i.avgPips.toFixed(2)," pips"]})]})]},i.name))})]})}function vZ({profileName:t,profilePath:e}){const[r,n]=v.useState([]),[,i]=v.useState("USD"),[s,a]=v.useState(null),[o,u]=v.useState(null),[c,d]=v.useState(!0),[h,f]=v.useState("all"),[p,g]=v.useState({mae_mfe:!1,rolling:!1,r_dist:!1,drawdown:!1,duration:!1}),[y,_]=v.useState(20),[x,b]=v.useState("trades"),[S,k]=v.useState(7);v.useEffect(()=>{d(!0),$q(t,e,365).then(M=>{const te=(Array.isArray(M==null?void 0:M.trades)?M.trades:[]).map(ce=>({...ce,exit_time_utc:typeof ce.exit_time_utc=="string"?ce.exit_time_utc:String(ce.exit_time_utc??"")}));n(te),i((M==null?void 0:M.display_currency)||"USD"),a((M==null?void 0:M.starting_balance)??null),u((M==null?void 0:M.total_profit_currency)??null)}).catch(console.error).finally(()=>d(!1))},[t,e]);const m=M=>{g(ne=>({...ne,[M]:!ne[M]}))},w=Array.isArray(r)?r:[],P=Array.from(new Set(w.map(M=>M.preset_name).filter(Boolean))),C=h==="all"?w:w.filter(M=>M.preset_name===h),E=v.useMemo(()=>C.filter(M=>M.max_adverse_pips!=null&&M.pips!=null),[C]),I=v.useMemo(()=>C.filter(M=>M.max_favorable_pips!=null&&M.pips!=null),[C]),D=v.useMemo(()=>C.filter(M=>M.r_multiple!=null),[C]),z=v.useMemo(()=>C.filter(M=>M.duration_minutes!=null&&M.pips!=null),[C]),{rValues:X,avgWinR:Z,avgLossR:H,winRateR:oe,expectancy:O}=v.useMemo(()=>{const M=D.map(J=>J.r_multiple),ne=M.filter(J=>J>0),te=M.filter(J=>J<=0),ce=ne.length>0?ne.reduce((J,le)=>J+le,0)/ne.length:0,A=te.length>0?Math.abs(te.reduce((J,le)=>J+le,0)/te.length):0,se=D.length>0?ne.length/D.length:0,q=D.length>0?se*ce-(1-se)*A:null;return{rValues:M,avgWinR:ce,avgLossR:A,winRateR:se,expectancy:q}},[D]),R=v.useMemo(()=>p.drawdown?K(C,{startingBalance:s??void 0,totalProfitCurrency:o??void 0}):{series:[],maxDdPips:0,maxDdPct:null,maxDdPctNote:null,currentDd:0,longestTrades:0,longestTime:"",recoveryFactor:null,recoveryFactorNote:null,maxDdUsd:null},[p.drawdown,C,s,o]),{avgDurWin:N,avgDurLoss:L,durRatio:Q,pipsPerHour:G}=v.useMemo(()=>{const M=z.filter(le=>(le.pips??0)>0),ne=z.filter(le=>(le.pips??0)<=0),te=M.length>0?M.reduce((le,ue)=>le+ue.duration_minutes,0)/M.length:0,ce=ne.length>0?ne.reduce((le,ue)=>le+ue.duration_minutes,0)/ne.length:0,A=ce>0?te/ce:0,se=z.reduce((le,ue)=>le+(ue.pips??0),0),q=z.reduce((le,ue)=>le+ue.duration_minutes,0)/60,J=q>0?se/q:0;return{durWinners:M,durLosers:ne,avgDurWin:te,avgDurLoss:ce,durRatio:A,totalPips:se,totalHours:q,pipsPerHour:J}},[z]),ye=v.useMemo(()=>p.rolling?W(C,y,x,S):[],[p.rolling,C,y,x,S]),pe={display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"12px 16px",background:"var(--bg-tertiary)",borderRadius:6,border:"1px solid var(--border)",marginBottom:4},ve={textAlign:"center",padding:12,background:"var(--bg-tertiary)",borderRadius:6,border:"1px solid var(--border)"},T={green:"#22c55e",red:"#ef4444",blue:"#3b82f6",orange:"#f59e0b",purple:"#a855f7"},B=M=>M<60?`${Math.round(M)}m`:M<1440?`${(M/60).toFixed(1)}h`:`${(M/1440).toFixed(1)}d`;function ae(M){let ne=0;const te=ce=>ce.exit_time_utc!=null?String(ce.exit_time_utc):"";return M.filter(ce=>ce.pips!=null).sort((ce,A)=>te(ce).localeCompare(te(A))).map((ce,A)=>(ne+=ce.pips,{idx:A+1,cumPips:Math.round(ne*100)/100,date:te(ce).slice(0,10),pips:ce.pips}))}function W(M,ne,te,ce){const A=q=>q.exit_time_utc!=null?String(q.exit_time_utc):"",se=M.filter(q=>q.pips!=null).sort((q,J)=>A(q).localeCompare(A(J)));return se.length===0?[]:se.map((q,J)=>{let le;if(te==="trades"){const ee=Math.max(0,J-ne+1);le=se.slice(ee,J+1)}else{const ee=new Date(A(se[J])||0),_e=new Date(ee.getTime()-ce*864e5);le=se.filter(we=>{const be=A(we);return be&&new Date(be)>=_e&&new Date(be)<=ee})}if(le.length===0)return null;const ue=le.filter(ee=>(ee.pips??0)>0).length,ge=Math.round(ue/le.length*1e3)/10,Pe=Math.round(le.reduce((ee,_e)=>ee+(_e.pips??0),0)/le.length*100)/100,ke=le.filter(ee=>ee.r_multiple!=null),Te=ke.length>0?Math.round(ke.reduce((ee,_e)=>ee+_e.r_multiple,0)/ke.length*100)/100:null,dt=ke.filter(ee=>ee.r_multiple>0),wt=ke.filter(ee=>ee.r_multiple<=0),mt=dt.length>0?dt.reduce((ee,_e)=>ee+_e.r_multiple,0)/dt.length:0,Ke=wt.length>0?Math.abs(wt.reduce((ee,_e)=>ee+_e.r_multiple,0)/wt.length):0,Tt=ke.length>0?dt.length/ke.length:0,j=ke.length>0?Math.round((Tt*mt-(1-Tt)*Ke)*100)/100:null;return{idx:J+1,winRate:ge,avgPips:Pe,avgR:Te,expectancy:j,date:A(se[J]).slice(0,10)}}).filter(Boolean)}function K(M,ne={}){const{startingBalance:te=null,totalProfitCurrency:ce=null}=ne,A=M.some(be=>be.profit!=null),se=te!=null&&te>0&&A,q=ae(M);if(q.length===0)return{series:[],maxDdPips:0,maxDdPct:null,maxDdPctNote:"Requires starting balance (set in Profile or broker connection)",currentDd:0,longestTrades:0,longestTime:"",recoveryFactor:null,recoveryFactorNote:null,maxDdUsd:null};let J=0,le=0,ue=0,ge="",Pe="",ke=0,Te="";const dt=q.map(be=>{be.cumPips>J?(ke>ue&&(ue=ke,ge=Te,Pe=be.date),J=be.cumPips,ke=0,Te=be.date):(ke++,ke===1&&(Te=be.date));const at=J-be.cumPips;return at>le&&(le=at),{idx:be.idx,dd:-at,date:be.date}});ke>ue&&(ue=ke,ge=Te,Pe=q[q.length-1].date);const wt=J-q[q.length-1].cumPips,mt=q[q.length-1].cumPips;let Ke=null,Tt=null,j=null,ee=null,_e=null;if(se&&ce!=null){const be=vt=>vt.exit_time_utc!=null?String(vt.exit_time_utc):"",at=M.filter(vt=>vt.profit!=null).sort((vt,zt)=>be(vt).localeCompare(be(zt)));let gn=0,Qt=te,ur=0;for(const vt of at){gn+=vt.profit;const zt=te+gn;zt>Qt&&(Qt=zt);const Nt=Qt-zt;Nt>ur&&(ur=Nt)}_e=Math.round(ur*100)/100,Ke=Qt>0?Math.round(ur/Qt*1e3)/10:null,j=ur>0&&ce>0?Math.round(ce/ur*100)/100:null,j==null&&ce!=null&&ur>0&&ce<=0&&(ee="Requires profit data (sync from broker)")}else Tt="Requires starting balance (set in Profile or broker connection)",mt<0||le<=0?ee="N/A (net pips negative or no drawdown; use profit-based view when broker connected)":j=le>0?Math.round(mt/le*100)/100:null;let we="";return ge&&Pe&&(we=`${Math.round((new Date(Pe).getTime()-new Date(ge).getTime())/864e5)}d`),{series:dt,maxDdPips:Math.round(le*100)/100,maxDdPct:Ke,maxDdPctNote:Tt,currentDd:Math.round(wt*100)/100,longestTrades:ue,longestTime:we,recoveryFactor:j,recoveryFactorNote:ee,maxDdUsd:_e}}function V(M,ne=8){if(M.length===0)return[];const te=Math.min(...M),ce=Math.max(...M);if(te===ce)return[{bin:te.toFixed(1),count:M.length,midValue:te}];const A=(ce-te)/ne,se=[];for(let q=0;q<ne;q++){const J=te+q*A,le=J+A,ue=M.filter(ge=>ge>=J&&(q===ne-1?ge<=le:ge<le)).length;se.push({bin:`${J.toFixed(1)}`,count:ue,midValue:J+A/2})}return se}if(c)return l.jsx("div",{className:"card mb-4",style:{textAlign:"center",padding:24},children:l.jsx("span",{style:{color:"var(--text-secondary)"},children:"Loading advanced analytics..."})});if(w.length===0)return null;for(const M of w)for(const[ne,te]of Object.entries(M))if(te!==null&&typeof te=="object")return console.error(`AdvancedAnalytics: trade field "${ne}" is an object:`,te),l.jsxs("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:[l.jsx("strong",{children:"Debug:"}),' Trade field "',ne,'" is an object instead of a primitive value.',l.jsx("pre",{style:{fontSize:"0.7rem",marginTop:8,overflow:"auto"},children:JSON.stringify(te,null,2)})]});return l.jsxs("div",{className:"card mb-4",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12,flexWrap:"wrap"},children:[l.jsx("h3",{className:"card-title",style:{margin:0},children:"Advanced Analytics"}),P.length>1&&l.jsxs("select",{value:h,onChange:M=>f(M.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border)",borderRadius:4,padding:"4px 8px",fontSize:"0.8rem"},children:[l.jsx("option",{value:"all",children:"All Presets"}),P.map(M=>l.jsx("option",{value:M,children:M},M))]})]}),l.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:[C.length," closed trade",C.length!==1?"s":""," analyzed"]}),l.jsxs("div",{style:pe,onClick:()=>m("mae_mfe"),children:[l.jsx("strong",{children:"MAE / MFE Analysis"}),l.jsx("span",{children:p.mae_mfe?"":""})]}),p.mae_mfe&&l.jsx("div",{style:{padding:"12px 0"},children:E.length===0?l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",padding:"0 16px"},children:"MAE/MFE tracking starts automatically for new trades. Historical trades will show N/A."}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"MAE vs P&L (pips)"}),l.jsx("div",{style:{minHeight:250,width:"100%"},children:l.jsx(Dr,{width:"100%",height:250,children:l.jsxs(tm,{margin:{top:5,right:20,bottom:20,left:10},children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{type:"number",dataKey:"mae",name:"MAE",label:{value:"Adverse Excursion (pips)",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:11}}),l.jsx(cr,{type:"number",dataKey:"pips",name:"P&L",label:{value:"P&L (pips)",angle:-90,position:"insideLeft",style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:11}}),l.jsx(Lr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"},formatter:(M,ne)=>[Number(M).toFixed(2),ne]}),l.jsx(Mc,{data:E.map(M=>({mae:Math.abs(M.max_adverse_pips),pips:M.pips,isWin:M.pips>0})),children:E.map((M,ne)=>l.jsx(ds,{fill:M.pips>0?T.green:T.red,opacity:.7},ne))})]})})})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"MFE vs P&L (pips)"}),l.jsx("div",{style:{minHeight:250,width:"100%"},children:l.jsx(Dr,{width:"100%",height:250,children:l.jsxs(tm,{margin:{top:5,right:20,bottom:20,left:10},children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{type:"number",dataKey:"mfe",name:"MFE",label:{value:"Favorable Excursion (pips)",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:11}}),l.jsx(cr,{type:"number",dataKey:"pips",name:"P&L",label:{value:"P&L (pips)",angle:-90,position:"insideLeft",style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:11}}),l.jsx(Lr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"},formatter:(M,ne)=>[Number(M).toFixed(2),ne]}),l.jsx(Mc,{data:I.map(M=>({mfe:M.max_favorable_pips,pips:M.pips,isWin:M.pips>0})),children:I.map((M,ne)=>l.jsx(ds,{fill:M.pips>0?T.green:T.red,opacity:.7},ne))})]})})})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16,marginTop:16},children:[l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Capture Ratio (Winners)"}),l.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--accent)"},children:(()=>{const M=I.filter(te=>te.pips>0&&te.max_favorable_pips>0);return M.length===0?"N/A":`${(M.reduce((te,ce)=>te+ce.pips/ce.max_favorable_pips,0)/M.length*100).toFixed(0)}%`})()}),l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Avg % of MFE captured on winning trades"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"MAE Distribution (Winners)"}),(()=>{const M=E.filter(te=>te.pips>0).map(te=>Math.abs(te.max_adverse_pips)),ne=V(M,8);return ne.length===0?l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"No data"}):l.jsx("div",{style:{minHeight:200,width:"100%"},children:l.jsx(Dr,{width:"100%",height:200,children:l.jsxs(em,{data:ne,margin:{top:5,right:20,bottom:20,left:10},children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{dataKey:"bin",tick:{fill:"var(--text-secondary)",fontSize:10},label:{value:"Adverse pips",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}}}),l.jsx(cr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(Lr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"}}),l.jsx(tl,{dataKey:"count",fill:T.blue,radius:[4,4,0,0]})]})})})})()]})]})]})}),l.jsxs("div",{style:pe,onClick:()=>m("rolling"),children:[l.jsx("strong",{children:"Rolling Performance"}),l.jsx("span",{children:p.rolling?"":""})]}),p.rolling&&l.jsxs("div",{style:{padding:"12px 0"},children:[l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Window:"}),["trades","time"].map(M=>l.jsx("button",{onClick:()=>b(M),style:{padding:"4px 10px",fontSize:"0.75rem",borderRadius:4,cursor:"pointer",background:x===M?"var(--accent)":"var(--bg-tertiary)",color:x===M?"white":"var(--text-secondary)",border:"1px solid var(--border)"},children:M==="trades"?"By Trades":"By Time"},M)),x==="trades"?[20,50,100].map(M=>l.jsxs("button",{onClick:()=>_(M),style:{padding:"4px 10px",fontSize:"0.75rem",borderRadius:4,cursor:"pointer",background:y===M?"var(--accent)":"var(--bg-tertiary)",color:y===M?"white":"var(--text-secondary)",border:"1px solid var(--border)"},children:["Last ",M]},M)):[1,7,30].map(M=>l.jsxs("button",{onClick:()=>k(M),style:{padding:"4px 10px",fontSize:"0.75rem",borderRadius:4,cursor:"pointer",background:S===M?"var(--accent)":"var(--bg-tertiary)",color:S===M?"white":"var(--text-secondary)",border:"1px solid var(--border)"},children:[M,"d"]},M))]}),(()=>{const M=ye,ne=x==="trades"?y:3;if(M.length<ne)return l.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:["Need at least ",ne," trades for rolling metrics."]});const te=C.filter(J=>J.pips!=null),ce=te.length>0?te.filter(J=>J.pips>0).length/te.length*100:50,A=te.length>0?te.reduce((J,le)=>J+le.pips,0)/te.length:0,se={top:5,right:20,bottom:5,left:10},q={background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"};return l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16,minHeight:220},children:[l.jsxs("div",{style:{minHeight:200},children:[l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Rolling Win Rate (%)"}),l.jsx(Dr,{width:"100%",height:200,children:l.jsxs(sc,{data:M,margin:se,children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(cr,{domain:[0,100],tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(Lr,{contentStyle:q}),l.jsx(bi,{y:ce,stroke:"var(--text-secondary)",strokeDasharray:"5 5"}),l.jsx(fa,{type:"monotone",dataKey:"winRate",stroke:T.blue,dot:!1,strokeWidth:2})]})})]}),l.jsxs("div",{style:{minHeight:200},children:[l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Rolling Avg Pips"}),l.jsx(Dr,{width:"100%",height:200,children:l.jsxs(sc,{data:M,margin:se,children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(cr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(Lr,{contentStyle:q}),l.jsx(bi,{y:A,stroke:"var(--text-secondary)",strokeDasharray:"5 5"}),l.jsx(bi,{y:0,stroke:"var(--border)"}),l.jsx(fa,{type:"monotone",dataKey:"avgPips",stroke:T.green,dot:!1,strokeWidth:2})]})})]}),l.jsxs("div",{style:{minHeight:200},children:[l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Rolling Expectancy (R)"}),l.jsx(Dr,{width:"100%",height:200,children:l.jsxs(sc,{data:M.filter(J=>J.expectancy!=null),margin:se,children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(cr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(Lr,{contentStyle:q}),l.jsx(bi,{y:0,stroke:"var(--border)"}),l.jsx(fa,{type:"monotone",dataKey:"expectancy",stroke:T.orange,dot:!1,strokeWidth:2})]})})]}),l.jsxs("div",{style:{minHeight:200},children:[l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Rolling Avg R"}),l.jsx(Dr,{width:"100%",height:200,children:l.jsxs(sc,{data:M.filter(J=>J.avgR!=null),margin:se,children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(cr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(Lr,{contentStyle:q}),l.jsx(bi,{y:0,stroke:"var(--border)"}),l.jsx(fa,{type:"monotone",dataKey:"avgR",stroke:T.purple,dot:!1,strokeWidth:2})]})})]})]})})()]}),l.jsxs("div",{style:pe,onClick:()=>m("r_dist"),children:[l.jsx("strong",{children:"R-Multiple Distribution"}),l.jsx("span",{children:p.r_dist?"":""})]}),p.r_dist&&l.jsx("div",{style:{padding:"12px 0"},children:D.length===0?l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"No trades with R-multiple data. Ensure trades have stop loss for R calculation."}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:16,flexWrap:"wrap"},children:[l.jsxs("div",{style:{...ve,flex:"1 1 200px"},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"System Expectancy"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:700,color:O!=null&&O>0?"var(--success)":O!=null&&O<0?"var(--danger)":"var(--text-secondary)"},children:O!=null?`${O>=0?"+":""}${O.toFixed(2)}R`:"N/A"}),l.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:4},children:[(oe*100).toFixed(0),"% x ",Z.toFixed(2),"R - ",((1-oe)*100).toFixed(0),"% x ",H.toFixed(2),"R"]}),l.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginTop:6},children:["Based on trades with stop loss (",D.length," of ",C.length," total)."]})]}),l.jsxs("div",{style:{...ve,flex:"0 1 120px"},children:[l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:4},children:"Skew"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:600,color:O!=null&&O>0?"var(--success)":"var(--warning)"},children:O!=null&&O>0&&Z>H?"Robust":"Fragile"})]})]}),l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"R-Multiple Distribution"}),(()=>{const M=V(X,10);return l.jsx("div",{style:{minHeight:250,width:"100%"},children:l.jsx(Dr,{width:"100%",height:250,children:l.jsxs(em,{data:M,margin:{top:5,right:20,bottom:20,left:10},children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{dataKey:"bin",tick:{fill:"var(--text-secondary)",fontSize:10},label:{value:"R-Multiple",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}}}),l.jsx(cr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(Lr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"}}),l.jsx(tl,{dataKey:"count",radius:[4,4,0,0],children:M.map((ne,te)=>l.jsx(ds,{fill:ne.midValue>=0?T.green:T.red},te))})]})})})})()]})}),l.jsxs("div",{style:pe,onClick:()=>m("drawdown"),children:[l.jsx("strong",{children:"Drawdown Analysis"}),l.jsx("span",{children:p.drawdown?"":""})]}),p.drawdown&&l.jsx("div",{style:{padding:"12px 0"},children:C.filter(M=>M.pips!=null).length<2?l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Need at least 2 trades for drawdown analysis."}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12,marginBottom:16},children:[l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max DD (pips)"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--danger)"},children:R.maxDdPips})]}),R.maxDdUsd!=null&&l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max DD (USD)"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--danger)"},children:R.maxDdUsd})]}),l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max DD (%)"}),R.maxDdPct!=null?l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--danger)"},children:[R.maxDdPct,"%"]}):l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:R.maxDdPctNote??""})]}),l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Current DD"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:700,color:R.currentDd>0?"var(--danger)":"var(--success)"},children:[R.currentDd," pips"]})]}),l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Longest DD"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--warning)"},children:[R.longestTrades," trades"]}),R.longestTime&&l.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:R.longestTime})]}),l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Recovery Factor"}),R.recoveryFactor!=null?l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:R.recoveryFactor>1?"var(--success)":"var(--warning)"},children:R.recoveryFactor}):l.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:R.recoveryFactorNote??"N/A"})]})]}),l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Underwater Equity Curve"}),l.jsx("div",{style:{minHeight:200,width:"100%"},children:l.jsx(Dr,{width:"100%",height:200,children:l.jsxs(gq,{data:R.series,margin:{top:5,right:20,bottom:5,left:10},children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{dataKey:"idx",tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(cr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(Lr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"},formatter:M=>[`${Number(M).toFixed(2)} pips`,"Drawdown"]}),l.jsx(bi,{y:0,stroke:"var(--border)"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"ddGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:T.red,stopOpacity:.1}),l.jsx("stop",{offset:"100%",stopColor:T.red,stopOpacity:.6})]})}),l.jsx(V0,{type:"monotone",dataKey:"dd",stroke:T.red,fill:"url(#ddGradient)",strokeWidth:1.5})]})})})]})}),l.jsxs("div",{style:pe,onClick:()=>m("duration"),children:[l.jsx("strong",{children:"Trade Duration Analysis"}),l.jsx("span",{children:p.duration?"":""})]}),p.duration&&l.jsx("div",{style:{padding:"12px 0"},children:z.length===0?l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"No trades with duration data."}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12,marginBottom:16},children:[l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Duration (W)"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--success)"},children:B(N)})]}),l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Duration (L)"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--danger)"},children:B(L)})]}),l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Duration Ratio (W/L)"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:Q<1?"var(--success)":"var(--warning)"},children:Q.toFixed(2)})]}),l.jsxs("div",{style:ve,children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Pips/Hour"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--accent)"},children:G.toFixed(2)})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Duration vs P&L"}),l.jsx("div",{style:{minHeight:250,width:"100%"},children:l.jsx(Dr,{width:"100%",height:250,children:l.jsxs(tm,{margin:{top:5,right:20,bottom:20,left:10},children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{type:"number",dataKey:"dur",name:"Duration",label:{value:"Duration (min)",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(cr,{type:"number",dataKey:"pips",name:"P&L",label:{value:"P&L (pips)",angle:-90,position:"insideLeft",style:{fill:"var(--text-secondary)",fontSize:11}},tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(Lr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"},formatter:(M,ne)=>[ne==="Duration"?B(Number(M)):Number(M).toFixed(2),ne]}),l.jsx(Mc,{data:z.map(M=>({dur:M.duration_minutes,pips:M.pips})),children:z.map((M,ne)=>l.jsx(ds,{fill:M.pips>0?T.green:T.red,opacity:.7},ne))})]})})})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,marginBottom:8},children:"Duration Distribution"}),(()=>{const M=V(z.map(ne=>ne.duration_minutes),8);return l.jsx("div",{style:{minHeight:250,width:"100%"},children:l.jsx(Dr,{width:"100%",height:250,children:l.jsxs(em,{data:M,margin:{top:5,right:20,bottom:20,left:10},children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"var(--border)"}),l.jsx(Sr,{dataKey:"bin",tick:{fill:"var(--text-secondary)",fontSize:10},label:{value:"Duration (min)",position:"bottom",offset:0,style:{fill:"var(--text-secondary)",fontSize:11}}}),l.jsx(cr,{tick:{fill:"var(--text-secondary)",fontSize:10}}),l.jsx(Lr,{contentStyle:{background:"var(--bg-secondary)",border:"1px solid var(--border)",borderRadius:6,fontSize:"0.8rem"}}),l.jsx(tl,{dataKey:"count",fill:T.blue,radius:[4,4,0,0]})]})})})})()]})]})]})})]})}function gZ({profile:t}){const[e,r]=v.useState(null),[n,i]=v.useState({}),[s,a]=v.useState([]),[o,u]=v.useState(void 0),[c,d]=v.useState([]),[h,f]=v.useState(!1),[p,g]=v.useState(null),[y,_]=v.useState(null),[x,b]=v.useState(null),[S,k]=v.useState(null),[m,w]=v.useState(null),[P,C]=v.useState(null),[E,I]=v.useState("summary"),[D,z]=v.useState(!1),[X,Z]=v.useState(null),[H,oe]=v.useState(!1),[O,R]=v.useState(50),[N,L]=v.useState({}),Q=()=>{Iq(t.name,t.path).then(r).catch(console.error),Nq(t.name).then(i).catch(console.error),q0(t.name,250,t.path).then(T=>{a(T.trades),u(T.display_currency)}).catch(console.error),zq(t.name,20).then(d).catch(console.error),Rq(t.name,t.path).then(k).catch(console.error),Dq(t.name,t.path).then(T=>C(T??null)).catch(()=>C(null)),Tf(t.name,t.path).then(T=>{const B={};for(const ae of T)B[String(ae.trade_id)]=ae;L(B)}).catch(console.error)};v.useEffect(()=>{Q()},[t.name,t.path]);const G=async()=>{f(!0),g(null);try{const T=await Lq(t.name,t.path),B=[];T.trades_updated>0&&B.push(`${T.trades_updated} trade(s) synced`),T.trades_imported&&T.trades_imported>0&&B.push(`${T.trades_imported} trade(s) imported from broker history`),T.position_ids_backfilled&&T.position_ids_backfilled>0&&B.push(`${T.position_ids_backfilled} position ID(s) backfilled`),T.profit_backfilled&&T.profit_backfilled>0&&B.push(`${T.profit_backfilled} profit(s) updated from broker`),B.length>0?(g(B.join(", ")),Q()):g("All trades up to date"),setTimeout(()=>g(null),4e3)}catch(T){g(`Sync error: ${T.message}`)}finally{f(!1)}},ye=async T=>{const B=String(T.trade_id||"");if(B){_(B);try{const ae=await sz(t.name,B,t.path);g(`Closed trade: ${ae.pips>=0?"+":""}${ae.pips.toFixed(2)} pips`),Q(),setTimeout(()=>g(null),3e3)}catch(ae){g(`Close error: ${ae.message}`)}finally{_(null),b(null)}}};v.useEffect(()=>{D&&!X&&!H&&(oe(!0),Tq(t.name,t.path,365).then(T=>Z({trades:T.trades,displayCurrency:T.display_currency||"USD"})).catch(console.error).finally(()=>oe(!1)))},[D,t.name,t.path]);const pe=Object.values(n).reduce((T,B)=>T+B,0),ve=T=>T.exit_price===null||T.exit_price===void 0;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex-between mb-4",children:[l.jsx("h2",{className:"page-title",style:{marginBottom:0,borderBottom:"none",paddingBottom:0},children:"Logs & Stats"}),l.jsx("button",{className:"btn btn-secondary",onClick:G,disabled:h,children:h?"Syncing...":"Sync from broker"})]}),p&&l.jsx("div",{className:"card mb-4",style:{borderColor:"var(--accent)"},children:l.jsx("p",{children:p})}),x&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{className:"card",style:{maxWidth:400,margin:0},children:[l.jsx("h3",{className:"card-title",children:"Confirm Close Trade"}),l.jsx("p",{style:{marginBottom:16},children:"Are you sure you want to close this trade?"}),l.jsx("div",{style:{background:"var(--bg-tertiary)",padding:12,borderRadius:6,marginBottom:16},children:l.jsxs("p",{style:{margin:0,fontSize:"0.9rem"},children:[l.jsx("strong",{children:"Side:"})," ",String(x.side||"").toUpperCase(),l.jsx("br",{}),l.jsx("strong",{children:"Entry:"})," ",typeof x.entry_price=="number"?x.entry_price.toFixed(3):"-",l.jsx("br",{}),l.jsx("strong",{children:"Size:"})," ",typeof x.size_lots=="number"?x.size_lots:"-"," lots"]})}),l.jsx("p",{style:{color:"var(--warning)",fontSize:"0.85rem",marginBottom:16},children:"This will send a close order to your broker immediately."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"btn btn-danger",onClick:()=>ye(x),disabled:y!==null,children:y?"Closing...":"Close Trade"}),l.jsx("button",{className:"btn btn-secondary",onClick:()=>b(null),disabled:y!==null,children:"Cancel"})]})]})}),l.jsxs("div",{className:"card mb-4",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:8},children:[l.jsx("h3",{className:"card-title",style:{margin:0},children:"Quick Stats"}),e&&e.source==="mt5"&&l.jsx("span",{style:{fontSize:"0.7rem",background:"var(--success)",color:"white",padding:"4px 8px",borderRadius:4,fontWeight:600},children:"FROM BROKER"})]}),l.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:4,marginBottom:16},children:e&&e.source==="mt5"?"Stats from broker deal history (same as View  Reports in MT5)":"Stats from local records. Use a broker connection (MT5 or OANDA) to see live report data."}),l.jsxs("div",{className:"grid-3",children:[l.jsxs("div",{className:"stat-box",children:[l.jsx("div",{className:"stat-value",children:(e==null?void 0:e.closed_trades)||0}),l.jsx("div",{className:"stat-label",children:"Closed Trades"}),e&&e.wins!=null&&e.losses!=null&&l.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:[l.jsxs("span",{style:{color:"var(--success)"},children:[e.wins," W"]})," / ",l.jsxs("span",{style:{color:"var(--danger)"},children:[e.losses," L"]})]})]}),l.jsxs("div",{className:"stat-box",children:[l.jsx("div",{className:"stat-value",children:(e==null?void 0:e.win_rate)!=null?`${(e.win_rate*100).toFixed(1)}%`:"-"}),l.jsx("div",{className:"stat-label",children:"Win Rate"})]}),l.jsxs("div",{className:"stat-box",children:[l.jsx("div",{className:"stat-value",children:(e==null?void 0:e.avg_pips)!=null?e.avg_pips.toFixed(3):"-"}),l.jsx("div",{className:"stat-label",children:"Avg Pips"})]})]}),e&&e.total_profit!=null||e&&(e.total_commission!=null||e.total_swap!=null)?l.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)",display:"flex",flexWrap:"wrap",gap:24},children:[e&&e.total_profit!=null&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Total Profit"}),l.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:700,color:e.total_profit>=0?"var(--success)":"var(--danger)"},children:[e.total_profit>=0?"+":"",e.total_profit.toFixed(2)," ",e.display_currency||"USD"]})]}),e&&e.total_commission!=null&&e.total_commission!==0&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Commission"}),l.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--text-secondary)"},children:[e.total_commission.toFixed(2)," ",e.display_currency||"USD"]})]}),e&&e.total_swap!=null&&e.total_swap!==0&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Swap"}),l.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--text-secondary)"},children:[e.total_swap.toFixed(2)," ",e.display_currency||"USD"]})]})]}):null,e&&e.source==="database"&&e.trades_without_profit!=null&&e.trades_without_profit>0&&l.jsx("p",{style:{marginTop:12,marginBottom:0,fontSize:"0.85rem",color:"var(--warning)"},children:"Some trades lack profit data. Sync from broker and refresh to see stats from broker report."})]}),l.jsx(hZ,{profileName:t.name,profilePath:t.path}),D?H?l.jsx("div",{className:"card mb-4",children:l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",margin:0},children:"Loading analytics..."})}):X?l.jsxs(l.Fragment,{children:[l.jsx($o,{fallback:l.jsx("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:"SessionPerformance crashed"}),children:l.jsx(fZ,{trades:X.trades})}),l.jsx($o,{fallback:l.jsx("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:"LongShortPerformance crashed"}),children:l.jsx(pZ,{trades:X.trades,displayCurrency:X.displayCurrency})}),l.jsx($o,{fallback:l.jsx("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:"SpreadPerformance crashed"}),children:l.jsx(mZ,{trades:X.trades})}),l.jsx($o,{fallback:l.jsx("div",{className:"card mb-4",style:{padding:16,color:"var(--danger)"},children:"AdvancedAnalytics crashed"}),children:l.jsx(vZ,{profileName:t.name,profilePath:t.path})})]}):null:l.jsxs("div",{className:"card mb-4",style:{textAlign:"center"},children:[l.jsx("button",{className:"btn",onClick:()=>z(!0),style:{padding:"10px 24px",fontSize:"0.9rem"},children:"Load Analytics"}),l.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginTop:8,marginBottom:0},children:"Session, Long/Short, Spread, and Advanced Analytics"})]}),P&&l.jsxs("div",{className:"card mb-4",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[l.jsx("h3",{className:"card-title",style:{margin:0},children:"Account Report"}),l.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"3px 6px",borderRadius:4,fontWeight:600},children:"FROM BROKER"})]}),l.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Balance, equity, and closed P/L from your broker (MT5 or OANDA)"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[l.jsxs("div",{onClick:()=>I(E==="summary"?null:"summary"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("strong",{children:"Summary"}),l.jsx("span",{children:E==="summary"?"":""})]}),E==="summary"&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Balance"}),l.jsx("br",{}),P.summary.balance.toFixed(2)," ",P.display_currency||"USD"]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Equity"}),l.jsx("br",{}),P.summary.equity.toFixed(2)," ",P.display_currency||"USD"]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Margin"}),l.jsx("br",{}),P.summary.margin.toFixed(2)," ",P.display_currency||"USD"]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Free Margin"}),l.jsx("br",{}),P.summary.free_margin.toFixed(2)," ",P.display_currency||"USD"]})]})]}),l.jsxs("div",{onClick:()=>I(E==="closed"?null:"closed"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("strong",{children:"Closed P/L"}),l.jsx("span",{children:E==="closed"?"":""})]}),E==="closed"&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12,fontSize:"0.9rem"},children:[l.jsxs("div",{children:["Total Profit: ",l.jsxs("span",{style:{color:P.closed_pl.total_profit>=0?"var(--success)":"var(--danger)",fontWeight:600},children:[P.closed_pl.total_profit>=0?"+":"",P.closed_pl.total_profit.toFixed(2)," ",P.display_currency||"USD"]})]}),l.jsxs("div",{children:["Commission: ",P.closed_pl.total_commission.toFixed(2)," ",P.display_currency||"USD"]}),l.jsxs("div",{children:["Swap: ",P.closed_pl.total_swap.toFixed(2)," ",P.display_currency||"USD"]}),l.jsxs("div",{children:["Gross Profit: ",l.jsxs("span",{style:{color:"var(--success)"},children:[P.closed_pl.gross_profit.toFixed(2)," ",P.display_currency||"USD"]})]}),l.jsxs("div",{children:["Gross Loss: ",l.jsxs("span",{style:{color:"var(--danger)"},children:[P.closed_pl.gross_loss.toFixed(2)," ",P.display_currency||"USD"]})]}),l.jsxs("div",{children:["Profit Factor: ",P.closed_pl.profit_factor.toFixed(2)]}),l.jsxs("div",{children:["Largest Win: ",l.jsxs("span",{style:{color:"var(--success)"},children:[P.closed_pl.largest_profit_trade.toFixed(2)," ",P.display_currency||"USD"]})]}),l.jsxs("div",{children:["Largest Loss: ",l.jsxs("span",{style:{color:"var(--danger)"},children:[P.closed_pl.largest_loss_trade.toFixed(2)," ",P.display_currency||"USD"]})]}),l.jsxs("div",{children:["Expected Payoff: ",P.closed_pl.expected_payoff.toFixed(2)," ",P.display_currency||"USD"]})]})]}),l.jsxs("div",{onClick:()=>I(E==="longshort"?null:"longshort"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("strong",{children:"Long / Short"}),l.jsx("span",{children:E==="longshort"?"":""})]}),E==="longshort"&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12},children:[l.jsxs("div",{children:["Long: ",P.long_short.long_wins,"W / ",P.long_short.long_trades-P.long_short.long_wins,"L (",(P.long_short.long_win_pct*100).toFixed(0),"% win)"]}),l.jsxs("div",{children:["Short: ",P.long_short.short_wins,"W / ",P.long_short.short_trades-P.long_short.short_wins,"L (",(P.long_short.short_win_pct*100).toFixed(0),"% win)"]})]})]})]})]}),S&&Object.keys(S.presets).length>0&&l.jsxs("div",{className:"card mb-4",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[l.jsx("h3",{className:"card-title",style:{margin:0},children:"Performance by Preset"}),S.source==="mt5"&&l.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"3px 6px",borderRadius:4,fontWeight:600},children:"FROM BROKER"})]}),l.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:16,marginTop:8,fontSize:"0.85rem"},children:["Preset names come from your local DB; win/loss and profit use broker history when available. For best accuracy, run ",l.jsx("strong",{children:"Sync from broker"})," so closed trades have position IDs, then refresh."]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:Object.entries(S.presets).sort(([,T],[,B])=>(B.total_pips||0)-(T.total_pips||0)).map(([T,B])=>{var K,V,M,ne,te,ce,A;const ae=m===T,W=((K=Object.entries(S.presets).sort(([,se],[,q])=>(q.total_pips||0)-(se.total_pips||0))[0])==null?void 0:K[0])===T;return l.jsxs("div",{style:{border:`1px solid ${W?"var(--success)":"var(--border)"}`,borderRadius:8,overflow:"hidden",background:W?"rgba(34, 197, 94, 0.05)":"var(--bg-secondary)"},children:[l.jsxs("div",{onClick:()=>w(ae?null:T),style:{padding:16,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{style:{fontWeight:600},children:T}),W&&l.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"2px 6px",borderRadius:4,fontWeight:700},children:"BEST"})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:4},children:[B.total_trades," trades | Win: ",B.win_rate!=null?`${(B.win_rate*100).toFixed(0)}%`:"-"," | Total: ",l.jsxs("span",{style:{color:(B.total_pips||0)>=0?"var(--success)":"var(--danger)"},children:[B.total_pips>=0?"+":"",((V=B.total_pips)==null?void 0:V.toFixed(1))||0," pips"]}),B.total_profit!=null&&l.jsxs(l.Fragment,{children:[" | Profit: ",l.jsxs("span",{style:{color:B.total_profit>=0?"var(--success)":"var(--danger)"},children:[B.total_profit>=0?"+":"",B.total_profit.toFixed(2)," ",S.display_currency||"USD"]})]}),B.total_commission!=null&&B.total_commission!==0&&l.jsxs(l.Fragment,{children:[" | Commission: ",B.total_commission.toFixed(2)," ",S.display_currency||"USD"]})]})]}),l.jsx("span",{style:{fontSize:"1.2rem"},children:ae?"":""})]}),ae&&l.jsx("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid var(--border)",paddingTop:16},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Trades"}),l.jsx("div",{style:{fontWeight:700},children:B.total_trades})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win / Loss"}),l.jsxs("div",{style:{fontWeight:700},children:[l.jsx("span",{style:{color:"var(--success)"},children:B.wins})," /",l.jsx("span",{style:{color:"var(--danger)"},children:B.losses})]})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win Rate"}),l.jsx("div",{style:{fontWeight:700,color:(B.win_rate||0)>=.5?"var(--success)":"var(--warning)"},children:B.win_rate!=null?`${(B.win_rate*100).toFixed(1)}%`:"-"})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Pips"}),l.jsxs("div",{style:{fontWeight:700,color:(B.total_pips||0)>=0?"var(--success)":"var(--danger)"},children:[B.total_pips>=0?"+":"",((M=B.total_pips)==null?void 0:M.toFixed(2))||0]})]}),B.total_profit!=null&&l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Profit"}),l.jsxs("div",{style:{fontWeight:700,color:B.total_profit>=0?"var(--success)":"var(--danger)"},children:[B.total_profit>=0?"+":"",B.total_profit.toFixed(2)," ",S.display_currency||"USD"]})]}),B.total_commission!=null&&B.total_commission!==0&&l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Commission"}),l.jsxs("div",{style:{fontWeight:700},children:[B.total_commission.toFixed(2)," ",S.display_currency||"USD"]})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Pips"}),l.jsx("div",{style:{fontWeight:700},children:((ne=B.avg_pips)==null?void 0:ne.toFixed(2))||"-"})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg R:R"}),l.jsx("div",{style:{fontWeight:700},children:((te=B.avg_rr)==null?void 0:te.toFixed(2))||"-"})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Best Trade"}),l.jsx("div",{style:{fontWeight:700,color:"var(--success)"},children:B.best_trade!=null?`+${B.best_trade.toFixed(1)} pips`:"-"})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Worst Trade"}),l.jsx("div",{style:{fontWeight:700,color:"var(--danger)"},children:B.worst_trade!=null?`${B.worst_trade.toFixed(1)} pips`:"-"})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win Streak"}),l.jsx("div",{style:{fontWeight:700},children:B.win_streak})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Loss Streak"}),l.jsx("div",{style:{fontWeight:700},children:B.loss_streak})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Profit Factor"}),l.jsx("div",{style:{fontWeight:700,color:(B.profit_factor||0)>=1?"var(--success)":"var(--danger)"},children:((ce=B.profit_factor)==null?void 0:ce.toFixed(2))||"-"})]}),l.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max Drawdown"}),l.jsxs("div",{style:{fontWeight:700,color:"var(--warning)"},children:[((A=B.max_drawdown)==null?void 0:A.toFixed(1))||0," pips"]})]})]})})]},T)})})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("h3",{className:"card-title",children:"Rejection Breakdown"}),Object.entries(n).length===0?l.jsx("p",{style:{color:"var(--text-secondary)"},children:"No executions yet."}):Object.entries(n).map(([T,B])=>l.jsxs("div",{className:"breakdown-bar",children:[l.jsx("span",{className:"breakdown-label",children:T}),l.jsxs("div",{className:"breakdown-value",children:[l.jsx("div",{className:"breakdown-fill",style:{width:`${B/pe*100}%`}}),l.jsx("span",{className:"breakdown-count",children:B})]})]},T))]}),l.jsxs("div",{className:"card mb-4",children:[l.jsxs("h3",{className:"card-title",children:["Recent Trades ",s.length>0&&l.jsxs("span",{style:{fontWeight:400,fontSize:"0.8rem",color:"var(--text-secondary)"},children:["(",Math.min(O,s.length),"/",s.length,")"]})]}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Time"}),l.jsx("th",{children:"Side"}),l.jsx("th",{children:"Entry"}),l.jsx("th",{children:"Exit"}),l.jsx("th",{children:"Pips"}),l.jsx("th",{children:"R"}),l.jsx("th",{children:"Profit"}),l.jsx("th",{children:"Source"}),l.jsx("th",{children:"Exit Reason"}),l.jsx("th",{children:"MFE"}),l.jsx("th",{children:"Recovery"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:s.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:10,style:{textAlign:"center",color:"var(--text-secondary)"},children:"No trades yet."})}):s.slice(0,O).map((T,B)=>{const ae=String(T.opened_by||""),W=String(T.exit_reason||""),V=(M=>{if(!M)return{text:"-",color:"inherit"};switch(M){case"hit_take_profit":return{text:"TP",color:"var(--success)"};case"hit_stop_loss":return{text:"SL",color:"var(--danger)"};case"hit_breakeven":return{text:"BE",color:"#f59e0b"};case"user_closed_early":return{text:"User",color:"var(--warning)"};case"UI_manual_close":return{text:"UI",color:"var(--accent)"};case"mt5_history_import":return{text:"Imported",color:"var(--text-secondary)"};default:return{text:M.replace(/_/g," "),color:"var(--text-secondary)"}}})(W);return l.jsxs("tr",{children:[l.jsx("td",{children:String(T.timestamp_utc||"").slice(0,19)}),l.jsx("td",{children:String(T.side||"")}),l.jsx("td",{children:typeof T.entry_price=="number"?T.entry_price.toFixed(3):"-"}),l.jsx("td",{children:typeof T.exit_price=="number"?T.exit_price.toFixed(3):"-"}),l.jsx("td",{style:{color:typeof T.pips=="number"?T.pips>=0?"var(--success)":"var(--danger)":"inherit"},children:typeof T.pips=="number"?T.pips.toFixed(2):"-"}),l.jsx("td",{children:typeof T.r_multiple=="number"?T.r_multiple.toFixed(2):"-"}),l.jsx("td",{children:ve(T)?(()=>{const M=N[String(T.trade_id)],ne=o||(e==null?void 0:e.display_currency)||"USD";if((M==null?void 0:M.unrealized_pl)!=null){const te=M.unrealized_pl,ce=M.financing;return l.jsxs(l.Fragment,{children:[l.jsxs("span",{style:{color:te>=0?"var(--success)":"var(--danger)"},children:["~",te>=0?"+":"",te.toFixed(2)," ",ne]}),ce!=null&&ce!==0&&l.jsxs("span",{style:{display:"block",fontSize:"0.7rem",color:"var(--text-secondary)"},children:["fin: ",ce>=0?"+":"",ce.toFixed(2)]})]})}return l.jsx("span",{children:"-"})})():l.jsx("span",{style:{color:typeof T.profit_display=="number"?T.profit_display>=0?"var(--success)":"var(--danger)":"inherit"},children:typeof T.profit_display=="number"?`${T.profit_display>=0?"+":""}${T.profit_display.toFixed(2)} ${o||(e==null?void 0:e.display_currency)||"USD"}`:"-"})}),l.jsx("td",{children:l.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 6px",borderRadius:4,background:ae==="program"?"rgba(59, 130, 246, 0.2)":"rgba(156, 163, 175, 0.2)",color:ae==="program"?"var(--accent)":"var(--text-secondary)"},children:ae==="program"?"Bot":ae==="manual"?"Manual":"-"})}),l.jsx("td",{children:l.jsx("span",{style:{fontSize:"0.75rem",color:V.color},children:V.text})}),l.jsx("td",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:typeof T.max_favorable_pips=="number"?T.max_favorable_pips.toFixed(1):""}),l.jsx("td",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:typeof T.post_sl_recovery_pips=="number"?T.post_sl_recovery_pips.toFixed(1):""}),l.jsx("td",{children:ve(T)&&(T.mt5_order_id||T.mt5_position_id)?l.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"0.75rem"},onClick:()=>b(T),disabled:y===String(T.trade_id),children:"Close"}):ve(T)?l.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"No position ID"}):l.jsx("span",{style:{color:"var(--success)",fontSize:"0.75rem"},children:"Closed"})})]},B)})})]})}),s.length>O&&l.jsx("div",{style:{textAlign:"center",marginTop:12},children:l.jsxs("button",{className:"btn",onClick:()=>R(T=>T+50),style:{padding:"6px 16px",fontSize:"0.8rem"},children:["Load more (",s.length-O," remaining)"]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"card-title",children:"Recent Executions"}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Time"}),l.jsx("th",{children:"Mode"}),l.jsx("th",{children:"Placed"}),l.jsx("th",{children:"Reason"})]})}),l.jsx("tbody",{children:c.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,style:{textAlign:"center",color:"var(--text-secondary)"},children:"No executions yet."})}):c.map((T,B)=>l.jsxs("tr",{children:[l.jsx("td",{children:String(T.timestamp_utc||"").slice(0,19)}),l.jsx("td",{children:String(T.mode||"")}),l.jsx("td",{children:T.placed?"Yes":"No"}),l.jsx("td",{style:{maxWidth:300,overflow:"hidden",textOverflow:"ellipsis"},children:String(T.reason||"")})]},B))})]})})]})]})}function yZ(){const[t,e]=v.useState("quickstart"),r=i=>{e(t===i?null:i)},n=({id:i,title:s,icon:a,children:o})=>l.jsxs("div",{className:"card mb-4",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>r(i),children:[l.jsxs("h3",{className:"card-title",style:{margin:0,display:"flex",alignItems:"center",gap:12},children:[l.jsx("span",{style:{fontSize:"1.3rem"},children:a}),s]}),l.jsx("span",{style:{color:"var(--accent)",fontSize:"1.2rem"},children:t===i?"":"+"})]}),t===i&&l.jsx("div",{style:{marginTop:16},children:o})]});return l.jsxs("div",{children:[l.jsx("h2",{className:"page-title",children:"Help / Guide"}),l.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:24},children:"Welcome to the USDJPY Trading Assistant! This guide will help you get started and understand how to use the bot effectively."}),l.jsxs(n,{id:"quickstart",title:"Quick Start (5 Steps)",icon:"",children:[l.jsx("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8,marginBottom:16},children:l.jsxs("ol",{style:{margin:0,paddingLeft:24,lineHeight:2.2},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Select or create an account"})," using the sidebar dropdown. Each account has its own settings and trade history."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Go to Presets"})," and pick a preset that matches your style (start with ",l.jsx("em",{children:"Conservative Scalping"})," if unsure), then click ",l.jsx("strong",{children:"Apply Preset"}),"."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Go to Run / Status"}),", set the mode to ",l.jsx("strong",{children:"ARMED_AUTO_DEMO"}),", then click ",l.jsx("strong",{children:"Start Loop"}),"."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Watch the log"})," - the bot will show heartbeats every few seconds and log its trading decisions."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Check Logs & Stats"})," to see your trades, win rate, and performance metrics."]})]})}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:[l.jsx("strong",{children:"Tip:"})," The bot only trades on demo accounts for safety. For MT5, have the terminal running and connected; for OANDA, set your API key in Profile Editor."]})]}),l.jsxs(n,{id:"presets",title:"Understanding Presets",icon:"",children:[l.jsx("p",{style:{marginBottom:16},children:"Presets are pre-configured trading strategies. Each preset has different characteristics:"}),l.jsx("div",{className:"table-container",style:{marginBottom:16},children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Preset"}),l.jsx("th",{children:"Style"}),l.jsx("th",{children:"Trades/Day"}),l.jsx("th",{children:"Target"}),l.jsx("th",{children:"Risk Level"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Conservative Scalping"})}),l.jsx("td",{children:"Quick trades"}),l.jsx("td",{children:"5-10"}),l.jsx("td",{children:"8 pips"}),l.jsx("td",{style:{color:"var(--success)"},children:"Low"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Aggressive Scalping"})}),l.jsx("td",{children:"Quick trades"}),l.jsx("td",{children:"15-25"}),l.jsx("td",{children:"8 pips"}),l.jsx("td",{style:{color:"var(--danger)"},children:"High"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Moderate Swing"})}),l.jsx("td",{children:"Longer holds"}),l.jsx("td",{children:"2-5"}),l.jsx("td",{children:"20 pips"}),l.jsx("td",{style:{color:"var(--warning)"},children:"Medium"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"RSI Mean Reversion"})}),l.jsx("td",{children:"Counter-trend"}),l.jsx("td",{children:"5-10"}),l.jsx("td",{children:"10 pips"}),l.jsx("td",{style:{color:"var(--warning)"},children:"Medium"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Custom"})}),l.jsx("td",{children:"Your choice"}),l.jsx("td",{children:"Variable"}),l.jsx("td",{children:"Variable"}),l.jsx("td",{children:"Configurable"})]})]})]})}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:[l.jsx("strong",{children:"Recommendation:"})," Start with ",l.jsx("em",{children:"Conservative Scalping"})," to see how the bot works with minimal risk. Once comfortable, try other presets or create a custom configuration."]})]}),l.jsx(n,{id:"dashboard",title:"Reading the Dashboard",icon:"",children:l.jsxs("div",{className:"grid-2",style:{gap:16},children:[l.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)"},children:"Run / Status Page"}),l.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Loop Status:"})," Shows if the trading loop is running or stopped"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Mode:"})," DISARMED (no trades), ARMED_MANUAL_CONFIRM (prompts before trading), ARMED_AUTO_DEMO (fully automated)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Kill Switch:"})," Emergency stop - prevents any new trades"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Loop Log:"})," Real-time output showing heartbeats and decisions"]})]})]}),l.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[l.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)"},children:"Logs & Stats Page"}),l.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Quick Stats:"})," Closed trades, win rate, average pips"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Rejection Breakdown:"})," Why trades weren't taken (spread, filters, etc.)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Recent Trades:"})," Your trade history with P/L"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Sync from broker:"})," Updates trade data from your broker (MT5 or OANDA)"]})]})]})]})}),l.jsxs(n,{id:"analysis",title:"Technical Analysis Page",icon:"",children:[l.jsx("p",{style:{marginBottom:16},children:"The Analysis page provides real-time technical analysis across three timeframes (H4, M15, M1):"}),l.jsxs("ul",{style:{margin:"0 0 16px 0",paddingLeft:20,lineHeight:1.8},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Regime:"})," Current market trend - BULL (uptrend), BEAR (downtrend), or SIDEWAYS"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"RSI:"})," Relative Strength Index - Oversold (below 30, potential buy), Overbought (above 70, potential sell), Neutral"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"MACD:"})," Momentum indicator - Positive (bullish momentum), Negative (bearish momentum)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"ATR:"})," Average True Range - Elevated (high volatility), Normal, Low (quiet market)"]})]}),l.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Click on any timeframe card to expand and see detailed indicator values. The page auto-refreshes every 30 seconds."})]}),l.jsx(n,{id:"faq",title:"Common Questions",icon:"",children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[l.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[l.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"Why isn't the bot trading?"}),l.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Check these common reasons:",l.jsx("br",{})," ",l.jsx("strong",{children:"Spread too wide:"})," The bot waits for good spreads to avoid slippage",l.jsx("br",{})," ",l.jsx("strong",{children:"Alignment filters:"})," Multi-timeframe conditions must match",l.jsx("br",{})," ",l.jsx("strong",{children:"Max trades reached:"})," Daily trade limit hit",l.jsx("br",{})," ",l.jsx("strong",{children:"Kill switch on:"})," Check the Run page",l.jsx("br",{})," ",l.jsx("strong",{children:"Market closed:"})," Forex markets close on weekends"]})]}),l.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[l.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"How do I close a trade?"}),l.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Go to ",l.jsx("strong",{children:"Logs & Stats"}),", find your open trade in the Recent Trades table, and click the ",l.jsx("strong",{children:"Close"})," button. You'll be asked to confirm before the close order is sent."]})]}),l.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[l.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"What does the kill switch do?"}),l.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["The kill switch ",l.jsx("strong",{children:"immediately stops all new trades"})," from being placed. It does not close existing positions - use the Close button for that. Toggle it on if you need to pause the bot quickly."]})]}),l.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[l.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"My trade history is missing?"}),l.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Click ",l.jsx("strong",{children:"Sync from broker"})," on the Logs & Stats page. This will import any trades that were opened or closed in your broker platform, including trades closed by hitting TP/SL."]})]})]})}),l.jsx(n,{id:"glossary",title:"Glossary",icon:"",children:l.jsx("div",{className:"grid-2",style:{gap:12},children:[{term:"Pip",def:"Smallest price move. For USDJPY, 1 pip = 0.01 (e.g., 154.50 to 154.51)"},{term:"Lot",def:"Trade size. 0.01 = micro lot (1,000 units), 0.1 = mini lot (10,000 units), 1.0 = standard lot (100,000 units)"},{term:"Spread",def:"Difference between buy (ask) and sell (bid) price. Lower = better."},{term:"EMA",def:"Exponential Moving Average - weighted average of recent prices, responds quickly to changes"},{term:"SMA",def:"Simple Moving Average - equal-weighted average of prices over a period"},{term:"RSI",def:"Relative Strength Index (0-100). Below 30 = oversold, above 70 = overbought"},{term:"MACD",def:"Moving Average Convergence Divergence - momentum indicator showing trend direction"},{term:"ATR",def:"Average True Range - measures market volatility"},{term:"Regime",def:"Current market trend: bullish (up), bearish (down), or sideways"},{term:"Stop Loss (SL)",def:"Price level where trade closes to limit losses"},{term:"Take Profit (TP)",def:"Price level where trade closes to lock in profits"},{term:"R-Multiple",def:"Risk-adjusted return. R of 2 means you made 2x your risked amount"}].map((i,s)=>l.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[l.jsxs("strong",{style:{color:"var(--accent)"},children:[i.term,":"]}),l.jsx("span",{style:{marginLeft:8,color:"var(--text-secondary)",fontSize:"0.9rem"},children:i.def})]},s))})}),l.jsxs("div",{className:"card",style:{borderColor:"var(--warning)",background:"rgba(245, 158, 11, 0.1)"},children:[l.jsx("h3",{style:{margin:"0 0 12px 0",color:"var(--warning)",display:"flex",alignItems:"center",gap:8},children:" Important Safety Notice"}),l.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[l.jsxs("li",{children:["This bot is designed for ",l.jsx("strong",{children:"demo trading only"}),". It will refuse to trade on live accounts."]}),l.jsx("li",{children:"Trading carries risk. Past performance does not guarantee future results."}),l.jsx("li",{children:"Always monitor the bot and understand what it's doing before trusting it with larger positions."}),l.jsx("li",{children:"Start with conservative settings and small position sizes while you learn."})]})]})]})}im.createRoot(document.getElementById("root")).render(l.jsx(lg.StrictMode,{children:l.jsx(nZ,{})}));
