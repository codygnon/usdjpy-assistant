(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function Xf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uc={exports:{}},zr={},hc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),qf=Symbol.for("react.portal"),Zf=Symbol.for("react.fragment"),ep=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),ip=Symbol.for("react.provider"),np=Symbol.for("react.context"),sp=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),lp=Symbol.for("react.memo"),op=Symbol.for("react.lazy"),qa=Symbol.iterator;function ap(t){return t===null||typeof t!="object"?null:(t=qa&&t[qa]||t["@@iterator"],typeof t=="function"?t:null)}var cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dc=Object.assign,fc={};function dn(t,e,i){this.props=t,this.context=e,this.refs=fc,this.updater=i||cc}dn.prototype.isReactComponent={};dn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pc(){}pc.prototype=dn.prototype;function Ho(t,e,i){this.props=t,this.context=e,this.refs=fc,this.updater=i||cc}var Ko=Ho.prototype=new pc;Ko.constructor=Ho;dc(Ko,dn.prototype);Ko.isPureReactComponent=!0;var Za=Array.isArray,mc=Object.prototype.hasOwnProperty,Qo={current:null},gc={key:!0,ref:!0,__self:!0,__source:!0};function vc(t,e,i){var n,s={},r=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(r=""+e.key),e)mc.call(e,n)&&!gc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=i;else if(1<a){for(var u=Array(a),h=0;h<a;h++)u[h]=arguments[h+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ds,type:t,key:r,ref:l,props:s,_owner:Qo.current}}function up(t,e){return{$$typeof:ds,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yo(t){return typeof t=="object"&&t!==null&&t.$$typeof===ds}function hp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var eu=/\/+/g;function el(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hp(""+t.key):e.toString(36)}function Vs(t,e,i,n,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ds:case qf:l=!0}}if(l)return l=t,s=s(l),t=n===""?"."+el(l,0):n,Za(s)?(i="",t!=null&&(i=t.replace(eu,"$&/")+"/"),Vs(s,e,i,"",function(h){return h})):s!=null&&(Yo(s)&&(s=up(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(eu,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=n===""?".":n+":",Za(t))for(var a=0;a<t.length;a++){r=t[a];var u=n+el(r,a);l+=Vs(r,e,i,u,s)}else if(u=ap(t),typeof u=="function")for(t=u.call(t),a=0;!(r=t.next()).done;)r=r.value,u=n+el(r,a++),l+=Vs(r,e,i,u,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function xs(t,e,i){if(t==null)return t;var n=[],s=0;return Vs(t,n,"","",function(r){return e.call(i,r,s++)}),n}function cp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ae={current:null},Hs={transition:null},dp={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Hs,ReactCurrentOwner:Qo};function yc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:xs,forEach:function(t,e,i){xs(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return xs(t,function(){e++}),e},toArray:function(t){return xs(t,function(e){return e})||[]},only:function(t){if(!Yo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=dn;K.Fragment=Zf;K.Profiler=tp;K.PureComponent=Ho;K.StrictMode=ep;K.Suspense=rp;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp;K.act=yc;K.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=dc({},t.props),s=t.key,r=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,l=Qo.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)mc.call(e,u)&&!gc.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=i;else if(1<u){a=Array(u);for(var h=0;h<u;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:ds,type:t.type,key:s,ref:r,props:n,_owner:l}};K.createContext=function(t){return t={$$typeof:np,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ip,_context:t},t.Consumer=t};K.createElement=vc;K.createFactory=function(t){var e=vc.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:sp,render:t}};K.isValidElement=Yo;K.lazy=function(t){return{$$typeof:op,_payload:{_status:-1,_result:t},_init:cp}};K.memo=function(t,e){return{$$typeof:lp,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=Hs.transition;Hs.transition={};try{t()}finally{Hs.transition=e}};K.unstable_act=yc;K.useCallback=function(t,e){return Ae.current.useCallback(t,e)};K.useContext=function(t){return Ae.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return Ae.current.useDeferredValue(t)};K.useEffect=function(t,e){return Ae.current.useEffect(t,e)};K.useId=function(){return Ae.current.useId()};K.useImperativeHandle=function(t,e,i){return Ae.current.useImperativeHandle(t,e,i)};K.useInsertionEffect=function(t,e){return Ae.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return Ae.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return Ae.current.useMemo(t,e)};K.useReducer=function(t,e,i){return Ae.current.useReducer(t,e,i)};K.useRef=function(t){return Ae.current.useRef(t)};K.useState=function(t){return Ae.current.useState(t)};K.useSyncExternalStore=function(t,e,i){return Ae.current.useSyncExternalStore(t,e,i)};K.useTransition=function(){return Ae.current.useTransition()};K.version="18.3.1";hc.exports=K;var R=hc.exports;const fp=Xf(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=R,mp=Symbol.for("react.element"),gp=Symbol.for("react.fragment"),vp=Object.prototype.hasOwnProperty,yp=pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xp={key:!0,ref:!0,__self:!0,__source:!0};function xc(t,e,i){var n,s={},r=null,l=null;i!==void 0&&(r=""+i),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)vp.call(e,n)&&!xp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:mp,type:t,key:r,ref:l,props:s,_owner:yp.current}}zr.Fragment=gp;zr.jsx=xc;zr.jsxs=xc;uc.exports=zr;var o=uc.exports,Kl={},wc={exports:{}},Xe={},_c={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,k){var $=P.length;P.push(k);e:for(;0<$;){var Y=$-1>>>1,G=P[Y];if(0<s(G,k))P[Y]=k,P[$]=G,$=Y;else break e}}function i(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var k=P[0],$=P.pop();if($!==k){P[0]=$;e:for(var Y=0,G=P.length,Ze=G>>>1;Y<Ze;){var Le=2*(Y+1)-1,lt=P[Le],W=Le+1,ie=P[W];if(0>s(lt,$))W<G&&0>s(ie,lt)?(P[Y]=ie,P[W]=$,Y=W):(P[Y]=lt,P[Le]=$,Y=Le);else if(W<G&&0>s(ie,$))P[Y]=ie,P[W]=$,Y=W;else break e}}return k}function s(P,k){var $=P.sortIndex-k.sortIndex;return $!==0?$:P.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var u=[],h=[],c=1,d=null,f=3,m=!1,v=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var k=i(h);k!==null;){if(k.callback===null)n(h);else if(k.startTime<=P)n(h),k.sortIndex=k.expirationTime,e(u,k);else break;k=i(h)}}function S(P){if(x=!1,y(P),!v)if(i(u)!==null)v=!0,L(b);else{var k=i(h);k!==null&&z(S,k.startTime-P)}}function b(P,k){v=!1,x&&(x=!1,g(j),j=-1),m=!0;var $=f;try{for(y(k),d=i(u);d!==null&&(!(d.expirationTime>k)||P&&!F());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var G=Y(d.expirationTime<=k);k=t.unstable_now(),typeof G=="function"?d.callback=G:d===i(u)&&n(u),y(k)}else n(u);d=i(u)}if(d!==null)var Ze=!0;else{var Le=i(h);Le!==null&&z(S,Le.startTime-k),Ze=!1}return Ze}finally{d=null,f=$,m=!1}}var M=!1,_=null,j=-1,C=5,I=-1;function F(){return!(t.unstable_now()-I<C)}function V(){if(_!==null){var P=t.unstable_now();I=P;var k=!0;try{k=_(!0,P)}finally{k?O():(M=!1,_=null)}}else M=!1}var O;if(typeof p=="function")O=function(){p(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Q=U.port2;U.port1.onmessage=V,O=function(){Q.postMessage(null)}}else O=function(){E(V,0)};function L(P){_=P,M||(M=!0,O())}function z(P,k){j=E(function(){P(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,L(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var $=f;f=k;try{return P()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,k){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=f;f=P;try{return k()}finally{f=$}},t.unstable_scheduleCallback=function(P,k,$){var Y=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,P={id:c++,callback:k,priorityLevel:P,startTime:$,expirationTime:G,sortIndex:-1},$>Y?(P.sortIndex=$,e(h,P),i(u)===null&&P===i(h)&&(x?(g(j),j=-1):x=!0,z(S,$-Y))):(P.sortIndex=G,e(u,P),v||m||(v=!0,L(b))),P},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(P){var k=f;return function(){var $=f;f=k;try{return P.apply(this,arguments)}finally{f=$}}}})(Sc);_c.exports=Sc;var wp=_c.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=R,Ge=wp;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jc=new Set,Hn={};function bi(t,e){tn(t,e),tn(t+"Capture",e)}function tn(t,e){for(Hn[t]=e,t=0;t<e.length;t++)jc.add(e[t])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,Sp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tu={},iu={};function jp(t){return Ql.call(iu,t)?!0:Ql.call(tu,t)?!1:Sp.test(t)?iu[t]=!0:(tu[t]=!0,!1)}function kp(t,e,i,n){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bp(t,e,i,n){if(e===null||typeof e>"u"||kp(t,e,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oe(t,e,i,n,s,r,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=l}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new Oe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new Oe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new Oe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new Oe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new Oe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new Oe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new Oe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new Oe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new Oe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jo=/[\-:]([a-z])/g;function Go(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jo,Go);Ce[e]=new Oe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jo,Go);Ce[e]=new Oe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jo,Go);Ce[e]=new Oe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new Oe(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new Oe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xo(t,e,i,n){var s=Ce.hasOwnProperty(e)?Ce[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bp(e,i,s,n)&&(i=null),n||s===null?jp(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):s.mustUseProperty?t[s.propertyName]=i===null?s.type===3?!1:"":i:(e=s.attributeName,n=s.attributeNamespace,i===null?t.removeAttribute(e):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}var It=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ws=Symbol.for("react.element"),Li=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),qo=Symbol.for("react.strict_mode"),Yl=Symbol.for("react.profiler"),kc=Symbol.for("react.provider"),bc=Symbol.for("react.context"),Zo=Symbol.for("react.forward_ref"),Jl=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),ea=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Mc=Symbol.for("react.offscreen"),nu=Symbol.iterator;function yn(t){return t===null||typeof t!="object"?null:(t=nu&&t[nu]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,tl;function Cn(t){if(tl===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);tl=e&&e[1]||""}return`
`+tl+t}var il=!1;function nl(t,e){if(!t||il)return"";il=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),r=n.stack.split(`
`),l=s.length-1,a=r.length-1;1<=l&&0<=a&&s[l]!==r[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==r[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==r[a]){var u=`
`+s[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=a);break}}}finally{il=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?Cn(t):""}function Mp(t){switch(t.tag){case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 2:case 15:return t=nl(t.type,!1),t;case 11:return t=nl(t.type.render,!1),t;case 1:return t=nl(t.type,!0),t;default:return""}}function Xl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ri:return"Fragment";case Li:return"Portal";case Yl:return"Profiler";case qo:return"StrictMode";case Jl:return"Suspense";case Gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bc:return(t.displayName||"Context")+".Consumer";case kc:return(t._context.displayName||"Context")+".Provider";case Zo:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ea:return e=t.displayName||null,e!==null?e:Xl(t.type)||"Memo";case Ot:e=t._payload,t=t._init;try{return Xl(t(e))}catch{}}return null}function Cp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xl(e);case 8:return e===qo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ep(t){var e=Cc(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,r.call(this,l)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _s(t){t._valueTracker||(t._valueTracker=Ep(t))}function Ec(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=Cc(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ql(t,e){var i=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function su(t,e){var i=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;i=ei(e.value!=null?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pc(t,e){e=e.checked,e!=null&&Xo(t,"checked",e,!1)}function Zl(t,e){Pc(t,e);var i=ei(e.value),n=e.type;if(i!=null)n==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eo(t,e.type,i):e.hasOwnProperty("defaultValue")&&eo(t,e.type,ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ru(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function eo(t,e,i){(e!=="number"||sr(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var En=Array.isArray;function Qi(t,e,i,n){if(t=t.options,e){e={};for(var s=0;s<i.length;s++)e["$"+i[s]]=!0;for(i=0;i<t.length;i++)s=e.hasOwnProperty("$"+t[i].value),t[i].selected!==s&&(t[i].selected=s),s&&n&&(t[i].defaultSelected=!0)}else{for(i=""+ei(i),e=null,s=0;s<t.length;s++){if(t[s].value===i){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function to(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lu(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(T(92));if(En(i)){if(1<i.length)throw Error(T(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:ei(i)}}function Nc(t,e){var i=ei(e.value),n=ei(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),n!=null&&(t.defaultValue=""+n)}function ou(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function io(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ss,Tc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pp=["Webkit","ms","Moz","O"];Object.keys(zn).forEach(function(t){Pp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zn[e]=zn[t]})});function Lc(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||zn.hasOwnProperty(t)&&zn[t]?(""+e).trim():e+"px"}function Rc(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var n=i.indexOf("--")===0,s=Lc(i,e[i],n);i==="float"&&(i="cssFloat"),n?t.setProperty(i,s):t[i]=s}}var Np=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function no(t,e){if(e){if(Np[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function so(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function ta(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lo=null,Yi=null,Ji=null;function au(t){if(t=ms(t)){if(typeof lo!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Fr(e),lo(t.stateNode,t.type,e))}}function Ic(t){Yi?Ji?Ji.push(t):Ji=[t]:Yi=t}function Fc(){if(Yi){var t=Yi,e=Ji;if(Ji=Yi=null,au(t),e)for(t=0;t<e.length;t++)au(e[t])}}function Bc(t,e){return t(e)}function Ac(){}var sl=!1;function Oc(t,e,i){if(sl)return t(e,i);sl=!0;try{return Bc(t,e,i)}finally{sl=!1,(Yi!==null||Ji!==null)&&(Ac(),Fc())}}function Qn(t,e){var i=t.stateNode;if(i===null)return null;var n=Fr(i);if(n===null)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(T(231,e,typeof i));return i}var oo=!1;if(zt)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){oo=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{oo=!1}function zp(t,e,i,n,s,r,l,a,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(i,h)}catch(c){this.onError(c)}}var Tn=!1,rr=null,lr=!1,ao=null,Tp={onError:function(t){Tn=!0,rr=t}};function Lp(t,e,i,n,s,r,l,a,u){Tn=!1,rr=null,zp.apply(Tp,arguments)}function Rp(t,e,i,n,s,r,l,a,u){if(Lp.apply(this,arguments),Tn){if(Tn){var h=rr;Tn=!1,rr=null}else throw Error(T(198));lr||(lr=!0,ao=h)}}function Mi(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function $c(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uu(t){if(Mi(t)!==t)throw Error(T(188))}function Ip(t){var e=t.alternate;if(!e){if(e=Mi(t),e===null)throw Error(T(188));return e!==t?null:t}for(var i=t,n=e;;){var s=i.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){i=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===i)return uu(s),t;if(r===n)return uu(s),e;r=r.sibling}throw Error(T(188))}if(i.return!==n.return)i=s,n=r;else{for(var l=!1,a=s.child;a;){if(a===i){l=!0,i=s,n=r;break}if(a===n){l=!0,n=s,i=r;break}a=a.sibling}if(!l){for(a=r.child;a;){if(a===i){l=!0,i=r,n=s;break}if(a===n){l=!0,n=r,i=s;break}a=a.sibling}if(!l)throw Error(T(189))}}if(i.alternate!==n)throw Error(T(190))}if(i.tag!==3)throw Error(T(188));return i.stateNode.current===i?t:e}function Dc(t){return t=Ip(t),t!==null?Wc(t):null}function Wc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wc(t);if(e!==null)return e;t=t.sibling}return null}var Uc=Ge.unstable_scheduleCallback,hu=Ge.unstable_cancelCallback,Fp=Ge.unstable_shouldYield,Bp=Ge.unstable_requestPaint,ce=Ge.unstable_now,Ap=Ge.unstable_getCurrentPriorityLevel,ia=Ge.unstable_ImmediatePriority,Vc=Ge.unstable_UserBlockingPriority,or=Ge.unstable_NormalPriority,Op=Ge.unstable_LowPriority,Hc=Ge.unstable_IdlePriority,Tr=null,_t=null;function $p(t){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Tr,t,void 0,(t.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Up,Dp=Math.log,Wp=Math.LN2;function Up(t){return t>>>=0,t===0?32:31-(Dp(t)/Wp|0)|0}var js=64,ks=4194304;function Pn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ar(t,e){var i=t.pendingLanes;if(i===0)return 0;var n=0,s=t.suspendedLanes,r=t.pingedLanes,l=i&268435455;if(l!==0){var a=l&~s;a!==0?n=Pn(a):(r&=l,r!==0&&(n=Pn(r)))}else l=i&~s,l!==0?n=Pn(l):r!==0&&(n=Pn(r));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(n&4&&(n|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)i=31-ct(e),s=1<<i,n|=t[i],e&=~s;return n}function Vp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hp(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var l=31-ct(r),a=1<<l,u=s[l];u===-1?(!(a&i)||a&n)&&(s[l]=Vp(a,e)):u<=e&&(t.expiredLanes|=a),r&=~a}}function uo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kc(){var t=js;return js<<=1,!(js&4194240)&&(js=64),t}function rl(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function fs(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ct(e),t[e]=i}function Kp(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var s=31-ct(i),r=1<<s;e[s]=0,n[s]=-1,t[s]=-1,i&=~r}}function na(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-ct(i),s=1<<n;s&e|t[n]&e&&(t[n]|=e),i&=~s}}var q=0;function Qc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yc,sa,Jc,Gc,Xc,ho=!1,bs=[],Kt=null,Qt=null,Yt=null,Yn=new Map,Jn=new Map,Dt=[],Qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cu(t,e){switch(t){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Yn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(e.pointerId)}}function wn(t,e,i,n,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},e!==null&&(e=ms(e),e!==null&&sa(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Yp(t,e,i,n,s){switch(e){case"focusin":return Kt=wn(Kt,t,e,i,n,s),!0;case"dragenter":return Qt=wn(Qt,t,e,i,n,s),!0;case"mouseover":return Yt=wn(Yt,t,e,i,n,s),!0;case"pointerover":var r=s.pointerId;return Yn.set(r,wn(Yn.get(r)||null,t,e,i,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Jn.set(r,wn(Jn.get(r)||null,t,e,i,n,s)),!0}return!1}function qc(t){var e=ui(t.target);if(e!==null){var i=Mi(e);if(i!==null){if(e=i.tag,e===13){if(e=$c(i),e!==null){t.blockedOn=e,Xc(t.priority,function(){Jc(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=co(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var n=new i.constructor(i.type,i);ro=n,i.target.dispatchEvent(n),ro=null}else return e=ms(i),e!==null&&sa(e),t.blockedOn=i,!1;e.shift()}return!0}function du(t,e,i){Ks(t)&&i.delete(e)}function Jp(){ho=!1,Kt!==null&&Ks(Kt)&&(Kt=null),Qt!==null&&Ks(Qt)&&(Qt=null),Yt!==null&&Ks(Yt)&&(Yt=null),Yn.forEach(du),Jn.forEach(du)}function _n(t,e){t.blockedOn===e&&(t.blockedOn=null,ho||(ho=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,Jp)))}function Gn(t){function e(s){return _n(s,t)}if(0<bs.length){_n(bs[0],t);for(var i=1;i<bs.length;i++){var n=bs[i];n.blockedOn===t&&(n.blockedOn=null)}}for(Kt!==null&&_n(Kt,t),Qt!==null&&_n(Qt,t),Yt!==null&&_n(Yt,t),Yn.forEach(e),Jn.forEach(e),i=0;i<Dt.length;i++)n=Dt[i],n.blockedOn===t&&(n.blockedOn=null);for(;0<Dt.length&&(i=Dt[0],i.blockedOn===null);)qc(i),i.blockedOn===null&&Dt.shift()}var Gi=It.ReactCurrentBatchConfig,ur=!0;function Gp(t,e,i,n){var s=q,r=Gi.transition;Gi.transition=null;try{q=1,ra(t,e,i,n)}finally{q=s,Gi.transition=r}}function Xp(t,e,i,n){var s=q,r=Gi.transition;Gi.transition=null;try{q=4,ra(t,e,i,n)}finally{q=s,Gi.transition=r}}function ra(t,e,i,n){if(ur){var s=co(t,e,i,n);if(s===null)ml(t,e,n,hr,i),cu(t,n);else if(Yp(s,t,e,i,n))n.stopPropagation();else if(cu(t,n),e&4&&-1<Qp.indexOf(t)){for(;s!==null;){var r=ms(s);if(r!==null&&Yc(r),r=co(t,e,i,n),r===null&&ml(t,e,n,hr,i),r===s)break;s=r}s!==null&&n.stopPropagation()}else ml(t,e,n,null,i)}}var hr=null;function co(t,e,i,n){if(hr=null,t=ta(n),t=ui(t),t!==null)if(e=Mi(t),e===null)t=null;else if(i=e.tag,i===13){if(t=$c(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hr=t,null}function Zc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ap()){case ia:return 1;case Vc:return 4;case or:case Op:return 16;case Hc:return 536870912;default:return 16}default:return 16}}var Ut=null,la=null,Qs=null;function ed(){if(Qs)return Qs;var t,e=la,i=e.length,n,s="value"in Ut?Ut.value:Ut.textContent,r=s.length;for(t=0;t<i&&e[t]===s[t];t++);var l=i-t;for(n=1;n<=l&&e[i-n]===s[r-n];n++);return Qs=s.slice(t,1<n?1-n:void 0)}function Ys(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ms(){return!0}function fu(){return!1}function qe(t){function e(i,n,s,r,l){this._reactName=i,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(i=t[a],this[a]=i?i(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ms:fu,this.isPropagationStopped=fu,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),e}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=qe(fn),ps=ue({},fn,{view:0,detail:0}),qp=qe(ps),ll,ol,Sn,Lr=ue({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sn&&(Sn&&t.type==="mousemove"?(ll=t.screenX-Sn.screenX,ol=t.screenY-Sn.screenY):ol=ll=0,Sn=t),ll)},movementY:function(t){return"movementY"in t?t.movementY:ol}}),pu=qe(Lr),Zp=ue({},Lr,{dataTransfer:0}),em=qe(Zp),tm=ue({},ps,{relatedTarget:0}),al=qe(tm),im=ue({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),nm=qe(im),sm=ue({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rm=qe(sm),lm=ue({},fn,{data:0}),mu=qe(lm),om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=um[t])?!!e[t]:!1}function aa(){return hm}var cm=ue({},ps,{key:function(t){if(t.key){var e=om[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?am[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dm=qe(cm),fm=ue({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=qe(fm),pm=ue({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),mm=qe(pm),gm=ue({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=qe(gm),ym=ue({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xm=qe(ym),wm=[9,13,27,32],ua=zt&&"CompositionEvent"in window,Ln=null;zt&&"documentMode"in document&&(Ln=document.documentMode);var _m=zt&&"TextEvent"in window&&!Ln,td=zt&&(!ua||Ln&&8<Ln&&11>=Ln),vu=" ",yu=!1;function id(t,e){switch(t){case"keyup":return wm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function Sm(t,e){switch(t){case"compositionend":return nd(e);case"keypress":return e.which!==32?null:(yu=!0,vu);case"textInput":return t=e.data,t===vu&&yu?null:t;default:return null}}function jm(t,e){if(Ii)return t==="compositionend"||!ua&&id(t,e)?(t=ed(),Qs=la=Ut=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return td&&e.locale!=="ko"?null:e.data;default:return null}}var km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!km[t.type]:e==="textarea"}function sd(t,e,i,n){Ic(n),e=cr(e,"onChange"),0<e.length&&(i=new oa("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Rn=null,Xn=null;function bm(t){md(t,0)}function Rr(t){var e=Ai(t);if(Ec(e))return t}function Mm(t,e){if(t==="change")return e}var rd=!1;if(zt){var ul;if(zt){var hl="oninput"in document;if(!hl){var wu=document.createElement("div");wu.setAttribute("oninput","return;"),hl=typeof wu.oninput=="function"}ul=hl}else ul=!1;rd=ul&&(!document.documentMode||9<document.documentMode)}function _u(){Rn&&(Rn.detachEvent("onpropertychange",ld),Xn=Rn=null)}function ld(t){if(t.propertyName==="value"&&Rr(Xn)){var e=[];sd(e,Xn,t,ta(t)),Oc(bm,e)}}function Cm(t,e,i){t==="focusin"?(_u(),Rn=e,Xn=i,Rn.attachEvent("onpropertychange",ld)):t==="focusout"&&_u()}function Em(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rr(Xn)}function Pm(t,e){if(t==="click")return Rr(e)}function Nm(t,e){if(t==="input"||t==="change")return Rr(e)}function zm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ft=typeof Object.is=="function"?Object.is:zm;function qn(t,e){if(ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!Ql.call(e,s)||!ft(t[s],e[s]))return!1}return!0}function Su(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ju(t,e){var i=Su(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Su(i)}}function od(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?od(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ad(){for(var t=window,e=sr();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=sr(t.document)}return e}function ha(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tm(t){var e=ad(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&od(i.ownerDocument.documentElement,i)){if(n!==null&&ha(i)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=i.textContent.length,r=Math.min(n.start,s);n=n.end===void 0?r:Math.min(n.end,s),!t.extend&&r>n&&(s=n,n=r,r=s),s=ju(i,r);var l=ju(i,n);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lm=zt&&"documentMode"in document&&11>=document.documentMode,Fi=null,fo=null,In=null,po=!1;function ku(t,e,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;po||Fi==null||Fi!==sr(n)||(n=Fi,"selectionStart"in n&&ha(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),In&&qn(In,n)||(In=n,n=cr(fo,"onSelect"),0<n.length&&(e=new oa("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=Fi)))}function Cs(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Bi={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},cl={},ud={};zt&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Ir(t){if(cl[t])return cl[t];if(!Bi[t])return t;var e=Bi[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in ud)return cl[t]=e[i];return t}var hd=Ir("animationend"),cd=Ir("animationiteration"),dd=Ir("animationstart"),fd=Ir("transitionend"),pd=new Map,bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){pd.set(t,e),bi(e,[t])}for(var dl=0;dl<bu.length;dl++){var fl=bu[dl],Rm=fl.toLowerCase(),Im=fl[0].toUpperCase()+fl.slice(1);ii(Rm,"on"+Im)}ii(hd,"onAnimationEnd");ii(cd,"onAnimationIteration");ii(dd,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(fd,"onTransitionEnd");tn("onMouseEnter",["mouseout","mouseover"]);tn("onMouseLeave",["mouseout","mouseover"]);tn("onPointerEnter",["pointerout","pointerover"]);tn("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function Mu(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,Rp(n,e,void 0,t),t.currentTarget=null}function md(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var n=t[i],s=n.event;n=n.listeners;e:{var r=void 0;if(e)for(var l=n.length-1;0<=l;l--){var a=n[l],u=a.instance,h=a.currentTarget;if(a=a.listener,u!==r&&s.isPropagationStopped())break e;Mu(s,a,h),r=u}else for(l=0;l<n.length;l++){if(a=n[l],u=a.instance,h=a.currentTarget,a=a.listener,u!==r&&s.isPropagationStopped())break e;Mu(s,a,h),r=u}}}if(lr)throw t=ao,lr=!1,ao=null,t}function ne(t,e){var i=e[xo];i===void 0&&(i=e[xo]=new Set);var n=t+"__bubble";i.has(n)||(gd(e,t,2,!1),i.add(n))}function pl(t,e,i){var n=0;e&&(n|=4),gd(i,t,n,e)}var Es="_reactListening"+Math.random().toString(36).slice(2);function Zn(t){if(!t[Es]){t[Es]=!0,jc.forEach(function(i){i!=="selectionchange"&&(Fm.has(i)||pl(i,!1,t),pl(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Es]||(e[Es]=!0,pl("selectionchange",!1,e))}}function gd(t,e,i,n){switch(Zc(e)){case 1:var s=Gp;break;case 4:s=Xp;break;default:s=ra}i=s.bind(null,e,i,t),s=void 0,!oo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,i,{capture:!0,passive:s}):t.addEventListener(e,i,!0):s!==void 0?t.addEventListener(e,i,{passive:s}):t.addEventListener(e,i,!1)}function ml(t,e,i,n,s){var r=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;a!==null;){if(l=ui(a),l===null)return;if(u=l.tag,u===5||u===6){n=r=l;continue e}a=a.parentNode}}n=n.return}Oc(function(){var h=r,c=ta(i),d=[];e:{var f=pd.get(t);if(f!==void 0){var m=oa,v=t;switch(t){case"keypress":if(Ys(i)===0)break e;case"keydown":case"keyup":m=dm;break;case"focusin":v="focus",m=al;break;case"focusout":v="blur",m=al;break;case"beforeblur":case"afterblur":m=al;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mm;break;case hd:case cd:case dd:m=nm;break;case fd:m=vm;break;case"scroll":m=qp;break;case"wheel":m=xm;break;case"copy":case"cut":case"paste":m=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gu}var x=(e&4)!==0,E=!x&&t==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=h,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,g!==null&&(S=Qn(p,g),S!=null&&x.push(es(p,S,y)))),E)break;p=p.return}0<x.length&&(f=new m(f,v,null,i,c),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&i!==ro&&(v=i.relatedTarget||i.fromElement)&&(ui(v)||v[Tt]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=i.relatedTarget||i.toElement,m=h,v=v?ui(v):null,v!==null&&(E=Mi(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=h),m!==v)){if(x=pu,S="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=gu,S="onPointerLeave",g="onPointerEnter",p="pointer"),E=m==null?f:Ai(m),y=v==null?f:Ai(v),f=new x(S,p+"leave",m,i,c),f.target=E,f.relatedTarget=y,S=null,ui(c)===h&&(x=new x(g,p+"enter",v,i,c),x.target=y,x.relatedTarget=E,S=x),E=S,m&&v)t:{for(x=m,g=v,p=0,y=x;y;y=Ni(y))p++;for(y=0,S=g;S;S=Ni(S))y++;for(;0<p-y;)x=Ni(x),p--;for(;0<y-p;)g=Ni(g),y--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ni(x),g=Ni(g)}x=null}else x=null;m!==null&&Cu(d,f,m,x,!1),v!==null&&E!==null&&Cu(d,E,v,x,!0)}}e:{if(f=h?Ai(h):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var b=Mm;else if(xu(f))if(rd)b=Nm;else{b=Em;var M=Cm}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Pm);if(b&&(b=b(t,h))){sd(d,b,i,c);break e}M&&M(t,f,h),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&eo(f,"number",f.value)}switch(M=h?Ai(h):window,t){case"focusin":(xu(M)||M.contentEditable==="true")&&(Fi=M,fo=h,In=null);break;case"focusout":In=fo=Fi=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,ku(d,i,c);break;case"selectionchange":if(Lm)break;case"keydown":case"keyup":ku(d,i,c)}var _;if(ua)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ii?id(t,i)&&(j="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(j="onCompositionStart");j&&(td&&i.locale!=="ko"&&(Ii||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ii&&(_=ed()):(Ut=c,la="value"in Ut?Ut.value:Ut.textContent,Ii=!0)),M=cr(h,j),0<M.length&&(j=new mu(j,t,null,i,c),d.push({event:j,listeners:M}),_?j.data=_:(_=nd(i),_!==null&&(j.data=_)))),(_=_m?Sm(t,i):jm(t,i))&&(h=cr(h,"onBeforeInput"),0<h.length&&(c=new mu("onBeforeInput","beforeinput",null,i,c),d.push({event:c,listeners:h}),c.data=_))}md(d,e)})}function es(t,e,i){return{instance:t,listener:e,currentTarget:i}}function cr(t,e){for(var i=e+"Capture",n=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Qn(t,i),r!=null&&n.unshift(es(t,r,s)),r=Qn(t,e),r!=null&&n.push(es(t,r,s))),t=t.return}return n}function Ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cu(t,e,i,n,s){for(var r=e._reactName,l=[];i!==null&&i!==n;){var a=i,u=a.alternate,h=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&h!==null&&(a=h,s?(u=Qn(i,r),u!=null&&l.unshift(es(i,u,a))):s||(u=Qn(i,r),u!=null&&l.push(es(i,u,a)))),i=i.return}l.length!==0&&t.push({event:e,listeners:l})}var Bm=/\r\n?/g,Am=/\u0000|\uFFFD/g;function Eu(t){return(typeof t=="string"?t:""+t).replace(Bm,`
`).replace(Am,"")}function Ps(t,e,i){if(e=Eu(e),Eu(t)!==e&&i)throw Error(T(425))}function dr(){}var mo=null,go=null;function vo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yo=typeof setTimeout=="function"?setTimeout:void 0,Om=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,$m=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(t){return Pu.resolve(null).then(t).catch(Dm)}:yo;function Dm(t){setTimeout(function(){throw t})}function gl(t,e){var i=e,n=0;do{var s=i.nextSibling;if(t.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(n===0){t.removeChild(s),Gn(e);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=s}while(i);Gn(e)}function Jt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var pn=Math.random().toString(36).slice(2),wt="__reactFiber$"+pn,ts="__reactProps$"+pn,Tt="__reactContainer$"+pn,xo="__reactEvents$"+pn,Wm="__reactListeners$"+pn,Um="__reactHandles$"+pn;function ui(t){var e=t[wt];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Tt]||i[wt]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Nu(t);t!==null;){if(i=t[wt])return i;t=Nu(t)}return e}t=i,i=t.parentNode}return null}function ms(t){return t=t[wt]||t[Tt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Fr(t){return t[ts]||null}var wo=[],Oi=-1;function ni(t){return{current:t}}function se(t){0>Oi||(t.current=wo[Oi],wo[Oi]=null,Oi--)}function te(t,e){Oi++,wo[Oi]=t.current,t.current=e}var ti={},Te=ni(ti),We=ni(!1),mi=ti;function nn(t,e){var i=t.type.contextTypes;if(!i)return ti;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in i)s[r]=e[r];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(t){return t=t.childContextTypes,t!=null}function fr(){se(We),se(Te)}function zu(t,e,i){if(Te.current!==ti)throw Error(T(168));te(Te,e),te(We,i)}function vd(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(T(108,Cp(t)||"Unknown",s));return ue({},i,n)}function pr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ti,mi=Te.current,te(Te,t),te(We,We.current),!0}function Tu(t,e,i){var n=t.stateNode;if(!n)throw Error(T(169));i?(t=vd(t,e,mi),n.__reactInternalMemoizedMergedChildContext=t,se(We),se(Te),te(Te,t)):se(We),te(We,i)}var bt=null,Br=!1,vl=!1;function yd(t){bt===null?bt=[t]:bt.push(t)}function Vm(t){Br=!0,yd(t)}function si(){if(!vl&&bt!==null){vl=!0;var t=0,e=q;try{var i=bt;for(q=1;t<i.length;t++){var n=i[t];do n=n(!0);while(n!==null)}bt=null,Br=!1}catch(s){throw bt!==null&&(bt=bt.slice(t+1)),Uc(ia,si),s}finally{q=e,vl=!1}}return null}var $i=[],Di=0,mr=null,gr=0,et=[],tt=0,gi=null,Mt=1,Ct="";function oi(t,e){$i[Di++]=gr,$i[Di++]=mr,mr=t,gr=e}function xd(t,e,i){et[tt++]=Mt,et[tt++]=Ct,et[tt++]=gi,gi=t;var n=Mt;t=Ct;var s=32-ct(n)-1;n&=~(1<<s),i+=1;var r=32-ct(e)+s;if(30<r){var l=s-s%5;r=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Mt=1<<32-ct(e)+s|i<<s|n,Ct=r+t}else Mt=1<<r|i<<s|n,Ct=t}function ca(t){t.return!==null&&(oi(t,1),xd(t,1,0))}function da(t){for(;t===mr;)mr=$i[--Di],$i[Di]=null,gr=$i[--Di],$i[Di]=null;for(;t===gi;)gi=et[--tt],et[tt]=null,Ct=et[--tt],et[tt]=null,Mt=et[--tt],et[tt]=null}var Ye=null,Qe=null,le=!1,ht=null;function wd(t,e){var i=it(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function Lu(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ye=t,Qe=Jt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ye=t,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=gi!==null?{id:Mt,overflow:Ct}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=it(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,Ye=t,Qe=null,!0):!1;default:return!1}}function _o(t){return(t.mode&1)!==0&&(t.flags&128)===0}function So(t){if(le){var e=Qe;if(e){var i=e;if(!Lu(t,e)){if(_o(t))throw Error(T(418));e=Jt(i.nextSibling);var n=Ye;e&&Lu(t,e)?wd(n,i):(t.flags=t.flags&-4097|2,le=!1,Ye=t)}}else{if(_o(t))throw Error(T(418));t.flags=t.flags&-4097|2,le=!1,Ye=t}}}function Ru(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ye=t}function Ns(t){if(t!==Ye)return!1;if(!le)return Ru(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vo(t.type,t.memoizedProps)),e&&(e=Qe)){if(_o(t))throw _d(),Error(T(418));for(;e;)wd(t,e),e=Jt(e.nextSibling)}if(Ru(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){Qe=Jt(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}Qe=null}}else Qe=Ye?Jt(t.stateNode.nextSibling):null;return!0}function _d(){for(var t=Qe;t;)t=Jt(t.nextSibling)}function sn(){Qe=Ye=null,le=!1}function fa(t){ht===null?ht=[t]:ht.push(t)}var Hm=It.ReactCurrentBatchConfig;function jn(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(T(309));var n=i.stateNode}if(!n)throw Error(T(147,t));var s=n,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(l){var a=s.refs;l===null?delete a[r]:a[r]=l},e._stringRef=r,e)}if(typeof t!="string")throw Error(T(284));if(!i._owner)throw Error(T(290,t))}return t}function zs(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Iu(t){var e=t._init;return e(t._payload)}function Sd(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function i(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Zt(g,p),g.index=0,g.sibling=null,g}function r(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function l(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,S){return p===null||p.tag!==6?(p=kl(y,g.mode,S),p.return=g,p):(p=s(p,y),p.return=g,p)}function u(g,p,y,S){var b=y.type;return b===Ri?c(g,p,y.props.children,S,y.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ot&&Iu(b)===p.type)?(S=s(p,y.props),S.ref=jn(g,p,y),S.return=g,S):(S=tr(y.type,y.key,y.props,null,g.mode,S),S.ref=jn(g,p,y),S.return=g,S)}function h(g,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=bl(y,g.mode,S),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function c(g,p,y,S,b){return p===null||p.tag!==7?(p=fi(y,g.mode,S,b),p.return=g,p):(p=s(p,y),p.return=g,p)}function d(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=kl(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ws:return y=tr(p.type,p.key,p.props,null,g.mode,y),y.ref=jn(g,null,p),y.return=g,y;case Li:return p=bl(p,g.mode,y),p.return=g,p;case Ot:var S=p._init;return d(g,S(p._payload),y)}if(En(p)||yn(p))return p=fi(p,g.mode,y,null),p.return=g,p;zs(g,p)}return null}function f(g,p,y,S){var b=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(g,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ws:return y.key===b?u(g,p,y,S):null;case Li:return y.key===b?h(g,p,y,S):null;case Ot:return b=y._init,f(g,p,b(y._payload),S)}if(En(y)||yn(y))return b!==null?null:c(g,p,y,S,null);zs(g,y)}return null}function m(g,p,y,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(y)||null,a(p,g,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ws:return g=g.get(S.key===null?y:S.key)||null,u(p,g,S,b);case Li:return g=g.get(S.key===null?y:S.key)||null,h(p,g,S,b);case Ot:var M=S._init;return m(g,p,y,M(S._payload),b)}if(En(S)||yn(S))return g=g.get(y)||null,c(p,g,S,b,null);zs(p,S)}return null}function v(g,p,y,S){for(var b=null,M=null,_=p,j=p=0,C=null;_!==null&&j<y.length;j++){_.index>j?(C=_,_=null):C=_.sibling;var I=f(g,_,y[j],S);if(I===null){_===null&&(_=C);break}t&&_&&I.alternate===null&&e(g,_),p=r(I,p,j),M===null?b=I:M.sibling=I,M=I,_=C}if(j===y.length)return i(g,_),le&&oi(g,j),b;if(_===null){for(;j<y.length;j++)_=d(g,y[j],S),_!==null&&(p=r(_,p,j),M===null?b=_:M.sibling=_,M=_);return le&&oi(g,j),b}for(_=n(g,_);j<y.length;j++)C=m(_,g,j,y[j],S),C!==null&&(t&&C.alternate!==null&&_.delete(C.key===null?j:C.key),p=r(C,p,j),M===null?b=C:M.sibling=C,M=C);return t&&_.forEach(function(F){return e(g,F)}),le&&oi(g,j),b}function x(g,p,y,S){var b=yn(y);if(typeof b!="function")throw Error(T(150));if(y=b.call(y),y==null)throw Error(T(151));for(var M=b=null,_=p,j=p=0,C=null,I=y.next();_!==null&&!I.done;j++,I=y.next()){_.index>j?(C=_,_=null):C=_.sibling;var F=f(g,_,I.value,S);if(F===null){_===null&&(_=C);break}t&&_&&F.alternate===null&&e(g,_),p=r(F,p,j),M===null?b=F:M.sibling=F,M=F,_=C}if(I.done)return i(g,_),le&&oi(g,j),b;if(_===null){for(;!I.done;j++,I=y.next())I=d(g,I.value,S),I!==null&&(p=r(I,p,j),M===null?b=I:M.sibling=I,M=I);return le&&oi(g,j),b}for(_=n(g,_);!I.done;j++,I=y.next())I=m(_,g,j,I.value,S),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?j:I.key),p=r(I,p,j),M===null?b=I:M.sibling=I,M=I);return t&&_.forEach(function(V){return e(g,V)}),le&&oi(g,j),b}function E(g,p,y,S){if(typeof y=="object"&&y!==null&&y.type===Ri&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ws:e:{for(var b=y.key,M=p;M!==null;){if(M.key===b){if(b=y.type,b===Ri){if(M.tag===7){i(g,M.sibling),p=s(M,y.props.children),p.return=g,g=p;break e}}else if(M.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ot&&Iu(b)===M.type){i(g,M.sibling),p=s(M,y.props),p.ref=jn(g,M,y),p.return=g,g=p;break e}i(g,M);break}else e(g,M);M=M.sibling}y.type===Ri?(p=fi(y.props.children,g.mode,S,y.key),p.return=g,g=p):(S=tr(y.type,y.key,y.props,null,g.mode,S),S.ref=jn(g,p,y),S.return=g,g=S)}return l(g);case Li:e:{for(M=y.key;p!==null;){if(p.key===M)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){i(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{i(g,p);break}else e(g,p);p=p.sibling}p=bl(y,g.mode,S),p.return=g,g=p}return l(g);case Ot:return M=y._init,E(g,p,M(y._payload),S)}if(En(y))return v(g,p,y,S);if(yn(y))return x(g,p,y,S);zs(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(i(g,p.sibling),p=s(p,y),p.return=g,g=p):(i(g,p),p=kl(y,g.mode,S),p.return=g,g=p),l(g)):i(g,p)}return E}var rn=Sd(!0),jd=Sd(!1),vr=ni(null),yr=null,Wi=null,pa=null;function ma(){pa=Wi=yr=null}function ga(t){var e=vr.current;se(vr),t._currentValue=e}function jo(t,e,i){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function Xi(t,e){yr=t,pa=Wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(De=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(pa!==t)if(t={context:t,memoizedValue:e,next:null},Wi===null){if(yr===null)throw Error(T(308));Wi=t,yr.dependencies={lanes:0,firstContext:t}}else Wi=Wi.next=t;return e}var hi=null;function va(t){hi===null?hi=[t]:hi.push(t)}function kd(t,e,i,n){var s=e.interleaved;return s===null?(i.next=i,va(e)):(i.next=s.next,s.next=i),e.interleaved=i,Lt(t,n)}function Lt(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var $t=!1;function ya(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gt(t,e,i){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Lt(t,i)}return s=n.interleaved,s===null?(e.next=e,va(n)):(e.next=s.next,s.next=e),n.interleaved=e,Lt(t,i)}function Js(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,na(t,i)}}function Fu(t,e){var i=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var s=null,r=null;if(i=i.firstBaseUpdate,i!==null){do{var l={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};r===null?s=r=l:r=r.next=l,i=i.next}while(i!==null);r===null?s=r=e:r=r.next=e}else s=r=e;i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function xr(t,e,i,n){var s=t.updateQueue;$t=!1;var r=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,h=u.next;u.next=null,l===null?r=h:l.next=h,l=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==l&&(a===null?c.firstBaseUpdate=h:a.next=h,c.lastBaseUpdate=u))}if(r!==null){var d=s.baseState;l=0,c=h=u=null,a=r;do{var f=a.lane,m=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(f=e,m=i,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=ue({},d,f);break e;case 2:$t=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(h=c=m,u=d):c=c.next=m,l|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(u=d),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);yi|=l,t.lanes=l,t.memoizedState=d}}function Bu(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=i,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var gs={},St=ni(gs),is=ni(gs),ns=ni(gs);function ci(t){if(t===gs)throw Error(T(174));return t}function xa(t,e){switch(te(ns,e),te(is,t),te(St,gs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:io(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=io(e,t)}se(St),te(St,e)}function ln(){se(St),se(is),se(ns)}function Md(t){ci(ns.current);var e=ci(St.current),i=io(e,t.type);e!==i&&(te(is,t),te(St,i))}function wa(t){is.current===t&&(se(St),se(is))}var oe=ni(0);function wr(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yl=[];function _a(){for(var t=0;t<yl.length;t++)yl[t]._workInProgressVersionPrimary=null;yl.length=0}var Gs=It.ReactCurrentDispatcher,xl=It.ReactCurrentBatchConfig,vi=0,ae=null,ye=null,_e=null,_r=!1,Fn=!1,ss=0,Km=0;function Ee(){throw Error(T(321))}function Sa(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!ft(t[i],e[i]))return!1;return!0}function ja(t,e,i,n,s,r){if(vi=r,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gs.current=t===null||t.memoizedState===null?Gm:Xm,t=i(n,s),Fn){r=0;do{if(Fn=!1,ss=0,25<=r)throw Error(T(301));r+=1,_e=ye=null,e.updateQueue=null,Gs.current=qm,t=i(n,s)}while(Fn)}if(Gs.current=Sr,e=ye!==null&&ye.next!==null,vi=0,_e=ye=ae=null,_r=!1,e)throw Error(T(300));return t}function ka(){var t=ss!==0;return ss=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ae.memoizedState=_e=t:_e=_e.next=t,_e}function rt(){if(ye===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=_e===null?ae.memoizedState:_e.next;if(e!==null)_e=e,ye=t;else{if(t===null)throw Error(T(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},_e===null?ae.memoizedState=_e=t:_e=_e.next=t}return _e}function rs(t,e){return typeof e=="function"?e(t):e}function wl(t){var e=rt(),i=e.queue;if(i===null)throw Error(T(311));i.lastRenderedReducer=t;var n=ye,s=n.baseQueue,r=i.pending;if(r!==null){if(s!==null){var l=s.next;s.next=r.next,r.next=l}n.baseQueue=s=r,i.pending=null}if(s!==null){r=s.next,n=n.baseState;var a=l=null,u=null,h=r;do{var c=h.lane;if((vi&c)===c)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var d={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(a=u=d,l=n):u=u.next=d,ae.lanes|=c,yi|=c}h=h.next}while(h!==null&&h!==r);u===null?l=n:u.next=a,ft(n,e.memoizedState)||(De=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=u,i.lastRenderedState=n}if(t=i.interleaved,t!==null){s=t;do r=s.lane,ae.lanes|=r,yi|=r,s=s.next;while(s!==t)}else s===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function _l(t){var e=rt(),i=e.queue;if(i===null)throw Error(T(311));i.lastRenderedReducer=t;var n=i.dispatch,s=i.pending,r=e.memoizedState;if(s!==null){i.pending=null;var l=s=s.next;do r=t(r,l.action),l=l.next;while(l!==s);ft(r,e.memoizedState)||(De=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),i.lastRenderedState=r}return[r,n]}function Cd(){}function Ed(t,e){var i=ae,n=rt(),s=e(),r=!ft(n.memoizedState,s);if(r&&(n.memoizedState=s,De=!0),n=n.queue,ba(zd.bind(null,i,n,t),[t]),n.getSnapshot!==e||r||_e!==null&&_e.memoizedState.tag&1){if(i.flags|=2048,ls(9,Nd.bind(null,i,n,s,e),void 0,null),Se===null)throw Error(T(349));vi&30||Pd(i,e,s)}return s}function Pd(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Nd(t,e,i,n){e.value=i,e.getSnapshot=n,Td(e)&&Ld(t)}function zd(t,e,i){return i(function(){Td(e)&&Ld(t)})}function Td(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!ft(t,i)}catch{return!0}}function Ld(t){var e=Lt(t,1);e!==null&&dt(e,t,1,-1)}function Au(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},e.queue=t,t=t.dispatch=Jm.bind(null,ae,t),[e.memoizedState,t]}function ls(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t)),t}function Rd(){return rt().memoizedState}function Xs(t,e,i,n){var s=xt();ae.flags|=t,s.memoizedState=ls(1|e,i,void 0,n===void 0?null:n)}function Ar(t,e,i,n){var s=rt();n=n===void 0?null:n;var r=void 0;if(ye!==null){var l=ye.memoizedState;if(r=l.destroy,n!==null&&Sa(n,l.deps)){s.memoizedState=ls(e,i,r,n);return}}ae.flags|=t,s.memoizedState=ls(1|e,i,r,n)}function Ou(t,e){return Xs(8390656,8,t,e)}function ba(t,e){return Ar(2048,8,t,e)}function Id(t,e){return Ar(4,2,t,e)}function Fd(t,e){return Ar(4,4,t,e)}function Bd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ad(t,e,i){return i=i!=null?i.concat([t]):null,Ar(4,4,Bd.bind(null,e,t),i)}function Ma(){}function Od(t,e){var i=rt();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&Sa(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function $d(t,e){var i=rt();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&Sa(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Dd(t,e,i){return vi&21?(ft(i,e)||(i=Kc(),ae.lanes|=i,yi|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,De=!0),t.memoizedState=i)}function Qm(t,e){var i=q;q=i!==0&&4>i?i:4,t(!0);var n=xl.transition;xl.transition={};try{t(!1),e()}finally{q=i,xl.transition=n}}function Wd(){return rt().memoizedState}function Ym(t,e,i){var n=qt(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Ud(t))Vd(e,i);else if(i=kd(t,e,i,n),i!==null){var s=Fe();dt(i,t,n,s),Hd(i,e,n)}}function Jm(t,e,i){var n=qt(t),s={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ud(t))Vd(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,a=r(l,i);if(s.hasEagerState=!0,s.eagerState=a,ft(a,l)){var u=e.interleaved;u===null?(s.next=s,va(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}i=kd(t,e,s,n),i!==null&&(s=Fe(),dt(i,t,n,s),Hd(i,e,n))}}function Ud(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function Vd(t,e){Fn=_r=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Hd(t,e,i){if(i&4194240){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,na(t,i)}}var Sr={readContext:st,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Gm={readContext:st,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:Ou,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,Xs(4194308,4,Bd.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Xs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xs(4,2,t,e)},useMemo:function(t,e){var i=xt();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=xt();return e=i!==void 0?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Ym.bind(null,ae,t),[n.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:Au,useDebugValue:Ma,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=Au(!1),e=t[0];return t=Qm.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=ae,s=xt();if(le){if(i===void 0)throw Error(T(407));i=i()}else{if(i=e(),Se===null)throw Error(T(349));vi&30||Pd(n,e,i)}s.memoizedState=i;var r={value:i,getSnapshot:e};return s.queue=r,Ou(zd.bind(null,n,r,t),[t]),n.flags|=2048,ls(9,Nd.bind(null,n,r,i,e),void 0,null),i},useId:function(){var t=xt(),e=Se.identifierPrefix;if(le){var i=Ct,n=Mt;i=(n&~(1<<32-ct(n)-1)).toString(32)+i,e=":"+e+"R"+i,i=ss++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=Km++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xm={readContext:st,useCallback:Od,useContext:st,useEffect:ba,useImperativeHandle:Ad,useInsertionEffect:Id,useLayoutEffect:Fd,useMemo:$d,useReducer:wl,useRef:Rd,useState:function(){return wl(rs)},useDebugValue:Ma,useDeferredValue:function(t){var e=rt();return Dd(e,ye.memoizedState,t)},useTransition:function(){var t=wl(rs)[0],e=rt().memoizedState;return[t,e]},useMutableSource:Cd,useSyncExternalStore:Ed,useId:Wd,unstable_isNewReconciler:!1},qm={readContext:st,useCallback:Od,useContext:st,useEffect:ba,useImperativeHandle:Ad,useInsertionEffect:Id,useLayoutEffect:Fd,useMemo:$d,useReducer:_l,useRef:Rd,useState:function(){return _l(rs)},useDebugValue:Ma,useDeferredValue:function(t){var e=rt();return ye===null?e.memoizedState=t:Dd(e,ye.memoizedState,t)},useTransition:function(){var t=_l(rs)[0],e=rt().memoizedState;return[t,e]},useMutableSource:Cd,useSyncExternalStore:Ed,useId:Wd,unstable_isNewReconciler:!1};function at(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function ko(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:ue({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Or={isMounted:function(t){return(t=t._reactInternals)?Mi(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=Fe(),s=qt(t),r=Nt(n,s);r.payload=e,i!=null&&(r.callback=i),e=Gt(t,r,s),e!==null&&(dt(e,t,s,n),Js(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=Fe(),s=qt(t),r=Nt(n,s);r.tag=1,r.payload=e,i!=null&&(r.callback=i),e=Gt(t,r,s),e!==null&&(dt(e,t,s,n),Js(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Fe(),n=qt(t),s=Nt(i,n);s.tag=2,e!=null&&(s.callback=e),e=Gt(t,s,n),e!==null&&(dt(e,t,n,i),Js(e,t,n))}};function $u(t,e,i,n,s,r,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,r,l):e.prototype&&e.prototype.isPureReactComponent?!qn(i,n)||!qn(s,r):!0}function Kd(t,e,i){var n=!1,s=ti,r=e.contextType;return typeof r=="object"&&r!==null?r=st(r):(s=Ue(e)?mi:Te.current,n=e.contextTypes,r=(n=n!=null)?nn(t,s):ti),e=new e(i,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Or,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Du(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&Or.enqueueReplaceState(e,e.state,null)}function bo(t,e,i,n){var s=t.stateNode;s.props=i,s.state=t.memoizedState,s.refs={},ya(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=st(r):(r=Ue(e)?mi:Te.current,s.context=nn(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(ko(t,e,r,i),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Or.enqueueReplaceState(s,s.state,null),xr(t,i,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function on(t,e){try{var i="",n=e;do i+=Mp(n),n=n.return;while(n);var s=i}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Sl(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function Mo(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var Zm=typeof WeakMap=="function"?WeakMap:Map;function Qd(t,e,i){i=Nt(-1,i),i.tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){kr||(kr=!0,Fo=n),Mo(t,e)},i}function Yd(t,e,i){i=Nt(-1,i),i.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;i.payload=function(){return n(s)},i.callback=function(){Mo(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(i.callback=function(){Mo(t,e),typeof n!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),i}function Wu(t,e,i){var n=t.pingCache;if(n===null){n=t.pingCache=new Zm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(i)||(s.add(i),t=fg.bind(null,t,e,i),e.then(t,t))}function Uu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vu(t,e,i,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=Nt(-1,1),e.tag=2,Gt(i,e,1))),i.lanes|=1),t)}var eg=It.ReactCurrentOwner,De=!1;function Ie(t,e,i,n){e.child=t===null?jd(e,null,i,n):rn(e,t.child,i,n)}function Hu(t,e,i,n,s){i=i.render;var r=e.ref;return Xi(e,s),n=ja(t,e,i,n,r,s),i=ka(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rt(t,e,s)):(le&&i&&ca(e),e.flags|=1,Ie(t,e,n,s),e.child)}function Ku(t,e,i,n,s){if(t===null){var r=i.type;return typeof r=="function"&&!Ra(r)&&r.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=r,Jd(t,e,r,n,s)):(t=tr(i.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var l=r.memoizedProps;if(i=i.compare,i=i!==null?i:qn,i(l,n)&&t.ref===e.ref)return Rt(t,e,s)}return e.flags|=1,t=Zt(r,n),t.ref=e.ref,t.return=e,e.child=t}function Jd(t,e,i,n,s){if(t!==null){var r=t.memoizedProps;if(qn(r,n)&&t.ref===e.ref)if(De=!1,e.pendingProps=n=r,(t.lanes&s)!==0)t.flags&131072&&(De=!0);else return e.lanes=t.lanes,Rt(t,e,s)}return Co(t,e,i,n,s)}function Gd(t,e,i){var n=e.pendingProps,s=n.children,r=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Vi,Ke),Ke|=i;else{if(!(i&1073741824))return t=r!==null?r.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(Vi,Ke),Ke|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:i,te(Vi,Ke),Ke|=n}else r!==null?(n=r.baseLanes|i,e.memoizedState=null):n=i,te(Vi,Ke),Ke|=n;return Ie(t,e,s,i),e.child}function Xd(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Co(t,e,i,n,s){var r=Ue(i)?mi:Te.current;return r=nn(e,r),Xi(e,s),i=ja(t,e,i,n,r,s),n=ka(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rt(t,e,s)):(le&&n&&ca(e),e.flags|=1,Ie(t,e,i,s),e.child)}function Qu(t,e,i,n,s){if(Ue(i)){var r=!0;pr(e)}else r=!1;if(Xi(e,s),e.stateNode===null)qs(t,e),Kd(e,i,n),bo(e,i,n,s),n=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var u=l.context,h=i.contextType;typeof h=="object"&&h!==null?h=st(h):(h=Ue(i)?mi:Te.current,h=nn(e,h));var c=i.getDerivedStateFromProps,d=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==n||u!==h)&&Du(e,l,n,h),$t=!1;var f=e.memoizedState;l.state=f,xr(e,n,l,s),u=e.memoizedState,a!==n||f!==u||We.current||$t?(typeof c=="function"&&(ko(e,i,c,n),u=e.memoizedState),(a=$t||$u(e,i,a,n,f,u,h))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),l.props=n,l.state=u,l.context=h,n=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,bd(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:at(e.type,a),l.props=h,d=e.pendingProps,f=l.context,u=i.contextType,typeof u=="object"&&u!==null?u=st(u):(u=Ue(i)?mi:Te.current,u=nn(e,u));var m=i.getDerivedStateFromProps;(c=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Du(e,l,n,u),$t=!1,f=e.memoizedState,l.state=f,xr(e,n,l,s);var v=e.memoizedState;a!==d||f!==v||We.current||$t?(typeof m=="function"&&(ko(e,i,m,n),v=e.memoizedState),(h=$t||$u(e,i,h,n,f,v,u)||!1)?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,v,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,v,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),l.props=n,l.state=v,l.context=u,n=h):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Eo(t,e,i,n,r,s)}function Eo(t,e,i,n,s,r){Xd(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return s&&Tu(e,i,!1),Rt(t,e,r);n=e.stateNode,eg.current=e;var a=l&&typeof i.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=rn(e,t.child,null,r),e.child=rn(e,null,a,r)):Ie(t,e,a,r),e.memoizedState=n.state,s&&Tu(e,i,!0),e.child}function qd(t){var e=t.stateNode;e.pendingContext?zu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zu(t,e.context,!1),xa(t,e.containerInfo)}function Yu(t,e,i,n,s){return sn(),fa(s),e.flags|=256,Ie(t,e,i,n),e.child}var Po={dehydrated:null,treeContext:null,retryLane:0};function No(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zd(t,e,i){var n=e.pendingProps,s=oe.current,r=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),te(oe,s&1),t===null)return So(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,r?(n=e.mode,r=e.child,l={mode:"hidden",children:l},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=Wr(l,n,0,null),t=fi(t,n,i,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=No(i),e.memoizedState=Po,t):Ca(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return tg(t,e,l,n,a,s,i);if(r){r=n.fallback,l=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(l&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Zt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Zt(a,r):(r=fi(r,l,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,n=r,r=e.child,l=t.child.memoizedState,l=l===null?No(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=t.childLanes&~i,e.memoizedState=Po,n}return r=t.child,t=r.sibling,n=Zt(r,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n}function Ca(t,e){return e=Wr({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ts(t,e,i,n){return n!==null&&fa(n),rn(e,t.child,null,i),t=Ca(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tg(t,e,i,n,s,r,l){if(i)return e.flags&256?(e.flags&=-257,n=Sl(Error(T(422))),Ts(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=n.fallback,s=e.mode,n=Wr({mode:"visible",children:n.children},s,0,null),r=fi(r,s,l,null),r.flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,e.mode&1&&rn(e,t.child,null,l),e.child.memoizedState=No(l),e.memoizedState=Po,r);if(!(e.mode&1))return Ts(t,e,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,r=Error(T(419)),n=Sl(r,n,void 0),Ts(t,e,l,n)}if(a=(l&t.childLanes)!==0,De||a){if(n=Se,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Lt(t,s),dt(n,t,s,-1))}return La(),n=Sl(Error(T(421))),Ts(t,e,l,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pg.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,Qe=Jt(s.nextSibling),Ye=e,le=!0,ht=null,t!==null&&(et[tt++]=Mt,et[tt++]=Ct,et[tt++]=gi,Mt=t.id,Ct=t.overflow,gi=e),e=Ca(e,n.children),e.flags|=4096,e)}function Ju(t,e,i){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),jo(t.return,e,i)}function jl(t,e,i,n,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=s)}function ef(t,e,i){var n=e.pendingProps,s=n.revealOrder,r=n.tail;if(Ie(t,e,n.children,i),n=oe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ju(t,i,e);else if(t.tag===19)Ju(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(te(oe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(i=e.child,s=null;i!==null;)t=i.alternate,t!==null&&wr(t)===null&&(s=i),i=i.sibling;i=s,i===null?(s=e.child,e.child=null):(s=i.sibling,i.sibling=null),jl(e,!1,s,i,r);break;case"backwards":for(i=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wr(t)===null){e.child=s;break}t=s.sibling,s.sibling=i,i=s,s=t}jl(e,!0,i,null,r);break;case"together":jl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rt(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,i=Zt(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Zt(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function ig(t,e,i){switch(e.tag){case 3:qd(e),sn();break;case 5:Md(e);break;case 1:Ue(e.type)&&pr(e);break;case 4:xa(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;te(vr,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(te(oe,oe.current&1),e.flags|=128,null):i&e.child.childLanes?Zd(t,e,i):(te(oe,oe.current&1),t=Rt(t,e,i),t!==null?t.sibling:null);te(oe,oe.current&1);break;case 19:if(n=(i&e.childLanes)!==0,t.flags&128){if(n)return ef(t,e,i);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(oe,oe.current),n)break;return null;case 22:case 23:return e.lanes=0,Gd(t,e,i)}return Rt(t,e,i)}var tf,zo,nf,sf;tf=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};zo=function(){};nf=function(t,e,i,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ci(St.current);var r=null;switch(i){case"input":s=ql(t,s),n=ql(t,n),r=[];break;case"select":s=ue({},s,{value:void 0}),n=ue({},n,{value:void 0}),r=[];break;case"textarea":s=to(t,s),n=to(t,n),r=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=dr)}no(i,n);var l;i=null;for(h in s)if(!n.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var a=s[h];for(l in a)a.hasOwnProperty(l)&&(i||(i={}),i[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Hn.hasOwnProperty(h)?r||(r=[]):(r=r||[]).push(h,null));for(h in n){var u=n[h];if(a=s!=null?s[h]:void 0,n.hasOwnProperty(h)&&u!==a&&(u!=null||a!=null))if(h==="style")if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(i||(i={}),i[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(i||(i={}),i[l]=u[l])}else i||(r||(r=[]),r.push(h,i)),i=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(r=r||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(r=r||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Hn.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ne("scroll",t),r||a===u||(r=[])):(r=r||[]).push(h,u))}i&&(r=r||[]).push("style",i);var h=r;(e.updateQueue=h)&&(e.flags|=4)}};sf=function(t,e,i,n){i!==n&&(e.flags|=4)};function kn(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,n=0;if(e)for(var s=t.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function ng(t,e,i){var n=e.pendingProps;switch(da(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Ue(e.type)&&fr(),Pe(e),null;case 3:return n=e.stateNode,ln(),se(We),se(Te),_a(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ht!==null&&(Oo(ht),ht=null))),zo(t,e),Pe(e),null;case 5:wa(e);var s=ci(ns.current);if(i=e.type,t!==null&&e.stateNode!=null)nf(t,e,i,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(T(166));return Pe(e),null}if(t=ci(St.current),Ns(e)){n=e.stateNode,i=e.type;var r=e.memoizedProps;switch(n[wt]=e,n[ts]=r,t=(e.mode&1)!==0,i){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(s=0;s<Nn.length;s++)ne(Nn[s],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":su(n,r),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},ne("invalid",n);break;case"textarea":lu(n,r),ne("invalid",n)}no(i,r),s=null;for(var l in r)if(r.hasOwnProperty(l)){var a=r[l];l==="children"?typeof a=="string"?n.textContent!==a&&(r.suppressHydrationWarning!==!0&&Ps(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Ps(n.textContent,a,t),s=["children",""+a]):Hn.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ne("scroll",n)}switch(i){case"input":_s(n),ru(n,r,!0);break;case"textarea":_s(n),ou(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=dr)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zc(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(i,{is:n.is}):(t=l.createElement(i),i==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,i),t[wt]=e,t[ts]=n,tf(t,e,!1,!1),e.stateNode=t;e:{switch(l=so(i,n),i){case"dialog":ne("cancel",t),ne("close",t),s=n;break;case"iframe":case"object":case"embed":ne("load",t),s=n;break;case"video":case"audio":for(s=0;s<Nn.length;s++)ne(Nn[s],t);s=n;break;case"source":ne("error",t),s=n;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=n;break;case"details":ne("toggle",t),s=n;break;case"input":su(t,n),s=ql(t,n),ne("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ue({},n,{value:void 0}),ne("invalid",t);break;case"textarea":lu(t,n),s=to(t,n),ne("invalid",t);break;default:s=n}no(i,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var u=a[r];r==="style"?Rc(t,u):r==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tc(t,u)):r==="children"?typeof u=="string"?(i!=="textarea"||u!=="")&&Kn(t,u):typeof u=="number"&&Kn(t,""+u):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Hn.hasOwnProperty(r)?u!=null&&r==="onScroll"&&ne("scroll",t):u!=null&&Xo(t,r,u,l))}switch(i){case"input":_s(t),ru(t,n,!1);break;case"textarea":_s(t),ou(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ei(n.value));break;case"select":t.multiple=!!n.multiple,r=n.value,r!=null?Qi(t,!!n.multiple,r,!1):n.defaultValue!=null&&Qi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=dr)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)sf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(T(166));if(i=ci(ns.current),ci(St.current),Ns(e)){if(n=e.stateNode,i=e.memoizedProps,n[wt]=e,(r=n.nodeValue!==i)&&(t=Ye,t!==null))switch(t.tag){case 3:Ps(n.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ps(n.nodeValue,i,(t.mode&1)!==0)}r&&(e.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[wt]=e,e.stateNode=n}return Pe(e),null;case 13:if(se(oe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&Qe!==null&&e.mode&1&&!(e.flags&128))_d(),sn(),e.flags|=98560,r=!1;else if(r=Ns(e),n!==null&&n.dehydrated!==null){if(t===null){if(!r)throw Error(T(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(T(317));r[wt]=e}else sn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),r=!1}else ht!==null&&(Oo(ht),ht=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?xe===0&&(xe=3):La())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return ln(),zo(t,e),t===null&&Zn(e.stateNode.containerInfo),Pe(e),null;case 10:return ga(e.type._context),Pe(e),null;case 17:return Ue(e.type)&&fr(),Pe(e),null;case 19:if(se(oe),r=e.memoizedState,r===null)return Pe(e),null;if(n=(e.flags&128)!==0,l=r.rendering,l===null)if(n)kn(r,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=wr(t),l!==null){for(e.flags|=128,kn(r,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;i!==null;)r=i,t=n,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return te(oe,oe.current&1|2),e.child}t=t.sibling}r.tail!==null&&ce()>an&&(e.flags|=128,n=!0,kn(r,!1),e.lanes=4194304)}else{if(!n)if(t=wr(l),t!==null){if(e.flags|=128,n=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),kn(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!le)return Pe(e),null}else 2*ce()-r.renderingStartTime>an&&i!==1073741824&&(e.flags|=128,n=!0,kn(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(i=r.last,i!==null?i.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ce(),e.sibling=null,i=oe.current,te(oe,n?i&1|2:i&1),e):(Pe(e),null);case 22:case 23:return Ta(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ke&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function sg(t,e){switch(da(e),e.tag){case 1:return Ue(e.type)&&fr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ln(),se(We),se(Te),_a(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wa(e),null;case 13:if(se(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));sn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(oe),null;case 4:return ln(),null;case 10:return ga(e.type._context),null;case 22:case 23:return Ta(),null;case 24:return null;default:return null}}var Ls=!1,ze=!1,rg=typeof WeakSet=="function"?WeakSet:Set,A=null;function Ui(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){he(t,e,n)}else i.current=null}function To(t,e,i){try{i()}catch(n){he(t,e,n)}}var Gu=!1;function lg(t,e){if(mo=ur,t=ad(),ha(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch{i=null;break e}var l=0,a=-1,u=-1,h=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==i||s!==0&&d.nodeType!==3||(a=l+s),d!==r||n!==0&&d.nodeType!==3||(u=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===i&&++h===s&&(a=l),f===r&&++c===n&&(u=l),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}i=a===-1||u===-1?null:{start:a,end:u}}else i=null}i=i||{start:0,end:0}}else i=null;for(go={focusedElem:t,selectionRange:i},ur=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,E=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:at(e.type,x),E);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(S){he(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return v=Gu,Gu=!1,v}function Bn(t,e,i){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&To(e,i,r)}s=s.next}while(s!==n)}}function $r(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function Lo(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function rf(t){var e=t.alternate;e!==null&&(t.alternate=null,rf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wt],delete e[ts],delete e[xo],delete e[Wm],delete e[Um])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lf(t){return t.tag===5||t.tag===3||t.tag===4}function Xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ro(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=dr));else if(n!==4&&(t=t.child,t!==null))for(Ro(t,e,i),t=t.sibling;t!==null;)Ro(t,e,i),t=t.sibling}function Io(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Io(t,e,i),t=t.sibling;t!==null;)Io(t,e,i),t=t.sibling}var je=null,ut=!1;function Bt(t,e,i){for(i=i.child;i!==null;)of(t,e,i),i=i.sibling}function of(t,e,i){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Tr,i)}catch{}switch(i.tag){case 5:ze||Ui(i,e);case 6:var n=je,s=ut;je=null,Bt(t,e,i),je=n,ut=s,je!==null&&(ut?(t=je,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):je.removeChild(i.stateNode));break;case 18:je!==null&&(ut?(t=je,i=i.stateNode,t.nodeType===8?gl(t.parentNode,i):t.nodeType===1&&gl(t,i),Gn(t)):gl(je,i.stateNode));break;case 4:n=je,s=ut,je=i.stateNode.containerInfo,ut=!0,Bt(t,e,i),je=n,ut=s;break;case 0:case 11:case 14:case 15:if(!ze&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var r=s,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&To(i,e,l),s=s.next}while(s!==n)}Bt(t,e,i);break;case 1:if(!ze&&(Ui(i,e),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){he(i,e,a)}Bt(t,e,i);break;case 21:Bt(t,e,i);break;case 22:i.mode&1?(ze=(n=ze)||i.memoizedState!==null,Bt(t,e,i),ze=n):Bt(t,e,i);break;default:Bt(t,e,i)}}function qu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new rg),e.forEach(function(n){var s=mg.bind(null,t,n);i.has(n)||(i.add(n),n.then(s,s))})}}function ot(t,e){var i=e.deletions;if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];try{var r=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,ut=!1;break e;case 3:je=a.stateNode.containerInfo,ut=!0;break e;case 4:je=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(je===null)throw Error(T(160));of(r,l,s),je=null,ut=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){he(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)af(e,t),e=e.sibling}function af(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ot(e,t),vt(t),n&4){try{Bn(3,t,t.return),$r(3,t)}catch(x){he(t,t.return,x)}try{Bn(5,t,t.return)}catch(x){he(t,t.return,x)}}break;case 1:ot(e,t),vt(t),n&512&&i!==null&&Ui(i,i.return);break;case 5:if(ot(e,t),vt(t),n&512&&i!==null&&Ui(i,i.return),t.flags&32){var s=t.stateNode;try{Kn(s,"")}catch(x){he(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,l=i!==null?i.memoizedProps:r,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Pc(s,r),so(a,l);var h=so(a,r);for(l=0;l<u.length;l+=2){var c=u[l],d=u[l+1];c==="style"?Rc(s,d):c==="dangerouslySetInnerHTML"?Tc(s,d):c==="children"?Kn(s,d):Xo(s,c,d,h)}switch(a){case"input":Zl(s,r);break;case"textarea":Nc(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var m=r.value;m!=null?Qi(s,!!r.multiple,m,!1):f!==!!r.multiple&&(r.defaultValue!=null?Qi(s,!!r.multiple,r.defaultValue,!0):Qi(s,!!r.multiple,r.multiple?[]:"",!1))}s[ts]=r}catch(x){he(t,t.return,x)}}break;case 6:if(ot(e,t),vt(t),n&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(x){he(t,t.return,x)}}break;case 3:if(ot(e,t),vt(t),n&4&&i!==null&&i.memoizedState.isDehydrated)try{Gn(e.containerInfo)}catch(x){he(t,t.return,x)}break;case 4:ot(e,t),vt(t);break;case 13:ot(e,t),vt(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Na=ce())),n&4&&qu(t);break;case 22:if(c=i!==null&&i.memoizedState!==null,t.mode&1?(ze=(h=ze)||c,ot(e,t),ze=h):ot(e,t),vt(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!c&&t.mode&1)for(A=t,c=t.child;c!==null;){for(d=A=c;A!==null;){switch(f=A,m=f.child,f.tag){case 0:case 11:case 14:case 15:Bn(4,f,f.return);break;case 1:Ui(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,i=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){he(n,i,x)}}break;case 5:Ui(f,f.return);break;case 22:if(f.memoizedState!==null){eh(d);continue}}m!==null?(m.return=f,A=m):eh(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,h?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,u=d.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Lc("display",l))}catch(x){he(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(x){he(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ot(e,t),vt(t),n&4&&qu(t);break;case 21:break;default:ot(e,t),vt(t)}}function vt(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(lf(i)){var n=i;break e}i=i.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Kn(s,""),n.flags&=-33);var r=Xu(t);Io(t,r,s);break;case 3:case 4:var l=n.stateNode.containerInfo,a=Xu(t);Ro(t,a,l);break;default:throw Error(T(161))}}catch(u){he(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function og(t,e,i){A=t,uf(t)}function uf(t,e,i){for(var n=(t.mode&1)!==0;A!==null;){var s=A,r=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Ls;if(!l){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ze;a=Ls;var h=ze;if(Ls=l,(ze=u)&&!h)for(A=s;A!==null;)l=A,u=l.child,l.tag===22&&l.memoizedState!==null?th(s):u!==null?(u.return=l,A=u):th(s);for(;r!==null;)A=r,uf(r),r=r.sibling;A=s,Ls=a,ze=h}Zu(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,A=r):Zu(t)}}function Zu(t){for(;A!==null;){var e=A;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ze||$r(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ze)if(i===null)n.componentDidMount();else{var s=e.elementType===e.type?i.memoizedProps:at(e.type,i.memoizedProps);n.componentDidUpdate(s,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Bu(e,r,n);break;case 3:var l=e.updateQueue;if(l!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}Bu(e,l,i)}break;case 5:var a=e.stateNode;if(i===null&&e.flags&4){i=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&i.focus();break;case"img":u.src&&(i.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var c=h.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Gn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}ze||e.flags&512&&Lo(e)}catch(f){he(e,e.return,f)}}if(e===t){A=null;break}if(i=e.sibling,i!==null){i.return=e.return,A=i;break}A=e.return}}function eh(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var i=e.sibling;if(i!==null){i.return=e.return,A=i;break}A=e.return}}function th(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{$r(4,e)}catch(u){he(e,i,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){he(e,s,u)}}var r=e.return;try{Lo(e)}catch(u){he(e,r,u)}break;case 5:var l=e.return;try{Lo(e)}catch(u){he(e,l,u)}}}catch(u){he(e,e.return,u)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var ag=Math.ceil,jr=It.ReactCurrentDispatcher,Ea=It.ReactCurrentOwner,nt=It.ReactCurrentBatchConfig,J=0,Se=null,ge=null,Me=0,Ke=0,Vi=ni(0),xe=0,os=null,yi=0,Dr=0,Pa=0,An=null,$e=null,Na=0,an=1/0,kt=null,kr=!1,Fo=null,Xt=null,Rs=!1,Vt=null,br=0,On=0,Bo=null,Zs=-1,er=0;function Fe(){return J&6?ce():Zs!==-1?Zs:Zs=ce()}function qt(t){return t.mode&1?J&2&&Me!==0?Me&-Me:Hm.transition!==null?(er===0&&(er=Kc()),er):(t=q,t!==0||(t=window.event,t=t===void 0?16:Zc(t.type)),t):1}function dt(t,e,i,n){if(50<On)throw On=0,Bo=null,Error(T(185));fs(t,i,n),(!(J&2)||t!==Se)&&(t===Se&&(!(J&2)&&(Dr|=i),xe===4&&Wt(t,Me)),Ve(t,n),i===1&&J===0&&!(e.mode&1)&&(an=ce()+500,Br&&si()))}function Ve(t,e){var i=t.callbackNode;Hp(t,e);var n=ar(t,t===Se?Me:0);if(n===0)i!==null&&hu(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(i!=null&&hu(i),e===1)t.tag===0?Vm(ih.bind(null,t)):yd(ih.bind(null,t)),$m(function(){!(J&6)&&si()}),i=null;else{switch(Qc(n)){case 1:i=ia;break;case 4:i=Vc;break;case 16:i=or;break;case 536870912:i=Hc;break;default:i=or}i=vf(i,hf.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function hf(t,e){if(Zs=-1,er=0,J&6)throw Error(T(327));var i=t.callbackNode;if(qi()&&t.callbackNode!==i)return null;var n=ar(t,t===Se?Me:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Mr(t,n);else{e=n;var s=J;J|=2;var r=df();(Se!==t||Me!==e)&&(kt=null,an=ce()+500,di(t,e));do try{cg();break}catch(a){cf(t,a)}while(!0);ma(),jr.current=r,J=s,ge!==null?e=0:(Se=null,Me=0,e=xe)}if(e!==0){if(e===2&&(s=uo(t),s!==0&&(n=s,e=Ao(t,s))),e===1)throw i=os,di(t,0),Wt(t,n),Ve(t,ce()),i;if(e===6)Wt(t,n);else{if(s=t.current.alternate,!(n&30)&&!ug(s)&&(e=Mr(t,n),e===2&&(r=uo(t),r!==0&&(n=r,e=Ao(t,r))),e===1))throw i=os,di(t,0),Wt(t,n),Ve(t,ce()),i;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(T(345));case 2:ai(t,$e,kt);break;case 3:if(Wt(t,n),(n&130023424)===n&&(e=Na+500-ce(),10<e)){if(ar(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Fe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=yo(ai.bind(null,t,$e,kt),e);break}ai(t,$e,kt);break;case 4:if(Wt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var l=31-ct(n);r=1<<l,l=e[l],l>s&&(s=l),n&=~r}if(n=s,n=ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ag(n/1960))-n,10<n){t.timeoutHandle=yo(ai.bind(null,t,$e,kt),n);break}ai(t,$e,kt);break;case 5:ai(t,$e,kt);break;default:throw Error(T(329))}}}return Ve(t,ce()),t.callbackNode===i?hf.bind(null,t):null}function Ao(t,e){var i=An;return t.current.memoizedState.isDehydrated&&(di(t,e).flags|=256),t=Mr(t,e),t!==2&&(e=$e,$e=i,e!==null&&Oo(e)),t}function Oo(t){$e===null?$e=t:$e.push.apply($e,t)}function ug(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var s=i[n],r=s.getSnapshot;s=s.value;try{if(!ft(r(),s))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wt(t,e){for(e&=~Pa,e&=~Dr,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-ct(e),n=1<<i;t[i]=-1,e&=~n}}function ih(t){if(J&6)throw Error(T(327));qi();var e=ar(t,0);if(!(e&1))return Ve(t,ce()),null;var i=Mr(t,e);if(t.tag!==0&&i===2){var n=uo(t);n!==0&&(e=n,i=Ao(t,n))}if(i===1)throw i=os,di(t,0),Wt(t,e),Ve(t,ce()),i;if(i===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,$e,kt),Ve(t,ce()),null}function za(t,e){var i=J;J|=1;try{return t(e)}finally{J=i,J===0&&(an=ce()+500,Br&&si())}}function xi(t){Vt!==null&&Vt.tag===0&&!(J&6)&&qi();var e=J;J|=1;var i=nt.transition,n=q;try{if(nt.transition=null,q=1,t)return t()}finally{q=n,nt.transition=i,J=e,!(J&6)&&si()}}function Ta(){Ke=Vi.current,se(Vi)}function di(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,Om(i)),ge!==null)for(i=ge.return;i!==null;){var n=i;switch(da(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fr();break;case 3:ln(),se(We),se(Te),_a();break;case 5:wa(n);break;case 4:ln();break;case 13:se(oe);break;case 19:se(oe);break;case 10:ga(n.type._context);break;case 22:case 23:Ta()}i=i.return}if(Se=t,ge=t=Zt(t.current,null),Me=Ke=e,xe=0,os=null,Pa=Dr=yi=0,$e=An=null,hi!==null){for(e=0;e<hi.length;e++)if(i=hi[e],n=i.interleaved,n!==null){i.interleaved=null;var s=n.next,r=i.pending;if(r!==null){var l=r.next;r.next=s,n.next=l}i.pending=n}hi=null}return t}function cf(t,e){do{var i=ge;try{if(ma(),Gs.current=Sr,_r){for(var n=ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_r=!1}if(vi=0,_e=ye=ae=null,Fn=!1,ss=0,Ea.current=null,i===null||i.return===null){xe=1,os=e,ge=null;break}e:{var r=t,l=i.return,a=i,u=e;if(e=Me,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Uu(l);if(m!==null){m.flags&=-257,Vu(m,l,a,r,e),m.mode&1&&Wu(r,h,e),e=m,u=h;var v=e.updateQueue;if(v===null){var x=new Set;x.add(u),e.updateQueue=x}else v.add(u);break e}else{if(!(e&1)){Wu(r,h,e),La();break e}u=Error(T(426))}}else if(le&&a.mode&1){var E=Uu(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Vu(E,l,a,r,e),fa(on(u,a));break e}}r=u=on(u,a),xe!==4&&(xe=2),An===null?An=[r]:An.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=Qd(r,u,e);Fu(r,g);break e;case 1:a=u;var p=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xt===null||!Xt.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var S=Yd(r,a,e);Fu(r,S);break e}}r=r.return}while(r!==null)}pf(i)}catch(b){e=b,ge===i&&i!==null&&(ge=i=i.return);continue}break}while(!0)}function df(){var t=jr.current;return jr.current=Sr,t===null?Sr:t}function La(){(xe===0||xe===3||xe===2)&&(xe=4),Se===null||!(yi&268435455)&&!(Dr&268435455)||Wt(Se,Me)}function Mr(t,e){var i=J;J|=2;var n=df();(Se!==t||Me!==e)&&(kt=null,di(t,e));do try{hg();break}catch(s){cf(t,s)}while(!0);if(ma(),J=i,jr.current=n,ge!==null)throw Error(T(261));return Se=null,Me=0,xe}function hg(){for(;ge!==null;)ff(ge)}function cg(){for(;ge!==null&&!Fp();)ff(ge)}function ff(t){var e=gf(t.alternate,t,Ke);t.memoizedProps=t.pendingProps,e===null?pf(t):ge=e,Ea.current=null}function pf(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=sg(i,e),i!==null){i.flags&=32767,ge=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,ge=null;return}}else if(i=ng(i,e,Ke),i!==null){ge=i;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);xe===0&&(xe=5)}function ai(t,e,i){var n=q,s=nt.transition;try{nt.transition=null,q=1,dg(t,e,i,n)}finally{nt.transition=s,q=n}return null}function dg(t,e,i,n){do qi();while(Vt!==null);if(J&6)throw Error(T(327));i=t.finishedWork;var s=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var r=i.lanes|i.childLanes;if(Kp(t,r),t===Se&&(ge=Se=null,Me=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Rs||(Rs=!0,vf(or,function(){return qi(),null})),r=(i.flags&15990)!==0,i.subtreeFlags&15990||r){r=nt.transition,nt.transition=null;var l=q;q=1;var a=J;J|=4,Ea.current=null,lg(t,i),af(i,t),Tm(go),ur=!!mo,go=mo=null,t.current=i,og(i),Bp(),J=a,q=l,nt.transition=r}else t.current=i;if(Rs&&(Rs=!1,Vt=t,br=s),r=t.pendingLanes,r===0&&(Xt=null),$p(i.stateNode),Ve(t,ce()),e!==null)for(n=t.onRecoverableError,i=0;i<e.length;i++)s=e[i],n(s.value,{componentStack:s.stack,digest:s.digest});if(kr)throw kr=!1,t=Fo,Fo=null,t;return br&1&&t.tag!==0&&qi(),r=t.pendingLanes,r&1?t===Bo?On++:(On=0,Bo=t):On=0,si(),null}function qi(){if(Vt!==null){var t=Qc(br),e=nt.transition,i=q;try{if(nt.transition=null,q=16>t?16:t,Vt===null)var n=!1;else{if(t=Vt,Vt=null,br=0,J&6)throw Error(T(331));var s=J;for(J|=4,A=t.current;A!==null;){var r=A,l=r.child;if(A.flags&16){var a=r.deletions;if(a!==null){for(var u=0;u<a.length;u++){var h=a[u];for(A=h;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Bn(8,c,r)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var f=c.sibling,m=c.return;if(rf(c),c===h){A=null;break}if(f!==null){f.return=m,A=f;break}A=m}}}var v=r.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}A=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,A=l;else e:for(;A!==null;){if(r=A,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Bn(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,A=g;break e}A=r.return}}var p=t.current;for(A=p;A!==null;){l=A;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,A=y;else e:for(l=p;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$r(9,a)}}catch(b){he(a,a.return,b)}if(a===l){A=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,A=S;break e}A=a.return}}if(J=s,si(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Tr,t)}catch{}n=!0}return n}finally{q=i,nt.transition=e}}return!1}function nh(t,e,i){e=on(i,e),e=Qd(t,e,1),t=Gt(t,e,1),e=Fe(),t!==null&&(fs(t,1,e),Ve(t,e))}function he(t,e,i){if(t.tag===3)nh(t,t,i);else for(;e!==null;){if(e.tag===3){nh(e,t,i);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xt===null||!Xt.has(n))){t=on(i,t),t=Yd(e,t,1),e=Gt(e,t,1),t=Fe(),e!==null&&(fs(e,1,t),Ve(e,t));break}}e=e.return}}function fg(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),e=Fe(),t.pingedLanes|=t.suspendedLanes&i,Se===t&&(Me&i)===i&&(xe===4||xe===3&&(Me&130023424)===Me&&500>ce()-Na?di(t,0):Pa|=i),Ve(t,e)}function mf(t,e){e===0&&(t.mode&1?(e=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):e=1);var i=Fe();t=Lt(t,e),t!==null&&(fs(t,e,i),Ve(t,i))}function pg(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),mf(t,i)}function mg(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(i=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(e),mf(t,i)}var gf;gf=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||We.current)De=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return De=!1,ig(t,e,i);De=!!(t.flags&131072)}else De=!1,le&&e.flags&1048576&&xd(e,gr,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qs(t,e),t=e.pendingProps;var s=nn(e,Te.current);Xi(e,i),s=ja(null,e,n,t,s,i);var r=ka();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(n)?(r=!0,pr(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ya(e),s.updater=Or,e.stateNode=s,s._reactInternals=e,bo(e,n,t,i),e=Eo(null,e,n,!0,r,i)):(e.tag=0,le&&r&&ca(e),Ie(null,e,s,i),e=e.child),e;case 16:n=e.elementType;e:{switch(qs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=vg(n),t=at(n,t),s){case 0:e=Co(null,e,n,t,i);break e;case 1:e=Qu(null,e,n,t,i);break e;case 11:e=Hu(null,e,n,t,i);break e;case 14:e=Ku(null,e,n,at(n.type,t),i);break e}throw Error(T(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),Co(t,e,n,s,i);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),Qu(t,e,n,s,i);case 3:e:{if(qd(e),t===null)throw Error(T(387));n=e.pendingProps,r=e.memoizedState,s=r.element,bd(t,e),xr(e,n,null,i);var l=e.memoizedState;if(n=l.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=on(Error(T(423)),e),e=Yu(t,e,n,i,s);break e}else if(n!==s){s=on(Error(T(424)),e),e=Yu(t,e,n,i,s);break e}else for(Qe=Jt(e.stateNode.containerInfo.firstChild),Ye=e,le=!0,ht=null,i=jd(e,null,n,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(sn(),n===s){e=Rt(t,e,i);break e}Ie(t,e,n,i)}e=e.child}return e;case 5:return Md(e),t===null&&So(e),n=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,l=s.children,vo(n,s)?l=null:r!==null&&vo(n,r)&&(e.flags|=32),Xd(t,e),Ie(t,e,l,i),e.child;case 6:return t===null&&So(e),null;case 13:return Zd(t,e,i);case 4:return xa(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rn(e,null,n,i):Ie(t,e,n,i),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),Hu(t,e,n,s,i);case 7:return Ie(t,e,e.pendingProps,i),e.child;case 8:return Ie(t,e,e.pendingProps.children,i),e.child;case 12:return Ie(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,r=e.memoizedProps,l=s.value,te(vr,n._currentValue),n._currentValue=l,r!==null)if(ft(r.value,l)){if(r.children===s.children&&!We.current){e=Rt(t,e,i);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){l=r.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(r.tag===1){u=Nt(-1,i&-i),u.tag=2;var h=r.updateQueue;if(h!==null){h=h.shared;var c=h.pending;c===null?u.next=u:(u.next=c.next,c.next=u),h.pending=u}}r.lanes|=i,u=r.alternate,u!==null&&(u.lanes|=i),jo(r.return,i,e),a.lanes|=i;break}u=u.next}}else if(r.tag===10)l=r.type===e.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(T(341));l.lanes|=i,a=l.alternate,a!==null&&(a.lanes|=i),jo(l,i,e),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}Ie(t,e,s.children,i),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Xi(e,i),s=st(s),n=n(s),e.flags|=1,Ie(t,e,n,i),e.child;case 14:return n=e.type,s=at(n,e.pendingProps),s=at(n.type,s),Ku(t,e,n,s,i);case 15:return Jd(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),qs(t,e),e.tag=1,Ue(n)?(t=!0,pr(e)):t=!1,Xi(e,i),Kd(e,n,s),bo(e,n,s,i),Eo(null,e,n,!0,t,i);case 19:return ef(t,e,i);case 22:return Gd(t,e,i)}throw Error(T(156,e.tag))};function vf(t,e){return Uc(t,e)}function gg(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,i,n){return new gg(t,e,i,n)}function Ra(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vg(t){if(typeof t=="function")return Ra(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zo)return 11;if(t===ea)return 14}return 2}function Zt(t,e){var i=t.alternate;return i===null?(i=it(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function tr(t,e,i,n,s,r){var l=2;if(n=t,typeof t=="function")Ra(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ri:return fi(i.children,s,r,e);case qo:l=8,s|=8;break;case Yl:return t=it(12,i,e,s|2),t.elementType=Yl,t.lanes=r,t;case Jl:return t=it(13,i,e,s),t.elementType=Jl,t.lanes=r,t;case Gl:return t=it(19,i,e,s),t.elementType=Gl,t.lanes=r,t;case Mc:return Wr(i,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kc:l=10;break e;case bc:l=9;break e;case Zo:l=11;break e;case ea:l=14;break e;case Ot:l=16,n=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=it(l,i,e,s),e.elementType=t,e.type=n,e.lanes=r,e}function fi(t,e,i,n){return t=it(7,t,n,e),t.lanes=i,t}function Wr(t,e,i,n){return t=it(22,t,n,e),t.elementType=Mc,t.lanes=i,t.stateNode={isHidden:!1},t}function kl(t,e,i){return t=it(6,t,null,e),t.lanes=i,t}function bl(t,e,i){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yg(t,e,i,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ia(t,e,i,n,s,r,l,a,u){return t=new yg(t,e,i,a,u),e===1?(e=1,r===!0&&(e|=8)):e=0,r=it(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ya(r),t}function xg(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}function yf(t){if(!t)return ti;t=t._reactInternals;e:{if(Mi(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ue(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var i=t.type;if(Ue(i))return vd(t,i,e)}return e}function xf(t,e,i,n,s,r,l,a,u){return t=Ia(i,n,!0,t,s,r,l,a,u),t.context=yf(null),i=t.current,n=Fe(),s=qt(i),r=Nt(n,s),r.callback=e??null,Gt(i,r,s),t.current.lanes=s,fs(t,s,n),Ve(t,n),t}function Ur(t,e,i,n){var s=e.current,r=Fe(),l=qt(s);return i=yf(i),e.context===null?e.context=i:e.pendingContext=i,e=Nt(r,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gt(s,e,l),t!==null&&(dt(t,s,l,r),Js(t,s,l)),l}function Cr(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Fa(t,e){sh(t,e),(t=t.alternate)&&sh(t,e)}function wg(){return null}var wf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ba(t){this._internalRoot=t}Vr.prototype.render=Ba.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Ur(t,e,null,null)};Vr.prototype.unmount=Ba.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){Ur(null,t,null,null)}),e[Tt]=null}};function Vr(t){this._internalRoot=t}Vr.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gc();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Dt.length&&e!==0&&e<Dt[i].priority;i++);Dt.splice(i,0,t),i===0&&qc(t)}};function Aa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hr(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rh(){}function _g(t,e,i,n,s){if(s){if(typeof n=="function"){var r=n;n=function(){var h=Cr(l);r.call(h)}}var l=xf(e,n,t,0,null,!1,!1,"",rh);return t._reactRootContainer=l,t[Tt]=l.current,Zn(t.nodeType===8?t.parentNode:t),xi(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var h=Cr(u);a.call(h)}}var u=Ia(t,0,!1,null,null,!1,!1,"",rh);return t._reactRootContainer=u,t[Tt]=u.current,Zn(t.nodeType===8?t.parentNode:t),xi(function(){Ur(e,u,i,n)}),u}function Kr(t,e,i,n,s){var r=i._reactRootContainer;if(r){var l=r;if(typeof s=="function"){var a=s;s=function(){var u=Cr(l);a.call(u)}}Ur(e,l,t,s)}else l=_g(i,e,t,s,n);return Cr(l)}Yc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=Pn(e.pendingLanes);i!==0&&(na(e,i|1),Ve(e,ce()),!(J&6)&&(an=ce()+500,si()))}break;case 13:xi(function(){var n=Lt(t,1);if(n!==null){var s=Fe();dt(n,t,1,s)}}),Fa(t,1)}};sa=function(t){if(t.tag===13){var e=Lt(t,134217728);if(e!==null){var i=Fe();dt(e,t,134217728,i)}Fa(t,134217728)}};Jc=function(t){if(t.tag===13){var e=qt(t),i=Lt(t,e);if(i!==null){var n=Fe();dt(i,t,e,n)}Fa(t,e)}};Gc=function(){return q};Xc=function(t,e){var i=q;try{return q=t,e()}finally{q=i}};lo=function(t,e,i){switch(e){case"input":if(Zl(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var s=Fr(n);if(!s)throw Error(T(90));Ec(n),Zl(n,s)}}}break;case"textarea":Nc(t,i);break;case"select":e=i.value,e!=null&&Qi(t,!!i.multiple,e,!1)}};Bc=za;Ac=xi;var Sg={usingClientEntryPoint:!1,Events:[ms,Ai,Fr,Ic,Fc,za]},bn={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jg={bundleType:bn.bundleType,version:bn.version,rendererPackageName:bn.rendererPackageName,rendererConfig:bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dc(t),t===null?null:t.stateNode},findFiberByHostInstance:bn.findFiberByHostInstance||wg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{Tr=Is.inject(jg),_t=Is}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sg;Xe.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aa(e))throw Error(T(200));return xg(t,e,null,i)};Xe.createRoot=function(t,e){if(!Aa(t))throw Error(T(299));var i=!1,n="",s=wf;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ia(t,1,!1,null,null,i,!1,n,s),t[Tt]=e.current,Zn(t.nodeType===8?t.parentNode:t),new Ba(e)};Xe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Dc(e),t=t===null?null:t.stateNode,t};Xe.flushSync=function(t){return xi(t)};Xe.hydrate=function(t,e,i){if(!Hr(e))throw Error(T(200));return Kr(null,t,e,!0,i)};Xe.hydrateRoot=function(t,e,i){if(!Aa(t))throw Error(T(405));var n=i!=null&&i.hydratedSources||null,s=!1,r="",l=wf;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onRecoverableError!==void 0&&(l=i.onRecoverableError)),e=xf(e,null,t,1,i??null,s,!1,r,l),t[Tt]=e.current,Zn(t),n)for(t=0;t<n.length;t++)i=n[t],s=i._getVersion,s=s(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,s]:e.mutableSourceEagerHydrationData.push(i,s);return new Vr(e)};Xe.render=function(t,e,i){if(!Hr(e))throw Error(T(200));return Kr(null,t,e,!1,i)};Xe.unmountComponentAtNode=function(t){if(!Hr(t))throw Error(T(40));return t._reactRootContainer?(xi(function(){Kr(null,null,t,!1,function(){t._reactRootContainer=null,t[Tt]=null})}),!0):!1};Xe.unstable_batchedUpdates=za;Xe.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Hr(i))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Kr(t,e,i,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function _f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_f)}catch(t){console.error(t)}}_f(),wc.exports=Xe;var kg=wc.exports,lh=kg;Kl.createRoot=lh.createRoot,Kl.hydrateRoot=lh.hydrateRoot;function ee(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function pi(t,e){return t.width===e.width&&t.height===e.height}var bg=function(){function t(e){var i=this;this._resolutionListener=function(){return i._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var i=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){i._observers=i._observers.filter(function(s){return s!==n})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(i){return i.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function Mg(t){return new bg(t)}var Cg=function(){function t(e,i,n){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=ee({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=i??function(r){return r},this._allowResizeObserver=(s=n==null?void 0:n.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,i;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(i=this._devicePixelRatioObservable)===null||i===void 0||i.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return ee({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=ee(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(i){return i!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(i){return i!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var i=this.bitmapSize;pi(i,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(i,e))},t.prototype._emitBitmapSizeChanged=function(e,i){var n=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(n,e,i)})},t.prototype._suggestNewBitmapSize=function(e){var i=this._suggestedBitmapSize,n=ee(this._transformBitmapSize(e,this._canvasElementClientSize)),s=pi(this.bitmapSize,n)?null:n;i===null&&s===null||i!==null&&s!==null&&pi(i,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(i,s))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,i){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(n,e,i)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Pg().then(function(i){return i?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var i=oh(this._canvasElement);if(i===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Mg(i),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,i;if(this._canvasElement!==null){var n=oh(this._canvasElement);if(n!==null){var s=(i=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&i!==void 0?i:n.devicePixelRatio,r=this._canvasElement.getClientRects(),l=r[0]!==void 0?Ng(r[0],s):ee({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(l)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(i){var n=i.find(function(l){return l.target===e._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var s=n.devicePixelContentBoxSize[0],r=ee({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function Eg(t,e){return new Cg(t,e.transform,e.options)}function oh(t){return t.ownerDocument.defaultView}function Pg(){return new Promise(function(t){var e=new ResizeObserver(function(i){t(i.every(function(n){return"devicePixelContentBoxSize"in n})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function Ng(t,e){return ee({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var zg=function(){function t(e,i,n){if(i.width===0||i.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=i,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function wi(t,e){var i=t.canvasElementClientSize;if(i.width===0||i.height===0)return null;var n=t.bitmapSize;if(n.width===0||n.height===0)return null;var s=t.canvasElement.getContext("2d",e);return s===null?null:new zg(s,i,n)}/*!
 * @license
 * TradingView Lightweight Charts v5.1.0
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Sf={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var ah,$n;function _i(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function jf(t,e,i,n){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(i,e+s),t.lineTo(n,e+s),t.stroke()}function be(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function He(t){if(t===void 0)throw new Error("Value is undefined");return t}function N(t){if(t===null)throw new Error("Value is null");return t}function Ht(t){return N(He(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(ah||(ah={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}($n||($n={}));class de{constructor(){this.t=[]}i(e,i,n){const s={h:e,l:i,o:n===!0};this.t.push(s)}_(e){const i=this.t.findIndex(n=>e===n.h);i>-1&&this.t.splice(i,1)}u(e){this.t=this.t.filter(i=>i.l!==e)}p(e,i,n){const s=[...this.t];this.t=this.t.filter(r=>!r.o),s.forEach(r=>r.h(e,i,n))}v(){return this.t.length>0}m(){this.t=[]}}function Je(t,...e){for(const i of e)for(const n in i)i[n]!==void 0&&Object.prototype.hasOwnProperty.call(i,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof i[n]!="object"||t[n]===void 0||Array.isArray(i[n])?t[n]=i[n]:Je(t[n],i[n]));return t}function Si(t){return typeof t=="number"&&isFinite(t)}function as(t){return typeof t=="number"&&t%1==0}function vs(t){return typeof t=="string"}function Fs(t){return typeof t=="boolean"}function Et(t){const e=t;if(!e||typeof e!="object")return e;let i,n,s;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(s=e[n],i[n]=s&&typeof s=="object"?Et(s):s);return i}function uh(t){return t!==null}function us(t){return t===null?void 0:t}const kf="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function hs(t,e,i){return e===void 0&&(e=kf),`${i=i!==void 0?`${i} `:""}${t}px ${e}`}class Tg{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,i=this.F(),n=this.W();return e.k===i&&e.T===n||(e.k=i,e.T=n,e.P=hs(i,n),e.A=2.5/12*i,e.I=e.A,e.V=i/12*e.C,e.B=i/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function Ml(t){return t<0?0:t>255?255:Math.round(t)||0}function hh(t){return .199*t[0]+.687*t[1]+.114*t[2]}class Lg{constructor(e,i){this.q=new Map,this.j=e,i&&(this.q=i)}Y(e,i){if(e==="transparent")return e;const n=this.K(e),s=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${i*s})`}Z(e){const i=this.K(e);return{G:`rgb(${i[0]}, ${i[1]}, ${i[2]})`,X:hh(i)>160?"black":"white"}}J(e){return hh(this.K(e))}tt(e,i,n){const[s,r,l,a]=this.K(e),[u,h,c,d]=this.K(i),f=[Ml(s+n*(u-s)),Ml(r+n*(h-r)),Ml(l+n*(c-l)),(m=a+n*(d-a),m<=0||m>1?Math.min(Math.max(m,0),1):Math.round(1e4*m)/1e4)];var m;return`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${f[3]})`}K(e){const i=this.q.get(e);if(i)return i;const n=function(l){const a=document.createElement("div");a.style.display="none",document.body.appendChild(a),a.style.color=l;const u=window.getComputedStyle(a).color;return document.body.removeChild(a),u}(e),s=n.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!s){if(this.j.length)for(const l of this.j){const a=l(e);if(a)return this.q.set(e,a),a}throw new Error(`Failed to parse color: ${e}`)}const r=[parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),s[4]?parseFloat(s[4]):1];return this.q.set(e,r),r}}class Rg{constructor(){this.it=[]}st(e){this.it=e}nt(e,i,n){this.it.forEach(s=>{s.nt(e,i,n)})}}class Ci{nt(e,i,n){e.useBitmapCoordinateSpace(s=>this.et(s,i,n))}}class Ig extends Ci{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.rt===null||this.rt.lt===null)return;const s=this.rt.lt,r=this.rt,l=Math.max(1,Math.floor(i))%2/2,a=u=>{e.beginPath();for(let h=s.to-1;h>=s.from;--h){const c=r.ot[h],d=Math.round(c._t*i)+l,f=c.ut*n,m=u*n+l;e.moveTo(d,f),e.arc(d,f,m,0,2*Math.PI)}e.fill()};r.ct>0&&(e.fillStyle=r.dt,a(r.ft+r.ct)),e.fillStyle=r.vt,a(r.ft)}}function Fg(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Bg={from:0,to:1};class Ag{constructor(e,i,n){this.Mt=new Rg,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=i,this.yt=n,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(Fg),this.bt=this.St.map(i=>{const n=new Ig;return n.ht(i),n}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),i=this.yt.Vt(),n=this.Ct.Bt(),s=this.O.Et();this.Pt(),i.forEach((r,l)=>{const a=this.St[l],u=r.At(n),h=r.Lt();!e&&u!==null&&r.It()&&h!==null?(a.vt=u.zt,a.ft=u.ft,a.ct=u.Ot,a.ot[0].gt=u.gt,a.ot[0].ut=r.Ft().Nt(u.gt,h.Wt),a.dt=u.Ht??this.O.Ut(a.ot[0].ut/r.Ft().$t()),a.ot[0].wt=n,a.ot[0]._t=s.qt(n),a.lt=Bg):a.lt=null})}}class Og extends Ci{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.jt===null)return;const r=this.jt.Yt.It,l=this.jt.Kt.It;if(!r&&!l)return;const a=Math.round(this.jt._t*n),u=Math.round(this.jt.ut*s);e.lineCap="butt",r&&a>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*n),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,_i(e,this.jt.Yt.Zt),function(h,c,d,f){h.beginPath();const m=h.lineWidth%2?.5:0;h.moveTo(c+m,d),h.lineTo(c+m,f),h.stroke()}(e,a,0,i.height)),l&&u>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*s),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,_i(e,this.jt.Kt.Zt),jf(e,u,0,i.width))}}class $g{constructor(e,i){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new Og(this.Gt),this.Jt=e,this.yt=i}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),i=this.yt.Qt().N().crosshair,n=this.Gt;if(i.mode===2)return n.Kt.It=!1,void(n.Yt.It=!1);n.Kt.It=e&&this.Jt.ti(this.yt),n.Yt.It=e&&this.Jt.ii(),n.Kt.ct=i.horzLine.width,n.Kt.Zt=i.horzLine.style,n.Kt.R=i.horzLine.color,n.Yt.ct=i.vertLine.width,n.Yt.Zt=i.vertLine.style,n.Yt.R=i.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}}function Dg(t,e,i,n,s,r){t.fillRect(e+r,i,n-2*r,r),t.fillRect(e+r,i+s-r,n-2*r,r),t.fillRect(e,i,r,s),t.fillRect(e+n-r,i,r,s)}function Qr(t,e,i,n,s,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,i,n,s),t.restore()}function ch(t,e,i,n,s,r){t.beginPath(),t.roundRect?t.roundRect(e,i,n,s,r):(t.lineTo(e+n-r[1],i),r[1]!==0&&t.arcTo(e+n,i,e+n,i+r[1],r[1]),t.lineTo(e+n,i+s-r[2]),r[2]!==0&&t.arcTo(e+n,i+s,e+n-r[2],i+s,r[2]),t.lineTo(e+r[3],i+s),r[3]!==0&&t.arcTo(e,i+s,e,i+s-r[3],r[3]),t.lineTo(e,i+r[0]),r[0]!==0&&t.arcTo(e,i,e+r[0],i,r[0]))}function dh(t,e,i,n,s,r,l=0,a=[0,0,0,0],u=""){if(t.save(),!l||!u||u===r)return ch(t,e,i,n,s,a),t.fillStyle=r,t.fill(),void t.restore();const h=l/2;var c;ch(t,e+h,i+h,n-l,s-l,(c=-h,a.map(d=>d===0?d:d+c))),r!=="transparent"&&(t.fillStyle=r,t.fill()),u!=="transparent"&&(t.lineWidth=l,t.strokeStyle=u,t.closePath(),t.stroke()),t.restore()}function bf(t,e,i,n,s,r,l){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,s);a.addColorStop(0,r),a.addColorStop(1,l),t.fillStyle=a,t.fillRect(e,i,n,s),t.restore()}class fh{constructor(e,i){this.ht(e,i)}ht(e,i){this.jt=e,this.ei=i}$t(e,i){return this.jt.It?e.k+e.A+e.I:0}nt(e,i,n,s){if(!this.jt.It||this.jt.ri.length===0)return;const r=this.jt.R,l=this.ei.G,a=e.useBitmapCoordinateSpace(u=>{const h=u.context;h.font=i.P;const c=this.hi(u,i,n,s),d=c.ai;return c.li?dh(h,d.oi,d._i,d.ui,d.ci,l,d.di,[d.ft,0,0,d.ft],l):dh(h,d.fi,d._i,d.ui,d.ci,l,d.di,[0,d.ft,d.ft,0],l),this.jt.pi&&(h.fillStyle=r,h.fillRect(d.fi,d.mi,d.wi-d.fi,d.gi)),this.jt.Mi&&(h.fillStyle=i.D,h.fillRect(c.li?d.bi-d.di:0,d._i,d.di,d.Si-d._i)),c});e.useMediaCoordinateSpace(({context:u})=>{const h=a.xi;u.font=i.P,u.textAlign=a.li?"right":"left",u.textBaseline="middle",u.fillStyle=r,u.fillText(this.jt.ri,h.Ci,(h._i+h.Si)/2+h.yi)})}hi(e,i,n,s){const{context:r,bitmapSize:l,mediaSize:a,horizontalPixelRatio:u,verticalPixelRatio:h}=e,c=this.jt.pi||!this.jt.ki?i.C:0,d=this.jt.Pi?i.S:0,f=i.A+this.ei.Ti,m=i.I+this.ei.Ri,v=i.V,x=i.B,E=this.jt.ri,g=i.k,p=n.Di(r,E),y=Math.ceil(n.Ii(r,E)),S=g+f+m,b=i.S+v+x+y+c,M=Math.max(1,Math.floor(h));let _=Math.round(S*h);_%2!=M%2&&(_+=1);const j=d>0?Math.max(1,Math.floor(d*u)):0,C=Math.round(b*u),I=Math.round(c*u),F=this.ei.Vi??this.ei.Bi??this.ei.Ei,V=Math.round(F*h)-Math.floor(.5*h),O=Math.floor(V+M/2-_/2),U=O+_,Q=s==="right",L=Q?a.width-d:d,z=Q?l.width-j:j;let P,k,$;return Q?(P=z-C,k=z-I,$=L-c-v-d):(P=z+C,k=z+I,$=L+c+v),{li:Q,ai:{_i:O,mi:V,Si:U,ui:C,ci:_,ft:2*u,di:j,oi:P,fi:z,wi:k,gi:M,bi:l.width},xi:{_i:O/h,Si:U/h,Ci:$,yi:p}}}}class Yr{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||fh)(this.Li,this.Ai),this.Ni=new(e||fh)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,i=!1){return Math.max(this.Oi.$t(e,i),this.Ni.$t(e,i))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class Wg extends Yr{constructor(e,i,n){super(),this.Jt=e,this.Ki=i,this.Zi=n}Yi(e,i,n){if(e.It=!1,this.Jt.N().mode===2)return;const s=this.Jt.N().horzLine;if(!s.labelVisible)return;const r=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||r===null)return;const l=this.Ki.Xi().Z(s.labelBackgroundColor);n.G=l.G,e.R=l.X;const a=2/12*this.Ki.k();n.Ti=a,n.Ri=a;const u=this.Zi(this.Ki);n.Ei=u.Ei,e.ri=this.Ki.Ji(u.gt,r),e.It=!0}}const Ug=/[1-9]/g;class Mf{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,i){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const n=e.useMediaCoordinateSpace(({context:f})=>(f.font=i.P,Math.round(i.Qi.Ii(f,N(this.jt).ri,Ug))));if(n<=0)return;const s=i.ts,r=n+2*s,l=r/2,a=this.jt.ss;let u=this.jt.Ei,h=Math.floor(u-l)+.5;h<0?(u+=Math.abs(0-h),h=Math.floor(u-l)+.5):h+r>a&&(u-=Math.abs(a-(h+r)),h=Math.floor(u-l)+.5);const c=h+r,d=Math.ceil(0+i.S+i.C+i.A+i.k+i.I);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:m,verticalPixelRatio:v})=>{const x=N(this.jt);f.fillStyle=x.G;const E=Math.round(h*m),g=Math.round(0*v),p=Math.round(c*m),y=Math.round(d*v),S=Math.round(2*m);if(f.beginPath(),f.moveTo(E,g),f.lineTo(E,y-S),f.arcTo(E,y,E+S,y,S),f.lineTo(p-S,y),f.arcTo(p,y,p,y-S,S),f.lineTo(p,g),f.fill(),x.pi){const b=Math.round(x.Ei*m),M=g,_=Math.round((M+i.C)*v);f.fillStyle=x.R;const j=Math.max(1,Math.floor(m)),C=Math.floor(.5*m);f.fillRect(b-C,M,j,_-M)}}),e.useMediaCoordinateSpace(({context:f})=>{const m=N(this.jt),v=0+i.S+i.C+i.A+i.k/2;f.font=i.P,f.textAlign="left",f.textBaseline="middle",f.fillStyle=m.R;const x=i.Qi.Di(f,"Apr0");f.translate(h+s,v+x),f.fillText(m.ri,0,0)})}}class Vg{constructor(e,i,n){this.xt=!0,this.Xt=new Mf,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=i,this.Zi=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const i=this.Ct.N().vertLine;if(!i.labelVisible)return;const n=this.ns.Et();if(n.Gi())return;e.ss=n.ss();const s=this.Zi();if(s===null)return;e.Ei=s.Ei;const r=n.es(this.Ct.Bt());e.ri=n.rs(N(r)),e.It=!0;const l=this.ns.Xi().Z(i.labelBackgroundColor);e.G=l.G,e.R=l.X,e.pi=n.N().ticksVisible}}class Cf{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var ph;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(ph||(ph={}));class Hg extends Cf{constructor(e,i){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=i,this.Ts=((s,r)=>l=>{const a=r(),u=s();if(l===N(this.yt).Rs())return{gt:u,Ei:a};{const h=N(l.Lt());return{gt:l.Ds(a,h),Ei:a}}})(()=>this.ps,()=>this.Cs);const n=((s,r)=>()=>{const l=this.ns.Et().Is(s()),a=r();return l&&Number.isFinite(a)?{wt:l,Ei:a}:null})(()=>this.vs,()=>this.si());this.Vs=new Vg(this,e,n)}N(){return this.Ps}Bs(e,i){this.ys=e,this.ks=i}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,i,n){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,i,n)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const i=this.ns,n=i.Et();let s=null,r=null;for(const h of i.Us()){const c=h.qs().$s(e,-1);if(c){if(c.js===e)return e;(s===null||c.js>s)&&(s=c.js)}const d=h.qs().$s(e,1);if(d){if(d.js===e)return e;(r===null||d.js<r)&&(r=d.js)}}const l=[s,r].filter(uh);if(l.length===0)return e;const a=n.qt(e),u=l.map(h=>Math.abs(a-n.qt(h)));return l[u.indexOf(Math.min(...u))]}Ys(e){let i=this.bs.get(e);i||(i=new $g(this,e),this.bs.set(e,i));let n=this.Ss.get(e);return n||(n=new Ag(this.ns,this,e),this.Ss.set(e,n)),[i,n]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,i){this.ws&&this.yt===e||this.gs.clear();const n=[];return this.yt===e&&n.push(this.Zs(this.gs,i,this.Ts)),n}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach(e=>{var i,n;(i=this.bs.get(e))==null||i.kt(),(n=this.Ss.get(e))==null||n.kt()}),this.gs.forEach(e=>e.kt()),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,i,n){this.Qs(e,i,n)&&this.Ws()}Qs(e,i,n){const s=this.xs,r=this.Cs,l=this.ps,a=this.vs,u=this.yt,h=this.Js(n);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=n;const c=h!==null?h.Lt():null;return h!==null&&c!==null?(this.ps=i,this.Cs=h.Nt(i,c)):(this.ps=NaN,this.Cs=NaN),s!==this.xs||r!==this.Cs||a!==this.vs||l!==this.ps||u!==this.yt}Fs(){const e=this.ns.tn().map(n=>n.qs().sn()).filter(uh),i=e.length===0?null:Math.max(...e);this.vs=i!==null?i:NaN}Zs(e,i,n){let s=e.get(i);return s===void 0&&(s=new Wg(this,i,n),e.set(i,s)),s}}function Jr(t){return t==="left"||t==="right"}class ke{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,i){const n=function(s,r){return s===void 0?r:{an:Math.max(s.an,r.an),ln:s.ln||r.ln}}(this.nn.get(e),i);this.nn.set(e,n)}_n(){return this.rn}un(e){const i=this.nn.get(e);return i===void 0?{an:this.rn}:{an:Math.max(this.rn,i.an),ln:i.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const i of e.en)this.xn(i);this.rn=Math.max(this.rn,e.rn),e.nn.forEach((i,n)=>{this.hn(n,i)})}static Cn(){return new ke(2)}static yn(){return new ke(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex(i=>i.fn===5);e!==-1&&this.en.splice(e,1)}}class Ef{formatTickmarks(e){return e.map(i=>this.format(i))}}const mh=".";function Pt(t,e){if(!Si(t))return"n/a";if(!as(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class Gr extends Ef{constructor(e,i){if(super(),i||(i=1),Si(e)&&as(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=i,this.Pn()}format(e){const i=e<0?"":"";return e=Math.abs(e),i+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const i=this.Ki/this.kn;let n=Math.floor(e),s="";const r=this.Rn!==void 0?this.Rn:NaN;if(i>1){let l=+(Math.round(e*i)-n*i).toFixed(this.Rn);l>=i&&(l-=i,n+=1),s=mh+Pt(+l.toFixed(this.Rn)*this.kn,r)}else n=Math.round(n*i)/i,r>0&&(s=mh+Pt(0,r));return n.toFixed(0)+s}}class Pf extends Gr{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Kg extends Ef{constructor(e){super(),this.Dn=e}format(e){let i="";return e<0&&(i="-",e=-e),e<995?i+this.In(e):e<999995?i+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),i+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),i+this.In(e/1e9)+"B")}In(e){let i;const n=Math.pow(10,this.Dn);return i=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),i.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}const Qg=/[2-9]/g;class cs{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,i,n){return this.Nn(e,i,n).width}Di(e,i,n){const s=this.Nn(e,i,n);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}Nn(e,i,n){const s=n||Qg,r=String(i).replace(s,"0");if(this.Ln.has(r))return He(this.Ln.get(r)).Fn;if(this.Vn===this.zn){const a=this.An[this.En];delete this.An[this.En],this.Ln.delete(a),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const l=e.measureText(r);return e.restore(),l.width===0&&i.length||(this.Ln.set(r,{Fn:l,Wn:this.Bn}),this.An[this.Bn]=r,this.Vn++,this.Bn++),l}}class Yg{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,i,n){this.Hn=e,this.M=i,this.Un=n}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class Nf{constructor(e,i,n){this.jn=e,this.$n=new cs(50),this.Yn=i,this.O=n,this.F=-1,this.Xt=new Yg(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const i=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(i===null)return null;const n=e.Xn(i);if(n==="overlay")return null;const s=this.O.Jn();return s.k!==this.F&&(this.F=s.k,this.$n.On()),this.Xt.qn(this.jn.ji(),s,n),this.Xt}}class Jg extends Ci{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,i){var l;if(!((l=this.jt)!=null&&l.It))return null;const{ut:n,ct:s,te:r}=this.jt;return i>=n-s-7&&i<=n+s+7?{ie:this.jt,te:r}:null}et({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.jt===null||this.jt.It===!1)return;const r=Math.round(this.jt.ut*s);r<0||r>i.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*n),_i(e,this.jt.Zt),jf(e,r,0,i.width))}}class Oa{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new Jg,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class Gg extends Oa{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),i=e.ae().ae;if(i!==2&&i!==3)return;const n=this.ee.N();if(!n.baseLineVisible||!this.ee.It())return;const s=this.ee.Lt();s!==null&&(this.se.It=!0,this.se.ut=e.Nt(s.Wt,s.Wt),this.se.R=n.baseLineColor,this.se.ct=n.baseLineWidth,this.se.Zt=n.baseLineStyle)}}class Xg extends Ci{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:i,verticalPixelRatio:n}){const s=this.jt;if(s===null)return;const r=Math.max(1,Math.floor(i)),l=r%2/2,a=Math.round(s.oe.x*i)+l,u=s.oe.y*n;e.fillStyle=s._e,e.beginPath();const h=Math.max(2,1.5*s.ue)*i;e.arc(a,u,h,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.ce,e.beginPath(),e.arc(a,u,s.ft*i,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=s.de,e.beginPath(),e.arc(a,u,s.ft*i+r/2,0,2*Math.PI,!1),e.stroke()}}const qg=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class Zg{constructor(e){this.Xt=new Xg,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),i=this.Ce-e;if(i>0)return void(i<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),i=e.Ie(),n=this.ye.Lt();if(i===null||n===null)return;const s=this.ye.Ve(!0);if(s.Be||!i.Ee(s.js))return;const r={x:e.qt(s.js),y:this.ye.Ft().Nt(s.gt,n.Wt)},l=s.R,a=this.ye.N().lineWidth,u=this.Ae(this.Le(),l);this.Xt.ht({_e:l,ue:a,ce:u.ce,de:u.de,ft:u.ft,oe:r})}De(){const e=this.Xt.le();if(e!==null){const i=this.Ae(this.Le(),e._e);e.ce=i.ce,e.de=i.de,e.ft=i.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,i,n,s){const r=n+(s-n)*i;return this.ye.Qt().Xi().Y(e,r)}Ae(e,i){const n=e%2600/2600;let s;for(const h of qg)if(n>=h.fe&&n<=h.pe){s=h;break}be(s!==void 0,"Last price animation internal logic error");const r=(n-s.fe)/(s.pe-s.fe);return{ce:this.ze(i,r,s.we,s.ge),de:this.ze(i,r,s.Me,s.be),ft:(l=r,a=s.ve,u=s.me,a+(u-a)*l)};var l,a,u}}class ev extends Oa{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const i=this.ee.N();if(!i.priceLineVisible||!this.ee.It())return;const n=this.ee.Ve(i.priceLineSource===0);n.Be||(e.It=!0,e.ut=n.Ei,e.R=this.ee.Oe(n.R),e.ct=i.priceLineWidth,e.Zt=i.priceLineStyle)}}class tv extends Yr{constructor(e){super(),this.Jt=e}Yi(e,i,n){e.It=!1,i.It=!1;const s=this.Jt;if(!s.It())return;const r=s.N(),l=r.lastValueVisible,a=s.Ne()!=="",u=r.seriesLastValueMode===0,h=s.Ve(!1);if(h.Be)return;l&&(e.ri=this.Fe(h,l,u),e.It=e.ri.length!==0),(a||u)&&(i.ri=this.We(h,l,a,u),i.It=i.ri.length>0);const c=s.Oe(h.R),d=this.Jt.Qt().Xi().Z(c);n.G=d.G,n.Ei=h.Ei,i.Ht=s.Qt().Ut(h.Ei/s.Ft().$t()),e.Ht=c,e.R=d.X,i.R=d.X}We(e,i,n,s){let r="";const l=this.Jt.Ne();return n&&l.length!==0&&(r+=`${l} `),i&&s&&(r+=this.Jt.Ft().He()?e.Ue:e.$e),r.trim()}Fe(e,i,n){return i?n?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function gh(t,e,i,n){const s=Number.isFinite(e),r=Number.isFinite(i);return s&&r?t(e,i):s||r?s?e:i:n}class Be{constructor(e,i){this.qe=e,this.je=i}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Be(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Be(gh(Math.min,this.Ze(),e.Ze(),-1/0),gh(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!Si(e)||this.je-this.qe===0)return;const i=.5*(this.je+this.qe);let n=this.je-i,s=this.qe-i;n*=e,s*=e,this.je=i+n,this.qe=i+s}Qe(e){Si(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Be(e.minValue,e.maxValue)}}class Er{constructor(e,i){this.sr=e,this.nr=i||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new Er(Be.ir(e.priceRange),e.margins)}}const iv=[2,4,8,16,32,64,128,256,512],nv="Custom series with conflation reducer must have a priceValueBuilder method";class sv extends Oa{constructor(e,i){super(e),this.hr=i}he(){const e=this.se;e.It=!1;const i=this.hr.N();if(!this.ee.It()||!i.lineVisible)return;const n=this.hr.ar();n!==null&&(e.It=!0,e.ut=n,e.R=i.color,e.ct=i.lineWidth,e.Zt=i.lineStyle,e.te=this.hr.N().id)}}class rv extends Yr{constructor(e,i){super(),this.ye=e,this.hr=i}Yi(e,i,n){e.It=!1,i.It=!1;const s=this.hr.N(),r=s.axisLabelVisible,l=s.title!=="",a=this.ye;if(!r||!a.It())return;const u=this.hr.ar();if(u===null)return;l&&(i.ri=s.title,i.It=!0),i.Ht=a.Qt().Ut(u/a.Ft().$t()),e.ri=this.lr(s.price),e.It=!0;const h=this.ye.Qt().Xi().Z(s.axisLabelColor||s.color);n.G=h.G;const c=s.axisLabelTextColor||h.X;e.R=c,i.R=c,n.Ei=u}lr(e){const i=this.ye.Lt();return i===null?"":this.ye.Ft().Ji(e,i.Wt)}}class lv{constructor(e,i){this.ye=e,this.Ps=i,this._r=new sv(e,this),this.jn=new rv(e,this),this.ur=new Nf(this.jn,e,e.Qt())}cr(e){Je(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,i=e.Ft();if(e.Qt().Et().Gi()||i.Gi())return null;const n=e.Lt();return n===null?null:i.Nt(this.Ps.price,n.Wt)}}class ov{constructor(){this.wr=new WeakMap}gr(e,i,n){const s=1/i*n;if(e>=s)return 1;const r=s/e,l=Math.pow(2,Math.floor(Math.log2(r)));return Math.min(l,512)}Mr(e,i,n,s=!1,r){if(e.length===0||i<=1)return e;const l=this.br(i);if(l<=1)return e;const a=this.Sr(e);let u=a.Cr.get(l);return u!==void 0||(u=this.yr(e,l,n,s,r,a.Cr),a.Cr.set(l,u)),u}kr(e,i,n,s,r=!1,l){if(n<1||e.length===0)return e;const a=this.Sr(e),u=a.Cr.get(n);if(!u)return this.Mr(e,n,s,r,l);const h=this.Pr(e,i,n,u,r,s,l);return a.Cr.set(n,h),h}br(e){if(e<=2)return 2;for(const i of iv)if(e<=i)return i;return 512}Tr(e){if(e.length===0)return 0;const i=e[0],n=e[e.length-1];return 31*e.length+17*i.js+13*n.js}yr(e,i,n,s=!1,r,l=new Map){if(i===2)return this.Rr(e,2,n,s,r);const a=i/2;let u=l.get(a);return u||(u=this.yr(e,a,n,s,r,l),l.set(a,u)),this.Dr(u,n,s,r)}Rr(e,i,n,s=!1,r){const l=this.Ir(e,i,n,s,r);return this.Vr(l,s)}Dr(e,i,n=!1,s){const r=this.Ir(e,2,i,n,s);return this.Vr(r,n)}Ir(e,i,n,s=!1,r){const l=[];for(let a=0;a<e.length;a+=i)if(e.length-a>=i){const u=this.Br(e[a],e[a+1],n,s,r);u.Er=!1,l.push(u)}else if(l.length===0)l.push(this.Ar(e[a],!0));else{const u=l[l.length-1];l[l.length-1]=this.Lr(u,e[a],n,s,r)}return l}zr(e,i){return(e??1)+(i??1)}Br(e,i,n,s=!1,r){if(!s||!n||!r){const h=e.Wt[1]>i.Wt[1]?e.Wt[1]:i.Wt[1],c=e.Wt[2]<i.Wt[2]?e.Wt[2]:i.Wt[2];return{Or:e.js,Nr:i.js,Fr:e.wt,Wr:i.wt,Hr:e.Wt[0],Ur:h,$r:c,qr:i.Wt[3],jr:this.zr(e.jr,i.jr),Yr:void 0,Er:!1}}const l=n(this.Kr(e,r),this.Kr(i,r)),a=r(l),u=a.length?a[a.length-1]:0;return{Or:e.js,Nr:i.js,Fr:e.wt,Wr:i.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],u),$r:Math.min(e.Wt[2],u),qr:u,jr:this.zr(e.jr,i.jr),Yr:l,Er:!1}}Lr(e,i,n,s=!1,r){if(!s||!n||!r)return{Or:e.Or,Nr:i.js,Fr:e.Fr,Wr:i.wt,Hr:e.Hr,Ur:e.Ur>i.Wt[1]?e.Ur:i.Wt[1],$r:e.$r<i.Wt[2]?e.$r:i.Wt[2],qr:i.Wt[3],jr:e.jr+(i.jr??1),Yr:e.Yr,Er:!1};const l=e.Yr,a=this.Kr(i,r),u=l?{data:l,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:r(l)}:null,h=u?n(u,a):a.data,c=u?r(h):a.priceValues,d=c.length?c[c.length-1]:0;return{Or:e.Or,Nr:i.js,Fr:e.Fr,Wr:i.wt,Hr:e.Hr,Ur:Math.max(e.Ur,d),$r:Math.min(e.$r,d),qr:d,jr:e.jr+(i.jr??1),Yr:h,Er:!1}}Zr(e,i,n,s,r,l,a=!1,u){const h=i===s?r:e[i];if(n-i==1)return this.Ar(h,!0);const c=i+1===s?r:e[i+1];let d=this.Br(h,c,l,a,u);for(let f=i+2;f<n;f++){const m=f===s?r:e[f];d=this.Lr(d,m,l,a,u)}return d}Kr(e,i){const n=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:i(n)}}Xr(e,i=!1){const n=i===!0,s=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[n?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:n?s?e.Yr:{wt:e.Fr}:void 0}}Vr(e,i=!1){return e.map(n=>this.Xr(n,i))}Pr(e,i,n,s,r=!1,l,a){if(s.length===0)return s;const u=e.length-1,h=Math.floor(u/n)*n;if(Math.min(h+n,e.length)-h<n&&e.length>n){const c=e.slice();return c[c.length-1]=i,this.Mr(c,n,l,r,a)}if(Math.floor((u-1)/n)===Math.floor(u/n)||s.length===1){const c=Math.min(h+n,e.length),d=c-h;if(d<=0)return s;const f=d===1?this.Ar(h===u?i:e[h],!0):this.Zr(e,h,c,u,i,l,r,a);return s[s.length-1]=this.Xr(f,r),s}{const c=e.slice();return c[c.length-1]=i,this.Mr(c,n,l,r,a)}}Ar(e,i=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:i}}Sr(e){const i=this.Jr(e),n=this.Tr(e);return i.Qr!==n&&(i.Cr.clear(),i.Qr=n),i}Jr(e){let i=this.wr.get(e);return i===void 0&&(i={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,i)),i}}class av extends Cf{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const uv={Bar:(t,e,i,n)=>{const s=e.upColor,r=e.downColor,l=N(t(i,n)),a=Ht(l.Wt[0])<=Ht(l.Wt[3]);return{th:l.R??(a?s:r)}},Candlestick:(t,e,i,n)=>{const s=e.upColor,r=e.downColor,l=e.borderUpColor,a=e.borderDownColor,u=e.wickUpColor,h=e.wickDownColor,c=N(t(i,n)),d=Ht(c.Wt[0])<=Ht(c.Wt[3]);return{th:c.R??(d?s:r),ih:c.Ht??(d?l:a),sh:c.nh??(d?u:h)}},Custom:(t,e,i,n)=>({th:N(t(i,n)).R??e.color}),Area:(t,e,i,n)=>{const s=N(t(i,n));return{th:s.vt??e.lineColor,vt:s.vt??e.lineColor,eh:s.eh??e.topColor,rh:s.rh??e.bottomColor}},Baseline:(t,e,i,n)=>{const s=N(t(i,n));return{th:s.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:s.hh??e.topLineColor,ah:s.ah??e.bottomLineColor,oh:s.oh??e.topFillColor1,_h:s._h??e.topFillColor2,uh:s.uh??e.bottomFillColor1,dh:s.dh??e.bottomFillColor2}},Line:(t,e,i,n)=>{const s=N(t(i,n));return{th:s.R??e.color,vt:s.R??e.color}},Histogram:(t,e,i,n)=>({th:N(t(i,n)).R??e.color})};class hv{constructor(e){this.fh=(i,n)=>n!==void 0?n.Wt:this.ye.qs().ph(i),this.ye=e,this.mh=uv[e.wh()]}gh(e,i){return this.mh(this.fh,this.ye.N(),e,i)}}function zf(t,e,i,n,s=0,r=e.length){let l=r-s;for(;0<l;){const a=l>>1,u=s+a;n(e[u],i)===t?(s=u+1,l-=a+1):l=a}return s}const un=zf.bind(null,!0),Tf=zf.bind(null,!1);var vh;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(vh||(vh={}));const At=30;class cv{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,i=0){const n=this.Th(e,i);return n===null?null:{...this.Rh(n),js:this.Ph(n)}}Dh(){return this.Mh}Ih(e,i,n){if(this.Gi())return null;let s=null;for(const r of n)s=Bs(s,this.Vh(e,i,r));return s}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map(i=>i.js)}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,i){const n=this.Eh(e);if(n===null&&i!==0)switch(i){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return n}Ah(e){let i=this.zh(e);return i>0&&(i-=1),i!==this.Mh.length&&this.Ph(i)<e?i:null}Lh(e){const i=this.Oh(e);return i!==this.Mh.length&&e<this.Ph(i)?i:null}Eh(e){const i=this.zh(e);return i===this.Mh.length||e<this.Mh[i].js?null:i}zh(e){return un(this.Mh,e,(i,n)=>i.js<n)}Oh(e){return Tf(this.Mh,e,(i,n)=>i.js>n)}Nh(e,i,n){let s=null;for(let r=e;r<i;r++){const l=this.Mh[r].Wt[n];Number.isNaN(l)||(s===null?s={Fh:l,Wh:l}:(l<s.Fh&&(s.Fh=l),l>s.Wh&&(s.Wh=l)))}return s}Vh(e,i,n){if(this.Gi())return null;let s=null;const r=N(this.kh()),l=N(this.sn()),a=Math.max(e,r),u=Math.min(i,l),h=Math.ceil(a/At)*At,c=Math.max(h,Math.floor(u/At)*At);{const f=this.zh(a),m=this.Oh(Math.min(u,h,i));s=Bs(s,this.Nh(f,m,n))}let d=this.bh.get(n);d===void 0&&(d=new Map,this.bh.set(n,d));for(let f=Math.max(h+1,a);f<c;f+=At){const m=Math.floor(f/At);let v=d.get(m);if(v===void 0){const x=this.zh(m*At),E=this.Oh((m+1)*At-1);v=this.Nh(x,E,n),d.set(m,v)}s=Bs(s,v)}{const f=this.zh(c),m=this.Oh(u);s=Bs(s,this.Nh(f,m,n))}return s}}function Bs(t,e){return t===null?e:e===null?t:{Fh:Math.min(t.Fh,e.Fh),Wh:Math.max(t.Wh,e.Wh)}}function Cl(){return new cv}const Pr={setLineStyle:_i};class dv{constructor(e){this.Hh=e}nt(e,i,n){this.Hh.draw(e,Pr)}Uh(e,i,n){var s,r;(r=(s=this.Hh).drawBackground)==null||r.call(s,e,Pr)}}class fv{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const i=new dv(e);return this.Ln={qh:e,jh:i},i}Yh(){var e,i;return((i=(e=this.$h).zOrder)==null?void 0:i.call(e))??"normal"}}class Lf{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){var e,i;(i=(e=this.Zh).updateAllViews)==null||i.call(e)}Ys(){var n,s,r;const e=((s=(n=this.Zh).paneViews)==null?void 0:s.call(n))??[];if(((r=this.Kh)==null?void 0:r.qh)===e)return this.Kh.jh;const i=e.map(l=>new fv(l));return this.Kh={qh:e,jh:i},i}Qn(e,i){var n,s;return((s=(n=this.Zh).hitTest)==null?void 0:s.call(n,e,i))??null}}let pv=class extends Lf{ds(){return[]}};class mv{constructor(e){this.Hh=e}nt(e,i,n){this.Hh.draw(e,Pr)}Uh(e,i,n){var s,r;(r=(s=this.Hh).drawBackground)==null||r.call(s,e,Pr)}}class yh{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const i=new mv(e);return this.Ln={qh:e,jh:i},i}Yh(){var e,i;return((i=(e=this.$h).zOrder)==null?void 0:i.call(e))??"normal"}}function Rf(t){var e,i,n;return{ri:t.text(),Ei:t.coordinate(),Vi:(e=t.fixedCoordinate)==null?void 0:e.call(t),R:t.textColor(),G:t.backColor(),It:((i=t.visible)==null?void 0:i.call(t))??!0,pi:((n=t.tickVisible)==null?void 0:n.call(t))??!0}}class gv{constructor(e,i){this.Xt=new Mf,this.Xh=e,this.Jh=i}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...Rf(this.Xh)}),this.Xt}}class vv extends Yr{constructor(e,i){super(),this.Xh=e,this.Ki=i}Yi(e,i,n){const s=Rf(this.Xh);n.G=s.G,e.R=s.R;const r=2/12*this.Ki.k();n.Ti=r,n.Ri=r,n.Ei=s.Ei,n.Vi=s.Vi,e.ri=s.ri,e.It=s.It,e.pi=s.pi}}class yv extends Lf{constructor(e,i){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=i}fs(){var s,r,l;const e=((r=(s=this.Zh).timeAxisViews)==null?void 0:r.call(s))??[];if(((l=this.Qh)==null?void 0:l.qh)===e)return this.Qh.jh;const i=this.ye.Qt().Et(),n=e.map(a=>new gv(a,i));return this.Qh={qh:e,jh:n},n}Ks(){var s,r,l;const e=((r=(s=this.Zh).priceAxisViews)==null?void 0:r.call(s))??[];if(((l=this.ta)==null?void 0:l.qh)===e)return this.ta.jh;const i=this.ye.Ft(),n=e.map(a=>new vv(a,i));return this.ta={qh:e,jh:n},n}na(){var n,s,r;const e=((s=(n=this.Zh).priceAxisPaneViews)==null?void 0:s.call(n))??[];if(((r=this.ia)==null?void 0:r.qh)===e)return this.ia.jh;const i=e.map(l=>new yh(l));return this.ia={qh:e,jh:i},i}ea(){var n,s,r;const e=((s=(n=this.Zh).timeAxisPaneViews)==null?void 0:s.call(n))??[];if(((r=this.sa)==null?void 0:r.qh)===e)return this.sa.jh;const i=e.map(l=>new yh(l));return this.sa={qh:e,jh:i},i}ra(e,i){var n,s;return((s=(n=this.Zh).autoscaleInfo)==null?void 0:s.call(n,e,i))??null}}function El(t,e,i,n){t.forEach(s=>{e(s).forEach(r=>{r.Yh()===i&&n.push(r)})})}function Pl(t){return t.Ys()}function xv(t){return t.na()}function wv(t){return t.ea()}const _v=["Area","Line","Baseline"];class Xr extends av{constructor(e,i,n,s,r){super(e),this.jt=Cl(),this._r=new ev(this),this.ha=[],this.aa=new Gg(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new ov,this.da=new Map,this.fa=null,this.Ps=n,this.pa=i;const l=new tv(this);if(this.gs=[l],this.ur=new Nf(l,this,e),_v.includes(this.pa)&&(this.la=new Zg(this)),this.va(),this.$h=s(this,this.Qt(),r),this.pa==="Custom"){const a=this.$h;a.ma&&this.wa(a.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const i={Be:!0},n=this.Ft();if(this.Qt().Et().Gi()||n.Gi()||this.jt.Gi())return i;const s=this.Qt().Et().Ie(),r=this.Lt();if(s===null||r===null)return i;let l,a;if(e){const d=this.jt.Ch();if(d===null)return i;l=d,a=d.js}else{const d=this.jt.$s(s.bi(),-1);if(d===null||(l=this.jt.ph(d.js),l===null))return i;a=d.js}const u=l.Wt[3],h=this.ga().gh(a,{Wt:l}),c=n.Nt(u,r.Wt);return{Be:!1,gt:u,ri:n.Ji(u,r.Wt),Ue:n.Ma(u),$e:n.ba(u,r.Wt),R:h.th,Ei:c,js:a}}ga(){return this.oa!==null||(this.oa=new hv(this)),this.oa}N(){return this.Ps}cr(e){const i=this.Qt(),{priceScaleId:n,visible:s,priceFormat:r}=e;n!==void 0&&n!==this.Ps.priceScaleId&&i.Sa(this,n),s!==void 0&&s!==this.Ps.visible&&i.xa();const l=e.conflationThresholdFactor!==void 0;Je(this.Ps,e),l&&(this.da.clear(),this.Qt().dr()),r!==void 0&&(this.va(),i.Ca()),i.ya(this),i.ka(),this.$h.kt("options")}ht(e,i){this.jt.ht(e),this.da.clear();const n=this.Qt().Et().N();n.enableConflation&&n.precomputeConflationOnInit&&this.Pa(n.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(i&&i.Ta?this.la.Pe():e.length===0&&this.la.ke());const s=this.Qt().Kn(this);this.Qt().Ra(s),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const i=new lv(this,e);return this.ha.push(i),this.Qt().ya(this),i}Ia(e){const i=this.ha.indexOf(e);i!==-1&&this.ha.splice(i,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const i=e.Aa();return this.jt.$s(i,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const i=this.za();if(!this.da.has(i))return;const n=this.pa==="Custom",s=n&&this.fa||void 0,r=n&&this.$h.Oa?u=>{const h=u,c=this.$h.Oa(h);return Array.isArray(c)?c:[typeof c=="number"?c:0]}:void 0,l=this.ca.kr(this.jt.Dh(),e,i,s,n,r),a=Cl();a.ht(l),this.da.set(i,a)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const i=this.za(),n=this.da.get(i);return n||(this.Fa(i),this.da.get(i)??this.jt)}Wa(e){const i=this.jt.ph(e);return i===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:i.Wt[0],Ur:i.Wt[1],$r:i.Wt[2],qr:i.Wt[3]}:i.Wt[3]}Ha(e){const i=[];El(this.ua,Pl,"top",i);const n=this.la;return n!==null&&n.It()&&(this._a===null&&n.Re()&&(this._a=setTimeout(()=>{this._a=null,this.Qt().Ua()},0)),n.Te(),i.unshift(n)),i}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const i=this.ha.map(n=>n.pr());return e.push(...i),El(this.ua,Pl,"normal",e),e}qa(){return this.ja(Pl,"bottom")}Ya(e){return this.ja(xv,e)}Ka(e){return this.ja(wv,e)}Za(e,i){return this.ua.map(n=>n.Qn(e,i)).filter(n=>n!==null)}ds(){return[this.ur,...this.ha.map(e=>e.vr())]}Ks(e,i){if(i!==this.hs&&!this.$a())return[];const n=[...this.gs];for(const s of this.ha)n.push(s.mr());return this.ua.forEach(s=>{n.push(...s.Ks())}),n}fs(){const e=[];return this.ua.forEach(i=>{e.push(...i.fs())}),e}ra(e,i){if(this.Ps.autoscaleInfoProvider!==void 0){const n=this.Ps.autoscaleInfoProvider(()=>{const s=this.Ga(e,i);return s===null?null:s.tr()});return Er.ir(n)}return this.Ga(e,i)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){var e;this.$h.kt();for(const i of this.gs)i.kt();for(const i of this.ha)i.kt();this._r.kt(),this.aa.kt(),(e=this.la)==null||e.kt(),this.ua.forEach(i=>i.Ws())}Ft(){return N(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const i=this.jt.ph(e);return i===null?null:{gt:i.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new yv(e,this))}el(e){this.ua=this.ua.filter(i=>i.Gh()!==e)}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!Jr(this.Ft().ol())}Ga(e,i){if(!as(e)||!as(i)||this.jt.Gi())return null;const n=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],s=this.jt.Ih(e,i,n);let r=s!==null?new Be(s.Fh,s.Wh):null,l=null;if(this.wh()==="Histogram"){const a=this.Ps.base,u=new Be(a,a);r=r!==null?r.Sn(u):u}return this.ua.forEach(a=>{const u=a.ra(e,i);if(u!=null&&u.priceRange){const h=new Be(u.priceRange.minValue,u.priceRange.maxValue);r=r!==null?r.Sn(h):h}u!=null&&u.margins&&(l=u.margins)}),new Er(r,l)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const i=this.Ps.crosshairMarkerBackgroundColor;if(i.length!==0)return i}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(i=>i.map(e))};break}case"volume":this.Ja=new Kg(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new Pf(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new Gr(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,i){const n=[];return El(this.ua,e,i,n),n}za(){const{ul:e,cl:i,dl:n}=this.fl();return this.ca.gr(e,i,n)}fl(){const e=this.Qt().Et(),i=e.ul(),n=window.devicePixelRatio||1,s=e.N().conflationThresholdFactor;return{ul:i,cl:n,dl:this.Ps.conflationThresholdFactor??s??1}}pl(e){const i=this.jt.Dh();let n;if(this.pa==="Custom"&&this.fa!==null){const r=this.rl();if(!r)throw new Error(nv);n=this.ca.Mr(i,e,this.fa,!0,l=>r(l))}else n=this.ca.Mr(i,e);const s=Cl();return s.ht(n),s}Fa(e){const i=this.pl(e);this.da.set(e,i)}Pa(e){var n;if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const i=this.Qt().Et().vl();for(const s of i){const r=()=>{this.ml(s)},l=typeof window=="object"&&window||typeof self=="object"&&self;(n=l==null?void 0:l.gl)!=null&&n.wl?l.gl.wl(()=>{r()},{Ml:e}):Promise.resolve().then(()=>r())}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const i=this.pl(e);this.da.set(e,i)}}const Sv=[3],jv=[0,1,2,3];class kv{constructor(e){this.Ps=e}bl(e,i,n){let s=e;if(this.Ps.mode===0)return s;const r=n.Rs(),l=r.Lt();if(l===null)return s;const a=r.Nt(e,l),u=n.Sl().filter(c=>c instanceof Xr).reduce((c,d)=>{if(n.Zn(d)||!d.It())return c;const f=d.Ft(),m=d.qs();if(f.Gi()||!m.Ee(i))return c;const v=m.ph(i);if(v===null)return c;const x=Ht(d.Lt()),E=this.Ps.mode===3?jv:Sv;return c.concat(E.map(g=>f.Nt(v.Wt[g],x.Wt)))},[]);if(u.length===0)return s;u.sort((c,d)=>Math.abs(c-a)-Math.abs(d-a));const h=u[0];return s=r.Ds(h,l),s}}function Dn(t,e,i){return Math.min(Math.max(t,e),i)}function As(t,e,i){return e-t<=i}function $a(t){const e=Math.ceil(t);return e%2==0?e-1:e}class bv extends Ci{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.jt===null)return;const r=Math.max(1,Math.floor(n));e.lineWidth=r,function(l,a){l.save(),l.lineWidth%2&&l.translate(.5,.5),a(),l.restore()}(e,()=>{const l=N(this.jt);if(l.xl){e.strokeStyle=l.Cl,_i(e,l.yl),e.beginPath();for(const a of l.kl){const u=Math.round(a.Pl*n);e.moveTo(u,-r),e.lineTo(u,i.height+r)}e.stroke()}if(l.Tl){e.strokeStyle=l.Rl,_i(e,l.Dl),e.beginPath();for(const a of l.Il){const u=Math.round(a.Pl*s);e.moveTo(-r,u),e.lineTo(i.width+r,u)}e.stroke()}})}}class Mv{constructor(e){this.Xt=new bv,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,i={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map(n=>({Pl:n.coord}))};this.Xt.ht(i),this.xt=!1}return this.Xt}}class Cv{constructor(e){this.$h=new Mv(e)}pr(){return this.$h}}const Nl={Bl:4,El:1e-4};function Hi(t,e){const i=100*(t-e)/e;return e<0?-i:i}function Ev(t,e){const i=Hi(t.Ze(),e),n=Hi(t.Ge(),e);return new Be(i,n)}function Wn(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function Pv(t,e){const i=Wn(t.Ze(),e),n=Wn(t.Ge(),e);return new Be(i,n)}function Nr(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.El)+e.Bl;return t<0?-n:n}function Un(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.Bl)-e.El;return t<0?-n:n}function Mn(t,e){if(t===null)return null;const i=Nr(t.Ze(),e),n=Nr(t.Ge(),e);return new Be(i,n)}function Ki(t,e){if(t===null)return null;const i=Un(t.Ze(),e),n=Un(t.Ge(),e);return new Be(i,n)}function zl(t){if(t===null)return Nl;const e=Math.abs(t.Ge()-t.Ze());if(e>=1||e<1e-15)return Nl;const i=Math.ceil(Math.abs(Math.log10(e))),n=Nl.Bl+i;return{Bl:n,El:1/Math.pow(10,n)}}class Tl{constructor(e,i){if(this.Al=e,this.Ll=i,function(n){if(n<0)return!1;if(n>1e18)return!0;for(let s=n;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let n=this.Al;n!==1;){if(n%2==0)this.zl.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),n/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,i,n){const s=this.Al===0?0:1/this.Al;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-i)))),l=0,a=this.Ll[0];for(;;){const d=As(r,s,1e-14)&&r>s+1e-14,f=As(r,n*a,1e-14),m=As(r,1,1e-14);if(!(d&&f&&m))break;r/=a,a=this.Ll[++l%this.Ll.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.zl.length>0&&(u=r,h=1,c=1e-14,Math.abs(u-h)<c))for(l=0,a=this.zl[0];As(r,n*a,1e-14)&&r>s+1e-14;)r/=a,a=this.zl[++l%this.zl.length];var u,h,c;return r}}class xh{constructor(e,i,n,s){this.Nl=[],this.Ki=e,this.Al=i,this.Fl=n,this.Wl=s}Ol(e,i){if(e<i)throw new Error("high < low");const n=this.Ki.$t(),s=(e-i)*this.Hl()/n,r=new Tl(this.Al,[2,2.5,2]),l=new Tl(this.Al,[2,2,2.5]),a=new Tl(this.Al,[2.5,2,2]),u=[];return u.push(r.Ol(e,i,s),l.Ol(e,i,s),a.Ol(e,i,s)),function(h){if(h.length<1)throw Error("array is empty");let c=h[0];for(let d=1;d<h.length;++d)h[d]<c&&(c=h[d]);return c}(u)}Ul(){const e=this.Ki,i=e.Lt();if(i===null)return void(this.Nl=[]);const n=e.$t(),s=this.Fl(n-1,i),r=this.Fl(0,i),l=this.Ki.N().entireTextOnly?this.$l()/2:0,a=l,u=n-1-l,h=Math.max(s,r),c=Math.min(s,r);if(h===c)return void(this.Nl=[]);const d=this.Ol(h,c);if(this.ql(i,d,h,c,a,u),e.jl()&&this.Yl(d,c,h)){const v=this.Ki.Kl();this.Zl(i,d,a,u,v,2*v)}const f=this.Nl.map(v=>v.Gl),m=this.Ki.Xl(f);for(let v=0;v<this.Nl.length;v++)this.Nl[v].Jl=m[v]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,i,n,s,r,l){const a=this.Nl,u=this.Ki;let h=n%i;h+=h<0?i:0;const c=n>=s?1:-1;let d=null,f=0;for(let m=n-h;m>s;m-=i){const v=this.Wl(m,e,!0);d!==null&&Math.abs(v-d)<this.Hl()||v<r||v>l||(f<a.length?(a[f].Pl=v,a[f].Jl=u.Ql(m),a[f].Gl=m):a.push({Pl:v,Jl:u.Ql(m),Gl:m}),f++,d=v,u.io()&&(i=this.Ol(m*c,s)))}a.length=f}Zl(e,i,n,s,r,l){const a=this.Nl,u=this.so(e,n,r,l),h=this.so(e,s,-l,-r),c=this.Wl(0,e,!0)-this.Wl(i,e,!0);a.length>0&&a[0].Pl-u.Pl<c/2&&a.shift(),a.length>0&&h.Pl-a[a.length-1].Pl<c/2&&a.pop(),a.unshift(u),a.push(h)}so(e,i,n,s){const r=(n+s)/2,l=this.Fl(i+n,e),a=this.Fl(i+s,e),u=Math.min(l,a),h=Math.max(l,a),c=Math.max(.1,this.Ol(h,u)),d=this.Fl(i+r,e),f=d-d%c,m=this.Wl(f,e,!0);return{Jl:this.Ki.Ql(f),Pl:m,Gl:f}}Yl(e,i,n){let s=Ht(this.Ki.er());return this.Ki.io()&&(s=Ki(s,this.Ki.no())),s.Ze()-i<e&&n-s.Ge()<e}}function If(t){return t.slice().sort((e,i)=>N(e._s())-N(i._s()))}var wh;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(wh||(wh={}));const _h=new Pf,Sh=new Gr(100,1);class Nv{constructor(e,i,n,s,r){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new de,this.fo=new de,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=Sh,this.So=zl(null),this.xo=e,this.Ps=i,this.Co=n,this.yo=s,this.ko=r,this.Po=new xh(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(Je(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const i=He(e.scaleMargins.top),n=He(e.scaleMargins.bottom);if(i<0||i>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${i}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(i+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${i+n}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const i=this.ae();let n=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),i.ae===1&&e.ae!==i.ae&&(function(r,l){if(r===null)return!1;const a=Un(r.Ze(),l),u=Un(r.Ge(),l);return isFinite(a)&&isFinite(u)}(this.sr,this.So)?(n=Ki(this.sr,this.So),n!==null&&this.Lo(n)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==i.ae&&(n=Mn(this.sr,this.So),n!==null&&this.Lo(n));const s=i.ae!==this.Ps.mode;s&&(i.ae===2||this.He())&&this._l(),s&&(i.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&i.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(i,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,i){const n=this.sr;(i||n===null&&e!==null||n!==null&&!n.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,i){return this.He()?e=Hi(e,i):this.Eo()&&(e=Wn(e,i)),this.Ro(e,i)}Yo(e,i,n){this.Uo();const s=this.Ho(),r=N(this.er()),l=r.Ze(),a=r.Ge(),u=this.Fo()-1,h=this.Ao(),c=u/(a-l),d=n===void 0?0:n.from,f=n===void 0?e.length:n.to,m=this.Ko();for(let v=d;v<f;v++){const x=e[v],E=x.gt;if(isNaN(E))continue;let g=E;m!==null&&(g=m(x.gt,i));const p=s+c*(g-l),y=h?p:this.eo-1-p;x.ut=y}}Zo(e,i,n){this.Uo();const s=this.Ho(),r=N(this.er()),l=r.Ze(),a=r.Ge(),u=this.Fo()-1,h=this.Ao(),c=u/(a-l),d=n===void 0?0:n.from,f=n===void 0?e.length:n.to,m=this.Ko();for(let v=d;v<f;v++){const x=e[v];let E=x.Hr,g=x.Ur,p=x.$r,y=x.qr;m!==null&&(E=m(x.Hr,i),g=m(x.Ur,i),p=m(x.$r,i),y=m(x.qr,i));let S=s+c*(E-l),b=h?S:this.eo-1-S;x.Go=b,S=s+c*(g-l),b=h?S:this.eo-1-S,x.Xo=b,S=s+c*(p-l),b=h?S:this.eo-1-S,x.Jo=b,S=s+c*(y-l),b=h?S:this.eo-1-S,x.Qo=b}}Ds(e,i){const n=this.To(e,i);return this.t_(n,i)}t_(e,i){let n=e;return this.He()?n=function(s,r){return r<0&&(s=-s),s/100*r+r}(n,i):this.Eo()&&(n=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(n,i)),n}Sl(){return this.po}Dt(){return this.mo||(this.mo=If(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const i=this.po.indexOf(e);if(i===-1)throw new Error("source is not attached to scale");this.po.splice(i,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const i of this.po){const n=i.Lt();n!==null&&(e===null||n.Ea<e.Ea)&&(e=n)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const i=this.Po.Vl();return this.wo={Vl:i,e_:e},this.do.p(),i}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=N(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let i=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const n=N(this.ho).Ke();i=Math.max(i,.1),n.Je(i),this.Lo(n)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=N(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const i=N(this.er()).Xe()/(this.Fo()-1);let n=e-this.bo;this.Ao()&&(n*=-1);const s=n*i,r=N(this.ho).Ke();r.Qe(s),this.Lo(r,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,i){switch(this.Ps.mode){case 2:return this.c_(Hi(e,i));case 3:return this.Xa().format(Wn(e,i));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,N(this.vo).Xa())}ba(e,i){return e=Hi(e,i),this.c_(e,_h)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach(e=>e.Ws())}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const n of this.po)n._s()<e&&(e=n._s(),this.vo=n);let i=100;this.vo!==null&&(i=Math.round(this.vo.qh())),this.Ja=Sh,this.He()?(this.Ja=_h,i=100):this.Eo()?(this.Ja=new Gr(100,1),i=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new xh(this,i,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,i){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?Nr(e,this.So):e;const n=N(this.er()),s=this.Ho()+(this.Fo()-1)*(e-n.Ze())/n.Xe();return this.jo(s)}To(e,i){if(this.Uo(),this.Gi())return 0;const n=this.jo(e),s=N(this.er()),r=s.Ze()+s.Xe()*((n-this.Ho())/(this.Fo()-1));return this.io()?Un(r,this.So):r}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let i=null;const n=this.p_();let s=0,r=0;for(const u of n){if(!u.It())continue;const h=u.Lt();if(h===null)continue;const c=u.ra(e.Aa(),e.bi());let d=c&&c.er();if(d!==null){switch(this.Ps.mode){case 1:d=Mn(d,this.So);break;case 2:d=Ev(d,h.Wt);break;case 3:d=Pv(d,h.Wt)}if(i=i===null?d:i.Sn(N(d)),c!==null){const f=c.rr();f!==null&&(s=Math.max(s,f.above),r=Math.max(r,f.below))}}}if(this.jl()&&(s=Math.max(s,this.Kl()),r=Math.max(r,this.Kl())),s===this.uo&&r===this.co||(this.uo=s,this.co=r,this.wo=null,this.Io()),i!==null){if(i.Ze()===i.Ge()){const u=5*this.m_();this.io()&&(i=Ki(i,this.So)),i=new Be(i.Ze()-u,i.Ge()+u),this.io()&&(i=Mn(i,this.So))}if(this.io()){const u=Ki(i,this.So),h=zl(u);if(l=h,a=this.So,l.Bl!==a.Bl||l.El!==a.El){const c=this.ho!==null?Ki(this.ho,this.So):null;this.So=h,i=Mn(u,h),c!==null&&(this.ho=Mn(c,h))}}this.Lo(i)}else this.sr===null&&(this.Lo(new Be(-.5,.5)),this.So=zl(null));var l,a}Ko(){return this.He()?Hi:this.Eo()?Wn:this.io()?e=>Nr(e,this.So):null}g_(e,i,n){return i===void 0?(n===void 0&&(n=this.Xa()),n.format(e)):i(e)}M_(e,i,n){return i===void 0?(n===void 0&&(n=this.Xa()),n.formatTickmarks(e)):i(e)}lr(e,i){return this.g_(e,this.yo.priceFormatter,i)}f_(e,i){const n=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(n?s=>s.map(n):void 0),i)}c_(e,i){return this.g_(e,this.yo.percentageFormatter,i)}d_(e,i){const n=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(n?s=>s.map(n):void 0),i)}}function jh(t){return t instanceof Xr}class kh{constructor(e,i){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new de,this.ua=[],this.Jh=e,this.ns=i,this.k_=new Cv(this);const n=i.N();this.P_=this.T_("left",n.leftPriceScale),this.R_=this.T_("right",n.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(n)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const i=Array.from(this.b_.values());for(const n of i){const s=N(n[0].Ft());s.cr(e.overlayPriceScales),e.localization&&s._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?He(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach(e=>{e.m&&e.m()}),this.ua=this.ua.filter(e=>{const i=e.Gh();return i.detached&&i.detached(),!1}),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach(i=>{if(this.Zn(i)){const n=i.Ft();n!==null&&n.No(e)}}),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(jh)}Sl(){return this.po}Zn(e){const i=e.Ft();return i===null||this.P_!==i&&this.R_!==i}i_(e,i,n){this.W_(e,i,n?e._s():this.po.length)}n_(e,i){const n=this.po.indexOf(e);be(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1),i||this.po.forEach((l,a)=>l.us(a));const s=N(e.Ft()).ol();if(this.b_.has(s)){const l=He(this.b_.get(s)),a=l.indexOf(e);a!==-1&&(l.splice(a,1),l.length===0&&this.b_.delete(s))}const r=e.Ft();r&&r.Sl().indexOf(e)>=0&&(r.n_(e),this.H_(r)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,i){e.h_(i)}Y_(e,i){e.a_(i),this.z_()}K_(e){e.l_()}Z_(e,i){e.o_(i)}G_(e,i){e.__(i),this.z_()}X_(e){e.u_()}z_(){this.po.forEach(e=>{e.Ws()})}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const i=this.Jh.Ie();e.Do({ln:!0}),i!==null&&e.v_(i),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach(e=>{this.Zn(e)&&this.H_(e.Ft())}),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=If(this.po)),this.mo}su(e,i){i=Dn(i,0,this.po.length-1);const n=this.po.indexOf(e);be(n!==-1,"setSeriesOrder: invalid data source"),this.po.splice(n,1),this.po.splice(i,0,e),this.po.forEach((s,r)=>s.us(r)),this.mo=null;for(const s of[this.P_,this.R_])s.s_(),s._l();this.ns.dr()}Vt(){return this.Dt().filter(jh)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new pv(e))}el(e){this.ua=this.ua.filter(i=>i.Gh()!==e),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,i){return this.ua.map(n=>n.Qn(e,i)).filter(n=>n!==null)}J_(e){const i=e.p_();if(i&&i.length>0&&!this.Jh.Gi()){const n=this.Jh.Ie();n!==null&&e.v_(n)}e.Ws()}W_(e,i,n){let s=this.V_(i);if(s===null&&(s=this.T_(i,this.ns.N().overlayPriceScales)),this.po.splice(n,0,e),!Jr(i)){const r=this.b_.get(i)||[];r.push(e),this.b_.set(i,r)}e.us(n),s.i_(e),e.cs(s),this.H_(s),this.mo=null}D_(e,i,n){i.ae!==n.ae&&this.J_(e)}T_(e,i){const n={visible:!0,autoScale:!0,...Et(i)},s=new Nv(e,n,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return s.No(this.$t()),s}}function Os(t){return{hu:t.hu,au:{te:t.lu.externalId},ou:t.lu.cursorStyle}}function zv(t,e,i,n){for(const s of t){const r=s.Tt(n);if(r!==null&&r.Qn){const l=r.Qn(e,i);if(l!==null)return{_u:s,au:l}}}return null}function Tv(t){return t.Ys!==void 0}function Ff(t,e,i){const n=[t,...t.Dt()],s=function(r,l,a){var f;let u,h;for(const m of r){const v=((f=m.Za)==null?void 0:f.call(m,l,a))??[];for(const x of v)c=x.zOrder,d=u==null?void 0:u.zOrder,(!d||c==="top"&&d!=="top"||c==="normal"&&d==="bottom")&&(u=x,h=m)}var c,d;return u&&h?{lu:u,hu:h}:null}(n,e,i);if((s==null?void 0:s.lu.zOrder)==="top")return Os(s);for(const r of n){if(s&&s.hu===r&&s.lu.zOrder!=="bottom"&&!s.lu.isBackground)return Os(s);if(Tv(r)){const l=zv(r.Ys(t),e,i,t);if(l!==null)return{hu:r,_u:l._u,au:l.au}}if(s&&s.hu===r&&s.lu.zOrder!=="bottom"&&s.lu.isBackground)return Os(s)}return s!=null&&s.lu?Os(s):null}class Lv{constructor(e,i,n=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=i,this.zn=n}du(e){const i=e.time,n=this.cu.cacheKey(i),s=this.Ln.get(n);if(s!==void 0)return s.fu;if(this.Vn===this.zn){const l=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(He(l)),this.En++,this.Vn--}const r=this.uu(e);return this.Ln.set(n,{fu:r,Wn:this.Bn}),this.An.set(this.Bn,n),this.Vn++,this.Bn++,r}}class Zi{constructor(e,i){be(e<=i,"right should be >= left"),this.pu=e,this.vu=i}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function bh(t,e){return t===null||e===null?t===e:t.Ye(e)}class Rv{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,i){this.Su(i),this.Ln=null;for(let n=i;n<e.length;++n){const s=e[n];let r=this.wu.get(s.timeWeight);r===void 0&&(r=[],this.wu.set(s.timeWeight,r)),r.push({index:n,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}xu(e,i,n,s,r){const l=Math.ceil(i/e);return this.Ln!==null&&this.Ln.Cu===l&&r===this.Ln.yu&&n===this.Ln.ku||(this.Ln={yu:r,ku:n,Vl:this.Pu(l,n,s),Cu:l}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const i=[];this.wu.forEach((n,s)=>{e<=n[0].index?i.push(s):n.splice(un(n,e,r=>r.index<e),1/0)});for(const n of i)this.wu.delete(n)}Pu(e,i,n){let s=[];const r=l=>!i||n.has(l.index);for(const l of Array.from(this.wu.keys()).sort((a,u)=>u-a)){if(!this.wu.get(l))continue;const a=s;s=[];const u=a.length;let h=0;const c=He(this.wu.get(l)),d=c.length;let f=1/0,m=-1/0;for(let v=0;v<d;v++){const x=c[v],E=x.index;for(;h<u;){const g=a[h],p=g.index;if(!(p<E&&r(g))){f=p;break}h++,s.push(g),m=p,f=1/0}if(f-E>=e&&E-m>=e&&r(x))s.push(x),m=E;else if(this.gu)return a}for(;h<u;h++)r(a[h])&&s.push(a[h])}return s}}class en{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new Zi(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new en(null)}}function Iv(t,e){return t.weight>e.weight?t:e}class Fv{constructor(e,i,n,s){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new Rv,this.Au=new Map,this.Lu=en.Iu(),this.zu=!0,this.Ou=new de,this.Nu=new de,this.Fu=new de,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=i,this.yo=n,this.Yu=i.rightOffset,this.Ku=i.barSpacing,this.ns=e,this.Zu(i),this.cu=s,this.Gu(),this.Eu.Mu(i.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){Je(this.yo,e),this.tc(),this.Gu()}cr(e,i){Je(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){var i;return((i=this.Bu[e])==null?void 0:i.time)??null}es(e){return this.Bu[e]??null}ec(e,i){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return i?this.Bu.length-1:null;const n=un(this.Bu,this.cu.key(e),(s,r)=>this.cu.key(s.time)<r);return this.cu.key(e)<this.cu.key(this.Bu[n].time)?i?n:null:n}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const i={from:e.Aa(),to:e.bi()};return this.oc(i)}oc(e){const i=Math.round(e.from),n=Math.round(e.to),s=N(this._c()),r=N(this.uc());return{from:N(this.es(Math.max(s,i))),to:N(this.es(Math.min(r,n)))}}cc(e){return{from:N(this.ec(e.from,!0)),to:N(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const i=this.ac(),n=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&n!==0){const s=this.Ku*e/n;this.Ku=s}if(this.Ps.fixLeftEdge&&i!==null&&i.Aa()<=0){const s=n-e;this.Yu-=Math.round(s/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!as(e))return 0;const i=this.vc()+this.Yu-e;return this.S_-(i+.5)*this.Ku-1}mc(e,i){const n=this.vc(),s=i===void 0?0:i.from,r=i===void 0?e.length:i.to;for(let l=s;l<r;l++){const a=e[l].wt,u=n+this.Yu-a,h=this.S_-(u+.5)*this.Ku-1;e[l]._t=h}}wc(e,i){const n=Math.ceil(this.gc(e));return i&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(n)?this.bc(n):n}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const i=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&i!==0){const n=this.Yu*i/this.Ku;this.Yu=n}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,i=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(i/e),s=N(this.Ie()),r=Math.max(s.Aa(),s.Aa()-n),l=Math.max(s.bi(),s.bi()-n),a=this.Eu.xu(e,i,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),u=this._c()+n,h=this.uc()-n,c=this.yc(),d=this.Ps.fixLeftEdge||c,f=this.Ps.fixRightEdge||c;let m=0;for(const v of a){if(!(r<=v.index&&v.index<=l))continue;let x;m<this.qu.length?(x=this.qu[m],x.coord=this.qt(v.index),x.label=this.kc(v),x.weight=v.weight):(x={needAlignCoordinate:!1,coord:this.qt(v.index),label:this.kc(v),weight:v.weight},this.qu.push(x)),this.Ku>i/2&&!c?x.needAlignCoordinate=!1:x.needAlignCoordinate=d&&v.index<=u||f&&v.index>=h,m++}return this.qu.length=m,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,i){const n=this.gc(e),s=this.ul(),r=s+i*(s/10);this.gn(r),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(n-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const i=Dn(this.S_-e,0,this.S_),n=Dn(this.S_-N(this.Mo),0,this.S_);i!==0&&n!==0&&this.gn(this.Wu.ul*i/n)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const i=(this.bo-e)/this.ul();this.Yu=N(this.Wu).Cc+i,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,i=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.Yu,s=performance.now();this.ns.vn({Ec:r=>(r-s)/i>=1,Ac:r=>{const l=(r-s)/i;return l>=1?e:n+(e-n)*l}})}kt(e,i){this.zu=!0,this.Bu=e,this.Eu.bu(e,i),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,i){const n=e.mu(),s=i&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-s)/n),this.Yu=e.bi()-this.vc(),i&&(this.Yu=s?s/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),i=this.uc();if(e===null||i===null)return;const n=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new Zi(e,i+n),!0)}Wc(e){const i=new Zi(e.from,e.to);this.Nc(i)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const i of e)for(const n of i.ll())this.Uu.set(n,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),i=this.Ps.minBarSpacing;if(i>=e)return[1];const n=[1];let s=2;for(;s<=512;)i<e/s&&n.push(s),s*=2;return n}yc(){const e=this.ns.N().handleScroll,i=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||i.axisDoubleClickReset.time||i.axisPressedMouseMove.time||i.mouseWheel||i.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const i=this.Uc(e),n=this.vc()+this.Yu-i;return Math.round(1e6*n)/1e6}xc(e){const i=this.Ku;this.Ku=e,this.dc(),i!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(en.Iu());const e=this.vc(),i=this.S_/this.Ku,n=this.Yu+e,s=new Zi(n-i+1,n);this.qc(new en(s))}dc(){const e=Dn(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const i=e/this.Ku,n=Math.pow(2,Math.floor(Math.log2(i)));this.ju=Math.min(n,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const i=this.Zc();this.Yu>i&&(this.Yu=i,this.zu=!0)}Kc(){const e=this._c(),i=this.Vu;return e===null||i===null?null:e-i-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let i=this.Au.get(e.weight);return i===void 0&&(i=new Lv(n=>this.Gc(n),this.cu),this.Au.set(e.weight,i)),i.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const i=this.Lu;this.Lu=e,bh(i.Ru(),this.Lu.Ru())||this.Ou.p(),bh(i.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const i=this.Ie();if(i===null)return;const n=i.Aa()-e;if(n<0){const s=this.Yu-n-1;this.Mn(s)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const i=function*(s){const r=Math.round(s),l=r<s;let a=1;for(;;)l?(yield r+a,yield r-a):(yield r-a,yield r+a),a++}(e),n=this.uc();for(;n;){const s=i.next().value;if(this.Uu.get(s))return s;if(s<0||s>n)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const i=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(i)}}}var Mh,Ch,Eh,Ph,Nh;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(Mh||(Mh={}));class Bv{constructor(e,i,n){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new de,this.nd=new de,this.ed=null,this.rd=e,this.Ps=i,this.cu=n,this.ko=new Lg(this.Ps.layout.colorParsers),this.hd=new Tg(this),this.Jh=new Fv(this,i.timeScale,this.Ps.localization,n),this.Ct=new Hg(this,i.crosshair),this.ad=new kv(i.crosshair),i.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(ke.yn())}dr(){this.dd(ke.Cn())}Ua(){this.dd(new ke(1))}ya(e){const i=this.fd(e);this.dd(i)}pd(){return this.td}vd(e){var n,s,r,l;if(((n=this.td)==null?void 0:n.hu)===(e==null?void 0:e.hu)&&((r=(s=this.td)==null?void 0:s.au)==null?void 0:r.te)===((l=e==null?void 0:e.au)==null?void 0:l.te))return;const i=this.td;this.td=e,i!==null&&this.ya(i.hu),e!==null&&e.hu!==(i==null?void 0:i.hu)&&this.ya(e.hu)}N(){return this.Ps}cr(e){Je(this.Ps,e),this.Xc.forEach(i=>i.I_(e)),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,i,n=0){const s=this.Xc[n];if(s===void 0)return;if(e==="left")return Je(this.Ps,{leftPriceScale:i}),s.I_({leftPriceScale:i}),this.sd.p(),void this.Ca();if(e==="right")return Je(this.Ps,{rightPriceScale:i}),s.I_({rightPriceScale:i}),this.sd.p(),void this.Ca();const r=this.wd(e,n);r!==null&&(r.Ft.cr(i),this.sd.p())}wd(e,i){const n=this.Xc[i];if(n===void 0)return null;const s=n.V_(e);return s!==null?{Gs:n,Ft:s}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,i){e.No(i),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach(i=>i.L_(e)),this.Sc()}Sd(e){this.Xc.length!==1&&(be(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,i){if(this.Xc.length<2)return;be(e>=0&&e<this.Xc.length,"Invalid pane index");const n=this.Xc[e],s=this.Xc.reduce((d,f)=>d+f.E_(),0),r=this.Xc.reduce((d,f)=>d+f.$t(),0),l=r-30*(this.Xc.length-1);i=Math.min(l,Math.max(30,i));const a=s/r,u=n.$t();n.A_(i*a);let h=i-u,c=this.Xc.length-1;for(const d of this.Xc)if(d!==n){const f=Math.min(l,Math.max(30,d.$t()-h/c));h-=d.$t()-f,c-=1;const m=f*a;d.A_(m)}this.Ca()}Cd(e,i){be(e>=0&&e<this.Xc.length&&i>=0&&i<this.Xc.length,"Invalid pane index");const n=this.Xc[e],s=this.Xc[i];this.Xc[e]=s,this.Xc[i]=n,this.Ca()}yd(e,i){if(be(e>=0&&e<this.Xc.length&&i>=0&&i<this.Xc.length,"Invalid pane index"),e===i)return;const[n]=this.Xc.splice(e,1);this.Xc.splice(i,0,n),this.Ca()}j_(e,i,n){e.j_(i,n)}Y_(e,i,n){e.Y_(i,n),this.ka(),this.dd(this.kd(e,2))}K_(e,i){e.K_(i),this.dd(this.kd(e,2))}Z_(e,i,n){i.Vo()||e.Z_(i,n)}G_(e,i,n){i.Vo()||(e.G_(i,n),this.ka(),this.dd(this.kd(e,2)))}X_(e,i){i.Vo()||(e.X_(i),this.dd(this.kd(e,2)))}Q_(e,i){e.Q_(i),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,i){const n=this.Et();if(n.Gi()||i===0)return;const s=n.ss();e=Math.max(1,Math.min(e,s)),n.Rc(e,i),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter(e=>e.It())),this.Qc}xa(){this.Qc=null}Ad(e,i,n,s,r){this.Ct.Bs(e,i);let l=NaN,a=this.Jh.wc(e,!0);const u=this.Jh.Ie();u!==null&&(a=Math.min(Math.max(u.Aa(),a),u.bi())),a=this.Ct.Hs(a);const h=s.Rs(),c=h.Lt();if(c!==null&&(l=h.Ds(i,c)),l=this.ad.bl(l,a,s),this.Ct.zs(a,l,s),this.Ua(),!r){const d=Ff(s,e,i);this.vd(d&&{hu:d.hu,au:d.au,ou:d.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:i},n)}}Ld(e,i,n){const s=n.Rs(),r=s.Lt(),l=s.Nt(e,N(r)),a=this.Jh.ec(i,!0),u=this.Jh.qt(N(a));this.Ad(u,l,null,n,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const i=this.Ct.As(),n=this.Ct.Ls();this.Ad(i,n,null,e)}this.Ct.Ws()}Od(e,i,n){const s=this.Jh.Is(0);i!==void 0&&n!==void 0&&this.Jh.kt(i,n);const r=this.Jh.Is(0),l=this.Jh.vc(),a=this.Jh.Ie();if(a!==null&&s!==null&&r!==null){const u=a.Ee(l),h=this.cu.key(s)>this.cu.key(r),c=e!==null&&e>l&&!h,d=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,f=u&&(n!==void 0||d)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(c&&!f){const m=e-l;this.Jh.Mn(this.Jh.Cc()-m)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if(function(n){return n instanceof kh}(e))return e;const i=this.Xc.find(n=>n.Dt().includes(e));return i===void 0?null:i}Sc(){this.Xc.forEach(e=>e.iu()),this.ka()}m(){this.Xc.forEach(e=>e.m()),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,i){const n=this.ld(i);this.Wd(e,n),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const i=this.Kn(e),n=this.Jc.indexOf(e);be(n!==-1,"Series not found");const s=N(i);this.Jc.splice(n,1),s.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(s)}Sa(e,i){const n=N(this.Kn(e));n.n_(e,!0),n.i_(e,i,!0)}Fc(){const e=ke.Cn();e.cn(),this.dd(e)}$d(e){const i=ke.Cn();i.pn(e),this.dd(i)}wn(){const e=ke.Cn();e.wn(),this.dd(e)}gn(e){const i=ke.Cn();i.gn(e),this.dd(i)}Mn(e){const i=ke.Cn();i.Mn(e),this.dd(i)}vn(e){const i=ke.Cn();i.vn(e),this.dd(i)}dn(){const e=ke.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,i){if(be(i>=0,"Index should be greater or equal to 0"),i===this.Yd(e))return;const n=N(this.Kn(e));n.n_(e);const s=this.ld(i);this.Wd(e,s),n.Sl().length===0&&this.Ud(n),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const i=this.ud,n=this.od;if(i===n)return i;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==n||this.ed.rh!==i)this.ed={eh:n,rh:i,Zd:new Map};else{const r=this.ed.Zd.get(e);if(r!==void 0)return r}const s=this.ko.tt(n,i,e/100);return this.ed.Zd.set(e,s),s}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const i=new kh(this.Jh,this);this.Xc.push(i);const n=e??this.Xc.length-1,s=ke.yn();return s.hn(n,{an:0,ln:!0}),this.dd(s),i}ld(e){return be(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex(i=>i.F_().includes(e))}kd(e,i){const n=new ke(i);if(e!==null){const s=this.Xc.indexOf(e);n.hn(s,{an:i})}return n}fd(e,i){return i===void 0&&(i=2),this.kd(this.Kn(e),i)}dd(e){this.rd&&this.rd(e),this.Xc.forEach(i=>i.eu().pr().kt())}Wd(e,i){const n=e.N().priceScaleId,s=n!==void 0?n:this.qd();i.i_(e,s),Jr(s)||e.cr(e.N())}_d(e){const i=this.Ps.layout;return i.background.type==="gradient"?e===0?i.background.topColor:i.background.bottomColor:i.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function Bf(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}function $o(t){return!Si(t)&&!vs(t)}function Af(t){return Si(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(Ch||(Ch={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Eh||(Eh={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Ph||(Ph={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Nh||(Nh={}));const zh=t=>t.getUTCFullYear();function Av(t,e,i){return e.replace(/yyyy/g,(n=>Pt(zh(n),4))(t)).replace(/yy/g,(n=>Pt(zh(n)%100,2))(t)).replace(/MMMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(t,i)).replace(/MMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(t,i)).replace(/MM/g,(n=>Pt((s=>s.getUTCMonth()+1)(n),2))(t)).replace(/dd/g,(n=>Pt((s=>s.getUTCDate())(n),2))(t))}class Of{constructor(e="yyyy-MM-dd",i="default"){this.Qd=e,this.tf=i}du(e){return Av(e,this.Qd,this.tf)}}class Ov{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Pt(e.getUTCHours(),2)).replace("%m",Pt(e.getUTCMinutes(),2)).replace("%s",Pt(e.getUTCSeconds(),2))}}const $v={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class Dv{constructor(e={}){const i={...$v,...e};this.hf=new Of(i.sf,i.rf),this.af=new Ov(i.nf),this.lf=i.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function $s(t){return 60*t*60*1e3}function Ll(t){return 60*t*1e3}const Ds=[{_f:(Th=1,1e3*Th),uf:10},{_f:Ll(1),uf:20},{_f:Ll(5),uf:21},{_f:Ll(30),uf:22},{_f:$s(1),uf:30},{_f:$s(3),uf:31},{_f:$s(6),uf:32},{_f:$s(12),uf:33}];var Th;function Lh(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=Ds.length-1;i>=0;--i)if(Math.floor(e.getTime()/Ds[i]._f)!==Math.floor(t.getTime()/Ds[i]._f))return Ds[i].uf;return 0}function Rl(t){let e=t;if(vs(t)&&(e=Da(t)),!$o(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(i.getTime()/1e3),df:e}}function Rh(t){if(!Af(t))throw new Error("time must be of type isUTCTimestamp");return{cf:t}}function Da(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Ih(t){vs(t.time)&&(t.time=Da(t.time))}class Fh{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(i){i.forEach(Ih)}(e):Ih(e)}createConverterToInternalObj(e){return N(function(i){return i.length===0?null:$o(i[0].time)||vs(i[0].time)?Rl:Rh}(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const i=e;return i.df===void 0?new Date(1e3*i.cf).getTime():new Date(Date.UTC(i.df.year,i.df.month-1,i.df.day)).getTime()}convertHorzItemToInternal(e){return Af(i=e)?Rh(i):$o(i)?Rl(i):Rl(Da(i));var i}updateFormatter(e){if(!this.Ps)return;const i=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new Dv({sf:i,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new Of(i,e.locale)}formatHorzItem(e){const i=e;return this.ff.du(new Date(1e3*i.cf))}formatTickmark(e,i){const n=function(r,l,a){switch(r){case 0:case 10:return l?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return l?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),s=this.Ps.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(e.originalTime,n,i.locale);if(r!==null)return r}return function(r,l,a){const u={};switch(l){case 0:u.year="numeric";break;case 1:u.month="short";break;case 2:u.day="numeric";break;case 3:u.hour12=!1,u.hour="2-digit",u.minute="2-digit";break;case 4:u.hour12=!1,u.hour="2-digit",u.minute="2-digit",u.second="2-digit"}const h=r.df===void 0?new Date(1e3*r.cf):new Date(Date.UTC(r.df.year,r.df.month-1,r.df.day));return new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()).toLocaleString(a,u)}(e.time,n,i.locale)}maxTickMarkWeight(e){let i=e.reduce(Iv,e[0]).weight;return i>30&&i<50&&(i=30),i}fillWeightsForPoints(e,i){(function(n,s=0){if(n.length===0)return;let r=s===0?null:n[s-1].time.cf,l=r!==null?new Date(1e3*r):null,a=0;for(let u=s;u<n.length;++u){const h=n[u],c=new Date(1e3*h.time.cf);l!==null&&(h.timeWeight=Lh(c,l)),a+=h.time.cf-(r||h.time.cf),r=h.time.cf,l=c}if(s===0&&n.length>1){const u=Math.ceil(a/(n.length-1)),h=new Date(1e3*(n[0].time.cf-u));n[0].timeWeight=Lh(new Date(1e3*n[0].time.cf),h)}})(e,i)}static pf(e){return Je({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const hn=typeof window<"u";function Bh(){return!!hn&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Il(){return!!hn&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Do(t){return t+t%2}function Wv(t){hn&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class qr{constructor(e,i,n){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!Il(),this.Uf=s=>{this.$f(s)},this.qf=s=>{if(this.jf(s)){const r=this.Yf(s);if(++this.gf,this.Mf&&this.gf>1){const{Kf:l}=this.Zf(yt(s),this.bf);l<30&&!this.Tf&&this.Gf(r,this.Jf.Xf),this.Qf()}}else{const r=this.Yf(s);if(++this.vf,this.mf&&this.vf>1){const{Kf:l}=this.Zf(yt(s),this.wf);l<5&&!this.Pf&&this.tp(r,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=i,this.Ps=n,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const i=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",i)},this.np.addEventListener("mousemove",i),this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const i=this.Yf(e);this.tp(i,this.Jf.op),this.Hf=!0}_p(e){const i=Fl(e.changedTouches,N(this.Wf));if(i===null||(this.Ff=Ws(e),this.Af!==null)||this.Of)return;this.zf=!0;const n=this.Zf(yt(i),N(this.yf)),{up:s,cp:r,Kf:l}=n;if(this.kf||!(l<5)){if(!this.kf){const a=.5*s,u=r>=a&&!this.Ps.dp(),h=a>r&&!this.Ps.fp();u||h||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const a=this.Yf(e,i);this.Gf(a,this.Jf.pp),zi(e)}}}vp(e){if(e.button!==0)return;const i=this.Zf(yt(e),N(this.Cf)),{Kf:n}=i;if(n>=5&&(this.Pf=!0,this.sp()),this.Pf){const s=this.Yf(e);this.tp(s,this.Jf.mp)}}Zf(e,i){const n=Math.abs(i._t-e._t),s=Math.abs(i.ut-e.ut);return{up:n,cp:s,Kf:n+s}}wp(e){let i=Fl(e.changedTouches,N(this.Wf));if(i===null&&e.touches.length===0&&(i=e.changedTouches[0]),i===null)return;this.Wf=null,this.Ff=Ws(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const n=this.Yf(e,i);if(this.Gf(n,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:s}=this.Zf(yt(i),this.bf);s<30&&!this.Tf&&this.Gf(n,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(n,this.Jf.Mp),this.Jf.Mp&&zi(e));this.gf===0&&zi(e),e.touches.length===0&&this.xf&&(this.xf=!1,zi(e))}$f(e){if(e.button!==0)return;const i=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),Bh()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(i,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:n}=this.Zf(yt(e),this.wf);n<5&&!this.Pf&&this.tp(i,this.Jf.ip),this.sp()}else this.Pf||this.tp(i,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const i=e.changedTouches[0];this.Wf=i.identifier,this.Ff=Ws(e);const n=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=yt(i),this.Ef&&(this.Ef(),this.Ef=null);{const r=this._p.bind(this),l=this.wp.bind(this);this.Ef=()=>{n.removeEventListener("touchmove",r),n.removeEventListener("touchend",l)},n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchend",l,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const s=this.Yf(e,i);this.Gf(s,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=yt(i))}kp(e){if(e.button!==0)return;const i=this.np.ownerDocument.documentElement;Bh()&&i.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=yt(e),this.Bf&&(this.Bf(),this.Bf=null);{const s=this.vp.bind(this),r=this.$f.bind(this);this.Bf=()=>{i.removeEventListener("mousemove",s),i.removeEventListener("mouseup",r)},i.addEventListener("mousemove",s),i.addEventListener("mouseup",r)}if(this.Nf=!0,this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=yt(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,i=n=>{this.Jf.Tp&&(n.composed&&this.np.contains(n.composedPath()[0])||n.target&&this.np.contains(n.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",i)},this.Rf=()=>{e.removeEventListener("mousedown",i)},e.addEventListener("mousedown",i),e.addEventListener("touchstart",i,{passive:!0})}Il()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),Wv(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",()=>{},{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",e=>this.Ep(e.touches),{passive:!0}),this.np.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const i=Ah(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,i),zi(e)}},{passive:!1}),this.np.addEventListener("touchend",e=>{this.Ep(e.touches)}))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const i=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-i.left+(e[1].clientX-i.left))/2,ut:(e[0].clientY-i.top+(e[1].clientY-i.top))/2},this.Lf=Ah(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const i=this.Yf(e);this.tp(i,this.Jf.zp),this.Hf=!Il()}Cp(e){const i=Fl(e.touches,N(this.Wf));if(i===null)return;const n=this.Yf(e,i);this.Gf(n,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Ws(e)<this.Ff+500}Gf(e,i){i&&i.call(this.Jf,e)}tp(e,i){i&&i.call(this.Jf,e)}Yf(e,i){const n=i||e,s=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-s.left,localY:n.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:n.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&zi(e)}}}}function Ah(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function zi(t){t.cancelable&&t.preventDefault()}function yt(t){return{_t:t.pageX,ut:t.pageY}}function Ws(t){return t.timeStamp||performance.now()}function Fl(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}class Uv{constructor(e,i,n){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[i],this.Gp=e.Zp()[n],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return ee({width:this.Kp.sv().width,height:1})}nv(){return ee({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,i,n){const s=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(i,n,s.width,s.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),i=e.style;i.position="fixed",i.display="none",i.zIndex="49",i.top="0",i.left="0",i.width="100%",i.height="100%",i.cursor="row-resize",this.Jp.appendChild(e);const n=document.createElement("div"),s=n.style;s.position="absolute",s.zIndex="50",s.top="-4px",s.height="9px",s.width="100%",s.backgroundColor="",s.cursor="row-resize",this.Jp.appendChild(n);const r={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new qr(n,r,{dp:()=>!1,fp:()=>!0}),this.Up={hv:n,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const i=this.Kp.cv().E_()+this.Gp.cv().E_(),n=i/(this.Kp.sv().height+this.Gp.sv().height),s=30*n;i<=2*s||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:i-s,vv:i,mv:n,wv:s},this.Up.rv.style.display="block")}_v(e){const i=this.jp;if(i===null)return;const n=(e.pageY-i.dv)*i.mv,s=Dn(i.fv+n,i.wv,i.pv);this.Kp.cv().A_(s),this.Gp.cv().A_(i.vv-s),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function Bl(t,e){return t.gv-e.gv}function Al(t,e,i){const n=(t.gv-e.gv)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),i)}class Vv{constructor(e,i,n,s){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=i,this.Rv=n,this.kn=s}Dv(e,i){if(this.Mv!==null){if(this.Mv.wt===i)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:i,gv:e}}fe(e,i){if(this.Mv===null||this.bv===null||i-this.Mv.wt>50)return;let n=0;const s=Al(this.Mv,this.bv,this.Tv),r=Bl(this.Mv,this.bv),l=[s],a=[r];if(n+=r,this.Sv!==null){const h=Al(this.bv,this.Sv,this.Tv);if(Math.sign(h)===Math.sign(s)){const c=Bl(this.bv,this.Sv);if(l.push(h),a.push(c),n+=c,this.xv!==null){const d=Al(this.Sv,this.xv,this.Tv);if(Math.sign(d)===Math.sign(s)){const f=Bl(this.Sv,this.xv);l.push(d),a.push(f),n+=f}}}}let u=0;for(let h=0;h<l.length;++h)u+=a[h]/n*l[h];Math.abs(u)<this.Pv||(this.Cv={gv:e,wt:i},this.kv=u,this.yv=function(h,c){const d=Math.log(c);return Math.log(1*d/-h)/d}(Math.abs(u),this.Rv))}Ac(e){const i=N(this.Cv),n=e-i.wt;return i.gv+this.kv*(Math.pow(this.Rv,n)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const i=e-N(this.Cv).wt;return Math.min(i,this.yv)}}class Hv{constructor(e,i){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=i,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function ji(t,e){const i=N(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=Eg(i,{options:{allowResizeObserver:!0},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return n.resizeCanvasElement(e),n}function ki(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))==null||e.clearRect(0,0,1,1)}function Wo(t,e,i,n){t.Uh&&t.Uh(e,i,n)}function ir(t,e,i,n){t.nt(e,i,n)}function Uo(t,e,i,n){const s=t(i,n);for(const r of s){const l=r.Tt(n);l!==null&&e(l)}}function Ol(t,e){return i=>{var n,s;return function(r){return r.Ft!==void 0}(i)?(((n=i.Ft())==null?void 0:n.ol())??"")!==e?[]:((s=i.Ya)==null?void 0:s.call(i,t))??[]:[]}}function Oh(t,e,i,n){if(!t.length)return;let s=0;const r=t[0].$t(n,!0);let l=e===1?i/2-(t[0].Hi()-r/2):t[0].Hi()-r/2-i/2;l=Math.max(0,l);for(let a=1;a<t.length;a++){const u=t[a],h=t[a-1],c=h.$t(n,!1),d=u.Hi(),f=h.Hi();if(e===1?d>f-c:d<f+c){const m=f-c*e;u.Ui(m);const v=m-e*c/2;if((e===1?v<0:v>i)&&l>0){const x=e===1?-1-v:v-i,E=Math.min(x,l);for(let g=s;g<t.length;g++)t[g].Ui(t[g].Hi()+e*E);l-=E}}else s=a,l=e===1?f-c-d:d-(f+c)}}class $h{constructor(e,i,n,s){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new cs(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=i,this.Co=i.layout,this.hd=n,this.Jv=s==="left",this.Qv=Ol("normal",s),this.tm=Ol("top",s),this.im=Ol("bottom",s),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=ji(this.Jp,ee({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=ji(this.Jp,ee({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const l=this.nm.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0";const a={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new qr(this.nm.canvasElement,a,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),ki(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),ki(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const i=this.lm(),n=N(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));n.save();const s=this.Ki.Vl();n.font=this._m(),s.length>0&&(e=Math.max(this.qv.Ii(n,s[0].Jl),this.qv.Ii(n,s[s.length-1].Jl)));const r=this.um();for(let h=r.length;h--;){const c=this.qv.Ii(n,r[h].ri());c>e&&(e=c)}const l=this.Ki.Lt();if(l!==null&&this.Uv!==null&&(a=this.Ps.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const h=this.Ki.Ds(1,l),c=this.Ki.Ds(this.Uv.height-2,l);e=Math.max(e,this.qv.Ii(n,this.Ki.Ji(Math.floor(Math.min(h,c))+.11111111111111,l)),this.qv.Ii(n,this.Ki.Ji(Math.ceil(Math.max(h,c))-.11111111111111,l)))}var a;n.restore();const u=e||34;return Do(Math.ceil(i.S+i.C+i.V+i.B+5+u))}dm(e){this.Uv!==null&&pi(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return N(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,N(this.Ft()))}pm(e){if(this.Uv===null)return;const i={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const s=wi(this.sm,i);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.wm(r),this.gm(r)}),this.yt.Mm(s,this.im),this.bm(s),this.yt.Mm(s,this.Qv),this.Sm(s))}this.nm.applySuggestedBitmapSize();const n=wi(this.nm,i);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this.xm(n),this.yt.Mm(n,this.tm))}nv(){return this.sm.bitmapSize}ev(e,i,n,s){const r=this.nv();if(r.width>0&&r.height>0&&(e.drawImage(this.sm.canvasElement,i,n),s)){const l=this.nm.canvasElement;e.drawImage(l,i,n)}}kt(){var e;(e=this.Ki)==null||e.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!0,i.j_(n,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.yt.Gv().Qt(),n=this.yt.cv(),s=this.Ki;i.Y_(n,s,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),i=this.yt.cv(),n=this.Ki;this.$v&&(this.$v=!1,e.K_(i,n))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!1,i.K_(n,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],i=this.Ki===null?void 0:this.Ki;return(n=>{for(let s=0;s<n.length;++s){const r=n[s].Ks(this.yt.cv(),i);for(let l=0;l<r.length;l++)e.push(r[l])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:i}){const{width:n,height:s}=i,r=this.yt.cv().Qt(),l=r.$(),a=r.Kd();l===a?Qr(e,0,0,n,s,l):bf(e,0,0,n,s,l,a)}gm({context:e,bitmapSize:i,horizontalPixelRatio:n}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const s=Math.max(1,Math.floor(this.lm().S*n));let r;r=this.Jv?i.width-s:0,e.fillRect(r,0,s,i.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const i=this.Ki.Vl(),n=this.Ki.N(),s=this.lm(),r=this.Jv?this.Uv.width-s.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:u})=>{l.fillStyle=n.borderColor;const h=Math.max(1,Math.floor(u)),c=Math.floor(.5*u),d=Math.round(s.C*a);l.beginPath();for(const f of i)l.rect(Math.floor(r*a),Math.round(f.Pl*u)-c,d,h);l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{l.font=this._m(),l.fillStyle=n.textColor??this.Co.textColor,l.textAlign=this.Jv?"right":"left",l.textBaseline="middle";const a=this.Jv?Math.round(r-s.V):Math.round(r+s.C+s.V),u=i.map(h=>this.qv.Di(l,h.Jl));for(let h=i.length;h--;){const c=i[h];l.fillText(c.Jl,a,c.Pl+u[h])}})}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const i=[],n=this.Ki.Dt().slice(),s=this.yt.cv(),r=this.lm();this.Ki===s.Gn()&&this.yt.cv().Dt().forEach(u=>{s.Zn(u)&&n.push(u)});const l=this.Ki.Sl()[0],a=this.Ki;n.forEach(u=>{const h=u.Ks(s,a);h.forEach(c=>{c.$i()&&c.Wi()===null&&(c.Ui(null),i.push(c))}),l===u&&h.length>0&&(e=h[0].Ei())}),this.Ki.N().alignLabels&&this.ym(i,r,e)}ym(e,i,n){if(this.Uv===null)return;const s=e.filter(l=>l.Ei()<=n),r=e.filter(l=>l.Ei()>n);s.sort((l,a)=>a.Ei()-l.Ei()),s.length&&r.length&&r.push(s[0]),r.sort((l,a)=>l.Ei()-a.Ei());for(const l of e){const a=Math.floor(l.$t(i)/2),u=l.Ei();u>-a&&u<a&&l.Ui(a),u>this.Uv.height-a&&u<this.Uv.height+a&&l.Ui(this.Uv.height-a)}Oh(s,1,this.Uv.height,i),Oh(r,-1,this.Uv.height,i)}Sm(e){if(this.Uv===null)return;const i=this.um(),n=this.lm(),s=this.Jv?"right":"left";i.forEach(r=>{r.qi()&&r.Tt(N(this.Ki)).nt(e,n,this.qv,s)})}xm(e){if(this.Uv===null||this.Ki===null)return;const i=this.yt.Gv().Qt(),n=[],s=this.yt.cv(),r=i.gd().Ks(s,this.Ki);r.length&&n.push(r);const l=this.lm(),a=this.Jv?"right":"left";n.forEach(u=>{u.forEach(h=>{h.Tt(N(this.Ki)).nt(e,l,this.qv,a)})})}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return hs(this.Co.fontSize,this.Co.fontFamily)}}function Kv(t,e){var i;return((i=t.qa)==null?void 0:i.call(t,e))??[]}function Dh(t,e){var i;return((i=t.Ys)==null?void 0:i.call(t,e))??[]}function Wh(t,e){var i;return((i=t.ds)==null?void 0:i.call(t,e))??[]}function Qv(t,e){var i;return((i=t.Ha)==null?void 0:i.call(t,e))??[]}class Wa{constructor(e,i){this.Uv=ee({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new de,this.Vm=new de,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=i,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(n),this.sm=ji(n,ee({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=ji(n,ee({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const r=this.nm.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new qr(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),ki(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),ki(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return N(this.Nm)}qm(e){var i;this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(Wa.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new Hv(this.Wm,this.Lv),this.Tm.kt()):((i=this.Tm)==null||i.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(N(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(N(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const i=e.localX,n=e.localY;this.Zm(i,n,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const i=e.localX,n=e.localY;this.Zm(i,n,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const i={x:e.localX,y:e.localY};this.iw(i,i,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,i){if(!this.Lv.N().handleScale.pinch)return;const n=5*(i-this.Bm);this.Bm=i,this.ns().Td(e._t,n)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const i=this.ns().gd();this.Am!==null&&i.It()&&(this.zm={x:i.si(),y:i.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const i=e.localX,n=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const s=N(this.zm),r=s.x+(i-this.Am.x),l=s.y+(n-this.Am.y);this.Zm(r,l,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,i){const n=this.Nm;return n===null?null:Ff(n,e,i)}hw(e,i){N(i==="left"?this.km:this.Pm).dm(ee({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){pi(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=N(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const i of e.Sl())if(e.Zn(i)){const n=i.Ft();n!==null&&e.H_(n),i.Ws()}for(const i of e.ru())i.Ws()}nv(){return this.sm.bitmapSize}ev(e,i,n,s){const r=this.nv();if(r.width>0&&r.height>0&&(e.drawImage(this.sm.canvasElement,i,n),s)){const l=this.nm.canvasElement;e!==null&&e.drawImage(l,i,n)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const i={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const s=wi(this.sm,i);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.wm(r)}),this.Nm&&(this.lw(s,Kv),this.ow(s),this.lw(s,Dh),this.lw(s,Wh)))}this.nm.applySuggestedBitmapSize();const n=wi(this.nm,i);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this._w(n),this.lw(n,Qv),this.lw(n,Wh))}uw(){return this.km}cw(){return this.Pm}Mm(e,i){this.lw(e,i)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,i){const n=i.localX,s=i.localY;e.v()&&e.p(this.ns().Et().wc(n),{x:n,y:s},i)}wm({context:e,bitmapSize:i}){const{width:n,height:s}=i,r=this.ns(),l=r.$(),a=r.Kd();l===a?Qr(e,0,0,n,s,a):bf(e,0,0,n,s,l,a)}ow(e){const i=N(this.Nm),n=i.eu().pr().Tt(i);n!==null&&n.nt(e,!1)}_w(e){this.dw(e,Dh,ir,this.ns().gd())}lw(e,i){const n=N(this.Nm),s=n.Dt(),r=n.ru();for(const l of r)this.dw(e,i,Wo,l);for(const l of s)this.dw(e,i,Wo,l);for(const l of r)this.dw(e,i,ir,l);for(const l of s)this.dw(e,i,ir,l)}dw(e,i,n,s){const r=N(this.Nm),l=r.Qt().pd(),a=l!==null&&l.hu===s,u=l!==null&&a&&l.au!==void 0?l.au.ie:void 0;Uo(i,h=>n(h,e,a,u),s,r)}jm(){if(this.Nm===null)return;const e=this.Lv,i=this.Nm.U_().N().visible,n=this.Nm.q_().N().visible;i||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),n||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const s=e.Qt().Nd();i&&this.km===null&&(this.km=new $h(this,e.N(),s,"left"),this.Hm.appendChild(this.km.iv())),n&&this.Pm===null&&(this.Pm=new $h(this,e.N(),s,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,i,n){e=Math.max(0,Math.min(e,this.Uv.width-1)),i=Math.max(0,Math.min(i,this.Uv.height-1)),this.ns().Ad(e,i,n,N(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,i,n){this.Am=e,this.Lm=!1,this.Zm(i.x,i.y,n);const s=this.ns().gd();this.zm={x:s.si(),y:s.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const i=this.ns(),n=this.cv();if(i.X_(n,n.Rs()),this.Rm=null,this.Dm=!1,i.Vd(),this.Om!==null){const s=performance.now(),r=i.Et();this.Om.fe(r.Cc(),s),this.Om.Ec(s)||i.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)N(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const i=this.ns(),n=i.Et();if(n.Gi())return;const s=this.Lv.N(),r=s.handleScroll,l=s.kineticScroll;if((!r.pressedMouseMove||e.Np)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!e.Np))return;const a=this.Nm.Rs(),u=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:u,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&l.touch||!e.Np&&l.mouse){const h=n.ul();this.Om=new Vv(.2/h,7/h,.997,15/h),this.Om.Dv(n.Cc(),this.Rm.cf)}else this.Om=null;a.Gi()||i.Z_(this.Nm,a,e.localY),i.Dd(e.localX),this.Dm=!0}this.Dm&&(a.Gi()||i.G_(this.Nm,a,e.localY),i.Id(e.localX),this.Om!==null&&this.Om.Dv(n.Cc(),u))}}class Uh{constructor(e,i,n,s,r){this.xt=!0,this.Uv=ee({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=n.Nd,this.Ps=i,this.ww=s,this.gw=r,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=ji(this.Jp,ee({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),ki(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){pi(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const i=wi(this.sm,{colorSpace:this.Ps.layout.colorSpace});i!==null&&i.useBitmapCoordinateSpace(n=>{this.wm(n),this.gm(n)})}nv(){return this.sm.bitmapSize}ev(e,i,n){const s=this.nv();s.width>0&&s.height>0&&e.drawImage(this.sm.canvasElement,i,n)}gm({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const r=Math.floor(this.hd.N().S*n),l=Math.floor(this.hd.N().S*s),a=this.Jv?i.width-r:0;e.fillRect(a,0,r,l)}wm({context:e,bitmapSize:i}){Qr(e,0,0,i.width,i.height,this.gw())}}function Ua(t){return e=>{var i;return((i=e.Ka)==null?void 0:i.call(e,t))??[]}}const Yv=Ua("normal"),Jv=Ua("top"),Gv=Ua("bottom");class Xv{constructor(e,i){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=ee({width:0,height:0}),this.xw=new de,this.qv=new cs(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=i,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=ji(this.kw,ee({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const n=this.sm.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.nm=ji(this.kw,ee({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new qr(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),ki(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),ki(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const i=this.Lv.Qt();!i.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&i.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const i=this.Lv.Qt();!i.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&i.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,i,n){pi(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(ee({width:i,height:e.height})),this.bw!==null&&this.bw.dm(ee({width:n,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,i,n,s){const r=this.nv();if(r.width>0&&r.height>0&&(e.drawImage(this.sm.canvasElement,i,n),s)){const l=this.nm.canvasElement;e.drawImage(l,i,n)}}pm(e){if(e===0)return;const i={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const s=wi(this.sm,i);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.wm(r),this.gm(r),this.Aw(s,Gv)}),this.bm(s),this.Aw(s,Yv)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const n=wi(this.nm,i);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],n),this.Aw(n,Jv))}Aw(e,i){const n=this.Lv.Qt().tn();for(const s of n)Uo(i,r=>Wo(r,e,!1,void 0),s,void 0);for(const s of n)Uo(i,r=>ir(r,e,!1,void 0),s,void 0)}wm({context:e,bitmapSize:i}){Qr(e,0,0,i.width,i.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:i,verticalPixelRatio:n}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const s=Math.max(1,Math.floor(this.Bw().S*n));e.fillRect(0,0,i.width,s)}}bm(e){const i=this.Lv.Qt().Et(),n=i.Vl();if(!n||n.length===0)return;const s=this.cu.maxTickMarkWeight(n),r=this.Bw(),l=i.N();l.borderVisible&&l.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:u,verticalPixelRatio:h})=>{a.strokeStyle=this.zw(),a.fillStyle=this.zw();const c=Math.max(1,Math.floor(u)),d=Math.floor(.5*u);a.beginPath();const f=Math.round(r.C*h);for(let m=n.length;m--;){const v=Math.round(n[m].coord*u);a.rect(v-d,0,c,f)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const u=r.S+r.C+r.A+r.k/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.H(),a.font=this._m();for(const h of n)if(h.weight<s){const c=h.needAlignCoordinate?this.Ow(a,h.coord,h.label):h.coord;a.fillText(h.label,c,u)}this.Lv.N().timeScale.allowBoldLabels&&(a.font=this.Nw());for(const h of n)if(h.weight>=s){const c=h.needAlignCoordinate?this.Ow(a,h.coord,h.label):h.coord;a.fillText(h.label,c,u)}})}Ow(e,i,n){const s=this.qv.Ii(e,n),r=s/2,l=Math.floor(i-r)+.5;return l<0?i+=Math.abs(0-l):l+s>this.Uv.width&&(i-=Math.abs(this.Uv.width-(l+s))),i}Lw(e,i){const n=this.Bw();for(const s of e)for(const r of s.fs())r.Tt().nt(i,n)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return hs(this.F(),this.Ps.fontFamily)}Nw(){return hs(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new cs,Ew:0});const e=this.M,i=this._m();if(e.P!==i){const n=this.F();e.k=n,e.P=i,e.A=3*n/12,e.I=3*n/12,e.ts=9*n/12,e.L=0,e.Ew=4*n/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),i=e.N();i.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),i.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const n={Nd:this.Lv.Qt().Nd()},s=()=>i.leftPriceScale.borderVisible&&e.Et().N().borderVisible,r=()=>e.Kd();i.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new Uh("left",i,n,s,r),this.Cw.appendChild(this.Mw.iv())),i.rightPriceScale.visible&&this.bw===null&&(this.bw=new Uh("right",i,n,s,r),this.yw.appendChild(this.bw.iv()))}}var ac;const qv=!!hn&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!hn&&((ac=navigator==null?void 0:navigator.userAgentData)!=null&&ac.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class Zv{constructor(e,i,n){var s;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new de,this.Vm=new de,this.nd=new de,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=i,this.cu=n,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(s=this.Vv).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),$l(this.Ps)&&this.Jw(!0),this.ns=new Bv(this.rd.bind(this),this.Ps,n),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new Xv(this,this.cu),this.Zw.appendChild(this.tg.iv());const r=i.autoSize&&this.ig();let l=this.Ps.width,a=this.Ps.height;if(r||l===0||a===0){const u=e.getBoundingClientRect();l=l||u.width,a=a||u.height}this.sg(l,a),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],N(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,i,n=!1){if(this.eo===i&&this.S_===e)return;const s=function(a){const u=Math.floor(a.width),h=Math.floor(a.height);return ee({width:u-u%2,height:h-h%2})}(ee({width:e,height:i}));this.eo=s.height,this.S_=s.width;const r=this.eo+"px",l=this.S_+"px";N(this.Vv).style.height=r,N(this.Vv).style.width=l,this.Zw.style.height=r,this.Zw.style.width=l,n?this.lg(ke.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=ke.yn());for(let i=0;i<this.Fw.length;i++)this.Fw[i].pm(e.un(i).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){var s;const i=$l(this.Ps);this.ns.cr(e);const n=$l(this.Ps);n!==i&&this.Jw(n),(s=e.layout)!=null&&s.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const i=this.cg(null),n=document.createElement("canvas");n.width=i.width,n.height=i.height;const s=N(n.getContext("2d"));return this.cg(s,e),n}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:N(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return He(this.Fw[e]).sv()}og(){this.Ww.forEach(e=>{e.kt()})}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,i){let n=0,s=0;const r=this.Fw[0],l=(u,h)=>{let c=0;for(let d=0;d<this.Fw.length;d++){const f=this.Fw[d],m=N(u==="left"?f.uw():f.cw()),v=m.nv();if(e!==null&&m.ev(e,h,c,i),c+=v.height,d<this.Fw.length-1){const x=this.Ww[d],E=x.nv();e!==null&&x.ev(e,h,c),c+=E.height}}};this.fg()&&(l("left",0),n+=N(r.uw()).nv().width);for(let u=0;u<this.Fw.length;u++){const h=this.Fw[u],c=h.nv();if(e!==null&&h.ev(e,n,s,i),s+=c.height,u<this.Fw.length-1){const d=this.Ww[u],f=d.nv();e!==null&&d.ev(e,n,s),s+=f.height}}n+=r.nv().width,this.pg()&&(l("right",n),n+=N(r.cw()).nv().width);const a=(u,h,c)=>{N(u==="left"?this.tg.Tw():this.tg.Rw()).ev(N(e),h,c)};if(this.Ps.timeScale.visible){const u=this.tg.nv();if(e!==null){let h=0;this.fg()&&(a("left",h,s),h=N(r.uw()).nv().width),this.tg.ev(e,h,s,i),h+=u.width,this.pg()&&a("right",h,s)}s+=u.height}return ee({width:n,height:s})}Mg(){let e=0,i=0,n=0;for(const E of this.Fw)this.fg()&&(i=Math.max(i,N(E.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(n=Math.max(n,N(E.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=E.E_();i=Do(i),n=Do(n);const s=this.S_,r=this.eo,l=Math.max(s-i-n,0),a=1*this.Ww.length,u=this.Ps.timeScale.visible;let h=u?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var c;h=(c=h)+c%2;const d=a+h,f=r<d?0:r-d,m=f/e;let v=0;const x=window.devicePixelRatio||1;for(let E=0;E<this.Fw.length;++E){const g=this.Fw[E];g.qm(this.ns.Xs()[E]);let p=0,y=0;y=E===this.Fw.length-1?Math.ceil((f-v)*x)/x:Math.round(g.E_()*m*x)/x,p=Math.max(y,2),v+=p,g.dm(ee({width:l,height:p})),this.fg()&&g.hw(i,"left"),this.pg()&&g.hw(n,"right"),g.cv()&&this.ns.bd(g.cv(),p)}this.tg.Iw(ee({width:u?l:0,height:h}),u?i:0,u?n:0),this.ns.L_(l),this.Uw!==i&&(this.Uw=i),this.$w!==n&&(this.$w=n)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return qv?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const i=this.bg(e),n=i*e.deltaX/100,s=-i*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.Ps.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),l=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(l,r)}n!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*n)}lg(e,i){var s;const n=e._n();n===3&&this.Sg(),n!==3&&n!==2||(this.xg(e),this.Cg(e,i),this.tg.kt(),this.Fw.forEach(r=>{r.Ym()}),((s=this.qw)==null?void 0:s._n())===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,i),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,i){for(const n of e.bn())this.xn(n,i)}xg(e){const i=this.ns.Xs();for(let n=0;n<i.length;n++)e.un(n).ln&&i[n].tu()}xn(e,i){const n=this.ns.Et();switch(e.fn){case 0:n.Fc();break;case 1:n.Wc(e.Wt);break;case 2:n.gn(e.Wt);break;case 3:n.Mn(e.Wt);break;case 4:n.Pc();break;case 5:e.Wt.Ec(i)||n.Mn(e.Wt.Ac(i))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame(i=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const n=this.qw;this.qw=null,this.lg(n,i);for(const s of n.bn())if(s.fn===5&&!s.Wt.Ec(i)){this.Qt().vn(s.Wt);break}}}))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),i=e.length,n=this.Fw.length;for(let s=i;s<n;s++){const r=He(this.Fw.pop());this.Zw.removeChild(r.iv()),r.nw().u(this),r.ew().u(this),r.m();const l=this.Ww.pop();l!==void 0&&this.hg(l)}for(let s=n;s<i;s++){const r=new Wa(this,e[s]);if(r.nw().i(this.yg.bind(this,r),this),r.ew().i(this.kg.bind(this,r),this),this.Fw.push(r),s>0){const l=new Uv(this,s-1,s);this.Ww.push(l),this.Zw.insertBefore(l.iv(),this.tg.iv())}this.Zw.insertBefore(r.iv(),this.tg.iv())}for(let s=0;s<i;s++){const r=e[s],l=this.Fw[s];l.cv()!==r?l.qm(r):l.$m()}this.eg(),this.Mg()}Pg(e,i,n,s){var d;const r=new Map;e!==null&&this.ns.tn().forEach(f=>{const m=f.qs().$s(e);m!==null&&r.set(f,m)});let l;if(e!==null){const f=(d=this.ns.Et().es(e))==null?void 0:d.originalTime;f!==void 0&&(l=f)}const a=this.Qt().pd(),u=a!==null&&a.hu instanceof Xr?a.hu:void 0,h=a!==null&&a.au!==void 0?a.au.te:void 0,c=this.Tg(s);return{Gr:l,js:e??void 0,Rg:i??void 0,Dg:c!==-1?c:void 0,Ig:u,Vg:r,Bg:h,Eg:n??void 0}}Tg(e){let i=-1;if(e)i=this.Fw.indexOf(e);else{const n=this.Qt().gd().Gs();n!==null&&(i=this.Qt().Xs().indexOf(n))}return i}yg(e,i,n,s){this.Im.p(()=>this.Pg(i,n,s,e))}kg(e,i,n,s){this.Vm.p(()=>this.Pg(i,n,s,e))}Qw(e,i,n){var s;this.mg(((s=this.Qt().pd())==null?void 0:s.ou)??null),this.nd.p(()=>this.Pg(e,i,n))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver(e=>{const i=e[e.length-1];i&&this.sg(i.contentRect.width,i.contentRect.height)}),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function $l(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function ey(t){return t.open===void 0&&t.value===void 0}function ty(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function Vh(t,e,i,n){const s=i.value,r={js:e,wt:t,Wt:[s,s,s,s],Gr:n};return i.color!==void 0&&(r.R=i.color),r}function iy(t,e,i,n){const s=i.value,r={js:e,wt:t,Wt:[s,s,s,s],Gr:n};return i.lineColor!==void 0&&(r.vt=i.lineColor),i.topColor!==void 0&&(r.eh=i.topColor),i.bottomColor!==void 0&&(r.rh=i.bottomColor),r}function ny(t,e,i,n){const s=i.value,r={js:e,wt:t,Wt:[s,s,s,s],Gr:n};return i.topLineColor!==void 0&&(r.hh=i.topLineColor),i.bottomLineColor!==void 0&&(r.ah=i.bottomLineColor),i.topFillColor1!==void 0&&(r.oh=i.topFillColor1),i.topFillColor2!==void 0&&(r._h=i.topFillColor2),i.bottomFillColor1!==void 0&&(r.uh=i.bottomFillColor1),i.bottomFillColor2!==void 0&&(r.dh=i.bottomFillColor2),r}function sy(t,e,i,n){const s={js:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Gr:n};return i.color!==void 0&&(s.R=i.color),s}function ry(t,e,i,n){const s={js:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Gr:n};return i.color!==void 0&&(s.R=i.color),i.borderColor!==void 0&&(s.Ht=i.borderColor),i.wickColor!==void 0&&(s.nh=i.wickColor),s}function ly(t,e,i,n,s){const r=He(s)(i),l=Math.max(...r),a=Math.min(...r),u=r[r.length-1],h=[u,l,a,u],{time:c,color:d,...f}=i;return{js:e,wt:t,Wt:h,Gr:n,le:f,R:d}}function Ti(t){return t.Wt!==void 0}function Hh(t,e){return e.customValues!==void 0&&(t.Ag=e.customValues),t}function li(t){return(e,i,n,s,r,l)=>function(a,u){return u?u(a):ey(a)}(n,l)?Hh({wt:e,js:i,Gr:s},n):Hh(t(e,i,n,s,r),n)}function Kh(t){return{Candlestick:li(ry),Bar:li(sy),Area:li(iy),Baseline:li(ny),Histogram:li(Vh),Line:li(Vh),Custom:li(ly)}[t]}function Qh(t){return{js:0,Lg:new Map,Ea:t}}function Yh(t,e){if(t!==void 0&&t.length!==0)return{zg:e.key(t[0].wt),Og:e.key(t[t.length-1].wt)}}function Jh(t){let e;return t.forEach(i=>{e===void 0&&(e=i.Gr)}),He(e)}class oy{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,i){let n=this.Ng.size!==0,s=!1;const r=this.Fg.get(e);if(r!==void 0)if(this.Fg.size===1)n=!1,s=!0,this.Ng.clear();else for(const u of this.Hg)u.pointData.Lg.delete(e)&&(s=!0);let l=[];if(i.length!==0){const u=i.map(m=>m.time),h=this.cu.createConverterToInternalObj(i),c=Kh(e.wh()),d=e.rl(),f=e.hl();l=i.map((m,v)=>{const x=h(m.time),E=this.cu.key(x);let g=this.Ng.get(E);g===void 0&&(g=Qh(x),this.Ng.set(E,g),s=!0);const p=c(x,g.js,m,u[v],d,f);return g.Lg.set(e,p),p})}n&&this.$g(),this.qg(e,l);let a=-1;if(s){const u=[];this.Ng.forEach(h=>{u.push({timeWeight:0,time:h.Ea,pointData:h,originalTime:Jh(h.Lg)})}),u.sort((h,c)=>this.cu.key(h.time)-this.cu.key(c.time)),a=this.jg(u)}return this.Yg(e,a,function(u,h,c){const d=Yh(u,c),f=Yh(h,c);if(d!==void 0&&f!==void 0)return{Kg:!1,Ta:d.Og>=f.Og&&d.zg>=f.zg}}(this.Fg.get(e),r,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,i,n){if(n&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const s=i;(function(g){g.Gr===void 0&&(g.Gr=g.time)})(s),this.cu.preprocessData(i);const r=this.cu.createConverterToInternalObj([i])(i.time),l=this.Wg.get(e);if(!n&&l!==void 0&&this.cu.key(r)<this.cu.key(l))throw new Error(`Cannot update oldest data, last time=${l}, new time=${r}`);let a=this.Ng.get(this.cu.key(r));if(n&&a===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const u=a===void 0;a===void 0&&(a=Qh(r),this.Ng.set(this.cu.key(r),a));const h=Kh(e.wh()),c=e.rl(),d=e.hl(),f=h(r,a.js,i,s.Gr,c,d),m=!n&&!u&&l!==void 0&&this.cu.key(r)===this.cu.key(l);a.Lg.set(e,f),n?this.Gg(e,f,a.js):m&&e.La()&&Ti(f)?(e.kr(f),this.Xg(e,f)):this.Xg(e,f);const v={Ta:Ti(f),Kg:n};if(!u)return this.Yg(e,-1,v);const x={timeWeight:0,time:a.Ea,pointData:a,originalTime:Jh(a.Lg)},E=un(this.Hg,this.cu.key(x.time),(g,p)=>this.cu.key(g.time)<p);this.Hg.splice(E,0,x);for(let g=E;g<this.Hg.length;++g)Us(this.Hg[g].pointData,g);return this.cu.fillWeightsForPoints(this.Hg,E),this.Yg(e,E,v)}Jg(e,i){const n=this.Fg.get(e);if(n===void 0||i<=0)return[[],this.Qg()];i=Math.min(i,n.length);const s=n.splice(-i).reverse();n.length===0?this.Wg.delete(e):this.Wg.set(e,n[n.length-1].wt);for(const r of s){const l=this.Ng.get(this.cu.key(r.wt));if(l&&(l.Lg.delete(e),l.Lg.size===0)){this.Ng.delete(this.cu.key(l.Ea)),this.Hg.splice(l.js,1);for(let a=l.js;a<this.Hg.length;++a)Us(this.Hg[a].pointData,a)}}return[s,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,i){let n=this.Fg.get(e);n===void 0&&(n=[],this.Fg.set(e,n));const s=n.length!==0?n[n.length-1]:null;s===null||this.cu.key(i.wt)>this.cu.key(s.wt)?Ti(i)&&n.push(i):Ti(i)?n[n.length-1]=i:n.splice(-1,1),this.Wg.set(e,i.wt)}Gg(e,i,n){const s=this.Fg.get(e);if(s===void 0)return;const r=un(s,n,(l,a)=>l.js<a);Ti(i)?s[r]=i:s.splice(r,1)}qg(e,i){i.length!==0?(this.Fg.set(e,i.filter(Ti)),this.Wg.set(e,i[i.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let i=-1;for(let n=0;n<this.Hg.length&&n<e.length;++n){const s=this.Hg[n],r=e[n];if(this.cu.key(s.time)!==this.cu.key(r.time)){i=n;break}r.timeWeight=s.timeWeight,Us(r.pointData,n)}if(i===-1&&this.Hg.length!==e.length&&(i=Math.min(this.Hg.length,e.length)),i===-1)return-1;for(let n=i;n<e.length;++n)Us(e[n].pointData,n);return this.cu.fillWeightsForPoints(e,i),this.Hg=e,i}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach(i=>{i.length!==0&&(e=Math.max(e,i[i.length-1].js))}),e}Yg(e,i,n){const s=this.Qg();if(i!==-1)this.Fg.forEach((r,l)=>{s.F_.set(l,{le:r,iM:l===e?n:void 0})}),this.Fg.has(e)||s.F_.set(e,{le:[],iM:n}),s.Et.sM=this.Hg,s.Et.nM=i;else{const r=this.Fg.get(e);s.F_.set(e,{le:r||[],iM:n})}return s}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function Us(t,e){t.js=e,t.Lg.forEach(i=>{i.js=e})}function ay(t,e){return t.wt<e}function uy(t,e){return e<t.wt}function $f(t,e,i){const n=e.Aa(),s=e.bi(),r=un(t,n,ay),l=Tf(t,s,uy);if(!i)return{from:r,to:l};let a=r,u=l;return r>0&&r<t.length&&t[r].wt>=n&&(a=r-1),l>0&&l<t.length&&t[l-1].wt<=s&&(u=l+1),{from:a,to:u}}class Va{constructor(e,i,n){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=i,this._M=n}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map(e=>({...e,...this.ee.ga().gh(e.wt)}))}fM(){this.lM=null}uM(){const e=this.re.Et(),i=e.N().enableConflation?e.Hc():0;i!==this.oM&&(this.rM=!0,this.oM=i),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),i=this.re.Et();if(this.fM(),i.Gi()||e.Gi())return;const n=i.Ie();if(n===null||this.ee.qs().yh()===0)return;const s=this.ee.Lt();s!==null&&(this.lM=$f(this.aM,n,this._M),this.mM(e,i,s.Wt),this.wM())}}class hy{constructor(e,i){this.gM=e,this.Ki=i}nt(e,i,n){this.gM.draw(e,this.Ki,i,n)}}class cy extends Va{constructor(e,i,n){super(e,i,!1),this.$h=n,this.cM=new hy(this.$h.renderer(),s=>{const r=e.Lt();return r===null?null:e.Ft().Nt(s,r.Wt)})}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(i=>({wt:i.js,_t:NaN,...e.gh(i.js),MM:i.le}))}mM(e,i){i.mc(this.aM,us(this.lM))}wM(){this.$h.update({bars:this.aM.map(dy),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function dy(t){return{x:t._t,time:t.wt,originalData:t.MM,barColor:t.th}}const fy={color:"#2196f3"},py=(t,e,i)=>{const n=Ht(i);return new cy(t,e,n)};function Ha(t){const e={value:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function Gh(t){const e=Ha(t);return t.R!==void 0&&(e.color=t.R),e}function my(t){const e=Ha(t);return t.vt!==void 0&&(e.lineColor=t.vt),t.eh!==void 0&&(e.topColor=t.eh),t.rh!==void 0&&(e.bottomColor=t.rh),e}function gy(t){const e=Ha(t);return t.hh!==void 0&&(e.topLineColor=t.hh),t.ah!==void 0&&(e.bottomLineColor=t.ah),t.oh!==void 0&&(e.topFillColor1=t.oh),t._h!==void 0&&(e.topFillColor2=t._h),t.uh!==void 0&&(e.bottomFillColor1=t.uh),t.dh!==void 0&&(e.bottomFillColor2=t.dh),e}function Df(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function vy(t){const e=Df(t);return t.R!==void 0&&(e.color=t.R),e}function yy(t){const e=Df(t),{R:i,Ht:n,nh:s}=t;return i!==void 0&&(e.color=i),n!==void 0&&(e.borderColor=n),s!==void 0&&(e.wickColor=s),e}function nr(t){return{Area:my,Line:Gh,Baseline:gy,Histogram:Gh,Bar:vy,Candlestick:yy,Custom:xy}[t]}function xy(t){const e=t.Gr;return{...t.le,time:e}}const wy={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},_y={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Sy={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:kf,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Dl={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},jy={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function Xh(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:Sy,crosshair:wy,grid:_y,overlayPriceScales:{...Dl},leftPriceScale:{...Dl,visible:!1},rightPriceScale:{...Dl,visible:!0},timeScale:jy,localization:{locale:hn?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Wf{constructor(e,i,n){this.Yp=e,this.bM=i,this.SM=n??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return Jr(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Be(e.from,e.to))}getVisibleRange(){let e,i,n=this.Ki().er();if(n===null)return null;if(this.Ki().io()){const s=this.Ki().m_(),r=Bf(s);n=Ki(n,this.Ki().no()),e=Number((Math.round(n.Ze()/s)*s).toFixed(r)),i=Number((Math.round(n.Ge()/s)*s).toFixed(r))}else e=n.Ze(),i=n.Ge();return{from:e,to:i}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return N(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class ky{constructor(e,i,n,s){this.Yp=e,this.yt=n,this.xM=i,this.CM=s}getHeight(){return this.yt.$t()}setHeight(e){const i=this.Yp.Qt(),n=i.Gd(this.yt);i.xd(n,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const i=this.paneIndex();i!==e&&(be(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(i,e))}getSeries(){return this.yt.F_().map(e=>this.xM(e))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new Wf(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,i={},n=0){return this.CM.addCustomSeries(e,i,n)}addSeries(e,i={}){return this.CM.addSeries(e,i,this.paneIndex())}}const by={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class qh{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class My{constructor(e,i,n,s,r,l){this.kM=new de,this.ee=e,this.PM=i,this.TM=n,this.cu=r,this.CM=s,this.RM=l}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const i=this.ee.Lt();return i===null?null:this.ee.Ft().Nt(e,i.Wt)}coordinateToPrice(e){const i=this.ee.Lt();return i===null?null:this.ee.Ft().Ds(e,i.Wt)}barsInLogicalRange(e){if(e===null)return null;const i=new en(new Zi(e.from,e.to)).Ru(),n=this.ee.qs();if(n.Gi())return null;const s=n.$s(i.Aa(),1),r=n.$s(i.bi(),-1),l=N(n.kh()),a=N(n.sn());if(s!==null&&r!==null&&s.js>r.js)return{barsBefore:e.from-l,barsAfter:a-e.to};const u={barsBefore:s===null||s.js===l?e.from-l:s.js-l,barsAfter:r===null||r.js===a?a-e.to:a-r.js};return s!==null&&r!==null&&(u.from=s.Gr,u.to=r.Gr),u}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,i=!1){this.ee.wh(),this.PM.VM(this.ee,e,i),this.IM("update")}pop(e=1){const i=this.PM.BM(this.ee,e);i.length!==0&&this.IM("update");const n=nr(this.seriesType());return i.map(s=>n(s))}dataByIndex(e,i){const n=this.ee.qs().$s(e,i);return n===null?null:nr(this.seriesType())(n)}data(){const e=nr(this.seriesType());return this.ee.qs().Dh().map(i=>e(i))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Et(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const i=Je(Et(by),e),n=this.ee.Da(i);return new qh(n)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map(e=>new qh(e))}seriesType(){return this.ee.wh()}lastValueData(e){const i=this.ee.Ve(e);return i.Be?{noData:!0}:{noData:!1,price:i.gt,color:i.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,i=N(this.ee.Qt().Kn(e));return this.RM(i)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const i=this.ee.Qt().Kn(this.ee);i!==null&&i.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class Cy{constructor(e,i,n){this.EM=new de,this.Nu=new de,this.xw=new de,this.ns=e,this.Jh=e.Et(),this.tg=i,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=n}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,i){i?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const i={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},n=this.Jh.cc(i);this.ns.$d(n)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){be(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const i=this.ns.Et();return i.Gi()?null:i.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,i){const n=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(n,i)}timeToCoordinate(e){const i=this.timeToIndex(e,!1);return i===null?null:this.Jh.qt(i)}coordinateToTime(e){const i=this.ns.Et(),n=i.wc(e),s=i.es(n);return s===null?null:s.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Et(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function Zh(t){return function(e){if(Fs(e.handleScale)){const n=e.handleScale;e.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:s}=e.handleScale;Fs(n)&&(e.handleScale.axisPressedMouseMove={time:n,price:n}),Fs(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const i=e.handleScroll;Fs(i)&&(e.handleScroll={horzTouchDrag:i,vertTouchDrag:i,mouseWheel:i,pressedMouseMove:i})}(t),t}class Ey{constructor(e,i,n){this.OM=new Map,this.NM=new Map,this.FM=new de,this.WM=new de,this.HM=new de,this.Xc=new WeakMap,this.UM=new oy(i);const s=n===void 0?Et(Xh()):Je(Et(Xh()),Zh(n));this.$M=i,this.Yp=new Zv(e,s,i),this.Yp.nw().i(l=>{this.FM.v()&&this.FM.p(this.qM(l()))},this),this.Yp.ew().i(l=>{this.WM.v()&&this.WM.p(this.qM(l()))},this),this.Yp.Md().i(l=>{this.HM.v()&&this.HM.p(this.qM(l()))},this);const r=this.Yp.Qt();this.jM=new Cy(r,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,i,n){this.autoSizeActive()||this.Yp.sg(e,i,n)}addCustomSeries(e,i={},n=0){const s=(r=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...fy,...r.defaultOptions()},YM:py,KM:r}))(Ht(e));return this.ZM(s,i,n)}addSeries(e,i={},n=0){return this.ZM(e,i,n)}removeSeries(e){const i=He(this.OM.get(e)),n=this.UM.Hd(i);this.Yp.Qt().Hd(i),this.GM(n),this.OM.delete(e),this.NM.delete(i)}DM(e,i){this.GM(this.UM.Ug(e,i))}VM(e,i,n){this.GM(this.UM.Zg(e,i,n))}BM(e,i){const[n,s]=this.UM.Jg(e,i);return n.length!==0&&this.GM(s),n}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,i=0){return new Wf(this.Yp,e,i)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(Zh(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,i=!1){let n,s;try{i||(n=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),s=this.Yp.ug(e)}finally{i||n===void 0||this.Yp.Qt().cr({crosshair:{mode:n}})}return s}addPane(e=!1){const i=this.Yp.Qt().Xd();return i.O_(e),this.XM(i)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,i){this.Yp.Qt().Cd(e,i)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map(e=>this.XM(e))}paneSize(e=0){const i=this.Yp.gg(e);return{height:i.height,width:i.width}}setCrosshairPosition(e,i,n){const s=this.OM.get(n);if(s===void 0)return;const r=this.Yp.Qt().Kn(s);r!==null&&this.Yp.Qt().Ld(e,i,r)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,i={},n=0){be(e.YM!==void 0),function(u){if(u===void 0||u.type==="custom")return;const h=u;h.minMove!==void 0&&h.precision===void 0&&(h.precision=Bf(h.minMove))}(i.priceFormat),e.type==="Candlestick"&&function(u){u.borderColor!==void 0&&(u.borderUpColor=u.borderColor,u.borderDownColor=u.borderColor),u.wickColor!==void 0&&(u.wickUpColor=u.wickColor,u.wickDownColor=u.wickColor)}(i);const s=Je(Et(Sf),Et(e.defaultOptions),i),r=e.YM,l=new Xr(this.Yp.Qt(),e.type,s,r,e.KM);this.Yp.Qt().Fd(l,n);const a=new My(l,this,this,this,this.$M,u=>this.XM(u));return this.OM.set(a,l),this.NM.set(l,a),a}GM(e){const i=this.Yp.Qt();i.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach((n,s)=>s.ht(n.le,n.iM)),i.Et().Ju(),i.Sc()}JM(e){return He(this.NM.get(e))}qM(e){const i=new Map;e.Vg.forEach((s,r)=>{const l=r.wh(),a=nr(l)(s);if(l!=="Custom")be(ty(a));else{const u=r.hl();be(!u||u(a)===!1)}i.set(this.JM(r),a)});const n=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:n,hoveredObjectId:e.Bg,seriesData:i,sourceEvent:e.Eg}}XM(e){let i=this.Xc.get(e);return i||(i=new ky(this.Yp,n=>this.JM(n),e,this),this.Xc.set(e,i)),i}}function Py(t){if(vs(t)){const e=document.getElementById(t);return be(e!==null,`Cannot find element in DOM with id=${t}`),e}return t}function Ny(t,e,i){const n=Py(t),s=new Ey(n,e,i);return e.setOptions(s.options()),s}function zy(t,e){return Ny(t,new Fh,Fh.pf(e))}class Ty extends Va{constructor(e,i){super(e,i,!0)}mM(e,i,n){i.mc(this.aM,us(this.lM)),e.Yo(this.aM,n,us(this.lM))}QM(e,i){return{wt:e,gt:i,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(i=>{let n;if((i.jr??1)>1){const s=i.Wt[1],r=i.Wt[2],l=i.Wt[3];n=Math.abs(s-l)>Math.abs(r-l)?s:r}else n=i.Wt[3];return this.tb(i.js,n,e)})}}function Ly(t,e,i,n,s,r,l){if(e.length===0||n.from>=e.length||n.to<=0)return;const{context:a,horizontalPixelRatio:u,verticalPixelRatio:h}=t,c=e[n.from];let d=r(t,c),f=c;if(n.to-n.from<2){const m=s/2;a.beginPath();const v={_t:c._t-m,ut:c.ut},x={_t:c._t+m,ut:c.ut};a.moveTo(v._t*u,v.ut*h),a.lineTo(x._t*u,x.ut*h),l(t,d,v,x)}else{const m=(x,E)=>{l(t,d,f,E),a.beginPath(),d=x,f=E};let v=f;a.beginPath(),a.moveTo(c._t*u,c.ut*h);for(let x=n.from+1;x<n.to;++x){v=e[x];const E=r(t,v);switch(i){case 0:a.lineTo(v._t*u,v.ut*h);break;case 1:a.lineTo(v._t*u,e[x-1].ut*h),E!==d&&(m(E,v),a.lineTo(v._t*u,e[x-1].ut*h)),a.lineTo(v._t*u,v.ut*h);break;case 2:{const[g,p]=Ry(e,x-1,x);a.bezierCurveTo(g._t*u,g.ut*h,p._t*u,p.ut*h,v._t*u,v.ut*h);break}}i!==1&&E!==d&&(m(E,v),a.moveTo(v._t*u,v.ut*h))}(f!==v||f===v&&i===1)&&l(t,d,f,v)}}const ec=6;function Wl(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function tc(t,e){return{_t:t._t/e,ut:t.ut/e}}function Ry(t,e,i){const n=Math.max(0,e-1),s=Math.min(t.length-1,i+1);var r,l;return[(r=t[e],l=tc(Wl(t[i],t[n]),ec),{_t:r._t+l._t,ut:r.ut+l.ut}),Wl(t[i],tc(Wl(t[s],t[e]),ec))]}function Iy(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class Fy extends Ci{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:i,lt:n,ib:s,sb:r,ct:l,Zt:a,nb:u}=this.rt;if(n===null)return;const h=e.context;h.lineCap="butt",h.lineWidth=l*e.verticalPixelRatio,_i(h,a),h.lineJoin="round";const c=this.eb.bind(this);r!==void 0&&Ly(e,i,r,n,s,c,Iy),u&&function(d,f,m,v,x){if(v.to-v.from<=0)return;const{horizontalPixelRatio:E,verticalPixelRatio:g,context:p}=d;let y=null;const S=Math.max(1,Math.floor(E))%2/2,b=m*g+S;for(let M=v.to-1;M>=v.from;--M){const _=f[M];if(_){const j=x(d,_);j!==y&&(p.beginPath(),y!==null&&p.fill(),p.fillStyle=j,y=j);const C=Math.round(_._t*E)+S,I=_.ut*g;p.moveTo(C,I),p.arc(C,I,b,0,2*Math.PI)}}p.fill()}(e,i,u,n,c)}}class By extends Fy{eb(e,i){return i.vt}}class Ay extends Ty{constructor(){super(...arguments),this.cM=new By}tb(e,i,n){return{...this.QM(e,i),...n.gh(e)}}wM(){const e=this.ee.N(),i={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(i)}}const Ul={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new Ay(t,e)};class Oy extends Va{constructor(e,i){super(e,i,!1)}mM(e,i,n){i.mc(this.aM,us(this.lM)),e.Zo(this.aM,n,us(this.lM))}Lb(e,i,n){return{wt:e,Hr:i.Wt[0],Ur:i.Wt[1],$r:i.Wt[2],qr:i.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(i=>this.tb(i.js,i,e))}}class $y extends Ci{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(this.jt===null||this.jt.qs.length===0||this.jt.lt===null)return;const{horizontalPixelRatio:i}=e;this.Ib=function(r,l){if(r>=2.5&&r<=4)return Math.floor(3*l);const a=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),u=Math.floor(r*a*l),h=Math.floor(r*l),c=Math.min(u,h);return Math.max(Math.floor(l),c)}(this.jt.ul,i),this.Ib>=2&&Math.floor(i)%2!=this.Ib%2&&this.Ib--;const n=this.jt.qs;this.jt.zb&&this.Ob(e,n,this.jt.lt),this.jt.Mi&&this.gm(e,n,this.jt.lt);const s=this.Nb(i);(!this.jt.Mi||this.Ib>2*s)&&this.Fb(e,n,this.jt.lt)}Ob(e,i,n){if(this.jt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let a="",u=Math.min(Math.floor(r),Math.floor(this.jt.ul*r));u=Math.max(Math.floor(r),Math.min(u,this.Ib));const h=Math.floor(.5*u);let c=null;for(let d=n.from;d<n.to;d++){const f=i[d];f.sh!==a&&(s.fillStyle=f.sh,a=f.sh);const m=Math.round(Math.min(f.Go,f.Qo)*l),v=Math.round(Math.max(f.Go,f.Qo)*l),x=Math.round(f.Xo*l),E=Math.round(f.Jo*l);let g=Math.round(r*f._t)-h;const p=g+u-1;c!==null&&(g=Math.max(c+1,g),g=Math.min(g,p));const y=p-g+1;s.fillRect(g,x,y,m-x),s.fillRect(g,v+1,y,E-v),c=p}}Nb(e){let i=Math.floor(1*e);this.Ib<=2*i&&(i=Math.floor(.5*(this.Ib-1)));const n=Math.max(Math.floor(e),i);return this.Ib<=2*n?Math.max(Math.floor(e),Math.floor(1*e)):n}gm(e,i,n){if(this.jt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let a="";const u=this.Nb(r);let h=null;for(let c=n.from;c<n.to;c++){const d=i[c];d.ih!==a&&(s.fillStyle=d.ih,a=d.ih);let f=Math.round(d._t*r)-Math.floor(.5*this.Ib);const m=f+this.Ib-1,v=Math.round(Math.min(d.Go,d.Qo)*l),x=Math.round(Math.max(d.Go,d.Qo)*l);if(h!==null&&(f=Math.max(h+1,f),f=Math.min(f,m)),this.jt.ul*r>2*u)Dg(s,f,v,m-f+1,x-v+1,u);else{const E=m-f+1;s.fillRect(f,v,E,x-v+1)}h=m}}Fb(e,i,n){if(this.jt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let a="";const u=this.Nb(r);for(let h=n.from;h<n.to;h++){const c=i[h];let d=Math.round(Math.min(c.Go,c.Qo)*l),f=Math.round(Math.max(c.Go,c.Qo)*l),m=Math.round(c._t*r)-Math.floor(.5*this.Ib),v=m+this.Ib-1;if(c.th!==a){const x=c.th;s.fillStyle=x,a=x}this.jt.Mi&&(m+=u,d+=u,v-=u,f-=u),d>f||s.fillRect(m,d,v-m+1,f-d+1)}}}class Dy extends Oy{constructor(){super(...arguments),this.cM=new $y}tb(e,i,n){return{...this.Lb(e,i,n),...n.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}}const Wy={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(t,e)=>new Dy(t,e)};class Uy{constructor(e,i){this.ee=e,this.Zh=i,this.jb()}detach(){this.ee.detachPrimitive(this.Zh)}getSeries(){return this.ee}applyOptions(e){this.Zh&&this.Zh.cr&&this.Zh.cr(e)}jb(){this.ee.attachPrimitive(this.Zh)}}const Vy={autoScale:!0,zOrder:"normal"};function Vn(t,e){return $a(Math.min(Math.max(t,12),30)*e)}function cn(t,e){switch(t){case"arrowDown":case"arrowUp":return Vn(e,1);case"circle":return Vn(e,.8);case"square":return Vn(e,.7)}}function Uf(t){return function(e){const i=Math.ceil(e);return i%2!=0?i-1:i}(Vn(t,1))}function Vf(t){return Math.max(Vn(t,.1),3)}function ic(t,e,i){return e?t:i?Math.ceil(t/2):0}function nc(t,e,i,n){const s=(cn("arrowUp",n)-1)/2*i.pS,r=($a(n/2)-1)/2*i.pS;e.beginPath(),t?(e.moveTo(i._t-s,i.ut),e.lineTo(i._t,i.ut-s),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+r,i.ut+s),e.lineTo(i._t-r,i.ut+s),e.lineTo(i._t-r,i.ut)):(e.moveTo(i._t-s,i.ut),e.lineTo(i._t,i.ut+s),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+r,i.ut-s),e.lineTo(i._t-r,i.ut-s),e.lineTo(i._t-r,i.ut)),e.fill()}function sc(t,e,i,n,s,r){const l=(cn("arrowUp",n)-1)/2,a=($a(n/2)-1)/2;return s>=e-a-2&&s<=e+a+2&&r>=(t?i:i-l)-2&&r<=(t?i+l:i)+2?!0:(()=>{if(s<e-l-3||s>e+l+3||r<(t?i-l-3:i)||r>(t?i:i+l+3))return!1;const u=Math.abs(s-e);return Math.abs(r-i)+3>=u/2})()}class Hy{constructor(){this.jt=null,this.$n=new cs,this.F=-1,this.W="",this.jv="",this.vS="normal"}ht(e){this.jt=e}qn(e,i,n){this.F===e&&this.W===i||(this.F=e,this.W=i,this.jv=hs(e,i),this.$n.On()),this.vS=n}Qn(e,i){if(this.jt===null||this.jt.lt===null)return null;for(let n=this.jt.lt.from;n<this.jt.lt.to;n++){const s=this.jt.ot[n];if(s&&Qy(s,e,i))return{zOrder:"normal",externalId:s.te??""}}return null}draw(e){this.vS!=="aboveSeries"&&e.useBitmapCoordinateSpace(i=>{this.et(i)})}drawBackground(e){this.vS==="aboveSeries"&&e.useBitmapCoordinateSpace(i=>{this.et(i)})}et({context:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.jt!==null&&this.jt.lt!==null){e.textBaseline="middle",e.font=this.jv;for(let s=this.jt.lt.from;s<this.jt.lt.to;s++){const r=this.jt.ot[s];r.ri!==void 0&&(r.ri.ss=this.$n.Ii(e,r.ri.mS),r.ri.$t=this.F,r.ri._t=r._t-r.ri.ss/2),Ky(r,e,i,n)}}}}function Ky(t,e,i,n){e.fillStyle=t.R,t.ri!==void 0&&function(s,r,l,a,u,h){s.save(),s.scale(u,h),s.fillText(r,l,a),s.restore()}(e,t.ri.mS,t.ri._t,t.ri.ut,i,n),function(s,r,l){if(s.yh!==0){switch(s.wS){case"arrowDown":return void nc(!1,r,l,s.yh);case"arrowUp":return void nc(!0,r,l,s.yh);case"circle":return void function(a,u,h){const c=(cn("circle",h)-1)/2;a.beginPath(),a.arc(u._t,u.ut,c*u.pS,0,2*Math.PI,!1),a.fill()}(r,l,s.yh);case"square":return void function(a,u,h){const c=cn("square",h),d=(c-1)*u.pS/2,f=u._t-d,m=u.ut-d;a.fillRect(f,m,c*u.pS,c*u.pS)}(r,l,s.yh)}s.wS}}(t,e,function(s,r,l){const a=Math.max(1,Math.floor(r))%2/2;return{_t:Math.round(s._t*r)+a,ut:s.ut*l,pS:r}}(t,i,n))}function Qy(t,e,i){return!(t.ri===void 0||!function(n,s,r,l,a,u){const h=l/2;return a>=n&&a<=n+r&&u>=s-h&&u<=s+h}(t.ri._t,t.ri.ut,t.ri.ss,t.ri.$t,e,i))||function(n,s,r){if(n.yh===0)return!1;switch(n.wS){case"arrowDown":return sc(!0,n._t,n.ut,n.yh,s,r);case"arrowUp":return sc(!1,n._t,n.ut,n.yh,s,r);case"circle":return function(l,a,u,h,c){const d=2+cn("circle",u)/2,f=l-h,m=a-c;return Math.sqrt(f*f+m*m)<=d}(n._t,n.ut,n.yh,s,r);case"square":return function(l,a,u,h,c){const d=cn("square",u),f=(d-1)/2,m=l-f,v=a-f;return h>=m&&h<=m+d&&c>=v&&c<=v+d}(n._t,n.ut,n.yh,s,r)}}(t,e,i)}function rc(t){return t==="atPriceTop"||t==="atPriceBottom"||t==="atPriceMiddle"}function Yy(t,e,i,n,s,r,l,a){const u=function(v,x,E){if(rc(x.position)&&x.price!==void 0)return x.price;if("value"in(g=v)&&typeof g.value=="number")return v.value;var g;if(function(p){return"open"in p&&"high"in p&&"low"in p&&"close"in p}(v)){if(x.position==="inBar")return v.close;if(x.position==="aboveBar")return E?v.low:v.high;if(x.position==="belowBar")return E?v.high:v.low}}(i,e,l.priceScale().options().invertScale);if(u===void 0)return;const h=rc(e.position),c=a.timeScale(),d=Si(e.size)?Math.max(e.size,0):1,f=Uf(c.options().barSpacing)*d,m=f/2;switch(t.yh=f,e.position){case"inBar":case"atPriceMiddle":return t.ut=N(l.priceToCoordinate(u)),void(t.ri!==void 0&&(t.ri.ut=t.ut+m+r+.6*s));case"aboveBar":case"atPriceTop":{const v=h?0:n.gS;return t.ut=N(l.priceToCoordinate(u))-m-v,t.ri!==void 0&&(t.ri.ut=t.ut-m-.6*s,n.gS+=1.2*s),void(h||(n.gS+=f+r))}case"belowBar":case"atPriceBottom":{const v=h?0:n.MS;return t.ut=N(l.priceToCoordinate(u))+m+v,t.ri!==void 0&&(t.ri.ut=t.ut+m+r+.6*s,n.MS+=1.2*s),void(h||(n.MS+=f+r))}}}class Jy{constructor(e,i,n){this.bS=[],this.xt=!0,this.SS=!0,this.Xt=new Hy,this.ye=e,this.Lv=i,this.jt={ot:[],lt:null},this.Ps=n}renderer(){if(!this.ye.options().visible)return null;this.xt&&this.xS();const e=this.Lv.options().layout;return this.Xt.qn(e.fontSize,e.fontFamily,this.Ps.zOrder),this.Xt.ht(this.jt),this.Xt}CS(e){this.bS=e,this.kt("data")}kt(e){this.xt=!0,e==="data"&&(this.SS=!0)}yS(e){this.xt=!0,this.Ps=e}zOrder(){return this.Ps.zOrder==="aboveSeries"?"top":this.Ps.zOrder}xS(){const e=this.Lv.timeScale(),i=this.bS;this.SS&&(this.jt.ot=i.map(h=>({wt:h.time,_t:0,ut:0,yh:0,wS:h.shape,R:h.color,te:h.id,kS:h.kS,ri:void 0})),this.SS=!1);const n=this.Lv.options().layout;this.jt.lt=null;const s=e.getVisibleLogicalRange();if(s===null)return;const r=new Zi(Math.floor(s.from),Math.ceil(s.to));if(this.ye.data()[0]===null||this.jt.ot.length===0)return;let l=NaN;const a=Vf(e.options().barSpacing),u={gS:a,MS:a};this.jt.lt=$f(this.jt.ot,r,!0);for(let h=this.jt.lt.from;h<this.jt.lt.to;h++){const c=i[h];c.time!==l&&(u.gS=a,u.MS=a,l=c.time);const d=this.jt.ot[h];d._t=N(e.logicalToCoordinate(c.time)),c.text!==void 0&&c.text.length>0&&(d.ri={mS:c.text,_t:0,ut:0,ss:0,$t:0});const f=this.ye.dataByIndex(c.time,0);f!==null&&Yy(d,c,f,u,n.fontSize,a,this.ye,this.Lv)}this.xt=!1}}function lc(t){return{...Vy,...t}}class Gy{constructor(e){this.$h=null,this.bS=[],this.PS=[],this.TS=null,this.ye=null,this.Lv=null,this.RS=!0,this.DS=null,this.IS=null,this.VS=null,this.BS=!0,this.Ps=lc(e)}attached(e){this.ES(),this.Lv=e.chart,this.ye=e.series,this.$h=new Jy(this.ye,N(this.Lv),this.Ps),this.dS=e.requestUpdate,this.ye.subscribeDataChanged(i=>this.IM(i)),this.BS=!0,this.Jb()}Jb(){this.dS&&this.dS()}detached(){this.ye&&this.TS&&this.ye.unsubscribeDataChanged(this.TS),this.Lv=null,this.ye=null,this.$h=null,this.TS=null}CS(e){this.BS=!0,this.bS=e,this.ES(),this.RS=!0,this.IS=null,this.Jb()}AS(){return this.bS}paneViews(){return this.$h?[this.$h]:[]}updateAllViews(){this.LS()}hitTest(e,i){var n;return this.$h?((n=this.$h.renderer())==null?void 0:n.Qn(e,i))??null:null}autoscaleInfo(e,i){if(this.Ps.autoScale&&this.$h){const n=this.zS();if(n)return{priceRange:null,margins:n}}return null}cr(e){this.Ps=lc({...this.Ps,...e}),this.Jb&&this.Jb()}zS(){const e=N(this.Lv).timeScale().options().barSpacing;if(this.RS||e!==this.VS){if(this.VS=e,this.bS.length>0){const i=Vf(e),n=1.5*Uf(e)+2*i,s=this.OS();this.DS={above:ic(n,s.aboveBar,s.inBar),below:ic(n,s.belowBar,s.inBar)}}else this.DS=null;this.RS=!1}return this.DS}OS(){return this.IS===null&&(this.IS=this.bS.reduce((e,i)=>(e[i.position]||(e[i.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.IS}ES(){var s;if(!this.BS||!this.Lv||!this.ye)return;const e=this.Lv.timeScale(),i=(s=this.ye)==null?void 0:s.data();if(e.getVisibleLogicalRange()==null||!this.ye||i.length===0)return void(this.PS=[]);const n=e.timeToIndex(N(i[0].time),!0);this.PS=this.bS.map((r,l)=>{const a=e.timeToIndex(r.time,!0),u=a<n?1:-1,h=N(this.ye).dataByIndex(a,u),c={time:e.timeToIndex(N(h).time,!1),position:r.position,shape:r.shape,color:r.color,id:r.id,kS:l,text:r.text,size:r.size,price:r.price,Gr:r.time};if(r.position==="atPriceTop"||r.position==="atPriceBottom"||r.position==="atPriceMiddle"){if(r.price===void 0)throw new Error(`Price is required for position ${r.position}`);return{...c,position:r.position,price:r.price}}return{...c,position:r.position,price:r.price}}),this.BS=!1}LS(e){this.$h&&(this.ES(),this.$h.CS(this.PS),this.$h.yS(this.Ps),this.$h.kt(e))}IM(e){this.BS=!0,this.Jb()}}class Xy extends Uy{constructor(e,i,n){super(e,i),n&&this.setMarkers(n)}setMarkers(e){this.Zh.CS(e)}markers(){return this.Zh.AS()}}function qy(t,e,i){return new Xy(t,new Gy({}))}({...Sf});const Z="/api";async function re(t,e){const i=await fetch(t,e);if(!i.ok){const n=await i.text();throw new Error(`API error: ${i.status} - ${n}`)}return i.json()}async function Zy(){return re(`${Z}/profiles`)}async function Hf(t){return re(`${Z}/profiles/${encodeURIComponent(t)}`)}async function Kf(t,e){await re(`${Z}/profiles/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_data:e})})}async function e0(t){return re(`${Z}/profiles`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})})}async function t0(t){return re(`${Z}/profiles?path=${encodeURIComponent(t)}`,{method:"DELETE"})}async function i0(t){return re(`${Z}/auth/check?profile_path=${encodeURIComponent(t)}`)}async function n0(t,e){return re(`${Z}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,password:e})})}async function Vo(t,e,i){return re(`${Z}/auth/set-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,current_password:e,new_password:i})})}async function s0(t,e){return re(`${Z}/auth/remove-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile_path:t,password:e})})}async function r0(){return re(`${Z}/presets`)}async function l0(t,e){return re(`${Z}/presets/${t}/preview?profile_path=${encodeURIComponent(e)}`)}async function o0(t,e){return re(`${Z}/presets/${t}/apply?profile_path=${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({preset_id:t})})}async function a0(t){return re(`${Z}/runtime/${t}`)}async function oc(t,e,i){await re(`${Z}/runtime/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:e,kill_switch:i})})}async function u0(t,e){return re(`${Z}/loop/${t}/start?profile_path=${encodeURIComponent(e)}`,{method:"POST"})}async function h0(t){return re(`${Z}/loop/${t}/stop`,{method:"POST"})}async function c0(t,e=100){return re(`${Z}/loop/${t}/log?lines=${e}`)}async function Qf(t,e=50,i){const n=new URLSearchParams({limit:String(e)});i&&n.set("profile_path",i);const s=`${Z}/data/${t}/trades?${n}`,r=await re(s);return r!=null&&typeof r=="object"&&"trades"in r&&Array.isArray(r.trades)?{trades:r.trades,display_currency:r.display_currency}:{trades:Array.isArray(r)?r:[],display_currency:void 0}}async function d0(t,e=50){return re(`${Z}/data/${t}/executions?limit=${e}`)}async function f0(t){return re(`${Z}/data/${t}/rejection-breakdown`)}async function p0(t,e){const i=e?`${Z}/data/${t}/stats?profile_path=${encodeURIComponent(e)}`:`${Z}/data/${t}/stats`;return re(i)}async function m0(t,e){const i=e?`${Z}/data/${t}/stats-by-preset?profile_path=${encodeURIComponent(e)}`:`${Z}/data/${t}/stats-by-preset`;return re(i)}async function g0(t,e){const i=e?`${Z}/data/${t}/mt5-report?profile_path=${encodeURIComponent(e)}`:`${Z}/data/${t}/mt5-report`,n=await fetch(i);if(!n.ok)return null;const s=await n.json();return(s==null?void 0:s.source)==="mt5"?s:null}async function v0(t,e,i){return re(`${Z}/trades/${t}/${e}/close?profile_path=${encodeURIComponent(i)}`,{method:"POST"})}async function y0(t,e,i=!0){const n=new URLSearchParams({profile_path:e});return i&&n.set("force_profit_refresh","true"),re(`${Z}/data/${t}/sync-trades?${n}`,{method:"POST"})}async function x0(t,e){return re(`${Z}/data/${t}/technical-analysis?profile_path=${encodeURIComponent(e)}`)}const w0=()=>{try{const t=sessionStorage.getItem("unlockedProfiles");return t?new Set(JSON.parse(t)):new Set}catch{return new Set}},Vl=t=>{sessionStorage.setItem("unlockedProfiles",JSON.stringify([...t]))};function _0(){const[t,e]=R.useState("run"),[i,n]=R.useState([]),[s,r]=R.useState(null),[l,a]=R.useState(null),[u,h]=R.useState(!1),[c,d]=R.useState(""),[f,m]=R.useState(null),[v,x]=R.useState(!1),[E,g]=R.useState(!1),[p,y]=R.useState(""),[S,b]=R.useState(""),[M,_]=R.useState(null),[j,C]=R.useState(!1),[I,F]=R.useState({}),[V,O]=R.useState(w0),[U,Q]=R.useState(""),[L,z]=R.useState(null),[P,k]=R.useState(!1),$=async()=>{try{const W=await Zy();n(W);const ie={};await Promise.all(W.map(async we=>{try{const{has_password:Ei}=await i0(we.path);ie[we.path]=Ei}catch{ie[we.path]=!1}})),F(ie),r(we=>W.length===0?null:we&&W.some(Ei=>Ei.path===we.path)?we:W[0])}catch(W){a(W.message)}};R.useEffect(()=>{$()},[]);const Y=s&&I[s.path]&&!V.has(s.path),G=async()=>{if(s){z(null),k(!0);try{const{success:W}=await n0(s.path,U);if(W){const ie=new Set(V);ie.add(s.path),O(ie),Vl(ie),Q("")}else z("Incorrect password")}catch(W){z(W.message)}finally{k(!1)}}},Ze=()=>{if(!s)return;const W=new Set(V);W.delete(s.path),O(W),Vl(W),Q(""),z(null)},Le=async()=>{const W=c.trim();if(!W){m("Enter a name");return}if(E){if(!p||p.length<4){m("Password must be at least 4 characters");return}if(p!==S){m("Passwords do not match");return}}m(null),x(!0);try{const ie=await e0(W);if(E&&p){await Vo(ie.path,null,p);const we=new Set(V);we.add(ie.path),O(we),Vl(we)}await $(),r(ie),d(""),y(""),b(""),g(!1),h(!1)}catch(ie){m(ie.message)}finally{x(!1)}},lt=async()=>{if(M){C(!0);try{await t0(M.path),$(),_(null)}catch(W){a(W.message)}finally{C(!1)}}};return o.jsxs("div",{className:"app",children:[o.jsxs("aside",{className:"sidebar",children:[o.jsx("h1",{children:"USDJPY Assistant"}),o.jsx("p",{className:"subtitle",children:"Trading Bot Dashboard"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Account"}),o.jsx("select",{value:(s==null?void 0:s.path)||"",onChange:W=>{const ie=i.find(we=>we.path===W.target.value);r(ie||null),Q(""),z(null)},children:i.map(W=>o.jsxs("option",{value:W.path,children:[I[W.path]?" ":"",W.name]},W.path))}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:8,flexWrap:"wrap"},children:[o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:()=>{h(!u),m(null),d(""),y(""),b(""),g(!1)},children:"Add account"}),o.jsx("button",{type:"button",className:"btn btn-danger",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:()=>s&&_(s),disabled:!s||i.length===0,children:"Remove account"}),s&&I[s.path]&&V.has(s.path)&&o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem",padding:"6px 10px"},onClick:Ze,children:"Lock"})]})]}),u&&o.jsxs("div",{className:"card",style:{marginTop:12,padding:12},children:[o.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[o.jsx("label",{children:"New account name"}),o.jsx("input",{type:"text",value:c,onChange:W=>d(W.target.value),placeholder:"e.g. uncle_demo"})]}),o.jsx("div",{className:"form-group",style:{marginBottom:8},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:E,onChange:W=>g(W.target.checked),style:{width:"auto"}}),"Set password (recommended)"]})}),E&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[o.jsx("label",{children:"Password"}),o.jsx("input",{type:"password",value:p,onChange:W=>y(W.target.value),placeholder:"Min 4 characters"})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:8},children:[o.jsx("label",{children:"Confirm password"}),o.jsx("input",{type:"password",value:S,onChange:W=>b(W.target.value),placeholder:"Confirm password"})]}),o.jsx("p",{style:{fontSize:"0.7rem",color:"var(--warning)",marginBottom:8,background:"rgba(234, 179, 8, 0.1)",padding:8,borderRadius:4},children:"Write your password down in a safe location. There is no forgot-password option."})]}),f&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.8rem",marginBottom:8},children:f}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",className:"btn btn-primary",style:{fontSize:"0.8rem"},onClick:Le,disabled:v,children:v?"Creating":"Create"}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.8rem"},onClick:()=>{h(!1),m(null),d(""),y(""),b(""),g(!1)},disabled:v,children:"Cancel"})]})]}),M&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{className:"card",style:{maxWidth:400,margin:16},children:[o.jsx("h3",{className:"card-title",children:"Remove account"}),o.jsxs("p",{style:{marginBottom:16},children:["Remove ",o.jsx("strong",{children:M.name}),"? This will delete the profile file. Logs and trade history for this account are kept."]}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",className:"btn btn-danger",onClick:lt,disabled:j,children:j?"Removing":"Remove"}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>_(null),disabled:j,children:"Cancel"})]})]})}),o.jsxs("nav",{style:{marginTop:24},children:[o.jsx("button",{className:`nav-item ${t==="run"?"active":""}`,onClick:()=>e("run"),children:"Run / Status"}),o.jsx("button",{className:`nav-item ${t==="analysis"?"active":""}`,onClick:()=>e("analysis"),children:"Analysis"}),o.jsx("button",{className:`nav-item ${t==="presets"?"active":""}`,onClick:()=>e("presets"),children:"Presets"}),o.jsx("button",{className:`nav-item ${t==="profile"?"active":""}`,onClick:()=>e("profile"),children:"Profile Editor"}),o.jsx("button",{className:`nav-item ${t==="logs"?"active":""}`,onClick:()=>e("logs"),children:"Logs & Stats"}),o.jsx("button",{className:`nav-item ${t==="guide"?"active":""}`,onClick:()=>e("guide"),children:"Help / Guide"})]})]}),o.jsxs("main",{className:"main-content",children:[l&&o.jsxs("div",{className:"card",style:{borderColor:"var(--danger)"},children:[o.jsxs("p",{style:{color:"var(--danger)"},children:["Error: ",l]}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>a(null),children:"Dismiss"})]}),s?Y?o.jsxs("div",{className:"card",style:{maxWidth:400,margin:"40px auto",textAlign:"center"},children:[o.jsx("h2",{style:{marginBottom:16},children:"Profile Locked"}),o.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:[o.jsx("strong",{children:s.name})," is password-protected. Enter your password to continue."]}),o.jsxs("div",{className:"form-group",style:{marginBottom:16,textAlign:"left"},children:[o.jsx("label",{children:"Password"}),o.jsx("input",{type:"password",value:U,onChange:W=>Q(W.target.value),onKeyDown:W=>W.key==="Enter"&&G(),placeholder:"Enter password",autoFocus:!0})]}),L&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.85rem",marginBottom:12},children:L}),o.jsx("button",{className:"btn btn-primary",onClick:G,disabled:P||!U,style:{width:"100%",marginBottom:16},children:P?"Unlocking...":"Unlock"}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"There is no forgot-password option. If you've lost your password, contact the administrator."})]}):o.jsxs(o.Fragment,{children:[t==="run"&&o.jsx(S0,{profile:s}),t==="analysis"&&o.jsx(k0,{profile:s}),t==="presets"&&o.jsx(M0,{profile:s}),t==="profile"&&o.jsx(C0,{profile:s,authStatus:I,onAuthChange:$}),t==="logs"&&o.jsx(E0,{profile:s}),t==="guide"&&o.jsx(P0,{})]}):o.jsx("div",{className:"card",children:o.jsxs("p",{children:["No accounts yet. Use ",o.jsx("strong",{children:"Add account"})," in the sidebar to create one, or add a profile JSON in the profiles/ folder."]})})]})]})}function S0({profile:t}){const[e,i]=R.useState(null),[n,s]=R.useState(""),[r,l]=R.useState(!1),a=()=>{a0(t.name).then(i).catch(console.error),c0(t.name,50).then(f=>s(f.content)).catch(console.error)};R.useEffect(()=>{a();const f=setInterval(a,3e3);return()=>clearInterval(f)},[t.name]);const u=async f=>{e&&(await oc(t.name,f,e.kill_switch),a())},h=async f=>{e&&(await oc(t.name,e.mode,f),a())},c=async()=>{l(!0);try{await u0(t.name,t.path),a()}finally{l(!1)}},d=async()=>{l(!0);try{await h0(t.name),a()}finally{l(!1)}};return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Run / Status"}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Loop Control"}),o.jsxs("div",{className:"flex-between mb-4",children:[o.jsx("span",{children:"Status:"}),e!=null&&e.loop_running?o.jsxs("span",{className:"status status-running",children:[o.jsx("span",{className:"status-dot"}),"Running"]}):o.jsxs("span",{className:"status status-stopped",children:[o.jsx("span",{className:"status-dot"}),"Stopped"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"btn btn-success",onClick:c,disabled:r||(e==null?void 0:e.loop_running),children:"Start Loop"}),o.jsx("button",{className:"btn btn-danger",onClick:d,disabled:r||!(e!=null&&e.loop_running),children:"Stop Loop"})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Runtime Settings"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Mode"}),o.jsxs("select",{value:(e==null?void 0:e.mode)||"DISARMED",onChange:f=>u(f.target.value),children:[o.jsx("option",{value:"DISARMED",children:"DISARMED"}),o.jsx("option",{value:"ARMED_MANUAL_CONFIRM",children:"ARMED_MANUAL_CONFIRM"}),o.jsx("option",{value:"ARMED_AUTO_DEMO",children:"ARMED_AUTO_DEMO"})]})]}),o.jsx("div",{className:"form-group",children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.kill_switch)||!1,onChange:f=>h(f.target.checked),style:{width:"auto"}}),"Kill Switch (disable all execution)"]})})]})]}),o.jsxs("div",{className:"card mt-4",children:[o.jsx("h3",{className:"card-title",children:"Loop Log (last 50 lines)"}),o.jsx("div",{className:"log-viewer",children:n||"(no log yet)"})]})]})}function j0({ohlc:t,trades:e,emaFast:i,emaSlow:n,emaStack:s,height:r=300}){const l=R.useRef(null),a=R.useRef(null),u=R.useRef(null);return R.useEffect(()=>{if(!l.current||t.length===0)return;const h=zy(l.current,{width:l.current.clientWidth,height:r,layout:{background:{color:"#1a1a2e"},textColor:"#d1d5db"},grid:{vertLines:{color:"#2d2d44"},horzLines:{color:"#2d2d44"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#2d2d44"},timeScale:{borderColor:"#2d2d44",timeVisible:!0,secondsVisible:!1}});a.current=h;const c=h.addSeries(Wy,{upColor:"#10b981",downColor:"#ef4444",borderUpColor:"#10b981",borderDownColor:"#ef4444",wickUpColor:"#10b981",wickDownColor:"#ef4444"});u.current=c;const d=t.map(b=>({time:b.time,open:b.open,high:b.high,low:b.low,close:b.close}));c.setData(d);const f={lastValueVisible:!1,priceLineVisible:!1},m={ema8:"#f59e0b",ema13:"#3b82f6",ema21:"#8b5cf6",ema34:"#06b6d4",ema50:"#10b981",ema89:"#6366f1",ema200:"#a855f7"};i&&i.length>0&&h.addSeries(Ul,{color:"#3b82f6",lineWidth:2,title:"EMA Fast",...f}).setData(i.map(M=>({time:M.time,value:M.value}))),n&&n.length>0&&h.addSeries(Ul,{color:"#10b981",lineWidth:2,title:"SMA Slow",...f}).setData(n.map(M=>({time:M.time,value:M.value}))),s&&Object.entries(s).forEach(([b,M])=>{if(M&&M.length>0){const _=m[b]||"#94a3b8";h.addSeries(Ul,{color:_,lineWidth:1,title:b.toUpperCase(),...f}).setData(M.map(C=>({time:C.time,value:C.value})))}});const v=[];e.forEach(b=>{const M=b.side.toLowerCase()==="buy",C=M?"#3b82f6":"#ef4444";b.entry_time!=null&&v.push({time:b.entry_time,position:M?"belowBar":"aboveBar",color:C,shape:M?"arrowUp":"arrowDown",text:""}),b.exit_time!=null&&v.push({time:b.exit_time,position:M?"aboveBar":"belowBar",color:C,shape:"circle",text:""})}),v.length>0&&qy(c).setMarkers(v);const x="#3b82f6",E="#ef4444",g="#10b981",p="#ef4444";e.filter(b=>b.exit_time==null&&b.exit_price==null).forEach(b=>{const _=b.side.toLowerCase()==="buy"?x:E;b.entry_price!=null&&c.createPriceLine({price:b.entry_price,color:_,lineWidth:1,lineStyle:$n.Solid,axisLabelVisible:!0,title:"Entry"}),b.target_price!=null&&c.createPriceLine({price:b.target_price,color:g,lineWidth:1,lineStyle:$n.Solid,axisLabelVisible:!0,title:"TP"}),b.stop_price!=null&&c.createPriceLine({price:b.stop_price,color:p,lineWidth:1,lineStyle:$n.Solid,axisLabelVisible:!0,title:"SL"})}),h.timeScale().fitContent();const S=()=>{l.current&&a.current&&a.current.applyOptions({width:l.current.clientWidth})};return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),h.remove()}},[t,e,i,n,s,r]),t.length===0?o.jsx("div",{style:{height:r,display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-tertiary)",borderRadius:6,color:"var(--text-secondary)"},children:"No chart data available"}):o.jsx("div",{ref:l,style:{width:"100%",height:r,borderRadius:6,overflow:"hidden"}})}function k0({profile:t}){const[e,i]=R.useState(null),[n,s]=R.useState(!0),[r,l]=R.useState(null),[a,u]=R.useState(null),[h,c]=R.useState(null),[d,f]=R.useState(null),[m,v]=R.useState([]),x=async()=>{try{const[j,C]=await Promise.all([x0(t.name,t.path),Qf(t.name,50).then(F=>F.trades).catch(()=>[])]);i(j);const I=C.filter(F=>F.trade_id&&F.entry_price).map(F=>{const V=F.timestamp_utc,O=F.exit_timestamp_utc,U=V?Math.floor(new Date(V).getTime()/1e3):void 0,Q=O?Math.floor(new Date(O).getTime()/1e3):void 0;return{trade_id:String(F.trade_id),entry_price:Number(F.entry_price),stop_price:F.stop_price!=null?Number(F.stop_price):null,target_price:F.target_price!=null?Number(F.target_price):null,side:String(F.side||"buy"),entry_time:U,exit_time:Q,exit_price:F.exit_price!=null?Number(F.exit_price):void 0}});v(I),l(null),f(new Date)}catch(j){l(j.message)}finally{s(!1)}};R.useEffect(()=>{s(!0),x();const j=setInterval(x,3e4);return()=>clearInterval(j)},[t.name,t.path]);const E=j=>{u(a===j?null:j)},g=j=>{const C={bull:{bg:"rgba(16, 185, 129, 0.2)",color:"var(--success)"},bear:{bg:"rgba(239, 68, 68, 0.2)",color:"var(--danger)"},sideways:{bg:"rgba(156, 163, 175, 0.2)",color:"var(--text-secondary)"},unknown:{bg:"rgba(156, 163, 175, 0.2)",color:"var(--text-secondary)"}},I=C[j]||C.unknown;return o.jsx("span",{style:{padding:"4px 10px",borderRadius:4,background:I.bg,color:I.color,fontWeight:600,fontSize:"0.85rem",textTransform:"uppercase"},children:j})},p=j=>{const C={oversold:"var(--success)",overbought:"var(--danger)",neutral:"var(--text-secondary)"};return o.jsxs("span",{children:[o.jsx("span",{style:{color:C[j.zone]||"inherit"},children:j.zone.charAt(0).toUpperCase()+j.zone.slice(1)}),j.value!==null&&o.jsxs("span",{style:{color:"var(--text-secondary)",marginLeft:4},children:["(",j.value.toFixed(1),")"]})]})},y=j=>{const C={positive:"var(--success)",negative:"var(--danger)",neutral:"var(--text-secondary)"};return o.jsx("span",{style:{color:C[j.direction]||"inherit"},children:j.direction.charAt(0).toUpperCase()+j.direction.slice(1)})},S=j=>{const C={elevated:"var(--warning)",low:"var(--accent)",normal:"var(--text-secondary)"};return o.jsxs("span",{children:[o.jsx("span",{style:{color:C[j.state]||"inherit"},children:j.state.charAt(0).toUpperCase()+j.state.slice(1)}),j.value_pips!==null&&o.jsxs("span",{style:{color:"var(--text-secondary)",marginLeft:4},children:["(",j.value_pips," pips)"]})]})},b=["H4","H1","M30","M15","M5","M3","M1"],M={H4:"4H",H1:"1H",M30:"30m",M15:"15m",M5:"5m",M3:"3m",M1:"1m"},_=j=>{const C=[];if(j.ema_stack&&Object.keys(j.ema_stack).length>0){const I=Object.keys(j.ema_stack).map(F=>F.replace(/^ema/i,"")).filter(Boolean).sort((F,V)=>parseInt(F,10)-parseInt(V,10));I.length>0&&C.push(`EMA ${I.join("/")}`)}return j.ema_fast&&j.ema_fast.length>0&&j.ema_slow&&j.ema_slow.length>0&&C.push("SMA slow"),C.length>0?C.join("  "):""};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex-between mb-4",children:[o.jsx("h2",{className:"page-title",style:{marginBottom:0,borderBottom:"none",paddingBottom:0},children:"Technical Analysis"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[d&&o.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:["Updated: ",d.toLocaleTimeString()]}),o.jsx("button",{className:"btn btn-secondary",onClick:x,disabled:n,children:n?"Loading...":"Refresh"})]})]}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16,fontSize:"0.9rem"},children:"Real-time technical analysis across multiple timeframes. Auto-refreshes every 30 seconds. Click on a timeframe to expand detailed view."}),r&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--danger)"},children:o.jsxs("p",{style:{color:"var(--danger)"},children:["Error: ",r]})}),(e==null?void 0:e.current_tick)&&o.jsx("div",{className:"card mb-4",children:o.jsxs("div",{className:"grid-3",children:[o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:e.current_tick.bid.toFixed(3)}),o.jsx("div",{className:"stat-label",children:"Bid"})]}),o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:e.current_tick.ask.toFixed(3)}),o.jsx("div",{className:"stat-label",children:"Ask"})]}),o.jsxs("div",{className:"stat-box",children:[o.jsxs("div",{className:"stat-value",style:{color:e.current_tick.spread_pips>1?"var(--warning)":"var(--success)"},children:[e.current_tick.spread_pips," pips"]}),o.jsx("div",{className:"stat-label",children:"Spread"})]})]})}),e&&b.map(j=>{var F,V,O,U,Q,L,z,P;const C=e.timeframes[j];if(!C)return null;const I=a===j;return o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{className:"flex-between",style:{marginBottom:I?16:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{margin:0,fontSize:"1.1rem",minWidth:40},children:j}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:M[j]||j})]}),g(C.regime)]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:24},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"RSI:"}),p(C.rsi)]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"MACD:"}),y(C.macd)]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginRight:8},children:"ATR:"}),S(C.atr)]}),o.jsx("button",{type:"button",onClick:()=>E(j),style:{background:"none",border:"none",padding:4,cursor:"pointer",color:"var(--accent)",fontSize:"0.9rem"},"aria-label":I?"Collapse chart":"Expand chart",children:I?"":""})]})]}),!I&&o.jsx("p",{style:{margin:"12px 0 0 0",color:"var(--text-secondary)",fontSize:"0.85rem",fontStyle:"italic"},children:C.summary}),I&&o.jsxs("div",{style:{borderTop:"1px solid var(--border)",paddingTop:16},onClick:k=>k.stopPropagation(),children:[o.jsxs("div",{style:{marginBottom:16},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:8,marginBottom:12},children:[o.jsxs("h4",{style:{margin:0,color:"var(--accent)",fontSize:"0.9rem"},children:[j," Chart (",M[j]||j,")"]}),_(C)&&o.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:_(C)}),m.length>0&&o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["(",m.filter(k=>!k.exit_time).length," open, ",m.length," total)"]}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{fontSize:"0.75rem",marginLeft:"auto"},onClick:()=>c(h===j?null:j),children:h===j?"Shrink":"Enlarge"})]}),o.jsx(j0,{ohlc:C.ohlc||[],trades:m,emaFast:C.ema_fast,emaSlow:C.ema_slow,emaStack:C.ema_stack,height:h===j?520:280})]}),o.jsx("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,marginBottom:16,borderLeft:"4px solid var(--accent)"},children:o.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:C.summary})}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"RSI (14)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((F=C.rsi.value)==null?void 0:F.toFixed(2))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Zone:"}),o.jsx("span",{style:{marginLeft:8},children:p(C.rsi)})]})]}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[C.rsi.zone==="oversold"&&"Price may be undervalued. Potential buy opportunity if trend supports.",C.rsi.zone==="overbought"&&"Price may be overextended. Consider caution with longs.",C.rsi.zone==="neutral"&&"Momentum is balanced. Follow the trend direction."]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"MACD (12,26,9)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Line:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((V=C.macd.line)==null?void 0:V.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Signal:"}),o.jsx("span",{style:{marginLeft:8},children:((O=C.macd.signal)==null?void 0:O.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Histogram:"}),o.jsx("span",{style:{marginLeft:8,color:C.macd.histogram&&C.macd.histogram>0?"var(--success)":"var(--danger)"},children:((U=C.macd.histogram)==null?void 0:U.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Direction:"}),o.jsx("span",{style:{marginLeft:8},children:y(C.macd)})]})]})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"ATR (14)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((Q=C.atr.value)==null?void 0:Q.toFixed(5))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Pips:"}),o.jsx("span",{style:{marginLeft:8},children:C.atr.value_pips??"-"})]})]}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[C.atr.state==="elevated"&&"Volatility is high. Consider wider stops and smaller position sizes.",C.atr.state==="low"&&"Volatility is low. Smaller moves expected, watch for breakouts.",C.atr.state==="normal"&&"Volatility is within normal range."]})]}),(()=>{const k=C.bollinger;return!k||typeof k!="object"?null:o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"Bollinger Bands (20, 2)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Upper:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:k.upper!=null?Number(k.upper).toFixed(5):"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Middle:"}),o.jsx("span",{style:{marginLeft:8},children:k.middle!=null?Number(k.middle).toFixed(5):"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Lower:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:k.lower!=null?Number(k.lower).toFixed(5):"-"})]})]}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Price relative to bands indicates volatility and potential mean reversion. For display only; not used in automation."})]})})(),typeof C.vwap=="number"&&o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"VWAP"}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Value:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:Number(C.vwap).toFixed(5)})]}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Volume-weighted average price (uses tick volume when available). For display only; not used in automation."})]}),o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)",fontSize:"0.9rem"},children:"Price Levels (100-bar)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Current:"}),o.jsx("span",{style:{marginLeft:8,fontWeight:600},children:((L=C.price.current)==null?void 0:L.toFixed(3))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Recent High:"}),o.jsx("span",{style:{marginLeft:8,color:"var(--success)"},children:((z=C.price.recent_high)==null?void 0:z.toFixed(3))??"-"})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Recent Low:"}),o.jsx("span",{style:{marginLeft:8,color:"var(--danger)"},children:((P=C.price.recent_low)==null?void 0:P.toFixed(3))??"-"})]})]}),o.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:C.price.current&&C.price.recent_high&&C.price.recent_low&&o.jsxs(o.Fragment,{children:["Price is ",((C.price.current-C.price.recent_low)/(C.price.recent_high-C.price.recent_low)*100).toFixed(0),"% of the way from recent low to high."]})})]})]})]})]},j)}),n&&!e&&o.jsx("div",{className:"card",children:o.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center"},children:"Loading technical analysis..."})})]})}const Hl={scalper:{default:{label:"Default (5, 9, 13)",values:[5,9,13]},alt1:{label:"Ultra-fast (3, 5, 8)",values:[3,5,8]},alt2:{label:"Standard (8, 13, 21)",values:[8,13,21]}},day_trader:{default:{label:"Default (13, 21, 34)",values:[13,21,34]},alt1:{label:"Faster (8, 13, 21)",values:[8,13,21]},alt2:{label:"Slower (21, 34, 55)",values:[21,34,55]}},swing_trader:{default:{label:"Default (21, 50, 100)",values:[21,50,100]},alt1:{label:"Classic (20, 50, 200)",values:[20,50,200]},alt2:{label:"Medium (34, 89, 144)",values:[34,89,144]}}};function Ne({label:t,value:e,onAdjust:i,onChange:n,step:s=1,min:r,max:l}){if(e==null)return null;const a=u=>{const h=parseFloat(u.target.value);if(!isNaN(h)&&n){let c=h;r!==void 0&&(c=Math.max(r,c)),l!==void 0&&(c=Math.min(l,c)),n(c)}};return o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"var(--bg-secondary)",borderRadius:6,border:"1px solid var(--border)"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:t}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("button",{onClick:()=>i(-1),style:{width:28,height:28,borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"-"}),o.jsx("input",{type:"number",value:s<1?e.toFixed(2):e,onChange:a,step:s,min:r,max:l,style:{width:60,textAlign:"center",fontWeight:600,fontFamily:"monospace",padding:"4px",borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",fontSize:"0.85rem"}}),o.jsx("button",{onClick:()=>i(1),style:{width:28,height:28,borderRadius:4,border:"1px solid var(--border)",background:"var(--bg-tertiary)",color:"var(--text-primary)",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"+"})]})]})}function b0({profile:t,currentProfile:e,onComplete:i}){var Q,L,z,P,k,$,Y,G,Ze,Le,lt,W,ie,we,Ei,Ka,Qa,Ya,Ja,Ga,Xa;const[n,s]=R.useState(1),[r,l]=R.useState({tradingStyle:null,riskTolerance:null,entryStyle:null,emaStack:"default",multipleStrategyA:null,multipleStrategyB:null}),[a,u]=R.useState(!1),[h,c]=R.useState(!1),[d,f]=R.useState(!1),[m,v]=R.useState(null),[x,E]=R.useState(null),g=r.entryStyle==="multiple"?[{num:1,title:"Trading Style",description:"How do you want to trade?"},{num:2,title:"Risk Tolerance",description:"How much risk per trade?"},{num:3,title:"Entry Style",description:"How should the bot enter trades?"},{num:4,title:"Choose Strategies",description:"Pick two strategies to combine"},{num:5,title:"Review",description:"Review your configuration"},{num:6,title:"Fine-Tune",description:"Adjust individual settings"}]:[{num:1,title:"Trading Style",description:"How do you want to trade?"},{num:2,title:"Risk Tolerance",description:"How much risk per trade?"},{num:3,title:"Entry Style",description:"How should the bot enter trades?"},{num:4,title:"Review",description:"Review your configuration"},{num:5,title:"Fine-Tune",description:"Adjust individual settings"}],[p,y]=R.useState(null),S=r.entryStyle==="multiple"?6:5;R.useEffect(()=>{r.entryStyle!=="multiple"&&n>5&&s(5)},[r.entryStyle,n]);const b=()=>{switch(n){case 1:return r.tradingStyle!==null;case 2:return r.riskTolerance!==null;case 3:return r.entryStyle!==null;case 4:return r.entryStyle==="multiple"?r.multipleStrategyA!==null&&r.multipleStrategyB!==null&&r.multipleStrategyA!==r.multipleStrategyB:!0;default:return!0}},M=()=>{const w=e,H={schema_version:1,profile_name:t.name,symbol:(w==null?void 0:w.symbol)??"USDJPY",pip_size:.01,broker_type:(w==null?void 0:w.broker_type)??"mt5",oanda_token:(w==null?void 0:w.oanda_token)??null,oanda_account_id:(w==null?void 0:w.oanda_account_id)??null,oanda_environment:(w==null?void 0:w.oanda_environment)??"practice",display_currency:(w==null?void 0:w.display_currency)??"USD",deposit_amount:(w==null?void 0:w.deposit_amount)??null,leverage_ratio:(w==null?void 0:w.leverage_ratio)??null,created_utc:(w==null?void 0:w.created_utc)??new Date().toISOString().slice(0,19).replace("T"," ")+"Z",risk:{},strategy:{timeframes:{},setups:{},filters:{alignment:{enabled:!1,method:"score",weights:{H4:1,M15:1,M1:1},min_score_to_trade:-3},ema_stack_filter:{enabled:!1,timeframe:"M1",periods:[8,13,21],min_separation_pips:0},atr_filter:{enabled:!1,timeframe:"M1",atr_period:14,min_atr_pips:0,max_atr_pips:null}}},trade_management:{target:{}},execution:{policies:[],loop_poll_seconds:5,loop_poll_seconds_fast:2}},B=H.risk,D=H.strategy,X=D.timeframes,fe=D.setups,pe=H.trade_management.target,me=H.execution,ve=(()=>{var jt;if(!r.tradingStyle)return[8,13,21];const vn=Hl[r.tradingStyle],Pi=r.emaStack||"default";return((jt=vn[Pi])==null?void 0:jt.values)||vn.default.values})();switch(r.tradingStyle){case"scalper":X.M1={ema_fast:9,sma_slow:21,ema_stack:ve},X.M15={ema_fast:9,sma_slow:21,ema_stack:ve},X.H4={ema_fast:13,sma_slow:30,ema_stack:ve},fe.m1_cross_entry={enabled:!0,timeframe:"M1",ema:ve[0],sma:ve[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:3}},pe.mode="fixed_pips",pe.pips_default=8,pe.rr_default=1,me.loop_poll_seconds=3,me.loop_poll_seconds_fast=1;break;case"day_trader":X.M1={ema_fast:13,sma_slow:30,ema_stack:ve},X.M15={ema_fast:13,sma_slow:30,ema_stack:ve},X.H4={ema_fast:13,sma_slow:30,ema_stack:ve},fe.m15_cross_entry={enabled:!0,timeframe:"M15",ema:ve[0],sma:ve[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:5}},pe.mode="fixed_pips",pe.pips_default=15,pe.rr_default=1.5,me.loop_poll_seconds=10,me.loop_poll_seconds_fast=5;break;case"swing_trader":X.M1={ema_fast:21,sma_slow:50,ema_stack:ve},X.M15={ema_fast:21,sma_slow:50,ema_stack:ve},X.H4={ema_fast:21,sma_slow:50,ema_stack:ve},fe.h4_cross_entry={enabled:!0,timeframe:"H4",ema:ve[0],sma:ve[2],confirmation:{confirm_bars:1,require_close_on_correct_side:!0,min_distance_pips:0,max_wait_bars:2}},pe.mode="fixed_pips",pe.pips_default=30,pe.rr_default=2,me.loop_poll_seconds=60,me.loop_poll_seconds_fast=30;break}const ri=(e==null?void 0:e.risk)||{},mn=ri.max_lots??.1,gn=ri.max_spread_pips??2,Zr=ri.max_trades_per_day??10;switch(r.riskTolerance){case"conservative":B.max_lots=Math.round(mn*.35*100)/100||.05,B.max_spread_pips=Math.round(gn*.25*10)/10||.5,B.min_stop_pips=8,B.max_trades_per_day=Math.max(1,Math.round(Zr*.5)),B.max_open_trades=1,B.cooldown_minutes_after_loss=15,B.require_stop=!0,B.risk_per_trade_pct=.5,B.max_daily_loss_pct=2;break;case"moderate":B.max_lots=Math.round(mn*.67*100)/100||.1,B.max_spread_pips=Math.round(gn*.5*10)/10||.8,B.min_stop_pips=6,B.max_trades_per_day=Math.max(1,Math.round(Zr*1)),B.max_open_trades=2,B.cooldown_minutes_after_loss=5,B.require_stop=!0,B.risk_per_trade_pct=1,B.max_daily_loss_pct=4;break;case"aggressive":B.max_lots=Math.round(mn*1*100)/100||.15,B.max_spread_pips=Math.round(gn*.6*10)/10||1.2,B.min_stop_pips=5,B.max_trades_per_day=Math.max(1,Math.round(Zr*1)),B.max_open_trades=3,B.cooldown_minutes_after_loss=0,B.require_stop=!0,B.risk_per_trade_pct=2,B.max_daily_loss_pct=6;break}const Re=[],ys=Object.keys(fe)[0]||"m1_cross_entry",pt=r.tradingStyle==="swing_trader"?"H4":r.tradingStyle==="day_trader"?"M15":"M1",mt=pe.pips_default,gt=B.min_stop_pips;switch(r.entryStyle){case"ema_cross":Re.push({type:"confirmed_cross",id:"custom_confirmed_cross",enabled:!0,setup_id:ys});break;case"rsi_dips":Re.push({type:"indicator_based",id:"custom_rsi_buy",enabled:!0,timeframe:pt,regime:"bull",side:"buy",rsi_period:14,rsi_oversold:30,rsi_overbought:70,rsi_zone:"oversold",use_macd_cross:!0,macd_fast:12,macd_slow:26,macd_signal:9,tp_pips:mt,sl_pips:gt}),Re.push({type:"indicator_based",id:"custom_rsi_sell",enabled:!0,timeframe:pt,regime:"bear",side:"sell",rsi_period:14,rsi_oversold:30,rsi_overbought:70,rsi_zone:"overbought",use_macd_cross:!0,macd_fast:12,macd_slow:26,macd_signal:9,tp_pips:mt,sl_pips:gt});break;case"price_levels":D.filters.alignment={enabled:!0,method:"score",weights:{H4:2,M15:1,M1:1},min_score_to_trade:1},Re.push({type:"confirmed_cross",id:"custom_confirmed_cross",enabled:!0,setup_id:ys});break;case"bollinger_bands":Re.push({type:"bollinger_bands",id:"custom_bb_buy",enabled:!0,timeframe:pt,period:20,std_dev:2,trigger:"lower_band_buy",regime:"bull",side:"buy",tp_pips:mt,sl_pips:gt}),Re.push({type:"bollinger_bands",id:"custom_bb_sell",enabled:!0,timeframe:pt,period:20,std_dev:2,trigger:"upper_band_sell",regime:"bear",side:"sell",tp_pips:mt,sl_pips:gt});break;case"vwap":Re.push({type:"vwap",id:"custom_vwap_buy",enabled:!0,timeframe:pt,trigger:"cross_above",side:"buy",tp_pips:mt,sl_pips:gt}),Re.push({type:"vwap",id:"custom_vwap_sell",enabled:!0,timeframe:pt,trigger:"cross_below",side:"sell",tp_pips:mt,sl_pips:gt});break;case"multiple":{const vn=(Pi,jt)=>{if(Pi==="ema_cross"){Re.push({type:"confirmed_cross",id:`${jt}_ema_cross`,enabled:!0,setup_id:ys});return}if(Pi==="price_levels"){D.filters.alignment={enabled:!0,method:"score",weights:{H4:2,M15:1,M1:1},min_score_to_trade:1},Re.push({type:"confirmed_cross",id:`${jt}_confirmed_cross`,enabled:!0,setup_id:ys});return}if(Pi==="bollinger_bands"){Re.push({type:"bollinger_bands",id:`${jt}_bb_buy`,enabled:!0,timeframe:pt,period:20,std_dev:2,trigger:"lower_band_buy",regime:"bull",side:"buy",tp_pips:mt,sl_pips:gt}),Re.push({type:"bollinger_bands",id:`${jt}_bb_sell`,enabled:!0,timeframe:pt,period:20,std_dev:2,trigger:"upper_band_sell",regime:"bear",side:"sell",tp_pips:mt,sl_pips:gt});return}Pi==="vwap"&&(Re.push({type:"vwap",id:`${jt}_vwap_buy`,enabled:!0,timeframe:pt,trigger:"cross_above",side:"buy",tp_pips:mt,sl_pips:gt}),Re.push({type:"vwap",id:`${jt}_vwap_sell`,enabled:!0,timeframe:pt,trigger:"cross_below",side:"sell",tp_pips:mt,sl_pips:gt}))};r.multipleStrategyA&&vn(r.multipleStrategyA,"custom_ms_a"),r.multipleStrategyB&&vn(r.multipleStrategyB,"custom_ms_b");break}}me.policies=Re;const Yf=r.tradingStyle==="scalper"?"Scalp":r.tradingStyle==="day_trader"?"DayT":"Swing",Jf=r.riskTolerance==="conservative"?"Cons":r.riskTolerance==="moderate"?"Mod":"Agg",Gf=r.entryStyle==="ema_cross"?"EMAC":r.entryStyle==="rsi_dips"?"RSI":r.entryStyle==="price_levels"?"PL":r.entryStyle==="bollinger_bands"?"BB":r.entryStyle==="vwap"?"VWAP":"MS";return H.active_preset_name=`Custom: ${Yf}/${Jf}/${Gf}`,H},_=()=>{if(n<S&&s(n+1),n===3&&r.entryStyle!=="multiple"||n===4&&r.entryStyle==="multiple"){const w=M();E(w),y(JSON.parse(JSON.stringify(w)))}},j=()=>{n>1&&s(n-1)},C=async()=>{f(!0),v(null);try{const w=JSON.parse(JSON.stringify(p||x||M())),H=(e==null?void 0:e.risk)||{},B=w.risk||{};w.risk=H;const D=(X,fe)=>typeof X=="number"&&typeof fe=="number"?Math.min(X,fe):X;w.effective_risk={...B,max_lots:D(B.max_lots??.1,H.max_lots??1),max_spread_pips:D(B.max_spread_pips??2,H.max_spread_pips??5),max_trades_per_day:D(B.max_trades_per_day??10,H.max_trades_per_day??100),max_open_trades:D(B.max_open_trades??2,H.max_open_trades??10)},w.broker_type=(e==null?void 0:e.broker_type)??"mt5",w.oanda_token=(e==null?void 0:e.oanda_token)??null,w.oanda_account_id=(e==null?void 0:e.oanda_account_id)??null,w.oanda_environment=(e==null?void 0:e.oanda_environment)??"practice",w.display_currency=(e==null?void 0:e.display_currency)??"USD",w.deposit_amount=(e==null?void 0:e.deposit_amount)??null,w.leverage_ratio=(e==null?void 0:e.leverage_ratio)??null,e!=null&&e.created_utc&&(w.created_utc=e.created_utc),await Kf(t.path,w),i()}catch(w){v(w.message)}finally{f(!1)}},I=()=>{x&&y(JSON.parse(JSON.stringify(x)))},F=(w,H)=>{if(!p)return;const B=JSON.parse(JSON.stringify(p));let D=B;for(let X=0;X<w.length-1;X++)D[w[X]]===void 0&&(D[w[X]]={}),D=D[w[X]];D[w[w.length-1]]=H,y(B)},V=(w,H,B,D,X)=>{if(!p)return;let fe=p;for(let Ft=0;Ft<w.length-1;Ft++)if(fe=fe[w[Ft]],!fe)return;const pe=fe[w[w.length-1]];if(typeof pe!="number")return;let me=pe+H*(X||1);B!==void 0&&(me=Math.max(B,me)),D!==void 0&&(me=Math.min(D,me)),F(w,Number(me.toFixed(4)))},O=(()=>{if(n!==5||!p||!e)return!1;const w=e.risk||{},H=w.max_lots,B=w.max_spread_pips,D=w.max_trades_per_day,X=p.risk||{},fe=X.max_lots,pe=X.max_spread_pips,me=X.max_trades_per_day,Ft=H!=null&&fe!=null&&fe>H,ve=B!=null&&pe!=null&&pe>B,ri=D!=null&&me!=null&&me>D;return Ft||ve||ri})(),U=({selected:w,onClick:H,title:B,description:D,icon:X,details:fe})=>o.jsxs("div",{onClick:H,style:{padding:20,borderRadius:8,border:`2px solid ${w?"var(--accent)":"var(--border)"}`,background:w?"rgba(59, 130, 246, 0.1)":"var(--bg-secondary)",cursor:"pointer",transition:"all 0.2s ease"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[o.jsx("span",{style:{fontSize:"1.5rem"},children:X}),o.jsx("h4",{style:{margin:0,color:w?"var(--accent)":"var(--text-primary)"},children:B})]}),o.jsx("p",{style:{margin:"0 0 8px 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:D}),fe&&o.jsx("ul",{style:{margin:0,paddingLeft:20,fontSize:"0.8rem",color:"var(--text-secondary)"},children:fe.map((pe,me)=>o.jsx("li",{children:pe},me))})]});return o.jsxs("div",{children:[o.jsx("div",{className:"card mb-4",children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:g.map(w=>o.jsxs("div",{style:{flex:1,textAlign:"center",opacity:w.num<=n?1:.5},children:[o.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:w.num<n?"var(--success)":w.num===n?"var(--accent)":"var(--bg-tertiary)",color:w.num<=n?"white":"var(--text-secondary)",display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:600,marginBottom:8},children:w.num<n?"":w.num}),o.jsx("div",{style:{fontSize:"0.85rem",fontWeight:w.num===n?600:400},children:w.title})]},w.num))})}),n===1&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 1: Trading Style"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How do you want to trade? This determines the timeframe focus and trade duration."}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsx(U,{selected:r.tradingStyle==="scalper",onClick:()=>l({...r,tradingStyle:"scalper"}),title:"Scalper",icon:"",description:"Quick trades (1-5 minutes), small profits, many opportunities",details:["Focuses on M1 (1-minute) chart","8 pip profit targets","Fast polling (1-3 seconds)","Best for active monitoring"]}),o.jsx(U,{selected:r.tradingStyle==="day_trader",onClick:()=>l({...r,tradingStyle:"day_trader"}),title:"Day Trader",icon:"",description:"Trades within the day (5-60 minutes), moderate targets",details:["Focuses on M15 (15-minute) chart","15 pip profit targets","Moderate polling (5-10 seconds)","Good balance of activity and patience"]}),o.jsx(U,{selected:r.tradingStyle==="swing_trader",onClick:()=>l({...r,tradingStyle:"swing_trader"}),title:"Swing Trader",icon:"",description:"Hold for hours or days, larger moves, fewer trades",details:["Focuses on H4 (4-hour) chart","30+ pip profit targets","Slow polling (30-60 seconds)","Minimal monitoring needed"]})]}),r.tradingStyle&&o.jsxs("div",{style:{marginTop:20},children:[o.jsxs("button",{type:"button",onClick:()=>c(!h),style:{background:"transparent",border:"none",color:"var(--accent)",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:8,padding:0},children:[o.jsx("span",{style:{transform:h?"rotate(90deg)":"rotate(0)",transition:"transform 0.2s"},children:""}),"Advanced: EMA Stack (optional)"]}),h&&o.jsxs("div",{style:{marginTop:12,padding:16,background:"var(--bg-tertiary)",borderRadius:8,borderLeft:"3px solid var(--accent)"},children:[o.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.85rem",color:"var(--text-secondary)"},children:"The EMA Stack defines the moving average periods used for trend detection. Leave as default unless you have a specific preference."}),o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsxs("label",{children:["EMA Stack for ",r.tradingStyle==="scalper"?"Scalping":r.tradingStyle==="day_trader"?"Day Trading":"Swing Trading"]}),o.jsx("select",{value:r.emaStack||"default",onChange:w=>l({...r,emaStack:w.target.value}),children:r.tradingStyle&&Object.entries(Hl[r.tradingStyle]).map(([w,H])=>o.jsx("option",{value:w,children:H.label},w))})]}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Current selection: ",r.tradingStyle&&r.emaStack&&((Q=Hl[r.tradingStyle][r.emaStack])==null?void 0:Q.values.join(", "))," EMA periods"]})]})]})]}),n===2&&(()=>{const w=(e==null?void 0:e.risk)||{},H=w.max_lots??.1,B=w.max_spread_pips??2,D=w.max_trades_per_day??10,X=Math.round(H*.35*100)/100||.05,fe=Math.max(1,Math.round(D*.5)),pe=Math.round(B*.25*10)/10||.5,me=Math.round(H*.67*100)/100||.1,Ft=Math.max(1,Math.round(D*1)),ve=Math.round(B*.5*10)/10||.8,ri=Math.round(H*1*100)/100||.15,mn=Math.max(1,Math.round(D*1)),gn=Math.round(B*.6*10)/10||1.2;return o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 2: Risk Tolerance"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How much risk are you comfortable with per trade? Values scale from your Profile Editor limits."}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsx(U,{selected:r.riskTolerance==="conservative",onClick:()=>l({...r,riskTolerance:"conservative"}),title:"Conservative",icon:"",description:"Lower risk, smaller positions, strict filters",details:[`${X} lots per trade`,`Max ${fe} trades per day`,`${pe} pip max spread`,"15 min cooldown after loss","2% max daily loss"]}),o.jsx(U,{selected:r.riskTolerance==="moderate",onClick:()=>l({...r,riskTolerance:"moderate"}),title:"Moderate",icon:"",description:"Balanced risk and reward",details:[`${me} lots per trade`,`Max ${Ft} trades per day`,`${ve} pip max spread`,"5 min cooldown after loss","4% max daily loss"]}),o.jsx(U,{selected:r.riskTolerance==="aggressive",onClick:()=>l({...r,riskTolerance:"aggressive"}),title:"Aggressive",icon:"",description:"Higher risk for potentially higher returns",details:[`${ri} lots per trade`,`Max ${mn} trades per day`,`${gn} pip max spread`,"No cooldown after loss","6% max daily loss"]})]})]})})(),n===3&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 3: Entry Style"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"How should the bot decide when to enter a trade?"}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsx(U,{selected:r.entryStyle==="ema_cross",onClick:()=>l({...r,entryStyle:"ema_cross",multipleStrategyA:null,multipleStrategyB:null}),title:"EMA Cross",icon:"",description:"Buy or sell based on EMA/SMA cross direction",details:["BUY: EMA crosses above SMA","SELL: EMA crosses below SMA","Waits for confirmation bar","Works in both trends"]}),o.jsx(U,{selected:r.entryStyle==="rsi_dips",onClick:()=>l({...r,entryStyle:"rsi_dips",multipleStrategyA:null,multipleStrategyB:null}),title:"RSI Dips",icon:"",description:"Buy oversold dips, sell overbought rallies",details:["BUY: RSI < 30 in uptrend","SELL: RSI > 70 in downtrend","Mean-reversion style","MACD confirmation included"]}),o.jsx(U,{selected:r.entryStyle==="price_levels",onClick:()=>l({...r,entryStyle:"price_levels",multipleStrategyA:null,multipleStrategyB:null}),title:"Price Levels",icon:"",description:"EMA cross with multi-timeframe alignment filter",details:["Bi-directional EMA cross","Requires H4/M15/M1 agreement","Higher quality signals","Fewer but better trades"]}),o.jsx(U,{selected:r.entryStyle==="bollinger_bands",onClick:()=>l({...r,entryStyle:"bollinger_bands",multipleStrategyA:null,multipleStrategyB:null}),title:"Bollinger Bands",icon:"",description:"Mean reversion at lower/upper band",details:["BUY: price at/below lower band in uptrend","SELL: price at/above upper band in downtrend","M15, 20-period, 2 std dev","Clear levels for entry"]}),o.jsx(U,{selected:r.entryStyle==="vwap",onClick:()=>l({...r,entryStyle:"vwap",multipleStrategyA:null,multipleStrategyB:null}),title:"VWAP",icon:"",description:"Entries on price vs VWAP",details:["BUY: price crosses above VWAP","SELL: price crosses below VWAP","Volume-weighted average price","Good for intraday trend"]}),o.jsx(U,{selected:r.entryStyle==="multiple",onClick:()=>l({...r,entryStyle:"multiple"}),title:"Multiple Strategies",icon:"",description:"Combine two strategies of your choice (EMA Cross, Price Levels, Bollinger Bands, or VWAP)",details:["Pick Strategy A and Strategy B in the next step","EMA Cross, Price Levels, Bollinger Bands, VWAP","Maximum flexibility","Good for active traders"]})]})]}),n===4&&r.entryStyle==="multiple"&&o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Step 4: Choose two strategies to combine"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Select Strategy A and Strategy B. They must be different. RSI is not available in combinations."}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24,marginBottom:16},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Strategy A"}),o.jsxs("select",{value:r.multipleStrategyA??"",onChange:w=>l({...r,multipleStrategyA:w.target.value||null}),style:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.95rem"},children:[o.jsx("option",{value:"",children:" Select "}),o.jsx("option",{value:"ema_cross",children:"EMA Cross"}),o.jsx("option",{value:"price_levels",children:"Price Levels"}),o.jsx("option",{value:"bollinger_bands",children:"Bollinger Bands"}),o.jsx("option",{value:"vwap",children:"VWAP"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Strategy B"}),o.jsxs("select",{value:r.multipleStrategyB??"",onChange:w=>l({...r,multipleStrategyB:w.target.value||null}),style:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid var(--border)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.95rem"},children:[o.jsx("option",{value:"",children:" Select "}),o.jsx("option",{value:"ema_cross",children:"EMA Cross"}),o.jsx("option",{value:"price_levels",children:"Price Levels"}),o.jsx("option",{value:"bollinger_bands",children:"Bollinger Bands"}),o.jsx("option",{value:"vwap",children:"VWAP"})]})]})]}),r.multipleStrategyA&&r.multipleStrategyB&&r.multipleStrategyA===r.multipleStrategyB&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.9rem",marginTop:8},children:"Please choose two different strategies."})]}),(n===4&&r.entryStyle!=="multiple"||n===5&&r.entryStyle==="multiple")&&o.jsx("div",{children:o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",children:r.entryStyle==="multiple"?"Step 5: Review & Save":"Step 4: Review & Save"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Review your custom configuration before saving."}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8,borderLeft:"4px solid var(--accent)",marginBottom:20},children:[o.jsx("h4",{style:{margin:"0 0 12px 0"},children:"Your Configuration Summary"}),o.jsxs("div",{className:"grid-3",children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Style:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[r.tradingStyle==="scalper"&&" Scalper",r.tradingStyle==="day_trader"&&" Day Trader",r.tradingStyle==="swing_trader"&&" Swing Trader"]})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Risk:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[r.riskTolerance==="conservative"&&" Conservative",r.riskTolerance==="moderate"&&" Moderate",r.riskTolerance==="aggressive"&&" Aggressive"]})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Entry:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:4},children:[r.entryStyle==="ema_cross"&&" EMA Cross",r.entryStyle==="rsi_dips"&&" RSI Dips",r.entryStyle==="price_levels"&&" Price Levels",r.entryStyle==="bollinger_bands"&&" Bollinger Bands",r.entryStyle==="vwap"&&" VWAP",r.entryStyle==="multiple"&&r.multipleStrategyA&&r.multipleStrategyB&&o.jsxs(o.Fragment,{children:[" Multiple (",r.multipleStrategyA.replace("_"," "),"+",r.multipleStrategyB.replace("_"," "),")"]}),r.entryStyle==="multiple"&&(!r.multipleStrategyA||!r.multipleStrategyB)&&" Multiple"]})]})]})]}),x&&o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{marginBottom:12},children:"What this means:"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"var(--text-secondary)",lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Position Size:"})," ",String(((L=x.risk)==null?void 0:L.max_lots)??"-")," lots per trade"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Profit Target:"})," ",String(((P=(z=x.trade_management)==null?void 0:z.target)==null?void 0:P.pips_default)??"-")," pips"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Max Trades/Day:"})," ",String(((k=x.risk)==null?void 0:k.max_trades_per_day)??"-")]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Polling Speed:"})," Every ",String((($=x.execution)==null?void 0:$.loop_poll_seconds)??"-")," seconds"]})]})]}),o.jsx("div",{style:{marginBottom:20},children:o.jsxs("button",{className:"btn btn-secondary",style:{fontSize:"0.85rem"},onClick:()=>u(!a),children:[a?"Hide":"Show"," Advanced Settings"]})}),a&&x&&o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{marginBottom:12},children:"Full Configuration (JSON):"}),o.jsx("pre",{style:{background:"var(--bg-primary)",padding:12,borderRadius:6,fontSize:"0.75rem",overflow:"auto",maxHeight:300},children:JSON.stringify(x,null,2)}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:8},children:"For advanced customization, edit the profile directly in the Profile Editor after saving."})]}),m&&o.jsx("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.1)",borderRadius:6,marginBottom:16},children:o.jsxs("p",{style:{color:"var(--danger)",margin:0},children:["Error: ",m]})})]})}),(n===5&&r.entryStyle!=="multiple"||n===6&&r.entryStyle==="multiple")&&p&&o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:r.entryStyle==="multiple"?"Step 6: Fine-Tune Settings":"Step 5: Fine-Tune Settings"}),o.jsx("button",{className:"btn btn-secondary",onClick:I,style:{fontSize:"0.8rem"},children:"Reset to Wizard Defaults"})]}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:20},children:"Adjust any settings using the +/- buttons or type directly. These values come from your wizard choices."}),O&&o.jsxs("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.15)",border:"1px solid var(--danger)",borderRadius:8,marginBottom:20},children:[o.jsx("strong",{style:{color:"var(--danger)"},children:"Profile limit exceeded"}),o.jsx("p",{style:{margin:"8px 0 0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"You have violated your Profile Editor risk settings. This change cannot be made until you update your risk settings in the Profile Editor."})]}),o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Risk Settings"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[o.jsx(Ne,{label:"Max Lots",value:(Y=p.risk)==null?void 0:Y.max_lots,onAdjust:w=>V(["risk","max_lots"],w,.01,10,.01),onChange:w=>F(["risk","max_lots"],w),step:.01,min:.01,max:10}),o.jsx(Ne,{label:"Min Stop Pips",value:(G=p.risk)==null?void 0:G.min_stop_pips,onAdjust:w=>V(["risk","min_stop_pips"],w,1,100,1),onChange:w=>F(["risk","min_stop_pips"],w),step:1,min:1,max:100}),o.jsx(Ne,{label:"Max Spread Pips",value:(Ze=p.risk)==null?void 0:Ze.max_spread_pips,onAdjust:w=>V(["risk","max_spread_pips"],w,.1,5,.1),onChange:w=>F(["risk","max_spread_pips"],w),step:.1,min:.1,max:5}),o.jsx(Ne,{label:"Max Trades/Day",value:(Le=p.risk)==null?void 0:Le.max_trades_per_day,onAdjust:w=>V(["risk","max_trades_per_day"],w,1,100,1),onChange:w=>F(["risk","max_trades_per_day"],w),step:1,min:1,max:100}),o.jsx(Ne,{label:"Max Open Trades",value:(lt=p.risk)==null?void 0:lt.max_open_trades,onAdjust:w=>V(["risk","max_open_trades"],w,1,10,1),onChange:w=>F(["risk","max_open_trades"],w),step:1,min:1,max:10}),o.jsx(Ne,{label:"Loss Cooldown (min)",value:(W=p.risk)==null?void 0:W.cooldown_minutes_after_loss,onAdjust:w=>V(["risk","cooldown_minutes_after_loss"],w,0,60,1),onChange:w=>F(["risk","cooldown_minutes_after_loss"],w),step:1,min:0,max:60}),o.jsx(Ne,{label:"Max Daily Loss %",value:(ie=p.risk)==null?void 0:ie.max_daily_loss_pct,onAdjust:w=>V(["risk","max_daily_loss_pct"],w,.5,20,.5),onChange:w=>F(["risk","max_daily_loss_pct"],w),step:.5,min:.5,max:20})]})]}),o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Profit Target"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[o.jsx(Ne,{label:"Target Pips",value:(Ei=(we=p.trade_management)==null?void 0:we.target)==null?void 0:Ei.pips_default,onAdjust:w=>V(["trade_management","target","pips_default"],w,1,100,1),onChange:w=>F(["trade_management","target","pips_default"],w),step:1,min:1,max:100}),o.jsx(Ne,{label:"R:R Ratio",value:(Qa=(Ka=p.trade_management)==null?void 0:Ka.target)==null?void 0:Qa.rr_default,onAdjust:w=>V(["trade_management","target","rr_default"],w,.5,5,.1),onChange:w=>F(["trade_management","target","rr_default"],w),step:.1,min:.5,max:5})]})]}),o.jsxs("div",{style:{marginBottom:20},children:[o.jsx("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.95rem"},children:"Execution"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:12},children:[o.jsx(Ne,{label:"Poll Interval (sec)",value:(Ya=p.execution)==null?void 0:Ya.loop_poll_seconds,onAdjust:w=>V(["execution","loop_poll_seconds"],w,1,120,1),onChange:w=>F(["execution","loop_poll_seconds"],w),step:1,min:1,max:120}),o.jsx(Ne,{label:"Fast Poll (sec)",value:(Ja=p.execution)==null?void 0:Ja.loop_poll_seconds_fast,onAdjust:w=>V(["execution","loop_poll_seconds_fast"],w,1,60,1),onChange:w=>F(["execution","loop_poll_seconds_fast"],w),step:1,min:1,max:60})]})]}),(Xa=(Ga=p.execution)==null?void 0:Ga.policies)==null?void 0:Xa.map((w,H)=>o.jsxs("div",{style:{marginBottom:16,padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsxs("h4",{style:{color:"var(--accent)",marginBottom:12,fontSize:"0.9rem"},children:["Policy: ",w.id," (",w.type,")"]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:10},children:[w.type==="indicator_based"&&o.jsxs(o.Fragment,{children:[o.jsx(Ne,{label:"RSI Period",value:w.rsi_period,onAdjust:B=>{const D=p.execution.policies;D[H].rsi_period=Math.max(2,Math.min(50,w.rsi_period+B)),F(["execution","policies"],D)},onChange:B=>{const D=p.execution.policies;D[H].rsi_period=Math.max(2,Math.min(50,B)),F(["execution","policies"],D)},step:1,min:2,max:50}),o.jsx(Ne,{label:"RSI Oversold",value:w.rsi_oversold,onAdjust:B=>{const D=p.execution.policies;D[H].rsi_oversold=Math.max(10,Math.min(50,w.rsi_oversold+B)),F(["execution","policies"],D)},onChange:B=>{const D=p.execution.policies;D[H].rsi_oversold=Math.max(10,Math.min(50,B)),F(["execution","policies"],D)},step:1,min:10,max:50}),o.jsx(Ne,{label:"RSI Overbought",value:w.rsi_overbought,onAdjust:B=>{const D=p.execution.policies;D[H].rsi_overbought=Math.max(50,Math.min(90,w.rsi_overbought+B)),F(["execution","policies"],D)},onChange:B=>{const D=p.execution.policies;D[H].rsi_overbought=Math.max(50,Math.min(90,B)),F(["execution","policies"],D)},step:1,min:50,max:90}),o.jsx(Ne,{label:"TP Pips",value:w.tp_pips,onAdjust:B=>{const D=p.execution.policies;D[H].tp_pips=Math.max(1,Math.min(100,w.tp_pips+B)),F(["execution","policies"],D)},onChange:B=>{const D=p.execution.policies;D[H].tp_pips=Math.max(1,Math.min(100,B)),F(["execution","policies"],D)},step:1,min:1,max:100}),o.jsx(Ne,{label:"SL Pips",value:w.sl_pips,onAdjust:B=>{const D=p.execution.policies;D[H].sl_pips=Math.max(1,Math.min(100,w.sl_pips+B)),F(["execution","policies"],D)},onChange:B=>{const D=p.execution.policies;D[H].sl_pips=Math.max(1,Math.min(100,B)),F(["execution","policies"],D)},step:1,min:1,max:100}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Side:"}),o.jsx("span",{style:{fontWeight:600,color:w.side==="buy"?"var(--success)":"var(--danger)"},children:w.side.toUpperCase()})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Regime:"}),o.jsx("span",{style:{fontWeight:600},children:w.regime})]})]}),w.type==="confirmed_cross"&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Setup:"}),o.jsx("span",{style:{fontWeight:600},children:w.setup_id}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"(bi-directional)"})]})]})]},H)),m&&o.jsx("div",{style:{padding:12,background:"rgba(239, 68, 68, 0.1)",borderRadius:6,marginTop:16},children:o.jsxs("p",{style:{color:"var(--danger)",margin:0},children:["Error: ",m]})})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20},children:[o.jsx("button",{className:"btn btn-secondary",onClick:j,disabled:n===1,children:" Back"}),o.jsxs("div",{style:{display:"flex",gap:12},children:[n<S&&o.jsx("button",{className:"btn btn-primary",onClick:_,disabled:!b(),children:n===4&&r.entryStyle!=="multiple"||n===5&&r.entryStyle==="multiple"?"Fine-Tune Settings ":"Next "}),(n>=4&&r.entryStyle!=="multiple"||n>=5&&r.entryStyle==="multiple")&&o.jsx("button",{className:"btn btn-success",onClick:C,disabled:d||O,style:{minWidth:160},children:d?"Saving...":" Save Configuration"})]})]})]})}function M0({profile:t}){var F,V;const[e,i]=R.useState([]),[n,s]=R.useState(null),[r,l]=R.useState(null),[a,u]=R.useState(null),[h,c]=R.useState(!1),[d,f]=R.useState(null),[m,v]=R.useState(null),[x,E]=R.useState(!1),g=()=>{Hf(t.path).then(v).catch(console.error)};R.useEffect(()=>{r0().then(O=>{i(O)}).catch(console.error),g()},[t.path]),R.useEffect(()=>{n&&n!=="custom"?l0(n,t.path).then(O=>u(O)).catch(console.error):u(null)},[n,t.path]);const p=async()=>{if(!(!n||n==="custom")){c(!0);try{await o0(n,t.path),f(`Preset "${n}" applied successfully!`),g(),setTimeout(()=>f(null),3e3)}catch(O){f(`Error: ${O.message}`)}finally{c(!1)}}},y=(O,U)=>{U.stopPropagation(),l(r===O?null:O)},S=e.find(O=>O.id===n),b=m==null?void 0:m.active_preset_name,M=m==null?void 0:m.risk,_=m==null?void 0:m.effective_risk,j=m==null?void 0:m.execution,C=m==null?void 0:m.trade_management,I=C==null?void 0:C.target;return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Presets"}),o.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:'Select a preset to preview changes, then apply to your profile. Click "Pros & Cons" to see details.'}),b&&o.jsxs("div",{className:"card mb-4",style:{borderColor:"var(--accent)",borderWidth:2,background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, var(--bg-secondary) 100%)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:4},children:"ACTIVE PRESET"}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--accent)"},children:b})]}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>E(!x),style:{fontSize:"0.8rem"},children:x?"Hide Settings":"View Settings"})]}),x&&M&&o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[_&&o.jsx("div",{style:{marginBottom:12,fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Effective (used when running): preset risk capped by Profile Editor limits."}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["Max Lots ",_?"(effective)":""]}),o.jsx("div",{style:{fontWeight:600},children:(_==null?void 0:_.max_lots)??M.max_lots})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Min Stop Pips"}),o.jsx("div",{style:{fontWeight:600},children:(_==null?void 0:_.min_stop_pips)??M.min_stop_pips})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Max Spread"}),o.jsxs("div",{style:{fontWeight:600},children:[(_==null?void 0:_.max_spread_pips)??M.max_spread_pips," pips"]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Max Trades/Day"}),o.jsx("div",{style:{fontWeight:600},children:(_==null?void 0:_.max_trades_per_day)??M.max_trades_per_day})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Max Open Trades"}),o.jsx("div",{style:{fontWeight:600},children:(_==null?void 0:_.max_open_trades)??M.max_open_trades??"-"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Cooldown After Loss"}),o.jsxs("div",{style:{fontWeight:600},children:[(_==null?void 0:_.cooldown_minutes_after_loss)??M.cooldown_minutes_after_loss??0," min"]})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Target Pips"}),o.jsx("div",{style:{fontWeight:600},children:(I==null?void 0:I.pips_default)||"-"})]}),o.jsxs("div",{style:{padding:8,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Poll Interval"}),o.jsxs("div",{style:{fontWeight:600},children:[(j==null?void 0:j.loop_poll_seconds)||5,"s"]})]})]}),((F=j==null?void 0:j.policies)==null?void 0:F.length)>0&&o.jsxs("div",{style:{marginTop:12},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:8},children:"Active Policies:"}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:(V=j==null?void 0:j.policies)==null?void 0:V.map((O,U)=>o.jsxs("span",{style:{padding:"4px 8px",background:"var(--bg-tertiary)",borderRadius:4,fontSize:"0.75rem",fontWeight:600},children:[O.type,": ",O.id]},U))})]})]})]}),d&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--success)"},children:o.jsx("p",{children:d})}),o.jsxs("div",{className:"grid-3 mb-4",children:[e.map(O=>{const U=b===O.id;return o.jsxs("div",{className:`preset-card ${n===O.id?"selected":""}`,onClick:()=>s(O.id),style:U?{borderColor:"var(--success)",borderWidth:2}:{},children:[U&&o.jsx("div",{style:{position:"absolute",top:-10,right:10,background:"var(--success)",color:"white",fontSize:"0.65rem",fontWeight:700,padding:"2px 8px",borderRadius:4},children:"ACTIVE"}),o.jsx("div",{className:"preset-name",children:O.name}),o.jsx("div",{className:"preset-description",children:O.description}),o.jsx("button",{className:"btn btn-secondary",style:{marginTop:8,fontSize:"0.75rem",padding:"4px 8px"},onClick:Q=>y(O.id,Q),children:r===O.id?"Hide":"Pros & Cons"}),r===O.id&&o.jsxs("div",{className:"proscons-dropdown",style:{marginTop:12,textAlign:"left"},children:[O.pros.length>0&&o.jsxs("div",{style:{marginBottom:8},children:[o.jsx("div",{style:{fontWeight:600,color:"var(--success)",fontSize:"0.8rem",marginBottom:4},children:"Pros"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.75rem",color:"var(--text-secondary)"},children:O.pros.map((Q,L)=>o.jsx("li",{style:{marginBottom:2},children:Q},L))})]}),O.cons.length>0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600,color:"var(--warning)",fontSize:"0.8rem",marginBottom:4},children:"Cons"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.75rem",color:"var(--text-secondary)"},children:O.cons.map((Q,L)=>o.jsx("li",{style:{marginBottom:2},children:Q},L))})]})]})]},O.id)}),(()=>{const O=b==null?void 0:b.startsWith("Custom:");return o.jsxs("div",{className:`preset-card ${n==="custom"?"selected":""}`,onClick:()=>s("custom"),style:{borderStyle:"dashed",...O?{borderColor:"var(--success)",borderWidth:2}:{}},children:[O&&o.jsx("div",{style:{position:"absolute",top:-10,right:10,background:"var(--success)",color:"white",fontSize:"0.65rem",fontWeight:700,padding:"2px 8px",borderRadius:4},children:"ACTIVE"}),o.jsx("div",{className:"preset-name",children:"Custom"}),o.jsx("div",{className:"preset-description",children:O?`Currently running: ${b}`:"Use the wizard to create a custom configuration."})]})})()]}),n&&n!=="custom"&&a&&o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex-between mb-4",children:[o.jsxs("h3",{className:"card-title",style:{margin:0},children:["Preview: ",(S==null?void 0:S.name)||n]}),o.jsx("button",{className:"btn btn-primary",onClick:p,disabled:h,children:h?"Applying...":"Apply Preset"})]}),S&&(S.pros.length>0||S.cons.length>0)&&o.jsxs("div",{className:"grid-2 mb-4",children:[S.pros.length>0&&o.jsxs("div",{style:{padding:12,background:"rgba(16, 185, 129, 0.1)",borderRadius:6,border:"1px solid var(--success)"},children:[o.jsx("div",{style:{fontWeight:600,color:"var(--success)",marginBottom:8,fontSize:"0.85rem"},children:"Pros"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.8rem"},children:S.pros.map((O,U)=>o.jsx("li",{style:{marginBottom:4},children:O},U))})]}),S.cons.length>0&&o.jsxs("div",{style:{padding:12,background:"rgba(245, 158, 11, 0.1)",borderRadius:6,border:"1px solid var(--warning)"},children:[o.jsx("div",{style:{fontWeight:600,color:"var(--warning)",marginBottom:8,fontSize:"0.85rem"},children:"Cons"}),o.jsx("ul",{style:{margin:0,paddingLeft:16,fontSize:"0.8rem"},children:S.cons.map((O,U)=>o.jsx("li",{style:{marginBottom:4},children:O},U))})]})]}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12,fontSize:"0.8rem"},children:"These settings will be changed when you apply:"}),o.jsx("pre",{style:{background:"var(--bg-primary)",padding:12,borderRadius:6,fontSize:"0.75rem",overflow:"auto",maxHeight:300},children:JSON.stringify(a.changes||a,null,2)})]}),n==="custom"&&o.jsx(b0,{profile:t,currentProfile:m,onComplete:()=>{f("Custom configuration saved!"),setTimeout(()=>f(null),3e3)}})]})}function C0({profile:t,authStatus:e,onAuthChange:i}){const[n,s]=R.useState(null),[r,l]=R.useState(!1),[a,u]=R.useState(null),[h,c]=R.useState(null),[d,f]=R.useState(0),[m,v]=R.useState(null),[x,E]=R.useState(""),[g,p]=R.useState(""),[y,S]=R.useState(""),[b,M]=R.useState(null),[_,j]=R.useState(!1),C=e[t.path]||!1,I=()=>{v(null),E(""),p(""),S(""),M(null)},F=async()=>{if(!g||g.length<4){M("Password must be at least 4 characters");return}if(g!==y){M("Passwords do not match");return}j(!0),M(null);try{await Vo(t.path,null,g),i(),I(),u("Password set successfully!"),setTimeout(()=>u(null),3e3)}catch(k){M(k.message)}finally{j(!1)}},V=async()=>{if(!x){M("Enter current password");return}if(!g||g.length<4){M("New password must be at least 4 characters");return}if(g!==y){M("New passwords do not match");return}j(!0),M(null);try{await Vo(t.path,x,g),i(),I(),u("Password changed successfully!"),setTimeout(()=>u(null),3e3)}catch(k){M(k.message)}finally{j(!1)}},O=async()=>{if(!x){M("Enter current password");return}j(!0),M(null);try{await s0(t.path,x),i(),I(),u("Password removed. Profile is now non-secure."),setTimeout(()=>u(null),3e3)}catch(k){M(k.message)}finally{j(!1)}};R.useEffect(()=>{s(null),c(null),Hf(t.path).then(k=>{s(k),c(null)}).catch(k=>{c(k.message),s(null)})},[t.path,d]);const U=async()=>{if(n){l(!0),u(null);try{await Kf(t.path,n),u("Profile saved!"),setTimeout(()=>u(null),2e3)}catch(k){u(`Error: ${k.message}`)}finally{l(!1)}}};if(!n)return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Profile Editor"}),h?o.jsxs("div",{className:"card",style:{borderColor:"var(--danger)"},children:[o.jsxs("p",{style:{color:"var(--danger)"},children:["Failed to load profile: ",h]}),o.jsx("button",{className:"btn btn-primary",onClick:()=>f(k=>k+1),children:"Retry"})]}):o.jsx("div",{className:"card",children:"Loading profile..."})]});const Q=n.risk||{},L=n.execution||{},z=(k,$,Y)=>{s({...n,[k]:{...n[k]||{},[$]:Y}})},P=(k,$)=>{s({...n,[k]:$})};return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Profile Editor"}),a&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--success)"},children:o.jsx("p",{children:a})}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Basic Settings"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Symbol"}),o.jsx("input",{value:n.symbol||"",onChange:k=>s({...n,symbol:k.target.value})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Pip Size"}),o.jsx("input",{type:"number",step:"0.001",value:n.pip_size||.01,onChange:k=>s({...n,pip_size:parseFloat(k.target.value)})})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Account Settings"}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Deposit amount and leverage ratio for your reference."}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Deposit Amount ($)"}),o.jsx("input",{type:"number",placeholder:"e.g., 100000",value:n.deposit_amount||"",onChange:k=>P("deposit_amount",k.target.value?parseFloat(k.target.value):null)})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Leverage Ratio"}),o.jsxs("select",{value:n.leverage_ratio||"",onChange:k=>P("leverage_ratio",k.target.value?parseInt(k.target.value):null),children:[o.jsx("option",{value:"",children:"Select leverage..."}),o.jsx("option",{value:"50",children:"1:50"}),o.jsx("option",{value:"100",children:"1:100"}),o.jsx("option",{value:"200",children:"1:200"}),o.jsx("option",{value:"400",children:"1:400"}),o.jsx("option",{value:"500",children:"1:500"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Display Currency (Stats & Logs)"}),o.jsxs("select",{value:n.display_currency||"USD",onChange:k=>P("display_currency",k.target.value),children:[o.jsx("option",{value:"USD",children:"USD"}),o.jsx("option",{value:"JPY",children:"JPY"})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Profits and balances will be shown in this currency. JPY uses current rate from your symbol."})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Broker Connection"}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Choose MetaTrader 5 (Windows) or OANDA (works on Mac/Linux and PaaS like Railway). OANDA is available in Japan and Canada."}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Broker Type"}),o.jsxs("select",{value:n.broker_type||"mt5",onChange:k=>P("broker_type",k.target.value),children:[o.jsx("option",{value:"mt5",children:"MetaTrader 5 (MT5)"}),o.jsx("option",{value:"oanda",children:"OANDA"})]})]}),n.broker_type==="oanda"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"OANDA API Key"}),o.jsx("input",{type:"password",autoComplete:"off",placeholder:"Paste your OANDA API token",value:n.oanda_token||"",onChange:k=>P("oanda_token",k.target.value||null)}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:"Create a token in OANDA Practice or Live account: Account  Manage API Access."})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"OANDA Account ID (optional)"}),o.jsx("input",{type:"text",placeholder:"Leave blank to use first account",value:n.oanda_account_id||"",onChange:k=>P("oanda_account_id",k.target.value||null)})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"OANDA Environment"}),o.jsxs("select",{value:n.oanda_environment||"practice",onChange:k=>P("oanda_environment",k.target.value),children:[o.jsx("option",{value:"practice",children:"Practice (demo)"}),o.jsx("option",{value:"live",children:"Live"})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Risk Settings"}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16,marginTop:-8},children:"These limits are final and cannot be overridden by presets or the custom wizard."}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Lots"}),o.jsx("input",{type:"number",step:"0.01",value:Q.max_lots||.1,onChange:k=>z("risk","max_lots",parseFloat(k.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Spread (pips)"}),o.jsx("input",{type:"number",step:"0.1",value:Q.max_spread_pips||2,onChange:k=>z("risk","max_spread_pips",parseFloat(k.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Trades/Day"}),o.jsx("input",{type:"number",value:Q.max_trades_per_day||10,onChange:k=>z("risk","max_trades_per_day",parseInt(k.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Max Open Trades"}),o.jsx("input",{type:"number",min:1,max:20,value:Q.max_open_trades??2,onChange:k=>z("risk","max_open_trades",parseInt(k.target.value)||1)})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Cooldown After Loss (minutes)"}),o.jsx("input",{type:"number",min:0,max:120,value:Q.cooldown_minutes_after_loss??0,onChange:k=>z("risk","cooldown_minutes_after_loss",parseInt(k.target.value)||0)})]}),o.jsx("div",{className:"form-group",children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("input",{type:"checkbox",checked:Q.require_stop||!1,onChange:k=>z("risk","require_stop",k.target.checked),style:{width:"auto"}}),"Require Stop Loss"]})})]})]}),o.jsxs("div",{className:"card mt-4",children:[o.jsx("h3",{className:"card-title",children:"Profile Security"}),C?o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16},children:"This profile is protected by a password."}),o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn btn-secondary",onClick:()=>v("change"),children:"Change Password"}),o.jsx("button",{className:"btn btn-danger",onClick:()=>v("remove"),children:"Remove Password"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:16},children:"This profile has no password. Anyone with access to this computer can open it."}),o.jsx("button",{className:"btn btn-primary",onClick:()=>v("add"),children:"Add Password"})]})]}),m&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{className:"card",style:{maxWidth:400,margin:16},children:[o.jsxs("h3",{className:"card-title",children:[m==="add"&&"Add Password",m==="change"&&"Change Password",m==="remove"&&"Remove Password"]}),(m==="change"||m==="remove")&&o.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[o.jsx("label",{children:"Current Password"}),o.jsx("input",{type:"password",value:x,onChange:k=>E(k.target.value),placeholder:"Enter current password"})]}),(m==="add"||m==="change")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[o.jsx("label",{children:m==="change"?"New Password":"Password"}),o.jsx("input",{type:"password",value:g,onChange:k=>p(k.target.value),placeholder:"Min 4 characters"})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:12},children:[o.jsxs("label",{children:["Confirm ",m==="change"?"New ":"","Password"]}),o.jsx("input",{type:"password",value:y,onChange:k=>S(k.target.value),placeholder:"Confirm password"})]})]}),m==="remove"&&o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:12},children:"This will remove password protection. Anyone with access to this computer will be able to open this profile."}),(m==="add"||m==="change")&&o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--warning)",marginBottom:12,background:"rgba(234, 179, 8, 0.1)",padding:8,borderRadius:4},children:"Write your password down in a safe location. There is no forgot-password option."}),b&&o.jsx("p",{style:{color:"var(--danger)",fontSize:"0.85rem",marginBottom:12},children:b}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:m==="remove"?"btn btn-danger":"btn btn-primary",onClick:m==="add"?F:m==="change"?V:O,disabled:_,children:_?"Processing...":m==="add"?"Set Password":m==="change"?"Change Password":"Remove Password"}),o.jsx("button",{className:"btn btn-secondary",onClick:I,disabled:_,children:"Cancel"})]})]})}),o.jsxs("div",{className:"card mt-4",children:[o.jsx("h3",{className:"card-title",children:"Execution Settings"}),o.jsxs("div",{className:"grid-2",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Loop Poll Seconds"}),o.jsx("input",{type:"number",step:"0.5",value:L.loop_poll_seconds||5,onChange:k=>z("execution","loop_poll_seconds",parseFloat(k.target.value))})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Fast Poll Seconds"}),o.jsx("input",{type:"number",step:"0.5",value:L.loop_poll_seconds_fast||2,onChange:k=>z("execution","loop_poll_seconds_fast",parseFloat(k.target.value))})]})]}),o.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:8},children:["Policies: ",(L.policies||[]).length," configured. Use the Streamlit UI or edit JSON directly for full policy management."]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{className:"btn btn-primary",onClick:U,disabled:r,children:r?"Saving...":"Save Profile"})})]})}function E0({profile:t}){const[e,i]=R.useState(null),[n,s]=R.useState({}),[r,l]=R.useState([]),[a,u]=R.useState(void 0),[h,c]=R.useState([]),[d,f]=R.useState(!1),[m,v]=R.useState(null),[x,E]=R.useState(null),[g,p]=R.useState(null),[y,S]=R.useState(null),[b,M]=R.useState(null),[_,j]=R.useState(null),[C,I]=R.useState("summary"),F=()=>{p0(t.name,t.path).then(i).catch(console.error),f0(t.name).then(s).catch(console.error),Qf(t.name,20,t.path).then(L=>{l(L.trades),u(L.display_currency)}).catch(console.error),d0(t.name,20).then(c).catch(console.error),m0(t.name,t.path).then(S).catch(console.error),g0(t.name,t.path).then(L=>j(L??null)).catch(()=>j(null))};R.useEffect(()=>{F()},[t.name,t.path]);const V=async()=>{f(!0),v(null);try{const L=await y0(t.name,t.path),z=[];L.trades_updated>0&&z.push(`${L.trades_updated} trade(s) synced`),L.trades_imported&&L.trades_imported>0&&z.push(`${L.trades_imported} trade(s) imported from broker history`),L.position_ids_backfilled&&L.position_ids_backfilled>0&&z.push(`${L.position_ids_backfilled} position ID(s) backfilled`),L.profit_backfilled&&L.profit_backfilled>0&&z.push(`${L.profit_backfilled} profit(s) updated from broker`),z.length>0?(v(z.join(", ")),F()):v("All trades up to date"),setTimeout(()=>v(null),4e3)}catch(L){v(`Sync error: ${L.message}`)}finally{f(!1)}},O=async L=>{const z=String(L.trade_id||"");if(z){E(z);try{const P=await v0(t.name,z,t.path);v(`Closed trade: ${P.pips>=0?"+":""}${P.pips.toFixed(2)} pips`),F(),setTimeout(()=>v(null),3e3)}catch(P){v(`Close error: ${P.message}`)}finally{E(null),p(null)}}},U=Object.values(n).reduce((L,z)=>L+z,0),Q=L=>L.exit_price===null||L.exit_price===void 0;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex-between mb-4",children:[o.jsx("h2",{className:"page-title",style:{marginBottom:0,borderBottom:"none",paddingBottom:0},children:"Logs & Stats"}),o.jsx("button",{className:"btn btn-secondary",onClick:V,disabled:d,children:d?"Syncing...":"Sync from broker"})]}),m&&o.jsx("div",{className:"card mb-4",style:{borderColor:"var(--accent)"},children:o.jsx("p",{children:m})}),g&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{className:"card",style:{maxWidth:400,margin:0},children:[o.jsx("h3",{className:"card-title",children:"Confirm Close Trade"}),o.jsx("p",{style:{marginBottom:16},children:"Are you sure you want to close this trade?"}),o.jsx("div",{style:{background:"var(--bg-tertiary)",padding:12,borderRadius:6,marginBottom:16},children:o.jsxs("p",{style:{margin:0,fontSize:"0.9rem"},children:[o.jsx("strong",{children:"Side:"})," ",String(g.side||"").toUpperCase(),o.jsx("br",{}),o.jsx("strong",{children:"Entry:"})," ",typeof g.entry_price=="number"?g.entry_price.toFixed(3):"-",o.jsx("br",{}),o.jsx("strong",{children:"Size:"})," ",typeof g.size_lots=="number"?g.size_lots:"-"," lots"]})}),o.jsx("p",{style:{color:"var(--warning)",fontSize:"0.85rem",marginBottom:16},children:"This will send a close order to your broker immediately."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"btn btn-danger",onClick:()=>O(g),disabled:x!==null,children:x?"Closing...":"Close Trade"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>p(null),disabled:x!==null,children:"Cancel"})]})]})}),o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:8},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"Quick Stats"}),e&&e.source==="mt5"&&o.jsx("span",{style:{fontSize:"0.7rem",background:"var(--success)",color:"white",padding:"4px 8px",borderRadius:4,fontWeight:600},children:"FROM BROKER"})]}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:4,marginBottom:16},children:e&&e.source==="mt5"?"Stats from broker deal history (same as View  Reports in MT5)":"Stats from local records. Use a broker connection (MT5 or OANDA) to see live report data."}),o.jsxs("div",{className:"grid-3",children:[o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:(e==null?void 0:e.closed_trades)||0}),o.jsx("div",{className:"stat-label",children:"Closed Trades"}),e&&e.wins!=null&&e.losses!=null&&o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:4},children:[o.jsxs("span",{style:{color:"var(--success)"},children:[e.wins," W"]})," / ",o.jsxs("span",{style:{color:"var(--danger)"},children:[e.losses," L"]})]})]}),o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:(e==null?void 0:e.win_rate)!=null?`${(e.win_rate*100).toFixed(1)}%`:"-"}),o.jsx("div",{className:"stat-label",children:"Win Rate"})]}),o.jsxs("div",{className:"stat-box",children:[o.jsx("div",{className:"stat-value",children:(e==null?void 0:e.avg_pips)!=null?e.avg_pips.toFixed(3):"-"}),o.jsx("div",{className:"stat-label",children:"Avg Pips"})]})]}),e&&e.total_profit!=null||e&&(e.total_commission!=null||e.total_swap!=null)?o.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)",display:"flex",flexWrap:"wrap",gap:24},children:[e&&e.total_profit!=null&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Total Profit"}),o.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:700,color:e.total_profit>=0?"var(--success)":"var(--danger)"},children:[e.total_profit>=0?"+":"",e.total_profit.toFixed(2)," ",e.display_currency||"USD"]})]}),e&&e.total_commission!=null&&e.total_commission!==0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Commission"}),o.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--text-secondary)"},children:[e.total_commission.toFixed(2)," ",e.display_currency||"USD"]})]}),e&&e.total_swap!=null&&e.total_swap!==0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Swap"}),o.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:600,color:"var(--text-secondary)"},children:[e.total_swap.toFixed(2)," ",e.display_currency||"USD"]})]})]}):null,e&&e.source==="database"&&e.trades_without_profit!=null&&e.trades_without_profit>0&&o.jsx("p",{style:{marginTop:12,marginBottom:0,fontSize:"0.85rem",color:"var(--warning)"},children:"Some trades lack profit data. Sync from broker and refresh to see stats from broker report."})]}),_&&o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"Account Report"}),o.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"3px 6px",borderRadius:4,fontWeight:600},children:"FROM BROKER"})]}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:16},children:"Balance, equity, and closed P/L from your broker (MT5 or OANDA)"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[o.jsxs("div",{onClick:()=>I(C==="summary"?null:"summary"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("strong",{children:"Summary"}),o.jsx("span",{children:C==="summary"?"":""})]}),C==="summary"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Balance"}),o.jsx("br",{}),_.summary.balance.toFixed(2)," ",_.display_currency||"USD"]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Equity"}),o.jsx("br",{}),_.summary.equity.toFixed(2)," ",_.display_currency||"USD"]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Margin"}),o.jsx("br",{}),_.summary.margin.toFixed(2)," ",_.display_currency||"USD"]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Free Margin"}),o.jsx("br",{}),_.summary.free_margin.toFixed(2)," ",_.display_currency||"USD"]})]})]}),o.jsxs("div",{onClick:()=>I(C==="closed"?null:"closed"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("strong",{children:"Closed P/L"}),o.jsx("span",{children:C==="closed"?"":""})]}),C==="closed"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12,fontSize:"0.9rem"},children:[o.jsxs("div",{children:["Total Profit: ",o.jsxs("span",{style:{color:_.closed_pl.total_profit>=0?"var(--success)":"var(--danger)",fontWeight:600},children:[_.closed_pl.total_profit>=0?"+":"",_.closed_pl.total_profit.toFixed(2)," ",_.display_currency||"USD"]})]}),o.jsxs("div",{children:["Commission: ",_.closed_pl.total_commission.toFixed(2)," ",_.display_currency||"USD"]}),o.jsxs("div",{children:["Swap: ",_.closed_pl.total_swap.toFixed(2)," ",_.display_currency||"USD"]}),o.jsxs("div",{children:["Gross Profit: ",o.jsxs("span",{style:{color:"var(--success)"},children:[_.closed_pl.gross_profit.toFixed(2)," ",_.display_currency||"USD"]})]}),o.jsxs("div",{children:["Gross Loss: ",o.jsxs("span",{style:{color:"var(--danger)"},children:[_.closed_pl.gross_loss.toFixed(2)," ",_.display_currency||"USD"]})]}),o.jsxs("div",{children:["Profit Factor: ",_.closed_pl.profit_factor.toFixed(2)]}),o.jsxs("div",{children:["Largest Win: ",o.jsxs("span",{style:{color:"var(--success)"},children:[_.closed_pl.largest_profit_trade.toFixed(2)," ",_.display_currency||"USD"]})]}),o.jsxs("div",{children:["Largest Loss: ",o.jsxs("span",{style:{color:"var(--danger)"},children:[_.closed_pl.largest_loss_trade.toFixed(2)," ",_.display_currency||"USD"]})]}),o.jsxs("div",{children:["Expected Payoff: ",_.closed_pl.expected_payoff.toFixed(2)," ",_.display_currency||"USD"]})]})]}),o.jsxs("div",{onClick:()=>I(C==="longshort"?null:"longshort"),style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6,cursor:"pointer",border:"1px solid var(--border)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("strong",{children:"Long / Short"}),o.jsx("span",{children:C==="longshort"?"":""})]}),C==="longshort"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:12},children:[o.jsxs("div",{children:["Long: ",_.long_short.long_wins,"W / ",_.long_short.long_trades-_.long_short.long_wins,"L (",(_.long_short.long_win_pct*100).toFixed(0),"% win)"]}),o.jsxs("div",{children:["Short: ",_.long_short.short_wins,"W / ",_.long_short.short_trades-_.long_short.short_wins,"L (",(_.long_short.short_win_pct*100).toFixed(0),"% win)"]})]})]})]})]}),y&&Object.keys(y.presets).length>0&&o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[o.jsx("h3",{className:"card-title",style:{margin:0},children:"Performance by Preset"}),y.source==="mt5"&&o.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"3px 6px",borderRadius:4,fontWeight:600},children:"FROM BROKER"})]}),o.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:16,marginTop:8,fontSize:"0.85rem"},children:["Preset names come from your local DB; win/loss and profit use broker history when available. For best accuracy, run ",o.jsx("strong",{children:"Sync from broker"})," so closed trades have position IDs, then refresh."]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:Object.entries(y.presets).sort(([,L],[,z])=>(z.total_pips||0)-(L.total_pips||0)).map(([L,z])=>{var $,Y,G,Ze,Le,lt,W;const P=b===L,k=(($=Object.entries(y.presets).sort(([,ie],[,we])=>(we.total_pips||0)-(ie.total_pips||0))[0])==null?void 0:$[0])===L;return o.jsxs("div",{style:{border:`1px solid ${k?"var(--success)":"var(--border)"}`,borderRadius:8,overflow:"hidden",background:k?"rgba(34, 197, 94, 0.05)":"var(--bg-secondary)"},children:[o.jsxs("div",{onClick:()=>M(P?null:L),style:{padding:16,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("span",{style:{fontWeight:600},children:L}),k&&o.jsx("span",{style:{fontSize:"0.65rem",background:"var(--success)",color:"white",padding:"2px 6px",borderRadius:4,fontWeight:700},children:"BEST"})]}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:4},children:[z.total_trades," trades | Win: ",z.win_rate!=null?`${(z.win_rate*100).toFixed(0)}%`:"-"," | Total: ",o.jsxs("span",{style:{color:(z.total_pips||0)>=0?"var(--success)":"var(--danger)"},children:[z.total_pips>=0?"+":"",((Y=z.total_pips)==null?void 0:Y.toFixed(1))||0," pips"]}),z.total_profit!=null&&o.jsxs(o.Fragment,{children:[" | Profit: ",o.jsxs("span",{style:{color:z.total_profit>=0?"var(--success)":"var(--danger)"},children:[z.total_profit>=0?"+":"",z.total_profit.toFixed(2)," ",y.display_currency||"USD"]})]}),z.total_commission!=null&&z.total_commission!==0&&o.jsxs(o.Fragment,{children:[" | Commission: ",z.total_commission.toFixed(2)," ",y.display_currency||"USD"]})]})]}),o.jsx("span",{style:{fontSize:"1.2rem"},children:P?"":""})]}),P&&o.jsx("div",{style:{padding:"0 16px 16px 16px",borderTop:"1px solid var(--border)",paddingTop:16},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12},children:[o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Trades"}),o.jsx("div",{style:{fontWeight:700},children:z.total_trades})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win / Loss"}),o.jsxs("div",{style:{fontWeight:700},children:[o.jsx("span",{style:{color:"var(--success)"},children:z.wins})," /",o.jsx("span",{style:{color:"var(--danger)"},children:z.losses})]})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win Rate"}),o.jsx("div",{style:{fontWeight:700,color:(z.win_rate||0)>=.5?"var(--success)":"var(--warning)"},children:z.win_rate!=null?`${(z.win_rate*100).toFixed(1)}%`:"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Pips"}),o.jsxs("div",{style:{fontWeight:700,color:(z.total_pips||0)>=0?"var(--success)":"var(--danger)"},children:[z.total_pips>=0?"+":"",((G=z.total_pips)==null?void 0:G.toFixed(2))||0]})]}),z.total_profit!=null&&o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Total Profit"}),o.jsxs("div",{style:{fontWeight:700,color:z.total_profit>=0?"var(--success)":"var(--danger)"},children:[z.total_profit>=0?"+":"",z.total_profit.toFixed(2)," ",y.display_currency||"USD"]})]}),z.total_commission!=null&&z.total_commission!==0&&o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Commission"}),o.jsxs("div",{style:{fontWeight:700},children:[z.total_commission.toFixed(2)," ",y.display_currency||"USD"]})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg Pips"}),o.jsx("div",{style:{fontWeight:700},children:((Ze=z.avg_pips)==null?void 0:Ze.toFixed(2))||"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Avg R:R"}),o.jsx("div",{style:{fontWeight:700},children:((Le=z.avg_rr)==null?void 0:Le.toFixed(2))||"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Best Trade"}),o.jsx("div",{style:{fontWeight:700,color:"var(--success)"},children:z.best_trade!=null?`+${z.best_trade.toFixed(1)} pips`:"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Worst Trade"}),o.jsx("div",{style:{fontWeight:700,color:"var(--danger)"},children:z.worst_trade!=null?`${z.worst_trade.toFixed(1)} pips`:"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Win Streak"}),o.jsx("div",{style:{fontWeight:700},children:z.win_streak})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Loss Streak"}),o.jsx("div",{style:{fontWeight:700},children:z.loss_streak})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Profit Factor"}),o.jsx("div",{style:{fontWeight:700,color:(z.profit_factor||0)>=1?"var(--success)":"var(--danger)"},children:((lt=z.profit_factor)==null?void 0:lt.toFixed(2))||"-"})]}),o.jsxs("div",{style:{padding:10,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Max Drawdown"}),o.jsxs("div",{style:{fontWeight:700,color:"var(--warning)"},children:[((W=z.max_drawdown)==null?void 0:W.toFixed(1))||0," pips"]})]})]})})]},L)})})]}),o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",children:"Rejection Breakdown"}),Object.entries(n).length===0?o.jsx("p",{style:{color:"var(--text-secondary)"},children:"No executions yet."}):Object.entries(n).map(([L,z])=>o.jsxs("div",{className:"breakdown-bar",children:[o.jsx("span",{className:"breakdown-label",children:L}),o.jsxs("div",{className:"breakdown-value",children:[o.jsx("div",{className:"breakdown-fill",style:{width:`${z/U*100}%`}}),o.jsx("span",{className:"breakdown-count",children:z})]})]},L))]}),o.jsxs("div",{className:"card mb-4",children:[o.jsx("h3",{className:"card-title",children:"Recent Trades"}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Time"}),o.jsx("th",{children:"Side"}),o.jsx("th",{children:"Entry"}),o.jsx("th",{children:"Exit"}),o.jsx("th",{children:"Pips"}),o.jsx("th",{children:"R"}),o.jsx("th",{children:"Profit"}),o.jsx("th",{children:"Source"}),o.jsx("th",{children:"Exit Reason"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:10,style:{textAlign:"center",color:"var(--text-secondary)"},children:"No trades yet."})}):r.map((L,z)=>{const P=String(L.opened_by||""),k=String(L.exit_reason||""),Y=(G=>{if(!G)return{text:"-",color:"inherit"};switch(G){case"hit_take_profit":return{text:"TP",color:"var(--success)"};case"hit_stop_loss":return{text:"SL",color:"var(--danger)"};case"user_closed_early":return{text:"User",color:"var(--warning)"};case"UI_manual_close":return{text:"UI",color:"var(--accent)"};case"mt5_history_import":return{text:"Imported",color:"var(--text-secondary)"};default:return{text:G.replace(/_/g," "),color:"var(--text-secondary)"}}})(k);return o.jsxs("tr",{children:[o.jsx("td",{children:String(L.timestamp_utc||"").slice(0,19)}),o.jsx("td",{children:String(L.side||"")}),o.jsx("td",{children:typeof L.entry_price=="number"?L.entry_price.toFixed(3):"-"}),o.jsx("td",{children:typeof L.exit_price=="number"?L.exit_price.toFixed(3):"-"}),o.jsx("td",{style:{color:typeof L.pips=="number"?L.pips>=0?"var(--success)":"var(--danger)":"inherit"},children:typeof L.pips=="number"?L.pips.toFixed(2):"-"}),o.jsx("td",{children:typeof L.r_multiple=="number"?L.r_multiple.toFixed(2):"-"}),o.jsx("td",{style:{color:typeof L.profit_display=="number"?L.profit_display>=0?"var(--success)":"var(--danger)":"inherit"},children:typeof L.profit_display=="number"?`${L.profit_display>=0?"+":""}${L.profit_display.toFixed(2)} ${a||(e==null?void 0:e.display_currency)||"USD"}`:"-"}),o.jsx("td",{children:o.jsx("span",{style:{fontSize:"0.75rem",padding:"2px 6px",borderRadius:4,background:P==="program"?"rgba(59, 130, 246, 0.2)":"rgba(156, 163, 175, 0.2)",color:P==="program"?"var(--accent)":"var(--text-secondary)"},children:P==="program"?"Bot":P==="manual"?"Manual":"-"})}),o.jsx("td",{children:o.jsx("span",{style:{fontSize:"0.75rem",color:Y.color},children:Y.text})}),o.jsx("td",{children:Q(L)&&(L.mt5_order_id||L.mt5_position_id)?o.jsx("button",{className:"btn btn-danger",style:{padding:"4px 8px",fontSize:"0.75rem"},onClick:()=>p(L),disabled:x===String(L.trade_id),children:"Close"}):Q(L)?o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"No position ID"}):o.jsx("span",{style:{color:"var(--success)",fontSize:"0.75rem"},children:"Closed"})})]},z)})})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"card-title",children:"Recent Executions"}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Time"}),o.jsx("th",{children:"Mode"}),o.jsx("th",{children:"Placed"}),o.jsx("th",{children:"Reason"})]})}),o.jsx("tbody",{children:h.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,style:{textAlign:"center",color:"var(--text-secondary)"},children:"No executions yet."})}):h.map((L,z)=>o.jsxs("tr",{children:[o.jsx("td",{children:String(L.timestamp_utc||"").slice(0,19)}),o.jsx("td",{children:String(L.mode||"")}),o.jsx("td",{children:L.placed?"Yes":"No"}),o.jsx("td",{style:{maxWidth:300,overflow:"hidden",textOverflow:"ellipsis"},children:String(L.reason||"")})]},z))})]})})]})]})}function P0(){const[t,e]=R.useState("quickstart"),i=s=>{e(t===s?null:s)},n=({id:s,title:r,icon:l,children:a})=>o.jsxs("div",{className:"card mb-4",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>i(s),children:[o.jsxs("h3",{className:"card-title",style:{margin:0,display:"flex",alignItems:"center",gap:12},children:[o.jsx("span",{style:{fontSize:"1.3rem"},children:l}),r]}),o.jsx("span",{style:{color:"var(--accent)",fontSize:"1.2rem"},children:t===s?"":"+"})]}),t===s&&o.jsx("div",{style:{marginTop:16},children:a})]});return o.jsxs("div",{children:[o.jsx("h2",{className:"page-title",children:"Help / Guide"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:24},children:"Welcome to the USDJPY Trading Assistant! This guide will help you get started and understand how to use the bot effectively."}),o.jsxs(n,{id:"quickstart",title:"Quick Start (5 Steps)",icon:"",children:[o.jsx("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8,marginBottom:16},children:o.jsxs("ol",{style:{margin:0,paddingLeft:24,lineHeight:2.2},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Select or create an account"})," using the sidebar dropdown. Each account has its own settings and trade history."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Go to Presets"})," and pick a preset that matches your style (start with ",o.jsx("em",{children:"Conservative Scalping"})," if unsure), then click ",o.jsx("strong",{children:"Apply Preset"}),"."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Go to Run / Status"}),", set the mode to ",o.jsx("strong",{children:"ARMED_AUTO_DEMO"}),", then click ",o.jsx("strong",{children:"Start Loop"}),"."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Watch the log"})," - the bot will show heartbeats every few seconds and log its trading decisions."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Check Logs & Stats"})," to see your trades, win rate, and performance metrics."]})]})}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:[o.jsx("strong",{children:"Tip:"})," The bot only trades on demo accounts for safety. For MT5, have the terminal running and connected; for OANDA, set your API key in Profile Editor."]})]}),o.jsxs(n,{id:"presets",title:"Understanding Presets",icon:"",children:[o.jsx("p",{style:{marginBottom:16},children:"Presets are pre-configured trading strategies. Each preset has different characteristics:"}),o.jsx("div",{className:"table-container",style:{marginBottom:16},children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Preset"}),o.jsx("th",{children:"Style"}),o.jsx("th",{children:"Trades/Day"}),o.jsx("th",{children:"Target"}),o.jsx("th",{children:"Risk Level"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Conservative Scalping"})}),o.jsx("td",{children:"Quick trades"}),o.jsx("td",{children:"5-10"}),o.jsx("td",{children:"8 pips"}),o.jsx("td",{style:{color:"var(--success)"},children:"Low"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Aggressive Scalping"})}),o.jsx("td",{children:"Quick trades"}),o.jsx("td",{children:"15-25"}),o.jsx("td",{children:"8 pips"}),o.jsx("td",{style:{color:"var(--danger)"},children:"High"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Moderate Swing"})}),o.jsx("td",{children:"Longer holds"}),o.jsx("td",{children:"2-5"}),o.jsx("td",{children:"20 pips"}),o.jsx("td",{style:{color:"var(--warning)"},children:"Medium"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"RSI Mean Reversion"})}),o.jsx("td",{children:"Counter-trend"}),o.jsx("td",{children:"5-10"}),o.jsx("td",{children:"10 pips"}),o.jsx("td",{style:{color:"var(--warning)"},children:"Medium"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("strong",{children:"Custom"})}),o.jsx("td",{children:"Your choice"}),o.jsx("td",{children:"Variable"}),o.jsx("td",{children:"Variable"}),o.jsx("td",{children:"Configurable"})]})]})]})}),o.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:[o.jsx("strong",{children:"Recommendation:"})," Start with ",o.jsx("em",{children:"Conservative Scalping"})," to see how the bot works with minimal risk. Once comfortable, try other presets or create a custom configuration."]})]}),o.jsx(n,{id:"dashboard",title:"Reading the Dashboard",icon:"",children:o.jsxs("div",{className:"grid-2",style:{gap:16},children:[o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)"},children:"Run / Status Page"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Loop Status:"})," Shows if the trading loop is running or stopped"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Mode:"})," DISARMED (no trades), ARMED_MANUAL_CONFIRM (prompts before trading), ARMED_AUTO_DEMO (fully automated)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Kill Switch:"})," Emergency stop - prevents any new trades"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Loop Log:"})," Real-time output showing heartbeats and decisions"]})]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 12px 0",color:"var(--accent)"},children:"Logs & Stats Page"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Quick Stats:"})," Closed trades, win rate, average pips"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Rejection Breakdown:"})," Why trades weren't taken (spread, filters, etc.)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Recent Trades:"})," Your trade history with P/L"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Sync from broker:"})," Updates trade data from your broker (MT5 or OANDA)"]})]})]})]})}),o.jsxs(n,{id:"analysis",title:"Technical Analysis Page",icon:"",children:[o.jsx("p",{style:{marginBottom:16},children:"The Analysis page provides real-time technical analysis across three timeframes (H4, M15, M1):"}),o.jsxs("ul",{style:{margin:"0 0 16px 0",paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Regime:"})," Current market trend - BULL (uptrend), BEAR (downtrend), or SIDEWAYS"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"RSI:"})," Relative Strength Index - Oversold (below 30, potential buy), Overbought (above 70, potential sell), Neutral"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"MACD:"})," Momentum indicator - Positive (bullish momentum), Negative (bearish momentum)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"ATR:"})," Average True Range - Elevated (high volatility), Normal, Low (quiet market)"]})]}),o.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Click on any timeframe card to expand and see detailed indicator values. The page auto-refreshes every 30 seconds."})]}),o.jsx(n,{id:"faq",title:"Common Questions",icon:"",children:o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"Why isn't the bot trading?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Check these common reasons:",o.jsx("br",{})," ",o.jsx("strong",{children:"Spread too wide:"})," The bot waits for good spreads to avoid slippage",o.jsx("br",{})," ",o.jsx("strong",{children:"Alignment filters:"})," Multi-timeframe conditions must match",o.jsx("br",{})," ",o.jsx("strong",{children:"Max trades reached:"})," Daily trade limit hit",o.jsx("br",{})," ",o.jsx("strong",{children:"Kill switch on:"})," Check the Run page",o.jsx("br",{})," ",o.jsx("strong",{children:"Market closed:"})," Forex markets close on weekends"]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"How do I close a trade?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Go to ",o.jsx("strong",{children:"Logs & Stats"}),", find your open trade in the Recent Trades table, and click the ",o.jsx("strong",{children:"Close"})," button. You'll be asked to confirm before the close order is sent."]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"What does the kill switch do?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["The kill switch ",o.jsx("strong",{children:"immediately stops all new trades"})," from being placed. It does not close existing positions - use the Close button for that. Toggle it on if you need to pause the bot quickly."]})]}),o.jsxs("div",{style:{padding:16,background:"var(--bg-tertiary)",borderRadius:8},children:[o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--warning)"},children:"My trade history is missing?"}),o.jsxs("p",{style:{margin:0,lineHeight:1.6},children:["Click ",o.jsx("strong",{children:"Sync from broker"})," on the Logs & Stats page. This will import any trades that were opened or closed in your broker platform, including trades closed by hitting TP/SL."]})]})]})}),o.jsx(n,{id:"glossary",title:"Glossary",icon:"",children:o.jsx("div",{className:"grid-2",style:{gap:12},children:[{term:"Pip",def:"Smallest price move. For USDJPY, 1 pip = 0.01 (e.g., 154.50 to 154.51)"},{term:"Lot",def:"Trade size. 0.01 = micro lot (1,000 units), 0.1 = mini lot (10,000 units), 1.0 = standard lot (100,000 units)"},{term:"Spread",def:"Difference between buy (ask) and sell (bid) price. Lower = better."},{term:"EMA",def:"Exponential Moving Average - weighted average of recent prices, responds quickly to changes"},{term:"SMA",def:"Simple Moving Average - equal-weighted average of prices over a period"},{term:"RSI",def:"Relative Strength Index (0-100). Below 30 = oversold, above 70 = overbought"},{term:"MACD",def:"Moving Average Convergence Divergence - momentum indicator showing trend direction"},{term:"ATR",def:"Average True Range - measures market volatility"},{term:"Regime",def:"Current market trend: bullish (up), bearish (down), or sideways"},{term:"Stop Loss (SL)",def:"Price level where trade closes to limit losses"},{term:"Take Profit (TP)",def:"Price level where trade closes to lock in profits"},{term:"R-Multiple",def:"Risk-adjusted return. R of 2 means you made 2x your risked amount"}].map((s,r)=>o.jsxs("div",{style:{padding:12,background:"var(--bg-tertiary)",borderRadius:6},children:[o.jsxs("strong",{style:{color:"var(--accent)"},children:[s.term,":"]}),o.jsx("span",{style:{marginLeft:8,color:"var(--text-secondary)",fontSize:"0.9rem"},children:s.def})]},r))})}),o.jsxs("div",{className:"card",style:{borderColor:"var(--warning)",background:"rgba(245, 158, 11, 0.1)"},children:[o.jsx("h3",{style:{margin:"0 0 12px 0",color:"var(--warning)",display:"flex",alignItems:"center",gap:8},children:" Important Safety Notice"}),o.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8},children:[o.jsxs("li",{children:["This bot is designed for ",o.jsx("strong",{children:"demo trading only"}),". It will refuse to trade on live accounts."]}),o.jsx("li",{children:"Trading carries risk. Past performance does not guarantee future results."}),o.jsx("li",{children:"Always monitor the bot and understand what it's doing before trusting it with larger positions."}),o.jsx("li",{children:"Start with conservative settings and small position sizes while you learn."})]})]})]})}Kl.createRoot(document.getElementById("root")).render(o.jsx(fp.StrictMode,{children:o.jsx(_0,{})}));
